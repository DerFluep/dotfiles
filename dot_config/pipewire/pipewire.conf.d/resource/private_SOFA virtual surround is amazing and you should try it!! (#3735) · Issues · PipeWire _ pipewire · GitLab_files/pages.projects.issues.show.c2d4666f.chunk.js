(this.webpackJsonp=this.webpackJsonp||[]).push([[713,3,29,31,32,37,46,61,62,71,72,73,81,91,92,119,134,148,170,173,206,237,253,257,844,879,922,947,1043],{"+1Q1":function(e,t,i){"use strict";var n=i("z1xw"),s=i("/lV4"),a={components:{UserAvatarLink:i("ZHzM").a},directives:{GlTooltip:n.a},props:{assignees:{type:Array,required:!0},iconSize:{type:Number,required:!1,default:24},imgCssClasses:{type:String,required:!1,default:""},maxVisible:{type:Number,required:!1,default:3}},data:()=>({maxAssignees:99}),computed:{assigneesToShow(){const e=this.assignees.length-this.numHiddenAssignees;return this.assignees.slice(0,e)},assigneesCounterTooltip(){return Object(s.h)(Object(s.a)("%{count} more assignees"),{count:this.numHiddenAssignees})},numHiddenAssignees(){return this.assignees.length>this.maxVisible?this.assignees.length-this.maxVisible+1:0},assigneeCounterLabel(){return this.numHiddenAssignees>this.maxAssignees?this.maxAssignees+"+":"+"+this.numHiddenAssignees}},methods:{avatarUrlTitle:e=>Object(s.h)(Object(s.a)("Assigned to %{assigneeName}"),{assigneeName:e.name}),assigneeHref:e=>e.web_path||e.webPath,avatarUrl:e=>e.avatar_url||e.avatarUrl}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",[e._l(e.assigneesToShow,(function(i){return t("user-avatar-link",{key:i.id,staticClass:"js-no-trigger author-link",attrs:{"link-href":e.assigneeHref(i),"img-alt":e.avatarUrlTitle(i),"img-css-classes":e.imgCssClasses,"img-css-wrapper-classes":"gl-inline-flex","img-src":e.avatarUrl(i),"img-size":e.iconSize,"tooltip-placement":"bottom","data-testid":"assignee-link"}},[t("span",{staticClass:"js-assignee-tooltip"},[t("span",{staticClass:"gl-block gl-font-bold"},[e._v(e._s(e.s__("Label|Assignee")))]),e._v(" "+e._s(i.name)+"\n      "),i.username?t("span",[e._v("@"+e._s(i.username))]):e._e()])])})),e._v(" "),e.numHiddenAssignees>0?t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"avatar-counter",attrs:{title:e.assigneesCounterTooltip,"data-testid":"avatar-counter-content"}},[e._v(e._s(e.assigneeCounterLabel))]):e._e()],2)}),[],!1,null,null,null);t.a=o.exports},"+92v":function(e,t,i){"use strict";i("RFHG"),i("z6RN"),i("xuo1"),i("UezY"),i("hG7+"),i("v2fZ");var n=i("jl6Z"),s=i("MV2A"),a=i("s1D3"),r=i("4lAS"),o=i("tbP8"),l=i("mFhR"),d=i("IO2v"),c=i("DZUU"),u=i("z1xw"),p=i("/lV4"),h=i("NmEs"),m=i("sHIo"),f=i("FxFN"),g=i("/DUi"),v=i("yCDu"),b=i("JtyA"),y={components:{ItemMilestone:g.a,WorkItemRolledUpCount:v.a},directives:{GlTooltip:u.a},props:{iid:{type:String,required:!0},reference:{type:String,required:!0},metadataWidgets:{type:Object,required:!1,default:function(){return{}}}},computed:{milestone(){var e;return null===(e=this.metadataWidgets[b.Ob])||void 0===e?void 0:e.milestone},hierarchyWidget(){return this.metadataWidgets[b.Kb]},showRolledUpCounts(){return this.hierarchyWidget&&this.rolledUpCountsByType.length>0},rolledUpCountsByType(){var e;return(null===(e=this.hierarchyWidget)||void 0===e?void 0:e.rolledUpCountsByType)||[]}}},k=i("tBpV"),w=Object(k.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-justify-between sm:gl-flex"},[t("div",{staticClass:"gl-mb-2 gl-flex gl-flex-wrap gl-items-center gl-gap-x-3 gl-gap-y-2 gl-text-sm gl-text-subtle sm:gl-mb-0"},[t("span",[e._v(e._s(e.reference))]),e._v(" "),e.showRolledUpCounts?t("work-item-rolled-up-count",{attrs:{"hide-count-when-zero":"","rolled-up-counts-by-type":e.rolledUpCountsByType,"info-type":"detailed"}}):e._e(),e._v(" "),e.milestone?t("item-milestone",{staticClass:"gl-flex gl-max-w-15 !gl-cursor-help gl-items-center gl-gap-2 gl-leading-normal !gl-no-underline",attrs:{milestone:e.milestone}}):e._e(),e._v(" "),e._t("left-metadata")],2),e._v(" "),t("div",[e._t("right-metadata")],2)])}),[],!1,null,null,null).exports,S=i("bOix"),_=i("5QKO"),I={components:{GlTooltip:c.a},mixins:[_.a],props:{target:{type:[Object,HTMLElement,SVGElement,String,Function],required:!0},rawTimestamp:{type:String,required:!0},timestampTypeText:{type:String,required:!0}},computed:{timestampInWords(){return this.rawTimestamp?this.timeFormatted(this.rawTimestamp):""},timestamp(){return this.rawTimestamp?S.I.asDateTimeFull.format(Object(S.O)(this.rawTimestamp)):""}}},T=Object(k.a)(I,(function(){var e=this,t=e._self._c;return t("gl-tooltip",{attrs:{target:e.target}},[t("div",{staticClass:"gl-font-bold",attrs:{"data-testid":"header-text"}},[e._v("\n    "+e._s(e.timestampTypeText)+" "+e._s(e.timestampInWords)+"\n  ")]),e._v(" "),t("div",{staticClass:"gl-text-tertiary",attrs:{"data-testid":"body-text"}},[e._v(e._s(e.timestamp))])])}),[],!1,null,null,null).exports,O=i("MS9k"),C=i("52LP"),x=i("J6Lq"),j=i("wf2L"),E={i18n:{confidential:Object(p.a)("Confidential"),created:Object(p.a)("Created"),closed:Object(p.a)("Closed"),remove:Object(p.g)("WorkItem|Remove")},components:{GlLabel:n.a,GlLink:s.a,GlIcon:a.a,GlButton:r.a,GlAvatar:o.a,GlAvatarLink:l.a,GlAvatarsInline:d.a,GlTooltip:c.a,RichTimestampTooltip:T,WorkItemLinkChildMetadata:w,WorkItemTypeIcon:O.a,WorkItemStateBadge:C.a,WorkItemRelationshipIcons:j.default},directives:{GlTooltip:u.a},mixins:[Object(m.a)()],inject:{preventRouterNav:{from:b.P,default:!1},isGroup:{}},props:{childItem:{type:Object,required:!0},canUpdate:{type:Boolean,required:!0},workItemFullPath:{type:String,required:!0},showLabels:{type:Boolean,required:!1,default:!0},showWeight:{type:Boolean,required:!1,default:!0}},computed:{labels(){var e;return(null===(e=this.metadataWidgets[b.Mb])||void 0===e||null===(e=e.labels)||void 0===e?void 0:e.nodes)||[]},metadataWidgets(){var e;return null===(e=this.childItem.widgets)||void 0===e?void 0:e.reduce((function(e,t){return t.type&&(e[t.type]=t),e}),{})},assignees(){var e;return(null===(e=this.metadataWidgets[b.Ab])||void 0===e||null===(e=e.assignees)||void 0===e?void 0:e.nodes)||[]},assigneesCollapsedTooltip(){return this.assignees.length>2?Object(p.h)(Object(p.g)("WorkItem|%{count} more assignees"),{count:this.assignees.length-2}):""},allowsScopedLabels(){var e;return null===(e=this.metadataWidgets[b.Mb])||void 0===e?void 0:e.allowsScopedLabels},isChildItemOpen(){return this.childItem.state===b.hb},childItemType(){return this.childItem.workItemType.name},childItemIid(){return this.childItem.iid},childItemWebUrl(){return this.childItem.webUrl},childItemFullPath(){var e;return null===(e=this.childItem.namespace)||void 0===e?void 0:e.fullPath},stateTimestamp(){return this.isChildItemOpen?this.childItem.createdAt:this.childItem.closedAt},stateTimestampTypeText(){return this.isChildItemOpen?this.$options.i18n.created:this.$options.i18n.closed},childItemTypeIconVariant(){return this.isChildItemOpen?"default":"subtle"},displayLabels(){return this.showLabels&&this.labels.length},displayReference(){return Object(x.l)(this.workItemFullPath,this.childItem.reference)},filteredLinkedChildItems(){var e;return((null===(e=Object(x.i)(this.childItem).linkedItems)||void 0===e?void 0:e.nodes)||[]).filter((function(e){return e.linkType!==b.R.RELATES_TO}))},issueAsWorkItem(){return!this.isGroup&&this.glFeatures.workItemsViewPreference&&gon.current_user_use_work_items_view},childItemUniqueId(){return`listItem-${this.childItemFullPath}/${Object(f.e)(this.childItem.id)}`}},methods:{showScopedLabel(e){return Object(h.E)(e)&&this.allowsScopedLabels},handleTitleClick(e){const t=this.childItem;if(e.metaKey||e.ctrlKey)return;this.preventRouterNav||!Object(x.b)({fullPath:this.workItemFullPath,webUrl:t.webUrl,isGroup:this.isGroup,issueAsWorkItem:this.issueAsWorkItem})?this.$emit("click",e):(e.preventDefault(),this.$router.push({name:"workItem",params:{iid:t.iid}}))}}},D=Object(k.a)(E,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"item-body work-item-link-child gl-relative gl-flex gl-min-w-0 gl-grow gl-gap-3 gl-hyphens-auto gl-break-words gl-rounded-base gl-p-3",attrs:{"data-testid":"links-child"}},[t("div",{ref:"stateIcon",staticClass:"gl-cursor-help"},[t("work-item-type-icon",{attrs:{"icon-variant":e.childItemTypeIconVariant,"work-item-type":e.childItemType}}),e._v(" "),t("gl-tooltip",{attrs:{target:function(){return e.$refs.stateIcon}}},[e._v("\n      "+e._s(e.childItemType)+"\n    ")])],1),e._v(" "),t("div",{staticClass:"gl-flex gl-min-w-0 gl-grow gl-flex-col gl-flex-wrap"},[t("div",{staticClass:"gl-mb-2 gl-min-w-0 gl-justify-between gl-gap-3 sm:gl-flex"},[t("div",{staticClass:"item-title gl-mb-2 gl-min-w-0 sm:gl-mb-0"},[e.childItem.confidential?t("span",[t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.top",modifiers:{top:!0}}],staticClass:"gl-text-orange-500",attrs:{name:"eye-slash","data-testid":"confidential-icon","aria-label":e.$options.i18n.confidential,title:e.$options.i18n.confidential}})],1):e._e(),e._v(" "),t("gl-link",{staticClass:"gl-hyphens-auto gl-break-words gl-font-semibold",class:{"!gl-text-subtle":!e.isChildItemOpen},attrs:{id:e.childItemUniqueId,href:e.childItemWebUrl},on:{click:function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.stopPropagation(),e.handleTitleClick.apply(null,arguments))},mouseover:function(t){return e.$emit("mouseover")},mouseout:function(t){return e.$emit("mouseout")}}},[e._v("\n          "+e._s(e.childItem.title)+"\n        ")])],1),e._v(" "),t("div",{staticClass:"gl-flex gl-shrink-0 gl-flex-row-reverse gl-items-center gl-justify-end gl-gap-3 sm:gl-flex-row"},[e.assignees.length?t("gl-avatars-inline",{attrs:{avatars:e.assignees,collapsed:"","max-visible":2,"avatar-size":16,"badge-tooltip-prop":"name","badge-sr-only-text":e.assigneesCollapsedTooltip},scopedSlots:e._u([{key:"avatar",fn:function({avatar:e}){return[t("gl-avatar-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{href:e.webUrl,title:e.name}},[t("gl-avatar",{attrs:{alt:e.name,src:e.avatarUrl,size:16},on:{click:function(e){e.stopPropagation()}}})],1)]}}],null,!1,3665974617)}):e._e(),e._v(" "),e.isChildItemOpen&&e.filteredLinkedChildItems.length?t("work-item-relationship-icons",{attrs:{"work-item-type":e.childItemType,"linked-work-items":e.filteredLinkedChildItems,"work-item-full-path":e.childItemFullPath,"work-item-iid":e.childItemIid,"work-item-web-url":e.childItemWebUrl}}):e._e(),e._v(" "),t("span",{staticClass:"gl-cursor-help",attrs:{id:"statusIcon-"+e.childItem.id,"data-testid":"item-status-icon"}},[t("work-item-state-badge",{attrs:{"work-item-state":e.childItem.state,"show-icon":!1}})],1),e._v(" "),t("rich-timestamp-tooltip",{attrs:{target:"statusIcon-"+e.childItem.id,"raw-timestamp":e.stateTimestamp,"timestamp-type-text":e.stateTimestampTypeText}})],1)]),e._v(" "),t("work-item-link-child-metadata",{staticClass:"ml-xl-0",attrs:{reference:e.displayReference,iid:e.childItem.iid,"is-child-item-open":e.isChildItemOpen,"metadata-widgets":e.metadataWidgets,"show-weight":e.showWeight,"work-item-type":e.childItemType}}),e._v(" "),e.displayLabels?t("div",{staticClass:"gl-flex gl-flex-wrap"},e._l(e.labels,(function(i){return t("gl-label",{key:i.id,staticClass:"gl-mb-auto gl-mr-2 gl-mt-2",attrs:{title:i.title,"background-color":i.color,description:i.description,scoped:e.showScopedLabel(i),"tooltip-placement":"top"},on:{click:function(e){e.stopPropagation()}}})})),1):e._e()],1),e._v(" "),e.canUpdate?t("div",[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"-gl-mr-2 -gl-mt-1",attrs:{category:"tertiary",size:"small",icon:"close","aria-label":e.$options.i18n.remove,title:e.$options.i18n.remove,"data-testid":"remove-work-item-link"},on:{click:function(t){return t.stopPropagation(),e.$emit("removeChild",e.childItem)}}})],1):e._e()])}),[],!1,null,null,null);t.a=D.exports},"+C8Q":function(e,t,i){"use strict";var n={props:{label:{type:Object,required:!0}}},s=i("tBpV"),a=Object(s.a)(n,(function(){var e=this._self._c;return e("div",{staticClass:"gl-flex gl-break-anywhere"},[e("span",{staticClass:"dropdown-label-box gl-top-0 gl-mr-3 gl-shrink-0",style:{"background-color":this.label.color},attrs:{"data-testid":"label-color-box"}}),this._v(" "),e("span",[this._v(this._s(this.label.title))])])}),[],!1,null,null,null);t.a=a.exports},"+FvQ":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return o}));var n=i("04nr");const s=function(e){return{endpoint:e.notesData.draftsPath,data:e}},a=function(e){return{endpoint:e.notesData.draftsPath,data:Object(n.g)(e)}},r=function(e,t){return e[t]?e[t].line_code:""},o=function(e,t){if(null===t)return!0;if("left"===t||"right"===t){const i="left"===t?"right":"left",n=e[t]&&e[t].line_code||"",s=e[i]&&e[i].line_code||"";if(n!==s||"left"===t&&n===s)return!0}return!1}},"+GAp":function(e,t,i){var n=i("4O6w"),s=i("QPeP"),a=i("GY8p"),r=i("90g9"),o=i("wJPF"),l=i("5PFN"),d=Math.min;e.exports=function(e,t,i){for(var c=i?a:s,u=e[0].length,p=e.length,h=p,m=Array(p),f=1/0,g=[];h--;){var v=e[h];h&&t&&(v=r(v,o(t))),f=d(v.length,f),m[h]=!i&&(t||u>=120&&v.length>=120)?new n(h&&v):void 0}v=e[0];var b=-1,y=m[0];e:for(;++b<u&&g.length<f;){var k=v[b],w=t?t(k):k;if(k=i||0!==k?k:0,!(y?l(y,w):c(g,w,i))){for(h=p;--h;){var S=m[h];if(!(S?l(S,w):c(e[h],w,i)))continue e}y&&y.push(w),g.push(k)}}return g}},"+XPY":function(e,t,i){
/*!
 * Pikaday
 *
 * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */
!function(t,n){"use strict";var s;try{s=i(!function(){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=function(e){var t="function"==typeof e,i=!!window.addEventListener,n=window.document,s=window.setTimeout,a=function(e,t,n,s){i?e.addEventListener(t,n,!!s):e.attachEvent("on"+t,n)},r=function(e,t,n,s){i?e.removeEventListener(t,n,!!s):e.detachEvent("on"+t,n)},o=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){o(e,t)||(e.className=""===e.className?t:e.className+" "+t)},d=function(e,t){var i;e.className=(i=(" "+e.className+" ").replace(" "+t+" "," ")).trim?i.trim():i.replace(/^\s+|\s+$/g,"")},c=function(e){return/Array/.test(Object.prototype.toString.call(e))},u=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},h=function(e){return e%4==0&&e%100!=0||e%400==0},m=function(e,t){return[31,h(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},f=function(e){u(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},v=function(e,t,i){var n,s;for(n in t)(s=void 0!==e[n])&&"object"==typeof t[n]&&null!==t[n]&&void 0===t[n].nodeName?u(t[n])?i&&(e[n]=new Date(t[n].getTime())):c(t[n])?i&&(e[n]=t[n].slice(0)):e[n]=v({},t[n],i):!i&&s||(e[n]=t[n]);return e},b=function(e,t,i){var s;n.createEvent?((s=n.createEvent("HTMLEvents")).initEvent(t,!0,!1),s=v(s,i),e.dispatchEvent(s)):n.createEventObject&&(s=n.createEventObject(),s=v(s,i),e.fireEvent("on"+t,s))},y=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},k={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},w=function(e,t,i){for(t+=e.firstDay;t>=7;)t-=7;return i?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},S=function(e){var t=[],i="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),i="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+i+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},_=function(e,t,i,n){return'<tr class="pika-row'+(i?" pick-whole-week":"")+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},I=function(e,t,i,n,s,a){var r,o,l,d,u,p=e._o,h=i===p.minYear,m=i===p.maxYear,f='<div id="'+a+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,v=!0;for(l=[],r=0;r<12;r++)l.push('<option value="'+(i===s?r-t:12+r-t)+'"'+(r===n?' selected="selected"':"")+(h&&r<p.minMonth||m&&r>p.maxMonth?'disabled="disabled"':"")+">"+p.i18n.months[r]+"</option>");for(d='<div class="pika-label">'+p.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",c(p.yearRange)?(r=p.yearRange[0],o=p.yearRange[1]+1):(r=i-p.yearRange,o=1+i+p.yearRange),l=[];r<o&&r<=p.maxYear;r++)r>=p.minYear&&l.push('<option value="'+r+'"'+(r===i?' selected="selected"':"")+">"+r+"</option>");return u='<div class="pika-label">'+i+p.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",p.showMonthAfterYear?f+=u+d:f+=d+u,h&&(0===n||p.minMonth>=n)&&(g=!1),m&&(11===n||p.maxMonth<=n)&&(v=!1),0===t&&(f+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+p.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(f+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+p.i18n.nextMonth+"</button>"),f+"</div>"},T=function(r){var l=this,d=l.config(r);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(o(t,"is-disabled")||(!o(t,"pika-button")||o(t,"is-empty")||o(t.parentNode,"is-disabled")?o(t,"pika-prev")?l.prevMonth():o(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),d.bound&&s((function(){l.hide(),d.blurFieldOnSelect&&d.field&&d.field.blur()}),100))),o(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(o(t,"pika-select-month")?l.gotoMonth(t.value):o(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:d.field&&d.field.blur();break;case 37:e.preventDefault(),l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7)}},l._onInputChange=function(i){var n;i.firedBy!==l&&(n=d.parse?d.parse(d.field.value,d.format):t?(n=e(d.field.value,d.format,d.formatStrict))&&n.isValid()?n.toDate():null:new Date(Date.parse(d.field.value)),u(n)&&l.setDate(n),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=n.activeElement;do{if(o(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=s((function(){l.hide()}),50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,n=t;if(t){!i&&o(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),a(t,"change",l._onChange)));do{if(o(n,"pika-single")||n===d.trigger)return}while(n=n.parentNode);l._v&&t!==d.trigger&&n!==d.trigger&&l.hide()}},l.el=n.createElement("div"),l.el.className="pika-single"+(d.isRTL?" is-rtl":"")+(d.theme?" "+d.theme:""),a(l.el,"mousedown",l._onMouseDown,!0),a(l.el,"touchend",l._onMouseDown,!0),a(l.el,"change",l._onChange),d.keyboardInput&&a(n,"keydown",l._onKeyChange),d.field&&(d.container?d.container.appendChild(l.el):d.bound?n.body.appendChild(l.el):d.field.parentNode.insertBefore(l.el,d.field.nextSibling),a(d.field,"change",l._onInputChange),d.defaultDate||(t&&d.field.value?d.defaultDate=e(d.field.value,d.format).toDate():d.defaultDate=new Date(Date.parse(d.field.value)),d.setDefaultDate=!0));var c=d.defaultDate;u(c)?d.setDefaultDate?l.setDate(c,!0):l.gotoDate(c):l.gotoDate(new Date),d.bound?(this.hide(),l.el.className+=" is-bound",a(d.trigger,"click",l._onInputClick),a(d.trigger,"focus",l._onInputFocus),a(d.trigger,"blur",l._onInputBlur)):this.show()};return T.prototype={config:function(e){this._o||(this._o=v({},k,!0));var t=v(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var i=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=i>4?4:i,u(t.minDate)||(t.minDate=!1),u(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),c(t.yearRange)){var n=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||n,t.yearRange[1]=parseInt(t.yearRange[1],10)||n}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||k.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(i){return i=i||this._o.format,u(this._d)?this._o.toString?this._o.toString(this._d,i):t?e(this._d).format(i):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(i,n){t&&e.isMoment(i)&&this.setDate(i.toDate(),n)},getDate:function(){return u(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),u(e)){var i=this._o.minDate,n=this._o.maxDate;u(i)&&e<i?e=i:u(n)&&e>n&&(e=n),this._d=new Date(e.getTime()),f(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(u(e)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),s=e.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),t=s<i.getTime()||n.getTime()<s}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var i,n=this.getDate()||new Date,s=24*parseInt(t)*60*60*1e3;"add"===e?i=new Date(n.valueOf()+s):"subtract"===e&&(i=new Date(n.valueOf()-s)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=y(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=y({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(f(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=k.minDate,this._o.minYear=k.minYear,this._o.minMonth=k.minMonth,this._o.startRange=k.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(f(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=k.maxDate,this._o.maxYear=k.maxYear,this._o.maxMonth=k.maxMonth,this._o.endRange=k.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,i=this._o,n=i.minYear,a=i.maxYear,r=i.minMonth,o=i.maxMonth,l="";this._y<=n&&(this._y=n,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=a&&(this._y=a,!isNaN(o)&&this._m>o&&(this._m=o)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var d=0;d<i.numberOfMonths;d++)l+='<div class="pika-lendar">'+I(this,d,this.calendars[d].year,this.calendars[d].month,this.calendars[0].year,t)+this.render(this.calendars[d].year,this.calendars[d].month,t)+"</div>";this.el.innerHTML=l,i.bound&&"hidden"!==i.field.type&&s((function(){i.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),i.bound&&i.field.setAttribute("aria-label",i.ariaLabel)}},adjustPosition:function(){var e,t,i,s,a,r,o,c,u,p,h,m;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,i=this.el.offsetWidth,s=this.el.offsetHeight,a=window.innerWidth||n.documentElement.clientWidth,r=window.innerHeight||n.documentElement.clientHeight,o=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,h=!0,m=!0,"function"==typeof e.getBoundingClientRect)c=(p=e.getBoundingClientRect()).left+window.pageXOffset,u=p.bottom+window.pageYOffset;else for(c=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)c+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&c+i>a||this._o.position.indexOf("right")>-1&&c-i+e.offsetWidth>0)&&(c=c-i+e.offsetWidth,h=!1),(this._o.reposition&&u+s>r+o||this._o.position.indexOf("top")>-1&&u-s-e.offsetHeight>0)&&(u=u-s-e.offsetHeight,m=!1),this.el.style.left=c+"px",this.el.style.top=u+"px",l(this.el,h?"left-aligned":"right-aligned"),l(this.el,m?"bottom-aligned":"top-aligned"),d(this.el,h?"right-aligned":"left-aligned"),d(this.el,m?"top-aligned":"bottom-aligned")}},render:function(e,t,i){var n=this._o,s=new Date,a=m(e,t),r=new Date(e,t,1).getDay(),o=[],l=[];f(s),n.firstDay>0&&(r-=n.firstDay)<0&&(r+=7);for(var d=0===t?11:t-1,c=11===t?0:t+1,h=0===t?e-1:e,v=11===t?e+1:e,b=m(h,d),y=a+r,k=y;k>7;)k-=7;y+=7-k;for(var I,T,O,C,x=!1,j=0,E=0;j<y;j++){var D=new Date(e,t,j-r+1),N=!!u(this._d)&&g(D,this._d),A=g(D,s),P=-1!==n.events.indexOf(D.toDateString()),F=j<r||j>=a+r,L=j-r+1,R=t,q=e,$=n.startRange&&g(n.startRange,D),B=n.endRange&&g(n.endRange,D),M=n.startRange&&n.endRange&&n.startRange<D&&D<n.endRange;F&&(j<r?(L=b+L,R=d,q=h):(L-=a,R=c,q=v));var V={day:L,month:R,year:q,hasEvent:P,isSelected:N,isToday:A,isDisabled:n.minDate&&D<n.minDate||n.maxDate&&D>n.maxDate||n.disableWeekends&&p(D)||n.disableDayFn&&n.disableDayFn(D),isEmpty:F,isStartRange:$,isEndRange:B,isInRange:M,showDaysInNextAndPreviousMonths:n.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:n.enableSelectionDaysInNextAndPreviousMonths};n.pickWholeWeek&&N&&(x=!0),l.push(S(V)),7==++E&&(n.showWeekNumber&&l.unshift((I=j-r,T=t,O=e,C=void 0,void 0,C=new Date(O,0,1),'<td class="pika-week">'+Math.ceil(((new Date(O,T,I)-C)/864e5+C.getDay()+1)/7)+"</td>")),o.push(_(l,n.isRTL,n.pickWholeWeek,x)),l=[],E=0,x=!1)}return function(e,t,i){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+i+'">'+function(e){var t,i=[];e.showWeekNumber&&i.push("<th></th>");for(t=0;t<7;t++)i.push('<th scope="col"><abbr title="'+w(e,t)+'">'+w(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?i.reverse():i).join("")+"</tr></thead>"}(e)+(n=t,"<tbody>"+n.join("")+"</tbody></table>");var n}(n,o,i)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),d(this.el,"is-hidden"),this._o.bound&&(a(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&r(n,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),r(this.el,"mousedown",this._onMouseDown,!0),r(this.el,"touchend",this._onMouseDown,!0),r(this.el,"change",this._onChange),e.keyboardInput&&r(n,"keydown",this._onKeyChange),e.field&&(r(e.field,"change",this._onInputChange),e.bound&&(r(e.trigger,"click",this._onInputClick),r(e.trigger,"focus",this._onInputFocus),r(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},T}(s)}()},"+gEn":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("ZzK0"),i("z6RN"),i("BzOf");var n=i("9fwh"),s=i.n(n),a=i("NmEs");const r=["mousedown","touchstart","keydown","wheel"];function o({targetId:e=window.location.hash.slice(1),container:t="#content-body"}={}){if(!e)return null;const i=s()(document.getElementById(e))||document.documentElement,n=i===document.documentElement,o=new ResizeObserver((function(e){e.forEach((function(e){e.target.dispatchEvent(new CustomEvent("ResizeUpdate",{detail:{entry:e}}))}))})),l=n?document.querySelector(t):i;let d=!1;function c(){const t=document.getElementById(e);if(!t)return;const n=t.getBoundingClientRect().top+window.scrollY-Object(a.e)();i.scrollTo({top:n}),d||(r.forEach((function(e){return document.addEventListener(e,u)})),d=!0)}function u(){r.forEach((function(e){return document.removeEventListener(e,u)})),o.unobserve(l),l.removeEventListener("ResizeUpdate",c)}return l.addEventListener("ResizeUpdate",c),o.observe(l),o}},"+kWK":function(e,t,i){"use strict";var n=i("XCkn"),s=i.n(n),a=i("DZUU"),r=i("tbP8"),o=i("IZAz"),l=i("/lV4"),d=i("0DeP"),c={name:"UserAvatarImage",components:{GlTooltip:a.a,GlAvatar:r.a},props:{lazy:{type:Boolean,required:!1,default:!1},imgSrc:{type:String,required:!1,default:o.a},cssClasses:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:Object(l.a)("user avatar")},size:{type:[Number,Object],required:!0},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},pseudo:{type:Boolean,required:!1,default:!1}},computed:{sanitizedSource(){let e=""===this.imgSrc||null===this.imgSrc?o.a:this.imgSrc;return 0===e.indexOf("data:")||e.includes("?")||(e+="?width="+this.maximumSize),e},maximumSize(){return s()(this.size)?2*Math.max(...Object.values(this.size)):2*this.size},resultantSrcAttribute(){return this.lazy?d.b:this.sanitizedSource}}},u=i("tBpV"),p=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("span",{ref:"userAvatar"},[t("gl-avatar",{staticClass:"gl-bg-cover",class:{lazy:e.lazy,[e.cssClasses]:!0},style:e.pseudo?{backgroundImage:`url('${e.sanitizedSource}')`}:null,attrs:{src:e.pseudo?void 0:e.resultantSrcAttribute,"data-src":e.sanitizedSource,size:e.size,alt:e.imgAlt,"data-testid":"user-avatar-image"}}),e._v(" "),e.tooltipText||e.$scopedSlots.default?t("gl-tooltip",{attrs:{target:function(){return e.$refs.userAvatar},placement:e.tooltipPlacement,boundary:"window"}},[e._t("default",(function(){return[e._v(e._s(e.tooltipText))]}))],2):e._e()],1)}),[],!1,null,null,null);t.a=p.exports},"+p8b":function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},"+st3":function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return o}));var n=i("UqDg");function s(){document.body.classList.add(n.a)}function a(){document.body.classList.remove(n.a)}function r(){return document.body.classList.contains(n.a)}function o(e){const t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;return{...{...n.c,filter:".no-drag",delay:t?100:0,scrollSensitivity:t?60:100,scrollSpeed:20,onStart:s,onEnd:a},...e}}},"+t36":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"namespaceProjectsForLinksWidget"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSearch"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"namespace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"projects"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"projectSearch"}}},{kind:"Argument",name:{kind:"Name",value:"includeSubgroups"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"includeSiblingProjects"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"ACTIVITY_DESC"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameWithNamespace"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"namespace"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:440}};i.loc.source={body:"query namespaceProjectsForLinksWidget($fullPath: ID!, $projectSearch: String) {\n  namespace(fullPath: $fullPath) {\n    id\n    projects(\n      search: $projectSearch\n      includeSubgroups: true\n      includeSiblingProjects: true\n      sort: ACTIVITY_DESC\n    ) {\n      nodes {\n        id\n        name\n        avatarUrl\n        nameWithNamespace\n        fullPath\n        namespace {\n          id\n          name\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.namespaceProjectsForLinksWidget=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"namespaceProjectsForLinksWidget")},"/DUi":function(e,t,i){"use strict";var n=i("bOix"),s=i("/lV4"),a=i("5QKO"),r={components:{WorkItemAttribute:i("0qSx").a},mixins:[a.a],props:{milestone:{type:Object,required:!0}},computed:{milestoneDue(){const e=this.milestone.due_date||this.milestone.dueDate;return e?Object(n.O)(e):null},milestoneStart(){const e=this.milestone.start_date||this.milestone.startDate;return e?Object(n.O)(e):null},isMilestoneStarted(){return!!this.milestoneStart&&Date.now()>this.milestoneStart},isMilestonePastDue(){return!!this.milestoneDue&&Date.now()>this.milestoneDue},milestoneDatesAbsolute(){return this.milestoneDue?`(${n.I.asDate.format(this.milestoneDue)})`:this.milestoneStart?`(${n.I.asDate.format(this.milestoneStart)})`:""},milestoneDatesHuman(){return this.milestoneStart||this.milestoneDue?this.milestoneDue?Object(n.S)(this.milestoneDue,Object(s.h)(Object(s.a)("Expired %{expiredOn}"),{expiredOn:this.timeFormatted(this.milestoneDue)})):Object(s.h)(this.isMilestoneStarted?Object(s.a)("Started %{startsIn}"):Object(s.a)("Starts %{startsIn}"),{startsIn:this.timeFormatted(this.milestoneStart)}):""}}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("work-item-attribute",{attrs:{"anchor-id":"board-card-milestone","wrapper-component":"div","wrapper-component-class":"issue-milestone-details gl-flex gl-max-w-15 gl-gap-2 gl-items-center","icon-name":"milestone","icon-class":"flex-shrink-0",title:e.milestone.title,"title-component-class":"milestone-title gl-inline-block gl-truncate"},scopedSlots:e._u([{key:"tooltip-text",fn:function(){return[t("span",{staticClass:"gl-font-bold"},[e._v(e._s(e.__("Milestone")))]),e._v(" "),t("br"),e._v(" "),t("span",[e._v(e._s(e.milestone.title))]),e._v(" "),t("br"),e._v(" "),e.milestoneStart||e.milestoneDue?t("span",{class:{"gl-text-red-300":e.isMilestonePastDue,"gl-text-tertiary":!e.isMilestonePastDue}},[t("span",[e._v(e._s(e.milestoneDatesHuman))]),t("br"),t("span",[e._v(e._s(e.milestoneDatesAbsolute))])]):e._e()]},proxy:!0}])})}),[],!1,null,null,null);t.a=l.exports},"/HDl":function(e,t,i){"use strict";var n=i("Tmea"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("v2fZ"),i("UezY"),i("z6RN"),i("hG7+"),i("B++/"),i("47t/"),i("byxs"),i("crTv")),r=i("PxiM"),o=i.n(r),l=i("3lQS"),d=i("/lV4"),c=i("3cHC"),u=i("n7CP"),p=i("QvGs"),h=i("+t36"),m=i.n(h),f=i("JtyA"),g={components:{GlCollapsibleListbox:a.a,ProjectAvatar:l.a},model:{prop:"selectedProjectFullPath",event:"selectProject"},props:{fullPath:{required:!0,type:String},currentProjectName:{required:!1,type:String,default:""},isGroup:{required:!1,type:Boolean,default:!1},selectedProjectFullPath:{required:!1,type:String,default:null}},data:()=>({projects:[],frequentProjects:[],searchKey:"",selectedProject:null}),apollo:{projects:{query:()=>m.a,variables(){return{fullPath:this.fullPath,projectSearch:this.searchKey}},update(e){var t;return null===(t=e.namespace)||void 0===t||null===(t=t.projects)||void 0===t?void 0:t.nodes},result(){this.selectedProject=this.findSelectedProject(this.selectedProjectFullPath)}}},computed:{projectsLoading(){return this.$apollo.queries.projects.loading},dropdownToggleText(){return this.selectedProject?this.selectedProject.nameWithNamespace||this.selectedProject.namespace:this.selectedProjectFullPath&&this.currentProjectName?this.currentProjectName:Object(d.g)("WorkItem|Select a project")},listItems(){const e=[];let t=[];this.frequentProjects.length>0&&(t=this.frequentProjects.map((function(e){return{text:e.name,value:e.webUrl.startsWith("/")?e.webUrl.substring(1,e.webUrl.length):e.webUrl,namespace:e.namespace,avatarUrl:e.avatar_url}})),e.push({text:Object(d.a)("Recently used"),options:t}));const i=t.map((function(e){return e.value}));if(this.projects.length>0){const t=this.projects.filter((function(e){return!i.includes(e.fullPath)})).map((function(e){var t;return{text:e.name,value:e.fullPath,namespace:null===(t=e.namespace)||void 0===t?void 0:t.name,avatarUrl:e.avatarUrl}}));e.push({text:Object(d.a)("Projects"),options:t,textSrOnly:!0})}return e}},created(){this.debouncedSearch=s()(this.handleSearch,f.db)},beforeDestroy(){var e;null===(e=this.debouncedSearch)||void 0===e||e.cancel()},methods:{handleSearch(e){this.searchKey=e,this.setFrequentProjects(e)},handleSelect(e){this.selectedProject=this.findSelectedProject(e),this.$emit("selectProject",e)},findSelectedProject(e){const t=this.projects.find((function(t){return t.fullPath===e}));return t||this.projects.find((function(t){return"/"+t.fullPath===e}))},async handleDropdownShow(){var e,t;this.searchKey="",this.setFrequentProjects(),await this.$nextTick(),null===(e=this.$refs.searchInputField)||void 0===e||null===(t=e.focusInput)||void 0===t||t.call(e)},setFrequentProjects(e){var t=this;const{current_username:i}=gon;if(!i)return void(this.frequentProjects=[]);const n=`${i}/${c.q.projects}`;if(!u.a.canUseLocalStorage())return void(this.frequentProjects=[]);const s=localStorage.getItem(n);let a=s?JSON.parse(s):[];a=a.filter((function(e){var i;const n=t.isGroup?t.fullPath:t.fullPath.substring(0,t.fullPath.lastIndexOf("/"));return Boolean(null===(i=e.webUrl)||void 0===i||null===(i=i.slice(1))||void 0===i?void 0:i.startsWith(n))})),e&&(a=o.a.filter(a,e,{key:["namespace"]})),this.frequentProjects=Object(p.c)(a,f.V).map((function(e){return{...e,avatar_url:e.avatarUrl,web_url:e.webUrl}}))},handleFrequentProjectSelection(e){this.project=this.projects.find((function(t){return"/"+t.fullPath===e.webUrl}))}}},v=i("tBpV"),b=Object(v.a)(g,(function(){var e=this,t=e._self._c;return t("gl-collapsible-listbox",{staticClass:"gl-relative",attrs:{block:"",searchable:"","is-check-centered":"",items:e.listItems,selected:e.selectedProjectFullPath,"toggle-text":e.dropdownToggleText,searching:e.projectsLoading,"fluid-width":""},on:{search:e.debouncedSearch,select:e.handleSelect,shown:e.handleDropdownShow},scopedSlots:e._u([{key:"list-item",fn:function({item:i}){return[t("div",{staticClass:"gl-flex gl-w-full gl-items-center"},[t("project-avatar",{staticClass:"gl-mr-3",attrs:{"project-id":i.id,"project-avatar-url":i.avatarUrl,"project-name":i.text}}),e._v(" "),t("span",[t("span",{staticClass:"gl-mr-2 gl-block"},[e._v(" "+e._s(i.text)+" ")]),e._v(" "),t("span",{staticClass:"gl-block gl-text-subtle"},[e._v(" "+e._s(i.namespace)+" ")])])],1)]}}])})}),[],!1,null,null,null);t.a=b.exports},"/eF7":function(e,t,i){var n=i("omPs"),s=i("LlRA"),a=i("1/+g"),r=i("LK1c"),o=i("qifX"),l=i("iNcF"),d=i("qmgT"),c=i("gO+Z"),u=i("mqi7"),p=i("1sa0"),h=i("5TiC"),m=i("ZB1U"),f=i("aYTY"),g=i("90A/"),v=i("z9/d"),b=i("P/Kr"),y=i("FBB6"),k=i("dOWE"),w=i("XCkn"),S=i("2rze"),_=i("/NDV"),I=i("UwPs"),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,e.exports=function e(t,i,O,C,x,j){var E,D=1&i,N=2&i,A=4&i;if(O&&(E=x?O(t,C,x,j):O(t)),void 0!==E)return E;if(!w(t))return t;var P=b(t);if(P){if(E=f(t),!D)return d(t,E)}else{var F=m(t),L="[object Function]"==F||"[object GeneratorFunction]"==F;if(y(t))return l(t,D);if("[object Object]"==F||"[object Arguments]"==F||L&&!x){if(E=N||L?{}:v(t),!D)return N?u(t,o(E,t)):c(t,r(E,t))}else{if(!T[F])return x?t:{};E=g(t,F,D)}}j||(j=new n);var R=j.get(t);if(R)return R;j.set(t,E),S(t)?t.forEach((function(n){E.add(e(n,i,O,n,t,j))})):k(t)&&t.forEach((function(n,s){E.set(s,e(n,i,O,s,t,j))}));var q=P?void 0:(A?N?h:p:N?I:_)(t);return s(q||t,(function(n,s){q&&(n=t[s=n]),a(E,s,e(n,i,O,s,t,j))})),E}},"/ode":function(e,t,i){"use strict";i.d(t,"a",(function(){return I}));var n=i("G3fq"),s=i.n(n),a=i("d+lS"),r=i.n(a),o=(i("B++/"),i("z6RN"),i("47t/"),i("v2fZ"),i("RFHG"),i("xuo1"),i("3UXl"),i("iyoE"),i("86Lb"),i("UezY"),i("hG7+"),i("++os"),i("whUo"),i("ZzK0"),i("BzOf"),i("eVUo")),l=i("EmJ/"),d=i.n(l),c=i("KlFr"),u=i("NmEs"),p=i("tDP3"),h=i("nc9B"),m=i("jlnU"),f=i("5yoc"),g=i("2ibD"),v=i("1OWu"),b=i("/lV4");const y="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",k=/(?:, and | and |, )/,w={activity:"Activity",people:"People",nature:"Nature",food:"Food",travel:"Travel",objects:"Objects",symbols:"Symbols",flags:"Flags"};class S{constructor(e){this.emoji=e,this.eventListeners=[],this.toggleButtonSelector=".js-add-award",this.menuClass="js-award-emoji-menu"}bindEvents(){var e=this;const t=this.targetContainerEl?d()(this.targetContainerEl):d()(document);this.registerEventListener("one",t,"mouseenter focus",this.toggleButtonSelector,"mouseenter focus",(function(){0===d()("."+e.menuClass).length&&requestAnimationFrame((function(){e.createEmojiMenu()}))})),this.registerEventListener("on",t,"click",this.toggleButtonSelector,(function(t){t.stopPropagation(),t.preventDefault(),e.showEmojiMenu(d()(t.currentTarget))})),this.registerEventListener("on",d()("html"),"click",(function(t){d()(t.target).closest("."+e.menuClass).length||(d()(".js-awards-block.current").removeClass("current"),d()("."+e.menuClass).is(":visible")&&(d()(e.toggleButtonSelector+".is-active").removeClass("is-active"),e.hideMenuElement(d()("."+e.menuClass))))}));const i=`.js-awards-block .js-emoji-btn, .${this.menuClass} .js-emoji-btn`;this.registerEventListener("on",t,"click",i,(function(t){t.preventDefault();const i=d()(t.currentTarget),n=i.find("gl-emoji"),s=i.find(".icon"),a=(n.length?n:s).data("name");i.closest(".js-awards-block").addClass("current"),e.addAward(e.getVotesBlock(),e.getAwardUrl(),a)}))}registerEventListener(e="on",t,...i){t[e].call(t,...i),this.eventListeners.push({element:t,args:i})}showEmojiMenu(e){var t=this;e.hasClass("js-note-emoji")?e.closest(".note").find(".js-awards-block").addClass("current"):e.closest(".js-awards-block").addClass("current");const i=d()("."+this.menuClass);i.length?i.is(".is-visible")?(e.removeClass("is-active"),this.hideMenuElement(i),d()(".js-emoji-menu-search").blur()):(e.addClass("is-active"),this.positionMenu(i,e),this.showMenuElement(i),d()(".js-emoji-menu-search").focus()):(e.addClass("is-loading is-active"),this.createEmojiMenu((function(){const i=d()("."+t.menuClass);return e.removeClass("is-loading"),t.positionMenu(i,e),setTimeout((function(){t.showMenuElement(i),d()(".js-emoji-menu-search").focus()}),200)})))}createEmojiMenu(e){if(this.isCreatingEmojiMenu)return;this.isCreatingEmojiMenu=!0;const t=this.emoji.getEmojiCategoryMap(),i=Object.keys(t)[0],n=t[i],s=this.renderCategory(w[i],n),a=this.getFrequentlyUsedEmojis();let r="";a.length>0&&(r=this.renderCategory("Frequently used",a,{frequentEmojis:!0}));const o=`\n      <div class="emoji-menu ${this.menuClass}">\n        <input type="text" name="emoji-menu-search" value="" class="js-emoji-menu-search emoji-search search-input form-control" placeholder="Search emoji" />\n\n        <div class="emoji-menu-content">\n          ${r}\n          ${s}\n        </div>\n      </div>\n    `;(this.targetContainerEl?this.targetContainerEl:document.body).insertAdjacentHTML("beforeend",o),this.addRemainingEmojiMenuCategories(),this.setupSearch(),e&&e()}addRemainingEmojiMenuCategories(){var e=this;if(this.isAddingRemainingEmojiMenuCategories)return;this.isAddingRemainingEmojiMenuCategories=!0;const t=this.emoji.getEmojiCategoryMap(),i=document.querySelector("."+this.menuClass),n=i.querySelector(".emoji-menu-content");Object.keys(t).slice(1).reduce((function(i,s){return i.then((function(){return new Promise((function(i){const a=t[s],r=e.renderCategory(w[s],a);requestAnimationFrame((function(){n.insertAdjacentHTML("beforeend",r),i()}))}))}))}),Promise.resolve()).then((function(){i&&i.dispatchEvent(new CustomEvent("build-emoji-menu-finish"))})).catch((function(e){throw n.insertAdjacentHTML("beforeend","<p>We encountered an error while adding the remaining categories</p>"),new Error("Error occurred in addRemainingEmojiMenuCategories: "+e.message)}))}renderCategory(e,t,i={}){var n=this;return`\n      <h5 class="emoji-menu-title">\n        ${s()(e)}\n      </h5>\n      <ul class="clearfix emoji-menu-list ${i.frequentEmojis?"frequent-emojis":""}">\n        ${t.map((function(e){return`\n          <li class="emoji-menu-list-item">\n            <button class="emoji-menu-btn text-center js-emoji-btn" type="button">\n              ${n.emoji.glEmojiTag(e,{sprite:!0})}\n            </button>\n          </li>\n        `})).join("\n")}\n      </ul>\n    `}positionMenu(e,t){if(this.targetContainerEl)return e.css({top:t.outerHeight()+"px"});const i=t.data("position"),n={top:t.offset().top+t.outerHeight()+"px"};return"xs"===o.a.getBreakpointSize()||"sm"===o.a.getBreakpointSize()?n.left="5%":"right"===i?(n.left=t.offset().left-e.outerWidth()+20+"px",e.addClass("is-aligned-right")):(n.left=t.offset().left+"px",e.removeClass("is-aligned-right")),e.css(n)}addAward(e,t,i,n){var s=this;const a=e.closest(".js-noteable-awards").length;if(Object(v.h)()&&!a){const t=e.attr("id").replace("note_","");this.hideMenuElement(d()("."+this.menuClass)),d()(this.toggleButtonSelector+".is-active").removeClass("is-active");const n=new CustomEvent("toggleAward",{detail:{awardName:i,noteId:t}});document.querySelector(".js-vue-notes-event").dispatchEvent(n)}const r=this.emoji.normalizeEmojiName(i),o=this.findEmojiIcon(e,r).closest("button");return this.postEmoji(o,t,r,(function(){return s.addAwardToEmojiBar(e,r),"function"==typeof n?n():void 0})),this.hideMenuElement(d()("."+this.menuClass)),d()(this.toggleButtonSelector+".is-active").removeClass("is-active")}addAwardToEmojiBar(e,t){this.addEmojiToFrequentlyUsedList(t);const i=this.emoji.normalizeEmojiName(t),n=this.findEmojiIcon(e,i).closest("button");if(n.length>0)if(this.isActive(n))this.decrementCounter(n,i);else{const t=n.find(".js-counter");t.text(parseInt(t.text(),10)+1),n.addClass("active"),this.addYouToUserList(e,i),this.animateEmoji(n)}else e.removeClass("hidden"),this.createEmoji(e,i)}getVotesBlock(){if(Object(v.h)()){const e=d()(this.toggleButtonSelector+".is-active").closest(".note.timeline-entry");if(e.length)return e}const e=d()(".js-awards-block.current");let t=e;return 0===e.length&&(t=d()(".js-awards-block").eq(0)),t}getAwardUrl(){return this.getVotesBlock().data("awardUrl")}isActive(e){return e.hasClass("active")}decrementCounter(e,t){const i=d()(".js-counter",e),n=parseInt(i.text(),10);return n>1?(i.text(n-1),this.removeYouFromUserList(e)):t===f.i||t===f.h?(Object(h.b)(e),i.text("0"),this.removeYouFromUserList(e),e.parents(".note").length&&this.removeEmoji(e)):this.removeEmoji(e),e.removeClass("active")}removeEmoji(e){Object(h.b)(e),e.remove();const t=this.getVotesBlock();0===t.find(".js-emoji-btn").length&&t.addClass("hidden")}getAwardTooltip(e){return e.attr("data-original-title")||e.attr("data-title")||""}toSentence(e){let t;return t=e.length<=2?e.join(" and "):`${e.slice(0,-1).join(", ")}, and ${e[e.length-1]}`,t}removeYouFromUserList(e){const t=e,i=this.getAwardTooltip(t).split(k);return i.splice(i.indexOf("You"),1),t.closest(".js-emoji-btn").removeData("title").removeAttr("data-title").removeAttr("data-original-title").attr("title",this.toSentence(i)),Object(h.c)(t),t}addYouToUserList(e,t){const i=this.findEmojiIcon(e,t).closest("button"),n=this.getAwardTooltip(i);let s=[];return n&&(s=n.trim().split(k)),s.unshift("You"),i.attr("title",this.toSentence(s)),Object(h.c)(i),i}createAwardButtonForVotesBlock(e,t){const i=`\n      <button class="gl-button btn btn-default award-control js-emoji-btn has-tooltip active" title="You">\n        ${this.emoji.glEmojiTag(t)}\n        <span class="award-control-text js-counter">1</span>\n      </button>\n    `,n=d()(i);n.insertBefore(e.find(".js-award-holder")).find(".emoji-icon").data("name",t),this.animateEmoji(n),e.removeClass("current")}animateEmoji(e){e.addClass("pulse animated once short"),this.registerEventListener("on",e,"animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",(function(e){d()(e.currentTarget).removeClass("pulse animated once short")}))}createEmoji(e,t){var i=this;d()("."+this.menuClass).length&&this.createAwardButtonForVotesBlock(e,t),this.createEmojiMenu((function(){i.createAwardButtonForVotesBlock(e,t)}))}postEmoji(e,t,i,n){g.a.post(t,{name:i}).then((function({data:e}){e.ok&&n()})).catch((function(){return Object(m.createAlert)({message:Object(b.a)("Something went wrong on our end.")})}))}findEmojiIcon(e,t){return e.find(`.js-emoji-btn [data-name="${t}"]`)}scrollToAwards(){Object(u.M)(".awards",{offset:-110})}addEmojiToFrequentlyUsedList(e){this.emoji.isEmojiNameValid(e)&&(this.frequentlyUsedEmojis=r()(this.getFrequentlyUsedEmojis().concat(e)),localStorage.setItem(f.j,this.frequentlyUsedEmojis.join(",")))}getFrequentlyUsedEmojis(){var e=this;return this.frequentlyUsedEmojis||function(){const t=r()((localStorage.getItem(f.j)||"").split(","));return e.frequentlyUsedEmojis=t.filter((function(t){return e.emoji.isEmojiNameValid(t)})),e.frequentlyUsedEmojis}()}setupSearch(){var e=this;const t=d()(".js-emoji-menu-search");this.registerEventListener("on",t,"input",(function(t){const i=d()(t.target).val().trim();e.searchEmojis(i)}));const i=d()("."+this.menuClass);this.registerEventListener("on",i,y,(function(t){t.target===t.currentTarget&&e.searchEmojis("")}))}searchEmojis(e){if(d()(".js-emoji-menu-search").val(e),d()("ul.emoji-menu-search, h5.emoji-search-title").remove(),e.length>0){const t=d()('<h5 class="emoji-search-title"/>').text("Search results"),i=this.findMatchingEmojiElements(e).show(),n=d()("<ul>").addClass("emoji-menu-list emoji-menu-search").append(i);d()(".emoji-menu-content ul, .emoji-menu-content h5").hide(),d()(".emoji-menu-content").append(t).append(n)}else d()(".emoji-menu-content").children().show()}getEmojiScore(e,t){const i=d()(t).find("[data-name]").get(0),n=e.filter((function(e){return e.emoji.name===i.dataset.name}))[0];return i.dataset.score=n.score,n.score}sortEmojiElements(e,t){var i=this;const n=new WeakMap;return t.sort((function(t,s){let a=n.get(t),r=n.get(s);return a||(a=i.getEmojiScore(e,t),n.set(t,a)),r||(r=i.getEmojiScore(e,s),n.set(s,r)),a-r}))}findMatchingEmojiElements(e){const t=this.emoji.searchEmoji(e).map((function(e){return{...e,score:Object(c.a)(e.emoji.name,e.score)}})),i=t.map((function(e){return e.emoji.name})),n=d()(".emoji-menu-list:not(.frequent-emojis) [data-name]").filter((function(e,t){return i.indexOf(t.dataset.name)>=0}));return this.sortEmojiElements(t,n.closest("li").clone())}showMenuElement(e){return e.addClass("is-rendered"),Promise.resolve().then((function(){return e.addClass("is-visible")}))}hideMenuElement(e){e.on(y,(function(t){t.currentTarget===t.target&&e.removeClass("is-rendered").off(y)})),e.removeClass("is-visible")}destroy(){this.eventListeners.forEach((function(e){e.element.off.call(e.element,...e.args)})),d()("."+this.menuClass).remove()}}let _=null;function I(e=!1){return _&&!e||(_=p.initEmojiMap().then((function(){const e=new S(p);return e.bindEvents(),e}))),_}},"04gX":function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"setInitialData",(function(){return p})),i.d(n,"fetchAwards",(function(){return h})),i.d(n,"toggleAward",(function(){return m}));var s=i("ewH8"),a=i("yi8e"),r=i("NmEs"),o=i("NbhA"),l=i("5yoc"),d=(i("3UXl"),i("iyoE"),i("B++/"),i("z6RN"),i("47t/"),i("7F3p")),c=i("2ibD"),u=i("3twG");const p=function({commit:e},t){return e("SET_INITIAL_DATA",t)},h=async function({commit:e,dispatch:t,state:i},n="1"){try{const{data:s,headers:a}=await c.a.get(Object(u.A)(gon.relative_url_root||"",i.path),{params:{per_page:100,page:n}}),o=Object(r.G)(a)["X-NEXT-PAGE"];e("FETCH_AWARDS_SUCCESS",s),o&&t("fetchAwards",o)}catch(e){d.b(e)}},m=async function({commit:e,state:t},i){const n=t.awards.find((function(e){return e.name===i&&e.user.id===t.currentUserId}));try{if(n)e("REMOVE_AWARD",n.id),await c.a.delete(Object(u.A)(gon.relative_url_root||"",`${t.path}/${n.id}`)).catch((function(t){throw e("ADD_NEW_AWARD",n),t}));else{const n=function(e,t){return{id:Math.min(...t.awards.map((function(e){return e.id})),Number.MAX_SAFE_INTEGER)-1,name:e,user:{id:window.gon.current_user_id,name:window.gon.current_user_fullname,username:window.gon.current_username}}}(i,t);e("ADD_NEW_AWARD",n);const{data:s}=await c.a.post(Object(u.A)(gon.relative_url_root||"",t.path),{name:i}).finally((function(){e("REMOVE_AWARD",n.id)}));e("ADD_NEW_AWARD",s)}}catch(e){d.b(e)}};i("v2fZ"),i("UezY"),i("hG7+");var f={SET_INITIAL_DATA(e,{path:t,currentUserId:i,canAwardEmoji:n}){e.path=t,e.currentUserId=i,e.canAwardEmoji=n},FETCH_AWARDS_SUCCESS(e,t){e.awards.push(...t)},ADD_NEW_AWARD(e,t){e.awards.push(t)},REMOVE_AWARD(e,t){e.awards=e.awards.filter((function({id:e}){return e!==t}))}};s.default.use(a.b);t.a=function(e){if(!e)return null;const{dataset:{path:t,newCustomEmojiPath:i}}=e,d=Object(r.H)(e.dataset.canAwardEmoji),c=Object(r.H)(e.dataset.showDefaultAwardEmojis);return new s.default({el:e,name:"AwardsListRoot",store:new a.b.Store({state:{awards:[],awardPath:"",currentUserId:null,canAwardEmoji:!1},actions:n,mutations:f}),provide:{newCustomEmojiPath:i},computed:{...Object(a.f)(["currentUserId","canAwardEmoji","awards"])},created(){this.setInitialData({path:t,currentUserId:window.gon.current_user_id,canAwardEmoji:d})},mounted(){this.fetchAwards()},methods:{...Object(a.c)(["setInitialData","fetchAwards","toggleAward"])},render(e){return e(o.a,{props:{awards:this.awards,canAwardEmoji:this.canAwardEmoji,currentUserId:this.currentUserId,defaultAwards:c?[l.i,l.h]:[],selectedClass:"selected"},on:{award:this.toggleAward}})}})}},"04nr":function(e,t,i){"use strict";i.d(t,"n",(function(){return y})),i.d(t,"d",(function(){return k})),i.d(t,"g",(function(){return w})),i.d(t,"h",(function(){return S})),i.d(t,"i",(function(){return I})),i.d(t,"r",(function(){return T})),i.d(t,"b",(function(){return O})),i.d(t,"a",(function(){return C})),i.d(t,"s",(function(){return x})),i.d(t,"q",(function(){return N})),i.d(t,"p",(function(){return F})),i.d(t,"f",(function(){return L})),i.d(t,"k",(function(){return R})),i.d(t,"e",(function(){return q})),i.d(t,"c",(function(){return $})),i.d(t,"j",(function(){return B})),i.d(t,"t",(function(){return M})),i.d(t,"l",(function(){return V})),i.d(t,"o",(function(){return U})),i.d(t,"m",(function(){return G}));var n=i("VNnR"),s=i.n(n),a=i("Ur9C"),r=i.n(a),o=(i("v2fZ"),i("B++/"),i("z6RN"),i("47t/"),i("3UXl"),i("iyoE"),i("ZzK0"),i("BzOf"),i("RFHG"),i("xuo1"),i("aFm2"),i("R9qC"),i("UezY"),i("hG7+"),i("BAGK")),l=i("pIt4"),d=i("Gtn5"),c=i("LlB7");const u=function(e){return["new","new-nonewline"].includes(e.type)},p=function(e){return["old","old-nonewline"].includes(e.type)},h=function(e){return!e.type},m=function(e){return["match",l.E,"new-nonewline","old-nonewline"].includes(e.type)},f=function(e){return[l.e,l.f].includes(e.type)},g=function(e){return e.type===l.d},v=function(e){return e.type===l.g},b=function(e){return e.type===l.h},y=function(e,t){let i=null,n=-1;const s=[];let a=0;for(let r=0,o=e.length,d=0;r<o;r+=1){const o=e[r];if(o.chunk=a,m(o)&&o.type!==l.E&&(a+=1),p(o)||v(o)||t)s.push({[l.N]:o,[l.O]:null}),null===i&&(i=d),d+=1;else if(u(o)||b(o))if(null!==i){s[i].right=o;const e=i+1;i=e<d?e:null}else s.push({[l.N]:null,[l.O]:o}),i=null,d+=1;else(m(o)||h(o)||f(o)||g(o)&&t)&&(n<=0?(s.push({[l.N]:o,[l.O]:!t&&o}),!t&&f(o)&&(n=d),i=null,d+=1):(s[n][l.O]=o,n=-1))}return s};function k(e,t,i="file_hash"){return e.find((function(e){return e[i]===t}))}function w(e){const{commit:t,note:i,noteableType:n,noteableData:s,diffFile:a,noteTargetLine:r,diffViewType:o,linePosition:d,positionType:c,lineRange:u,showWhitespace:p}=e,h=JSON.stringify({base_sha:a.diff_refs.base_sha,start_sha:a.diff_refs.start_sha,head_sha:a.diff_refs.head_sha,old_path:a.old_path,new_path:a.new_path,position_type:c||l.hb,old_line:r?r.old_line:null,new_line:r?r.new_line:null,x:e.x,y:e.y,width:e.width,height:e.height,line_range:u,ignore_whitespace_change:!a.whitespaceOnlyChange&&!p});return{view:o,line_type:d===l.O?l.W:l.Z,merge_request_diff_head_sha:a.diff_refs.head_sha,in_reply_to_discussion_id:"",note_project_id:"",target_type:s.targetType,target_id:s.id,return_discussion:!0,note:{note:i,position:h,noteable_type:n,noteable_id:s.id,commit_id:t&&t.id,type:a.diff_refs.start_sha&&a.diff_refs.head_sha?l.r:l.K,line_code:r?r.line_code:null}}}function S(e){const t=w(e);return{endpoint:e.noteableData.create_note_path,data:t}}const _=function(e,t){const{oldLineNumber:i,newLineNumber:n}=t;return e.findIndex((function(e){return e.old_line===i&&e.new_line===n}))},I=function(e,t){return _(e[l.I],t)};function T(e,t,i){const n=_(e[l.I],t),s=i?1:-1;n>-1&&e[l.I].splice(n+s,1)}function O(e,t,i,n,s){const{oldLineNumber:a,newLineNumber:r}=t,o=e.length;let d=-1;const c=e.map((function(e,t){return e.type===l.P?d=t:Object.assign(e,{old_line:i?a+t+1:a+t-o,new_line:i?r+t+1:r+t-o}),e}));if(d>-1){const e=c[d];let t;t=n?s:i?c[d-1]:c[d+1],Object.assign(e,{meta_data:{old_pos:t.old_line,new_pos:t.new_line}})}return c}function C(e){!function(e){const{inlineLines:t,contextLines:i,lineNumbers:n,isExpandDown:s}=e,a=s?1:0;if(!s&&e.bottom)t.push(...i);else{const e=_(t,n);t.splice(e+a,0,...i)}}(e)}function x(e={}){delete e.text;const t={...e};if(e.rich_text){const i=t.rich_text.charAt(0);" "!==i&&"+"!==i&&"-"!==i||(t.rich_text=e.rich_text.substring(1))}return t}function j(e,t){const i=e[l.I],n=!i.length;return{...e,[l.I]:n?t[l.I]:i,parallel_diff_lines:null,collapsed:t.collapsed}}function E(e){const t=!e[l.I];return Object.assign(e,{[l.I]:t?[]:e[l.I],parallel_diff_lines:null}),e}function D(e,t){const i={brokenSymlink:t.brokenSymlink,brokenLineCode:!e.line_code,fileOnlyMoved:t.renamed_file&&0===t.added_lines&&0===t.removed_lines};var n;e.alreadyPrepared||Object.assign(e,{commentsDisabled:Boolean(i.brokenSymlink||i.fileOnlyMoved||i.brokenLineCode),rich_text:(n=e.rich_text,n?n.replace(/^[+ -]/,""):void 0),discussionsExpanded:!1,discussions:[],hasForm:!1,text:void 0,alreadyPrepared:!0,problems:i})}function N({line:e,diffFile:t,index:i=0}){const n=i+1,s={...e,line_code:`${t.file_hash}_${n}_${n}`,new_line:n,old_line:n};return D(s,t),s}function A(e){return e[l.I].forEach((function(t){return D(t,e)})),e}function P(e){var t;return Object.assign(e,{isShowingFullFile:!1,isLoadingFullFile:!1,discussions:[],renderingLines:!1,whitespaceOnlyChange:null===(t=e.viewer)||void 0===t?void 0:t.whitespace_only}),e}function F({diff:e,priorFiles:t=[],meta:i=!1,updatePosition:n=!1}){const s=[function(e,t,n){return Object(d.i)({file:e,index:t,allFiles:n,meta:i})},E,A,P];return function(e,t){const i=e.reduce((function(e,i){const n=function(e){return`${e.content_sha}-${e.file_hash}`}(i);if(t&&n in e){const t=e[n];return delete e[n],{...e,[n]:t}}return{...e,[n]:e[n]?j(e[n],i):i}}),{});return Object.values(i)}([...t,...(e.diff_files||[]).map((function(e,t,i){return s.reduce((function(e,n){return n(e,t,i)}),e)}))],n)}function L(e){return e.reduce((function(e,t){return t[l.I].forEach((function(i){e.push({file:t,line:i})})),e}),[]).reduce((function(e,{file:t,line:i}){return i.line_code&&(e[i.line_code]={base_sha:t.diff_refs.base_sha,head_sha:t.diff_refs.head_sha,start_sha:t.diff_refs.start_sha,new_path:t.new_path,old_path:t.old_path,old_line:i.old_line,new_line:i.new_line,line_range:null,line_code:i.line_code,position_type:"text"}),e}),{})}function R({discussion:e,diffPosition:t,latestDiff:i}){if(!t)return!1;const{line_code:n,...a}=t,{line_range:r,...o}=a;if(e.original_position&&e.position){const t=function(e){const{line_range:t,...i}=e;return i};return[e.original_position,e.position,...e.positions||[]].map(t).some((function(e){return s()(e,o)}))}return i&&e.active&&n===e.line_code}const q=function(e){var t,i;const n=Object.keys(o.x).find((function(t){return e[t+"_file"]}));return o.x[n]||(null===(t=e.viewer)||void 0===t?void 0:t.name)===o.z.mode_changed&&o.z.mode_changed||(null===(i=e.viewer)||void 0===i?void 0:i.name)===o.z.no_preview&&o.z.no_preview||o.x.replaced},$=function({diffLines:e,data:t,typeKey:i,oldLineKey:n,newLineKey:s,mapLine:a}){const o=t.length,l=[];for(let d=0,c=e.length;d<c;d+=1){const c=e[d];if("match"===r()(i)(c)){const i=e[d-1],c=e[d+1],u=r()(s),p=u(i)||0,h=u(c)-1||o;l.push(...t.slice(p,h).map((function(e,t){return a({line:Object.assign(e,{hasForm:!1,discussions:[]}),oldLine:(r()(n)(i)||0)+t+1,newLine:(u(i)||0)+t+1})})))}else l.push(c)}return l},B=function(e){return requestIdleCallback(e)};const M=function(e,t,i){(function(e,t){return e[l.I].filter((function(e){return e.line_code===t}))})(e,t).forEach(i)};function V(e=""){return e.replace(/^#/,"").startsWith("note")}function U(e="",t=""){const i=e.replace(/^#/,""),n=V(i),s=Object(c.a)({input:i});let a=s;return n&&t?a=t:!function(e=""){return e.replace(/^#/,"").startsWith("diff-content")}(i)?s&&!n||(a=null):a=i.replace("diff-content-",""),a}function G({priorEntries:e,loadedFiles:t}){const i={...e};return t.forEach((function(e){const t=i[e.new_path];t&&(t.diffLoaded=!0,t.diffLoading=!1)})),i}},"0C8+":function(e,t,i){"use strict";var n=i("YqVM"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("4lAS")),r=i("MV2A"),o=i("30su"),l=i("mFhR"),d=i("tbP8"),c=i("IO2v"),u=i("/lV4"),p=i("Fsq/"),h={i18n:{collapseReplies:Object(u.g)("Notes|Collapse replies"),expandReplies:Object(u.g)("Notes|Expand replies"),lastReplyBy:Object(u.g)("Notes|Last reply by %{name}")},components:{GlButton:a.a,GlLink:r.a,GlSprintf:o.a,GlAvatarLink:l.a,GlAvatar:d.a,GlAvatarsInline:c.a,TimeAgoTooltip:p.a},props:{collapsed:{type:Boolean,required:!0},replies:{type:Array,required:!0}},computed:{lastReply(){return this.replies[this.replies.length-1]},uniqueAuthors(){const e=this.replies.map((function(e){return e.author||{}}));return s()(e,"username")},buttonIcon(){return this.collapsed?"chevron-right":"chevron-down"},buttonLabel(){return this.collapsed?this.$options.i18n.expandReplies:this.$options.i18n.collapseReplies},ariaState(){return String(!this.collapsed)}},methods:{toggle(){this.$refs.toggle.$el.focus(),this.$emit("toggle")}}},m=i("tBpV"),f=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"toggle-replies-widget gl-border-r gl-border-l !gl-flex gl-flex-wrap gl-items-center gl-border-l-section gl-border-r-section gl-bg-subtle gl-px-5 gl-py-2 gl-leading-24",class:{"!gl-rounded-b-base gl-text-subtle":e.collapsed},attrs:{"aria-expanded":e.ariaState}},[t("gl-button",{ref:"toggle",staticClass:"gl-my-2 -gl-ml-3 gl-mr-2 !gl-p-0",class:{"!gl-text-link":!e.collapsed},attrs:{category:"tertiary",icon:e.buttonIcon,"aria-label":e.buttonLabel,"data-testid":"replies-toggle",size:"small"},on:{click:e.toggle}}),e._v(" "),e.collapsed?[t("gl-avatars-inline",{staticClass:"gl-mr-3",attrs:{avatars:e.uniqueAuthors,"avatar-size":24,"max-visible":5,"badge-sr-only-text":""},scopedSlots:e._u([{key:"avatar",fn:function({avatar:e}){return[t("gl-avatar-link",{staticClass:"js-user-link",attrs:{target:"_blank",href:e.path||e.webUrl,"data-user-id":e.id,"data-username":e.username}},[t("gl-avatar",{attrs:{size:24,src:e.avatar_url||e.avatarUrl,alt:e.name}})],1)]}}],null,!1,1471887347)}),e._v(" "),t("gl-button",{staticClass:"gl-mr-2 gl-self-center",attrs:{variant:"link","data-testid":"expand-replies-button"},on:{click:e.toggle}},[e._v("\n      "+e._s(e.n__("%d reply","%d replies",e.replies.length))+"\n    ")]),e._v(" "),t("gl-sprintf",{attrs:{message:e.$options.i18n.lastReplyBy},scopedSlots:e._u([{key:"name",fn:function(){return[t("gl-link",{staticClass:"gl-mx-2 !gl-text-default !gl-no-underline",attrs:{href:e.lastReply.author.path||e.lastReply.author.webUrl}},[e._v("\n          "+e._s(e.lastReply.author.name)+"\n        ")])]},proxy:!0}],null,!1,1142650514)}),e._v(" "),t("time-ago-tooltip",{attrs:{time:e.lastReply.created_at||e.lastReply.createdAt,"tooltip-placement":"bottom"}})]:t("gl-button",{staticClass:"!gl-no-underline",attrs:{variant:"link","data-testid":"collapse-replies-button"},on:{click:e.toggle}},[e._v("\n    "+e._s(e.$options.i18n.collapseReplies)+"\n  ")])],2)}),[],!1,null,null,null);t.a=f.exports},"0YcL":function(e,t,i){"use strict";i.d(t,"a",(function(){return Gn})),i.d(t,"b",(function(){return Wn}));var n=i("EmJ/"),s=i.n(n),a=i("3uc7"),r=i("4NPW"),o=i("Erny"),l=i("TD9T"),d=i("CX32"),c=i("9ZrP"),u=i("3twG"),p=i("jlnU"),h=i("bpeo"),m=i("2ibD"),f=i("0AwG"),g=i("/lV4"),v=i("Tmea"),b=i.n(v),y=(i("B++/"),i("z6RN"),i("47t/"),i("ZzK0"),i("BzOf"),i("ewH8")),k=i("NmEs"),w=i("jMKM"),S=i("PDyB");function _(){return Object(k.H)(document.querySelector(".js-create-mr").dataset.isConfidential)}function I(){return _()&&Object.keys(S.a.selectedProject).length>0}var T=i("dEBO");var O={init(e){this.hook=e,this.destroyed=!1,this.config=e.config.InputSetter||(this.hook.config.InputSetter={}),this.eventWrapper={},this.addEvents()},addEvents(){this.eventWrapper.setInputs=this.setInputs.bind(this),this.hook.list.list.addEventListener("click.dl",this.eventWrapper.setInputs)},removeEvents(){this.hook.list.list.removeEventListener("click.dl",this.eventWrapper.setInputs)},setInputs(e){var t=this;if(this.destroyed)return;const i=e.detail.selected;Array.isArray(this.config)||(this.config=[this.config]),this.config.forEach((function(e){return t.setInput(e,i)}))},setInput(e,t){const i=e.input||this.hook.trigger,n=t.getAttribute(e.valueAttribute),{inputAttribute:s}=e;i.hasAttribute(s)?i.setAttribute(s,n):"INPUT"===i.tagName?i.value=n:i.textContent=n},destroy(){this.destroyed=!0,this.removeEvents()}},C=i("qPgm"),x=i("AxUD");const j={...O};function E(e,t){return I()?t.replace(e,S.a.selectedProject.pathWithNamespace):t}class D{constructor(e){var t=this;this.wrapperEl=e,this.availableButton=this.wrapperEl.querySelector(".available"),this.branchInput=this.wrapperEl.querySelector(".js-branch-name"),this.branchMessage=this.wrapperEl.querySelector(".js-branch-message"),this.createMergeRequestButton=this.wrapperEl.querySelector(".js-create-merge-request"),this.createMergeRequestLoading=this.createMergeRequestButton.querySelector(".js-spinner"),this.createTargetButton=this.wrapperEl.querySelector(".js-create-target"),this.dropdownList=this.wrapperEl.querySelector(".dropdown-menu"),this.dropdownToggle=this.wrapperEl.querySelector(".js-dropdown-toggle"),this.refInput=this.wrapperEl.querySelector(".js-ref"),this.refMessage=this.wrapperEl.querySelector(".js-ref-message"),this.unavailableButton=this.wrapperEl.querySelector(".unavailable"),this.unavailableButtonSpinner=this.unavailableButton.querySelector(".js-create-mr-spinner"),this.unavailableButtonText=this.unavailableButton.querySelector(".text"),this.branchCreated=!1,this.branchIsValid=!0,this.canCreatePath=this.wrapperEl.dataset.canCreatePath,this.createBranchPath=this.wrapperEl.dataset.createBranchPath,this.createMrPath=this.wrapperEl.dataset.createMrPath,this.droplabInitialized=!1,this.isCreatingBranch=!1,this.isCreatingMergeRequest=!1,this.isGettingRef=!1,this.refCancelToken=null,this.mergeRequestCreated=!1,this.refDebounce=b()((function(e,i){return t.getRef(e,i)}),500),this.refIsValid=!0,this.refsPath=this.wrapperEl.dataset.refsPath,this.suggestedRef=this.refInput.value,this.projectPath=this.wrapperEl.dataset.projectPath,this.projectId=this.wrapperEl.dataset.projectId,this.regexps={branch:{createBranchPath:/(branch_name=)(.+?)(?=&issue)/,createMrPath:/(source_branch%5D=)(.+?)(?=&)/},ref:{createBranchPath:/(ref=)(.+?)$/,createMrPath:/(target_branch%5D=)(.+?)$/}},this.init(),_()&&(this.createMergeRequestButton.dataset.dropdownTrigger="#create-merge-request-dropdown",function(){const e=document.getElementById("js-forked-project");new y.default({el:e,render:t=>t(w.a,{props:{namespacePath:e.dataset.namespacePath,projectPath:e.dataset.projectPath,newForkPath:e.dataset.newForkPath,helpPagePath:e.dataset.helpPagePath}})})}())}available(){this.availableButton.classList.remove("hidden"),this.unavailableButton.classList.add("hidden")}bindEvents(){this.createMergeRequestButton.addEventListener("click",this.onClickCreateMergeRequestButton.bind(this)),this.createTargetButton.addEventListener("click",this.onClickCreateMergeRequestButton.bind(this)),this.branchInput.addEventListener("input",this.onChangeInput.bind(this)),this.branchInput.addEventListener("keyup",this.onChangeInput.bind(this)),this.dropdownToggle.addEventListener("click",this.onClickSetFocusOnBranchNameInput.bind(this)),this.refInput.addEventListener("input",this.onChangeInput.bind(this)),this.refInput.addEventListener("keyup",this.onChangeInput.bind(this)),this.refInput.addEventListener("click",this.onChangeInput.bind(this)),this.refInput.addEventListener("keydown",D.processTab.bind(this))}checkAbilityToCreateBranch(){var e=this;this.setUnavailableButtonState(),m.a.get(this.canCreatePath).then((function({data:t}){e.setUnavailableButtonState(!1),t.can_create_branch?(e.available(),e.enable(),e.updateBranchName(t.suggested_branch_name),e.droplabInitialized||(e.droplabInitialized=!0,e.initDroplab(),e.bindEvents())):e.hide()})).catch((function(){e.unavailable(),e.disable(),Object(p.createAlert)({message:Object(g.a)("Failed to check related branches.")})}))}createBranch(e=!0){var t=this;this.isCreatingBranch=!0;const i=E(this.projectPath,Object(u.B)({ref:this.refInput.value,branch_name:this.branchInput.value},this.createBranchPath));return m.a.post(i,{confidential_issue_project_id:I()?this.projectId:null}).then((function({data:i}){t.branchCreated=!0,e&&(window.location.href=i.url)})).catch((function(){return Object(p.createAlert)({message:Object(g.a)("Failed to create a branch for this issue. Please try again.")})}))}createMergeRequest(){var e=this;return this.isCreatingMergeRequest=!0,this.createBranch(!1).then((function(){return C.b.trackRedisHllUserEvent("i_code_review_user_create_mr_from_issue")})).then((function(){let t=I()?e.createMrPath.replace(e.projectPath,S.a.selectedProject.pathWithNamespace):e.createMrPath;t=Object(u.B)({"merge_request[target_branch]":e.refInput.value,"merge_request[source_branch]":e.branchInput.value},t),window.location.href=t}))}disable(){this.disableCreateAction()}setLoading(e){this.createMergeRequestLoading.classList.toggle("gl-hidden",!e)}disableCreateAction(){this.createMergeRequestButton.classList.add("disabled"),this.createMergeRequestButton.setAttribute("disabled","disabled"),this.createTargetButton.classList.add("disabled"),this.createTargetButton.setAttribute("disabled","disabled")}enable(){_()&&!I()||(this.createMergeRequestButton.classList.remove("disabled"),this.createMergeRequestButton.removeAttribute("disabled"),this.createTargetButton.classList.remove("disabled"),this.createTargetButton.removeAttribute("disabled"))}static findByValue(e,t,i=!1){return!(!e||!e.length)&&(e.indexOf(t)>-1?t:!!i&&e.find((function(e){return new RegExp("^"+t).test(e)})))}getDroplabConfig(){return{addActiveClassToDropdownButton:!0,InputSetter:[{input:this.createMergeRequestButton,valueAttribute:"data-value",inputAttribute:"data-action"},{input:this.createMergeRequestButton,valueAttribute:"data-text"},{input:this.createTargetButton,valueAttribute:"data-value",inputAttribute:"data-action"},{input:this.createTargetButton,valueAttribute:"data-text"}],hideOnClick:!1}}static getInputSelectedText(e){const t=e.selectionStart,i=e.selectionEnd;return e.value.substr(t,i-t)}getRef(e,t="all"){var i=this;return!!e&&(this.refCancelToken=m.a.CancelToken.source(),m.a.get(`${E(this.projectPath,this.refsPath)}${encodeURIComponent(e)}`,{cancelToken:this.refCancelToken.token}).then((function({data:n}){const s=n[Object.keys(n)[0]],a=n[Object.keys(n)[1]];let r;return"branch"===t?r=D.findByValue(s,e):(r=D.findByValue(s,e,!0)||D.findByValue(a,e,!0),i.suggestedRef=r),i.isGettingRef=!1,i.updateInputState(t,e,r)})).catch((function(e){return m.a.isCancel(e)||(i.unavailable(),i.disable(),Object(p.createAlert)({message:Object(g.a)("Failed to get ref.")}),i.isGettingRef=!1),!1})))}getTargetData(e){return{input:this[e+"Input"],message:this[e+"Message"]}}hide(){this.wrapperEl.classList.add("hidden")}init(){this.checkAbilityToCreateBranch()}initDroplab(){this.droplab=new T.a,this.droplab.init(this.dropdownToggle,this.dropdownList,[j],this.getDroplabConfig())}inputsAreValid(){return this.branchIsValid&&this.refIsValid}isBusy(){return this.isCreatingMergeRequest||this.mergeRequestCreated||this.isCreatingBranch||this.branchCreated||this.isGettingRef}onChangeInput(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||x.a.includes(e.keyCode))return;let t,i;if(this.disable(),null!==this.refCancelToken&&this.refCancelToken.cancel(),e.target===this.branchInput)t="branch",({value:i}=this.branchInput);else{if(e.target!==this.refInput)return!1;t="ref",i=e.target===document.activeElement?e.target.value.slice(0,e.target.selectionStart)+e.target.value.slice(e.target.selectionEnd):e.target.value}return!this.isGettingRef&&(13===e.keyCode&&this.inputsAreValid()?(e.preventDefault(),this.createMergeRequestButton.click()):i?(this.showCheckingMessage(t),this.refDebounce(i,t),!0):("branch"===t?this.branchIsValid=!0:this.refIsValid=!0,this.enable(),this.showAvailableMessage(t),this.refDebounce(i,t),!0))}onClickCreateMergeRequestButton(e){var t=this;let i=null;e.preventDefault(),!_()||e.currentTarget.classList.contains("js-create-target")?this.isBusy()||("create-mr"===e.currentTarget.dataset.action?i=this.createMergeRequest():"create-branch"===e.currentTarget.dataset.action&&(i=this.createBranch()),i.catch((function(){t.isCreatingMergeRequest=!1,t.isCreatingBranch=!1,t.enable(),t.setLoading(!1)})),this.setLoading(!0),this.disable()):this.droplab.hooks.forEach((function(e){return e.list.toggle()}))}onClickSetFocusOnBranchNameInput(){this.branchInput.focus()}static processTab(e){if(9!==e.keyCode||this.isGettingRef)return;if(!D.getInputSelectedText(this.refInput)||this.refInput.dataset.value===this.suggestedRef)return;e.preventDefault();const t=this.refInput.value.length;this.refInput.setSelectionRange(t,t)}removeMessage(e){const{input:t,message:i}=this.getTargetData(e);["gl-field-error-outline","gl-field-success-outline"].forEach((function(e){return t.classList.remove(e)})),["gl-text-subtle","gl-text-red-500","gl-text-success"].forEach((function(e){return i.classList.remove(e)})),i.style.display="none"}setUnavailableButtonState(e=!0){e?(this.unavailableButtonSpinner.classList.remove("gl-hidden"),this.unavailableButtonText.textContent=Object(g.a)("Checking branch availability...")):(this.unavailableButtonSpinner.classList.add("gl-hidden"),this.unavailableButtonText.textContent=Object(g.a)("New branch unavailable"))}showAvailableMessage(e){const{input:t,message:i}=this.getTargetData(e),n="branch"===e?Object(g.a)("Branch name"):Object(g.a)("Source");this.removeMessage(e),t.classList.add("gl-field-success-outline"),i.classList.add("gl-text-success"),i.textContent=Object(g.h)(Object(g.a)("%{text} is available"),{text:n}),i.style.display="inline-block"}showCheckingMessage(e){const{message:t}=this.getTargetData(e),i="branch"===e?Object(g.a)("branch name"):Object(g.a)("source");this.removeMessage(e),t.classList.add("gl-text-subtle"),t.textContent=Object(g.h)(Object(g.a)("Checking %{text} availabilityâ¦"),{text:i}),t.style.display="inline-block"}showNotAvailableMessage(e,t="branch_unavailable"){const{input:i,message:n}=this.getTargetData(e),s=function(e,t,i){const n=Object(f.o)(t.value);let s;return n&&"invalid_chars"===i&&(s=Object(f.s)(n)),"branch_unavailable"===i&&(s="branch"===e?Object(g.a)("Branch is already taken"):Object(g.a)("Source is not available")),s}(e,i,t);this.removeMessage(e),i.classList.add("gl-field-error-outline"),n.classList.add("gl-text-red-500"),n.textContent=s,n.style.display="inline-block"}unavailable(){this.availableButton.classList.add("hidden"),this.unavailableButton.classList.remove("hidden")}updateBranchName(e){this.branchInput.value=e,this.updateInputState("branch",e,"")}updateInputState(e,t,i){"branch"===e&&this.updateTargetBranchInput(t,i),"ref"===e&&this.updateRefInput(t,i),this.inputsAreValid()?this.enable():this.disableCreateAction()}updateRefInput(e,t){this.refInput.dataset.value=e,e===t?(this.refIsValid=!0,this.showAvailableMessage("ref")):(this.refIsValid=!1,this.refInput.dataset.value=e,this.disableCreateAction(),this.showNotAvailableMessage("ref"),t&&(this.refInput.value=t,this.refInput.setSelectionRange(e.length,t.length)))}updateTargetBranchInput(e,t){const i=Object(f.o)(e).length;e===t||i?i?(this.branchIsValid=!1,this.showNotAvailableMessage("branch","invalid_chars")):(this.branchIsValid=!1,this.showNotAvailableMessage("branch")):(this.branchIsValid=!0,this.showAvailableMessage("branch","branch_unavailable"))}}class N{constructor(){var e=this;s()(".js-alert-moved-from-service-desk-warning").length&&N.initIssueMovedFromServiceDeskDismissHandler(),document.querySelector("#related-branches")&&N.initRelatedBranches(),N.createMrDropdownWrap=document.querySelector(".create-mr-dropdown-wrap"),N.createMrDropdownWrap&&(this.createMergeRequestDropdown=new D(N.createMrDropdownWrap)),this.issuableVueAppChangeHandler=function(t){return e.updateTopState(t.detail.isClosed,t.detail.data)},document.addEventListener(h.a,this.issuableVueAppChangeHandler)}dispose(){document.removeEventListener(h.a,this.issuableVueAppChangeHandler)}updateTopState(e,t,i=Object(g.a)("Unable to update this issue at this time.")){if("id"in t){const t=s()(".issue_counter");s()(document).trigger("issuable:change",e);let i=Number(t.first().text().trim().replace(/[^\d]/,""));i=e?i-1:i+1,t.text(Object(f.d)(i)),this.createMergeRequestDropdown&&this.createMergeRequestDropdown.checkAbilityToCreateBranch()}else Object(p.createAlert)({message:i})}static initIssueMovedFromServiceDeskDismissHandler(){const e=s()(".js-alert-moved-from-service-desk-warning"),t=window.location.pathname.slice(1),i=Object(u.A)(t,"alert-issue-moved-from-service-desk-dismissed");localStorage.getItem(i)||e.show(),e.on("click",".js-close",(function(t){t.preventDefault(),t.stopImmediatePropagation(),e.remove(),localStorage.setItem(i,!0)}))}static initRelatedBranches(){const e=s()("#related-branches");m.a.get(e.data("url")).then((function({data:t}){"html"in t&&e.html(t.html)})).catch((function(){return Object(p.createAlert)({message:Object(g.a)("Failed to load related branches")})}))}}var A=i("GiFX"),P=i("5v28"),F=i("3BNn"),L=i("A7K0"),R=i("xRSn"),q={i18n:{issueTypes:Object(g.a)("Issue types"),issue:Object(g.a)("Issue"),incident:Object(g.a)("Incident"),issueHelpText:Object(g.a)("For general work"),incidentHelpText:Object(g.a)("For investigating IT service disruptions or outages")},components:{HelpIcon:R.a,GlPopover:L.a}},$=i("tBpV"),B=Object($.a)(q,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"gl-ml-2",attrs:{id:"popovercontainer"}},[t("help-icon",{attrs:{id:"issue-type-info"}}),e._v(" "),t("gl-popover",{attrs:{target:"issue-type-info",container:"popovercontainer",title:e.$options.i18n.issueTypes,triggers:"focus hover"}},[t("ul",{staticClass:"gl-m-0 gl-list-none gl-p-0"},[t("li",{staticClass:"gl-mb-3"},[t("div",{staticClass:"gl-font-bold"},[e._v(e._s(e.$options.i18n.issue))]),e._v(" "),t("span",[e._v(e._s(e.$options.i18n.issueHelpText))])]),e._v(" "),t("li",[t("div",{staticClass:"gl-font-bold"},[e._v(e._s(e.$options.i18n.incident))]),e._v(" "),t("span",[e._v(e._s(e.$options.i18n.incidentHelpText))])])])])],1)}),[],!1,null,null,null).exports,M=(i("UezY"),i("hG7+"),i("crTv")),V=i("s1D3"),U=i("ygVz"),G={i18n:{selectType:Object(g.a)("Select type"),issuableType:{[x.p]:Object(g.a)("Issue"),[x.o]:Object(g.a)("Incident")}},components:{GlCollapsibleListbox:M.a,GlIcon:V.a},mixins:[U.b.mixin()],props:{selectedType:{required:!1,default:"",type:String},isIssueAllowed:{required:!1,default:!1,type:Boolean},isIncidentAllowed:{required:!1,default:!1,type:Boolean},issuePath:{required:!1,default:"",type:String},incidentPath:{required:!1,default:"",type:String}},data(){return{selected:this.selectedType}},computed:{toggleText(){return this.selectedType?this.$options.i18n.issuableType[this.selectedType]:this.$options.i18n.selectType},dropdownItems(){return[this.isIssueAllowed?{value:x.p,text:Object(g.a)("Issue"),icon:"issue-type-issue",href:this.issuePath}:null,this.isIncidentAllowed?{value:x.o,text:Object(g.a)("Incident"),icon:"issue-type-incident",href:this.incidentPath,tracking:{action:"select_issue_type_incident",label:"select_issue_type_incident_dropdown_option"}}:null].filter(Boolean)}},methods:{selectType(e){const t=this.dropdownItems.find((function(t){return t.value===e}));if(t.tracking){const{action:e,label:i}=t.tracking;this.track(e,{label:i})}Object(u.R)(t.href)}}},W=Object($.a)(G,(function(){var e=this,t=e._self._c;return t("gl-collapsible-listbox",{staticClass:"js-issuable-type-filter-dropdown-wrap",attrs:{"header-text":e.$options.i18n.selectType,"toggle-text":e.toggleText,items:e.dropdownItems,block:""},on:{select:e.selectType},scopedSlots:e._u([{key:"list-item",fn:function({item:i}){return[t("gl-icon",{attrs:{name:i.icon,size:16}}),e._v("\n    "+e._s(i.text)+"\n  ")]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})}),[],!1,null,null,null).exports;var H=i("b9Gi"),z=i("fTpu"),K=i("g63F"),Q=i("FxFN"),Y=i("CaNa"),J={name:"RelatedMergeRequests",apollo:{mergeRequests:{query:i.n(Y).a,variables(){return{projectPath:this.projectPath,iid:this.iid}},update:function(e){var t;return null==e||null===(t=e.project)||void 0===t||null===(t=t.issue)||void 0===t||null===(t=t.relatedMergeRequests)||void 0===t?void 0:t.nodes},result({data:e}){var t,i;const n=null==e||null===(t=e.project)||void 0===t||null===(t=t.issue)||void 0===t||null===(t=t.relatedMergeRequests)||void 0===t?void 0:t.pageInfo;this.totalCount=null==e||null===(i=e.project)||void 0===i||null===(i=i.issue)||void 0===i||null===(i=i.relatedMergeRequests)||void 0===i?void 0:i.count,null!=n&&n.hasNextPage&&this.$apollo.queries.mergeRequests.fetchMore({variables:{projectPath:this.projectPath,iid:this.iid,after:n.endCursor},updateQuery:function(e,{fetchMoreResult:t}){const i=t.project.issue.relatedMergeRequests.nodes,n=e.project.issue.relatedMergeRequests.nodes;return Object(H.a)(t,(function(e){e.project.issue.relatedMergeRequests.nodes=n.concat(i)}))}})},error(){Object(p.createAlert)({message:Object(g.a)("Something went wrong while fetching related merge requests.")})}}},components:{CrudComponent:K.a,RelatedIssuableItem:z.a},props:{hasClosingMergeRequest:{type:Boolean,required:!1,default:!1},projectPath:{type:String,required:!0},iid:{type:String,required:!0}},data:()=>({mergeRequests:null,totalCount:null}),computed:{isFetchingMergeRequests(){return this.$apollo.queries.mergeRequests.loading},closingMergeRequestsText(){if(!this.hasClosingMergeRequest)return"";const e=Object(g.f)("When this merge request is accepted","When these merge requests are accepted",this.totalCount);return Object(g.h)(Object(g.a)("%{mrText}, this issue will be closed automatically."),{mrText:e})}},methods:{idKey:e=>Object(Q.e)(e.id),displayReference(e){const{fullPath:t}=e.project;return`${this.projectPath!==t?t:""}${e.reference}`}}},X=Object($.a)(J,(function(){var e=this,t=e._self._c;return e.isFetchingMergeRequests||!e.isFetchingMergeRequests&&e.totalCount?t("crud-component",{attrs:{"anchor-id":"related-merge-requests","is-loading":e.isFetchingMergeRequests,title:e.__("Related merge requests"),icon:"merge-request",count:e.totalCount,"is-collapsible":""},scopedSlots:e._u([e.hasClosingMergeRequest&&!e.isFetchingMergeRequests?{key:"description",fn:function(){return[e._v("\n    "+e._s(e.closingMergeRequestsText)+"\n  ")]},proxy:!0}:null],null,!0)},[e._v(" "),t("ul",{staticClass:"content-list related-items-list !-gl-mx-3 !gl-my-3"},e._l(e.mergeRequests,(function(i){return t("li",{key:i.id,staticClass:"!gl-border-b-0 !gl-py-0"},[t("related-issuable-item",{attrs:{"id-key":e.idKey(i),"display-reference":e.displayReference(i),title:i.title,milestone:i.milestone,assignees:i.assignees.nodes,"created-at":i.createdAt,"merged-at":i.mergedAt,path:i.webUrl,state:i.state,"pipeline-status":i.headPipeline&&i.headPipeline.detailedStatus,"path-id-separator":"!","is-merge-request":""}})],1)})),0)]):e._e()}),[],!1,null,null,null).exports;var Z=i("w8i/"),ee=i("db9E");i("byxs");var te=i("yi8e"),ie=i("aFYl"),ne=i("4b03");y.default.use(A.b);var se=i("99pJ"),ae=i.n(se);var re=function(e="",t){let i=t;t.length||(i=[]);const n=document.createElement("div");n.innerHTML=e;const s=n.getElementsByTagName("details");return s.length!==i.length?e:(Array.from(s).forEach((function(e,t){i[t].open&&e.setAttribute("open",!0)})),n.innerHTML)},oe=i("D+x4"),le=i("hqF9"),de=i("e2M3");const ce=Object(g.a)("Join Zoom meeting"),ue=Object(g.a)("Published on status page"),pe=[{value:"issue",text:Object(g.a)("Issue"),icon:"issue-type-issue"},{value:"incident",text:Object(g.a)("Incident"),icon:"issue-type-incident"}],he={issueType:void 0,isDirty:!1};var me=i("j/BY"),fe=i("kvXj"),ge=i.n(fe);class ve{constructor(e){this.endpoint=e+".json",this.realtimeEndpoint=e+"/realtime_changes"}getData(){return m.a.get(this.realtimeEndpoint)}deleteIssuable(e){return m.a.delete(this.endpoint,{params:e})}updateIssuable(e){return m.a.put(this.endpoint,e)}loadTemplates(e){return e?m.a.get(e):Promise.resolve([])}}i("Tznw"),i("IYH6"),i("6yen"),i("OeRx"),i("l/dT"),i("RqS2"),i("Zy7a"),i("cjZU"),i("OAhk"),i("X42P"),i("mHhP"),i("fn0I"),i("UB/6"),i("imhG");var be=i("yWhq"),ye=i("2O3R"),ke=i("U4xk"),we=i.n(ke),Se=i("Mp8J"),_e=i("4wgn"),Ie=i("+st3"),Te=i("QBXl"),Oe=i("df6S"),Ce=i("uLzN"),xe=i.n(Ce),je=i("UjDh"),Ee=i.n(je),De=i("Smdt"),Ne=i.n(De),Ae=i("JtyA"),Pe=i("EJYk"),Fe={methods:{animateChange(){var e=this;this.preAnimation=!0,this.pulseAnimation=!1,setTimeout((function(){e.preAnimation=!1,e.pulseAnimation=!0}))}}},Le=i("QheY"),Re=i("NIN2");y.default.use(be.a);var qe={directives:{SafeHtml:Se.a},mixins:[Fe],inject:["fullPath","hasIterationsFeature"],props:{canUpdate:{type:Boolean,required:!0},descriptionHtml:{type:String,required:!0},descriptionText:{type:String,required:!1,default:""},issuableType:{type:String,required:!1,default:x.p},updateUrl:{type:String,required:!1,default:null},lockVersion:{type:Number,required:!1,default:0},issueId:{type:String,required:!1,default:null},issueIid:{type:String,required:!1,default:null},isUpdating:{type:Boolean,required:!1,default:!1}},data:()=>({hasTaskListItemActions:!1,preAnimation:!1,pulseAnimation:!1,initialUpdate:!0,issueDetails:{},workItemTypes:[]}),apollo:{issueDetails:{query:we.a,variables(){return{id:Object(Q.c)(_e.u,this.issueId)}},update:function(e){return e.issue},skip(){return!this.canUpdate||!this.issueId}},workItemTypes:{query:Ne.a,variables(){return{fullPath:this.fullPath}},update(e){var t;return null===(t=e.workspace)||void 0===t||null===(t=t.workItemTypes)||void 0===t?void 0:t.nodes},skip(){return!this.canUpdate}}},computed:{taskWorkItemTypeId(){var e;return null===(e=this.workItemTypes.find((function(e){return e.name===Ae.Gc})))||void 0===e?void 0:e.id},issueGid(){return this.issueId?Object(Q.c)(_e.E,this.issueId):null}},watch:{descriptionHtml(e,t){this.initialUpdate||this.stripClientState(e)===this.stripClientState(t)?this.initialUpdate=!1:this.animateChange(),this.renderGFM()}},mounted(){me.a.$on("convert-task-list-item",this.convertTaskListItem),me.a.$on("delete-task-list-item",this.deleteTaskListItem),this.renderGFM()},beforeDestroy(){me.a.$off("convert-task-list-item",this.convertTaskListItem),me.a.$off("delete-task-list-item",this.deleteTaskListItem),this.removeAllPointerEventListeners()},methods:{async renderGFM(){var e=this;await this.$nextTick(),Object(Pe.a)(this.$refs["gfm-content"]),this.canUpdate&&(new Te.a({dataType:this.issuableType,fieldName:"description",lockVersion:this.lockVersion,selector:".detail-page-description",onUpdate:function(){return e.$emit("taskListUpdateStarted")},onSuccess:function(){return e.$emit("taskListUpdateSucceeded")},onError:this.taskListUpdateError.bind(this)}),this.removeAllPointerEventListeners(),this.renderSortableLists(),this.renderTaskListItemActions())},renderSortableLists(){var e,t,i=this;const n=null===(e=(t=this.$el).querySelectorAll)||void 0===e?void 0:e.call(t,".description .md > ul:not(.section-nav), .description .md > ul:not(.section-nav) ul, .description :not(section.footnotes) > ol");null==n||n.forEach((function(e){e.children.length<=1||(Array.from(e.children).forEach((function(e){e.prepend(i.createDragIconElement()),i.addPointerEventListeners(e,".drag-icon")})),ye.default.create(e,Object(Ie.a)({handle:".drag-icon",onUpdate:function(e){const t=Object(Le.a)(i.descriptionText,e.to);i.$emit("saveDescription",t)}})))}))},createDragIconElement(){const e=document.createElement("div");return e.innerHTML=`<svg class="drag-icon s14 gl-icon gl-cursor-grab gl-opacity-0" role="img" aria-hidden="true">\n        <use href="${gon.sprite_icons}#grip"></use>\n      </svg>`,e.firstChild},addPointerEventListeners(e,t){var i=this;const n=function(e){const n=e.target.closest("li").querySelector(t);!n||Object(Ie.b)()||i.isUpdating||n.classList.add("gl-opacity-10")},s=function(e){const i=e.target.closest("li").querySelector(t);i&&i.classList.remove("gl-opacity-10")};e.addEventListener("pointerover",n),e.addEventListener("pointerout",s),this.pointerEventListeners=this.pointerEventListeners||new Map;const a=[{type:"pointerover",listener:n},{type:"pointerout",listener:s}];if(this.pointerEventListeners.has(e)){const t=this.pointerEventListeners.get(e).concat(a);this.pointerEventListeners.set(e,t)}else this.pointerEventListeners.set(e,a)},removeAllPointerEventListeners(){var e,t=this;null===(e=this.pointerEventListeners)||void 0===e||e.forEach((function(e,i){e.forEach((function(e){return i.removeEventListener(e.type,e.listener)})),t.pointerEventListeners.delete(i)}))},taskListUpdateError(){const e=Object(g.a)("Someone edited this %{issueType} at the same time you did. The description has been updated and you will need to make your changes again.");Object(p.createAlert)({message:Object(g.h)(e,{issueType:this.issuableType})}),this.$emit("taskListUpdateFailed")},createTaskListItemActions(){return new y.default({el:document.createElement("div"),provide:{id:this.issueId,issuableType:this.issuableType},render:function(e){return e(Re.a)}}).$el},convertTaskListItem({id:e,sourcepos:t}){if(this.issueId!==e)return;const i=this.descriptionText,{newDescription:n,taskDescription:s,taskTitle:a}=Object(Le.b)(i,t);this.$emit("saveDescription",n),this.createTask({taskTitle:a,taskDescription:s,oldDescription:i})},deleteTaskListItem({id:e,sourcepos:t}){if(this.issueId!==e)return;const{newDescription:i}=Object(Le.b)(this.descriptionText,t);this.$emit("saveDescription",i)},renderTaskListItemActions(){var e,t,i=this;const n=null===(e=(t=this.$el).querySelectorAll)||void 0===e?void 0:e.call(t,".task-list-item:not(.inapplicable, table .task-list-item)");null==n||n.forEach((function(e){const t=i.createTaskListItemActions();Object(Le.d)(t,e),i.addPointerEventListeners(e,".task-list-item-actions"),i.hasTaskListItemActions=!0}))},stripClientState:e=>e.replaceAll('<details open="true">',"<details>"),async createTask({taskTitle:e,taskDescription:t,oldDescription:i}){var n=this;try{var s,a,r,o;const{title:l,description:d}=Object(Le.c)(e,t),c={iterationWidget:{iterationId:null!==(s=null===(a=this.issueDetails.iteration)||void 0===a?void 0:a.id)&&void 0!==s?s:null}},{data:u}=await this.$apollo.mutate({mutation:xe.a,variables:{input:{confidential:this.issueDetails.confidential,description:d,hierarchyWidget:{parentId:this.issueGid},...this.hasIterationsFeature&&c,milestoneWidget:{milestoneId:null!==(r=null===(o=this.issueDetails.milestone)||void 0===o?void 0:o.id)&&void 0!==r?r:null},projectPath:this.fullPath,title:l,workItemTypeId:this.taskWorkItemTypeId}},update:function(e,{data:{workItemCreate:t}}){return Object(Oe.a)({cache:e,id:Object(Q.c)(_e.E,n.issueId),workItem:t.workItem})}}),{workItem:p,errors:h}=u.workItemCreate;if(null!=h&&h.length)throw new Error(h);this.$toast.show(Object(g.g)("WorkItem|Converted to task"),{action:{text:Object(g.g)("WorkItem|Undo"),onClick:function(e,t){n.undoCreateTask(i,p.id),t.hide()}}})}catch(e){this.showAlert(Ae.E,e)}},async undoCreateTask(e,t){var i=this;this.$emit("saveDescription",e);try{var n;const{data:e}=await this.$apollo.mutate({mutation:Ee.a,variables:{input:{id:t}},update:function(e){return Object(Oe.d)({cache:e,id:Object(Q.c)(_e.E,i.issueId),workItem:{id:t}})}});if(null!==(n=e.workItemDelete.errors)&&void 0!==n&&n.length)throw new Error(e.workItemDelete.errors);this.$toast.show(Object(g.g)("WorkItem|Task reverted"))}catch(e){this.showAlert(Ae.F,e)}},showAlert(e,t){Object(p.createAlert)({message:Object(Ae.Jc)(e,Ae.Gc),error:t,captureError:!0})}},safeHtmlConfig:{ADD_TAGS:["gl-emoji","copy-code"]}},$e=Object($.a)(qe,(function(){var e=this,t=e._self._c;return e.descriptionHtml?t("div",{staticClass:"description",class:{"js-task-list-container":e.canUpdate}},[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.descriptionHtml,expression:"descriptionHtml",arg:e.$options.safeHtmlConfig}],ref:"gfm-content",staticClass:"md",class:{"issue-realtime-pre-pulse":e.preAnimation,"issue-realtime-trigger-pulse":e.pulseAnimation,"has-task-list-item-actions":e.hasTaskListItemActions},attrs:{"data-testid":"gfm-content"}}),e._v(" "),e.descriptionText?t("textarea",{staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.updateUrl,dir:"auto","data-testid":"textarea"},domProps:{value:e.descriptionText}}):e._e()]):e._e()}),[],!1,null,null,null).exports,Be=i("FPOf"),Me=i("dsWN"),Ve=i("4UiK"),Ue=i("4lAS"),Ge={methods:{updateIssuable(){me.a.$emit("update.issuable")}}};const We=U.b.mixin({label:"delete_issue"});var He={components:{GlButton:Ue.a},mixins:[We,Ge],props:{endpoint:{required:!0,type:String},formState:{type:Object,required:!0},issuableType:{type:String,required:!0}},data:()=>({deleteLoading:!1,skipApollo:!1,issueState:{}}),apollo:{issueState:{query:ge.a,skip(){return this.skipApollo},result(){this.skipApollo=!0}}},computed:{isSubmitEnabled(){return""!==this.formState.title.trim()}},methods:{closeForm(){me.a.$emit("close.form")}}},ze=Object($.a)(He,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-mb-3 gl-mt-3 gl-flex"},[t("gl-button",{staticClass:"gl-mr-3",attrs:{loading:e.formState.updateLoading,disabled:e.formState.updateLoading||!e.isSubmitEnabled,category:"primary",variant:"confirm","data-testid":"issuable-save-button",type:"submit"},on:{click:function(t){return t.preventDefault(),e.updateIssuable.apply(null,arguments)}}},[e._v("\n    "+e._s(e.__("Save changes"))+"\n  ")]),e._v(" "),t("gl-button",{attrs:{"data-testid":"issuable-cancel-button"},on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")])],1)}),[],!1,null,null,null).exports,Ke=i("JTix"),Qe=i("B3Hj"),Ye=i("7KAB"),Je={components:{MarkdownEditor:Ke.a},mixins:[Ge],props:{value:{type:String,required:!0},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},canAttachFile:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0}},data:()=>({formFieldProps:{id:"issue-description",name:"issue-description",placeholder:Object(g.a)("Write a comment or drag your files hereâ¦"),"aria-label":Object(g.a)("Description")}}),computed:{autocompleteDataSources(){var e;return null===(e=gl.GfmAutoComplete)||void 0===e?void 0:e.dataSources}},mounted(){this.focus()},methods:{focus(){var e;null===(e=this.$refs.textarea)||void 0===e||e.focus()},saveIssuable(){Object(Qe.c)(this.$refs.markdownEditor.isContentEditorActive,Ye.ISSUE_NOTEABLE_TYPE),this.updateIssuable()}}},Xe=Object($.a)(Je,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"common-note-form"},[t("label",{staticClass:"sr-only",attrs:{for:"issue-description"}},[e._v(e._s(e.__("Description")))]),e._v(" "),t("markdown-editor",{ref:"markdownEditor",staticClass:"gl-mt-3",attrs:{value:e.value,"render-markdown-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"form-field-props":e.formFieldProps,"enable-autocomplete":e.enableAutocomplete,"autocomplete-data-sources":e.autocompleteDataSources,"supports-quick-actions":"",autofocus:""},on:{input:function(t){return e.$emit("input",t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.saveIssuable.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.saveIssuable.apply(null,arguments):null}]}})],1)}),[],!1,null,null,null).exports,Ze=i("i8f6"),et={components:{GlIcon:V.a},props:{value:{type:String,required:!0},issuableTemplates:{type:[Object,Array],required:!1,default:function(){return{}}},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0}},computed:{issuableTemplatesJson(){return JSON.stringify(this.issuableTemplates)}},mounted(){var e=this;const t=document.querySelector(".detail-page-description .note-textarea")||{};t.setValue=function(t){e.$emit("input",t)},t.getValue=function(){return e.value},this.issuableTemplate=new Ze.a({$dropdowns:s()(this.$refs.toggle),editor:t})}},tt=Object($.a)(et,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown js-issuable-selector-wrap gl-mb-0",attrs:{"data-issuable-type":"issues"}},[t("button",{ref:"toggle",staticClass:"dropdown-menu-toggle js-issuable-selector gl-button !gl-py-3",attrs:{"data-namespace-path":e.projectNamespace,"data-project-path":e.projectPath,"data-project-id":e.projectId,"data-data":e.issuableTemplatesJson,type:"button","data-field-name":"issuable_template","data-selected":"null","data-toggle":"dropdown"}},[t("span",{staticClass:"dropdown-toggle-text"},[e._v(e._s(e.__("Choose a template")))]),e._v(" "),t("gl-icon",{staticClass:"dropdown-menu-toggle-icon gl-absolute gl-right-3 gl-top-3 gl-text-subtle",attrs:{name:"chevron-down"}})],1),e._v(" "),t("div",{staticClass:"dropdown-menu dropdown-select"},[t("div",{staticClass:"dropdown-title gl-flex gl-justify-center"},[t("span",{staticClass:"gl-ml-auto"},[e._v(e._s(e.__("Choose a template")))]),e._v(" "),t("button",{staticClass:"dropdown-title-button dropdown-menu-close gl-ml-auto",attrs:{"aria-label":e.__("Close"),type:"button"}},[t("gl-icon",{staticClass:"dropdown-menu-close-icon",attrs:{name:"close"}})],1)]),e._v(" "),t("div",{staticClass:"dropdown-input"},[t("input",{staticClass:"dropdown-input-field",attrs:{type:"search",placeholder:e.__("Filter"),autocomplete:"off"}}),e._v(" "),t("gl-icon",{staticClass:"dropdown-input-search",attrs:{name:"search"}}),e._v(" "),t("gl-icon",{staticClass:"dropdown-input-clear js-dropdown-input-clear",attrs:{name:"close","aria-label":e.__("Clear templates search input")}})],1),e._v(" "),t("div",{staticClass:"dropdown-content"}),e._v(" "),t("div",{staticClass:"dropdown-footer"},[t("ul",{staticClass:"dropdown-footer-list"},[t("li",[t("a",{staticClass:"no-template"},[e._v(e._s(e.__("No template")))])]),e._v(" "),t("li",[t("a",{staticClass:"reset-template"},[e._v(e._s(e.__("Reset template")))])])])])])])}),[],!1,null,null,null).exports,it=i("l5WF"),nt=i("PrLL"),st={components:{GlFormGroup:it.a,GlFormInput:nt.a},mixins:[Ge],props:{value:{type:String,required:!0}}},at=Object($.a)(st,(function(){var e=this,t=e._self._c;return t("gl-form-group",{staticClass:"gl-mb-0",attrs:{label:e.__("Title"),"label-for":"issuable-title","label-class":"gl-sr-only"}},[t("gl-form-input",{ref:"input",staticClass:"form-control",attrs:{id:"issuable-title",value:e.value,dir:"auto",type:"text",placeholder:e.__("Title"),"aria-label":e.__("Title")},on:{input:function(t){return e.$emit("input",t)}},nativeOn:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateIssuable.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateIssuable.apply(null,arguments):null}]}})],1)}),[],!1,null,null,null).exports,rt=i("iVYF"),ot=i.n(rt);var lt={i18n:{label:Object(g.a)("Issue Type")},issuableTypes:pe,components:{GlFormGroup:it.a,GlIcon:V.a,GlCollapsibleListbox:M.a},inject:{canCreateIncident:{default:!1},issueType:{default:x.p}},data:()=>({issueState:{},selectedIssueType:""}),apollo:{issueState:{query:ge.a,result({data:{issueState:{issueType:e}}}){this.selectedIssueType=e}}},computed:{shouldShowIncident(){return this.issueType===x.o||this.canCreateIncident}},methods:{updateIssueType(e){this.$apollo.mutate({mutation:ot.a,variables:{issueType:e,isDirty:!0}})},isShown(e){return e.value!==x.o||this.shouldShowIncident}}},dt=Object($.a)(lt,(function(){var e=this,t=e._self._c;return t("gl-form-group",{staticClass:"gl-mb-0",attrs:{label:e.$options.i18n.label,"label-class":"sr-only","label-for":"issuable-type"}},[t("gl-collapsible-listbox",{attrs:{"toggle-class":"gl-mb-0",items:e.$options.issuableTypes,"header-text":e.$options.i18n.label,"list-aria-labelled-by":e.$options.i18n.label,block:""},on:{select:e.updateIssueType},scopedSlots:e._u([{key:"list-item",fn:function({item:i}){return[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isShown(i),expression:"isShown(item)"}],attrs:{"data-testid":"issue-type-list-item"}},[t("gl-icon",{attrs:{name:i.icon}}),e._v("\n        "+e._s(i.text)+"\n      ")],1)]}}]),model:{value:e.selectedIssueType,callback:function(t){e.selectedIssueType=t},expression:"selectedIssueType"}})],1)}),[],!1,null,null,null).exports,ct=i("30su"),ut=i("MV2A");const pt=Object.freeze({alertMessage:Object(g.a)("Someone edited the %{issuableType} at the same time you did. Review %{linkStart}the %{issuableType}%{linkEnd} and make sure you don't unintentionally overwrite their changes.")});var ht={components:{GlSprintf:ct.a,GlLink:ut.a,GlAlert:Me.a},props:{issuableType:{type:String,required:!0,validator:e=>[x.m,x.n,x.p,x.q,x.s].includes(e)}},computed:{currentPath:()=>window.location.pathname,alertMessage(){return Object(g.h)(this.$options.i18n.alertMessage,{issuableType:this.issuableType})}},i18n:pt},mt=Object($.a)(ht,(function(){var e=this,t=e._self._c;return t("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:"danger",dismissible:!1}},[t("gl-sprintf",{attrs:{message:e.alertMessage},scopedSlots:e._u([{key:"link",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.currentPath,target:"_blank",rel:"nofollow"}},[e._v("\n        "+e._s(i)+"\n      ")])]}}])})],1)}),[],!1,null,null,null).exports,ft={components:{DescriptionField:Xe,DescriptionTemplateField:tt,EditActions:ze,GlAlert:Me.a,IssuableTitleField:at,IssuableTypeField:dt,LockedWarning:mt},props:{endpoint:{type:String,required:!0},formState:{type:Object,required:!0},issuableTemplates:{type:[Object,Array],required:!1,default:function(){return[]}},issuableType:{type:String,required:!0},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0},canAttachFile:{type:Boolean,required:!1,default:!0},enableAutocomplete:{type:Boolean,required:!1,default:!0},initialDescriptionText:{type:String,required:!1,default:""}},data(){const e=[document.location.pathname,document.location.search],t=[...e,"description"],i=[...e,"title"];return{titleAutosaveKey:i,descriptionAutosaveKey:t,autosaveReset:!1,formData:{title:Object(Ve.c)(i)||this.formState.title,description:Object(Ve.c)(t)||this.formState.description},showOutdatedDescriptionWarning:!1}},computed:{hasIssuableTemplates(){return Object.values(Object(this.issuableTemplates)).length},showLockedWarning(){return this.formState.lockedWarningVisible&&!this.formState.updateLoading},showTypeField(){return[x.o,x.p].includes(this.issuableType)}},watch:{formData:{handler(e){this.$emit("updateForm",e)},deep:!0}},created(){me.a.$on("delete.issuable",this.resetAutosave),me.a.$on("update.issuable",this.resetAutosave),me.a.$on("close.form",this.resetAutosave)},mounted(){this.initAutosave()},beforeDestroy(){me.a.$off("delete.issuable",this.resetAutosave),me.a.$off("update.issuable",this.resetAutosave),me.a.$off("close.form",this.resetAutosave)},methods:{initAutosave(){const e=Object(Ve.d)(this.descriptionAutosaveKey);this.showOutdatedDescriptionWarning=e&&String(this.formState.lock_version)!==e},resetAutosave(){this.autosaveReset=!0,Object(Ve.a)(this.descriptionAutosaveKey),Object(Ve.a)(this.titleAutosaveKey)},keepAutosave(){this.$refs.description.focus(),this.showOutdatedDescriptionWarning=!1},discardAutosave(){this.formData.description=this.initialDescriptionText,Object(Ve.a)(this.descriptionAutosaveKey),this.$refs.description.focus(),this.showOutdatedDescriptionWarning=!1},updateTitleDraft(e){Object(Ve.e)(this.titleAutosaveKey,e)},updateDescriptionDraft(e){this.autosaveReset||Object(Ve.e)(this.descriptionAutosaveKey,e,this.formState.lock_version)}}},gt=Object($.a)(ft,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"gl-mt-1",attrs:{"data-testid":"issuable-form"}},[e.showLockedWarning?t("locked-warning",{attrs:{"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.showOutdatedDescriptionWarning?t("gl-alert",{staticClass:"gl-mb-5",attrs:{variant:"warning","primary-button-text":e.__("Keep"),"secondary-button-text":e.__("Discard"),dismissible:!1},on:{primaryAction:e.keepAutosave,secondaryAction:e.discardAutosave}},[e._v(e._s(e.__("The comment you are editing has been changed by another user. Would you like to keep your changes and overwrite the new description or discard your changes?")))]):e._e(),e._v(" "),t("div",{staticClass:"row gl-mb-3"},[t("div",{staticClass:"col-12"},[t("issuable-title-field",{ref:"title",on:{input:e.updateTitleDraft},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1)]),e._v(" "),t("div",{staticClass:"row gl-gap-3"},[e.showTypeField?t("div",{staticClass:"col-12 col-md-4 pr-md-0"},[t("issuable-type-field",{ref:"issue-type"})],1):e._e(),e._v(" "),e.hasIssuableTemplates?t("div",{staticClass:"col-12 col-md-4 md:gl-pl-0 md:gl-pr-0"},[t("description-template-field",{attrs:{"issuable-templates":e.issuableTemplates,"project-path":e.projectPath,"project-id":e.projectId,"project-namespace":e.projectNamespace},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1):e._e()]),e._v(" "),t("description-field",{ref:"description",attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"can-attach-file":e.canAttachFile,"enable-autocomplete":e.enableAutocomplete},on:{input:e.updateDescriptionDraft},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}}),e._v(" "),t("edit-actions",{attrs:{endpoint:e.endpoint,"form-state":e.formState,"issuable-type":e.issuableType}})],1)}),[],!1,null,null,null).exports,vt=i("Bo17"),bt=i("koWC"),yt=i("XiQx"),kt=i("1cpz"),wt=i("Mq5L"),St=i("z1xw"),_t=i("7F3p"),It=i("d08M"),Tt=i("wQDE"),Ot=i("J7NB"),Ct=i("udiD"),xt=i("VXIO"),jt=i("uSO3"),Et=i("EcvJ"),Dt=i("sHIo"),Nt=i("9iFO"),At=i.n(Nt),Pt=i("T5wd"),Ft=i.n(Pt),Lt=i("csTF"),Rt=i.n(Lt),qt=i("Qhxq"),$t={actionCancel:{text:Object(g.a)("Cancel")},csrf:qt.a,components:{GlModal:kt.a},props:{issuePath:{type:String,required:!1,default:""},issueType:{type:String,required:!0},modalId:{type:String,required:!0},title:{type:String,required:!0}},computed:{actionPrimary(){return{attributes:{variant:"danger","data-testid":"confirm-delete-issue-button"},text:this.title}},bodyText(){return this.issueType.toLowerCase()===x.n?Object(g.a)("Delete this epic and release all child items?"):Object(g.h)(Object(g.a)("%{issuableType} will be removed! Are you sure?"),{issuableType:Object(f.f)(this.issueType)})}},methods:{submitForm(){this.$emit("delete"),this.$refs.form.submit()}}},Bt=Object($.a)($t,(function(){var e=this,t=e._self._c;return t("gl-modal",{attrs:{"action-cancel":e.$options.actionCancel,"action-primary":e.actionPrimary,"modal-id":e.modalId,size:"sm",title:e.title},on:{primary:e.submitForm}},[t("form",{ref:"form",attrs:{action:e.issuePath,method:"post"}},[t("input",{attrs:{type:"hidden",name:"_method",value:"delete"}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"destroy_confirm",value:"true"}}),e._v("\n    "+e._s(e.bodyText)+"\n  ")])])}),[],!1,null,null,null).exports,Mt=i("d6eQ"),Vt={i18n:{enableConfidentiality:Object(g.g)("WorkItem|Turn on confidentiality"),confidentialityEnabled:Object(g.g)("WorkItem|Confidentiality turned on."),disableConfidentiality:Object(g.g)("WorkItem|Turn off confidentiality"),confidentialityDisabled:Object(g.g)("WorkItem|Confidentiality turned off.")},components:{GlDisclosureDropdownItem:yt.b},inject:["iid","issueType","projectPath","fullPath"],data:()=>({confidential:!1}),apollo:{confidential:{query(){return Mt.b[this.issueType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t;return(null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.confidential)||!1},skip(){return!this.iid},error(){Object(p.createAlert)({message:Object(g.h)(Object(g.a)("Something went wrong while getting %{issuableType} confidentiality status."),{issuableType:this.issueTypeText})})}}},computed:{issueTypeText(){var e;const{issueType:t}=this;return null!==(e=x.w[t])&&void 0!==e?e:t},confidentialItem(){return{text:this.confidential?this.$options.i18n.disableConfidentiality:this.$options.i18n.enableConfidentiality}},confidentialityText(){return this.confidential?this.$options.i18n.confidentialityEnabled:this.$options.i18n.confidentialityDisabled}},methods:{handleToggleWorkItemConfidentiality(){var e=this;this.$apollo.mutate({mutation:Mt.b[this.issueType].mutation,variables:{input:{iid:String(this.iid),projectPath:this.projectPath,confidential:!this.confidential}}}).then((function({data:{issuableSetConfidential:{errors:t}}}){t.length?Object(p.createAlert)({message:t[0]}):(e.$emit("closeActionsDropdown"),e.$toast.show(e.confidentialityText))})).catch((function(){Object(p.createAlert)({message:Object(g.h)(Object(g.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:e.issueTypeText})})}))}}},Ut=Object($.a)(Vt,(function(){return(0,this._self._c)("gl-disclosure-dropdown-item",{attrs:{item:this.confidentialItem,"data-testid":"confidentiality-toggle-action"},on:{action:this.handleToggleWorkItemConfidentiality}})}),[],!1,null,null,null).exports;const Gt=U.b.mixin({label:"delete_issue"});var Wt={actionCancel:{text:Object(g.a)("Cancel")},actionPrimary:{text:Object(g.a)("Yes, close issue")},deleteModalId:"delete-modal-id",i18n:{edit:Object(g.a)("Edit"),editTitleAndDescription:Object(g.a)("Edit title and description"),promoteErrorMessage:Object(g.a)("Something went wrong while promoting the issue to an epic. Please try again."),promoteSuccessMessage:Object(g.a)("The issue was successfully promoted to an epic. Redirecting to epic..."),reportAbuse:Object(g.a)("Report abuse"),referenceFetchError:Object(g.a)("An error occurred while fetching reference"),copyReferenceText:Object(g.a)("Copy reference")},components:{DeleteIssueModal:Bt,GlButton:Ue.a,GlDisclosureDropdown:vt.a,GlDropdownDivider:bt.a,GlDisclosureDropdownItem:yt.b,GlLink:ut.a,GlModal:kt.a,AbuseCategorySelector:xt.a,SidebarSubscriptionsWidget:jt.a,IssuableLockForm:Et.a,HeaderActionsConfidentialityToggle:Ut},directives:{GlModal:wt.a,GlTooltip:St.a},mixins:[Gt,Object(Dt.a)()],inject:["canCreateIssue","canDestroyIssue","canPromoteToEpic","canReopenIssue","canReportSpam","canUpdateIssue","iid","isIssueAuthor","issuePath","issueType","newIssuePath","projectPath","submitAsSpamPath","reportedUserId","reportedFromUrl","issuableEmailAddress","fullPath"],data:()=>({isReportAbuseDrawerOpen:!1,isUserSignedIn:Object(k.A)(),isDesktopDropdownVisible:!1}),apollo:{issuableReference:{query:At.a,variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t;return(null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.reference)||""},error(e){Object(p.createAlert)({message:this.$options.i18n.referenceFetchError}),_t.b(e)}}},computed:{...Object(te.f)(["isToggleStateButtonLoading"]),...Object(te.d)(["openState","getBlockedByIssues"]),...Object(te.d)(["getNoteableData"]),isLocked(){return this.getNoteableData.discussion_locked},isClosed(){return this.openState===x.d},issueTypeText(){var e;const{issueType:t}=this;return null!==(e=x.w[t])&&void 0!==e?e:t},buttonText(){return this.isClosed?Object(g.h)(Object(g.a)("Reopen %{issueType}"),{issueType:this.issueTypeText}):Object(g.h)(Object(g.a)("Close %{issueType}"),{issueType:this.issueTypeText})},deleteButtonText(){return Object(g.h)(Object(g.a)("Delete %{issuableType}"),{issuableType:this.issueTypeText})},testId(){return this.isClosed?"reopen-issue-button":"close-issue-button"},dropdownText(){return Object(g.h)(Object(g.a)("%{issueType} actions"),{issueType:Object(f.f)(this.issueTypeText)})},newIssueTypeText(){return Object(g.h)(Object(g.a)("New related %{issueType}"),{issueType:this.issueTypeText})},showToggleIssueStateButton(){const e=!this.isClosed&&this.canUpdateIssue,t=this.isClosed&&this.canReopenIssue;return e||t},hasDesktopDropdown(){return this.canCreateIssue||this.canPromoteToEpic||!this.isIssueAuthor||this.canReportSpam||this.issuableReference},hasMobileDropdown(){return this.hasDesktopDropdown||this.showToggleIssueStateButton},copyMailAddressText(){return Object(g.h)(Object(g.a)("Copy %{issueType} email address"),{issueType:this.issueTypeText})},showLockIssueOption(){return this.issueType===x.p&&this.isUserSignedIn},showMovedSidebarOptions(){return this.isUserSignedIn},newIssueItem(){return{text:this.newIssueTypeText,href:this.newIssuePath}},submitSpamItem(){return{text:Object(g.a)("Submit as spam"),href:this.submitAsSpamPath}},editShortcutKey:()=>Object(Tt.b)()?null:Object(It.Ab)(It.J)[0],editTooltip(){const e=this.$options.i18n.editTitleAndDescription,t=this.editShortcutKey;return Object(Tt.b)()?e:Object(oe.b)(`${e} <kbd class="flat gl-ml-1" aria-hidden=true>${t}</kbd>`)},showDropdownTooltip(){return this.isDesktopDropdownVisible?"":this.dropdownText},promoteToEpicItem(){return{text:Object(g.a)("Promote to epic"),extraAttrs:{disabled:this.isToggleStateButtonLoading}}},showConfidentialityToggle(){return[x.p,x.o].includes(this.issueType)&&this.canUpdateIssue}},created(){Ot.a.$on("toggle.issuable.state",this.toggleIssueState)},beforeDestroy(){Ot.a.$off("toggle.issuable.state",this.toggleIssueState)},methods:{...Object(te.c)(["toggleStateButtonLoading"]),...Object(te.c)(["updateLockedAttribute"]),toggleIssueState(){var e;if(!this.isClosed&&null!==(e=this.getBlockedByIssues)&&void 0!==e&&e.length)return this.$refs.blockedByIssuesModal.show(),void this.closeActionsDropdown();this.invokeUpdateIssueMutation()},toggleReportAbuseDrawer(e){this.isReportAbuseDrawerOpen=e,this.closeActionsDropdown()},invokeUpdateIssueMutation(){var e=this;this.toggleStateButtonLoading(!0),this.$apollo.mutate({mutation:Rt.a,variables:{input:{iid:String(this.iid),projectPath:this.projectPath,stateEvent:this.isClosed?"REOPEN":"CLOSE"}}}).then((function({data:t}){if(t.updateIssue.errors.length)throw new Error;const i={detail:{data:{id:e.iid},isClosed:!e.isClosed}};document.dispatchEvent(new CustomEvent(h.a,i))})).catch((function(){return Object(p.createAlert)({message:Object(g.a)("Error occurred while updating the issue status")})})).finally((function(){e.toggleStateButtonLoading(!1),e.closeActionsDropdown()}))},promoteToEpic(){var e=this;this.toggleStateButtonLoading(!0),this.$apollo.mutate({mutation:Ft.a,variables:{input:{iid:String(this.iid),projectPath:this.projectPath}}}).then((function({data:t}){if(t.promoteToEpic.errors.length)throw new Error;Object(p.createAlert)({message:e.$options.i18n.promoteSuccessMessage,variant:p.VARIANT_SUCCESS}),Object(u.R)(t.promoteToEpic.epic.webPath)})).catch((function(){return Object(p.createAlert)({message:e.$options.i18n.promoteErrorMessage})})).finally((function(){e.toggleStateButtonLoading(!1),e.closeActionsDropdown()}))},edit(){me.a.$emit("open.form"),this.closeActionsDropdown()},copyReference(){Object(Ct.default)(Object(g.a)("Reference copied")),this.closeActionsDropdown()},copyEmailAddress(){Object(Ct.default)(Object(g.a)("Email address copied")),this.closeActionsDropdown()},closeActionsDropdown(){var e,t;null===(e=this.$refs.issuableActionsDropdownMobile)||void 0===e||e.close(),null===(t=this.$refs.issuableActionsDropdownDesktop)||void 0===t||t.close()},showDesktopDropdown(){this.isDesktopDropdownVisible=!0},hideDesktopDropdown(){this.isDesktopDropdownVisible=!1}},TYPE_ISSUE:x.p},Ht=Object($.a)(Wt,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"detail-page-header-actions gl-mt-1 gl-flex gl-w-full gl-self-start sm:gl-gap-3 md:gl-w-auto"},[t("div",{staticClass:"gl-w-full md:!gl-hidden"},[e.hasMobileDropdown?t("gl-disclosure-dropdown",{ref:"issuableActionsDropdownMobile",attrs:{"toggle-class":"gl-w-full",block:"","toggle-text":e.dropdownText,"auto-close":!1,"data-testid":"mobile-dropdown",loading:e.isToggleStateButtonLoading,placement:"bottom-end"}},[e.showMovedSidebarOptions&&!e.glFeatures.notificationsTodosButtons?[t("sidebar-subscriptions-widget",{attrs:{iid:String(e.iid),"full-path":e.fullPath,"issuable-type":e.$options.TYPE_ISSUE,"data-testid":"notification-toggle"}}),e._v(" "),t("gl-dropdown-divider")]:e._e(),e._v(" "),e.canUpdateIssue?t("gl-disclosure-dropdown-item",{on:{action:e.edit},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.$options.i18n.edit))]},proxy:!0}],null,!1,1675257228)}):e._e(),e._v(" "),e.showToggleIssueStateButton?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"mobile-"+e.testId},on:{action:e.toggleIssueState},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.buttonText))]},proxy:!0}],null,!1,3197841089)}):e._e(),e._v(" "),e.canCreateIssue?t("gl-disclosure-dropdown-item",{attrs:{item:e.newIssueItem}}):e._e(),e._v(" "),e.canPromoteToEpic?t("gl-disclosure-dropdown-item",{attrs:{item:e.promoteToEpicItem},on:{action:e.promoteToEpic}}):e._e(),e._v(" "),e.showLockIssueOption?[t("issuable-lock-form",{attrs:{"is-editable":!1,"data-testid":"lock-issue-toggle"}})]:e._e(),e._v(" "),e.showConfidentialityToggle?t("header-actions-confidentiality-toggle",{on:{closeActionsDropdown:e.closeActionsDropdown}}):e._e(),e._v(" "),t("gl-disclosure-dropdown-item",{staticClass:"js-copy-reference",attrs:{"data-clipboard-text":e.issuableReference,"data-testid":"copy-reference"},on:{action:e.copyReference},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.$options.i18n.copyReferenceText))]},proxy:!0}],null,!1,1322238531)}),e._v(" "),e.issuableEmailAddress&&e.showMovedSidebarOptions?t("gl-disclosure-dropdown-item",{attrs:{"data-clipboard-text":e.issuableEmailAddress,"data-testid":"copy-email"},on:{action:e.copyEmailAddress},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.copyMailAddressText))]},proxy:!0}],null,!1,3371067373)}):e._e(),e._v(" "),e.canReportSpam?t("gl-disclosure-dropdown-item",{attrs:{item:e.submitSpamItem,"data-method":"post",rel:"nofollow"}}):e._e(),e._v(" "),e.canDestroyIssue?[t("gl-dropdown-divider"),e._v(" "),t("gl-disclosure-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.deleteModalId,expression:"$options.deleteModalId"}],on:{action:function(t){return e.track("click_dropdown")}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("span",{staticClass:"gl-text-red-500"},[e._v(e._s(e.deleteButtonText))])]},proxy:!0}],null,!1,4271360056)})]:e._e(),e._v(" "),!e.isIssueAuthor&&e.isUserSignedIn?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"report-abuse-item"},on:{action:function(t){return e.toggleReportAbuseDrawer(!0)}},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.$options.i18n.reportAbuse))]},proxy:!0}],null,!1,3173336638)}):e._e()],2):e._e()],1),e._v(" "),e.canUpdateIssue?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.html",modifiers:{viewport:!0,html:!0}}],staticClass:"js-issuable-edit !gl-hidden md:!gl-block",attrs:{title:e.editTooltip,"aria-label":e.$options.i18n.editTitleAndDescription,"aria-keyshortcuts":e.editShortcutKey,"data-testid":"edit-button"},on:{click:e.edit}},[e._v("\n    "+e._s(e.$options.i18n.edit)+"\n  ")]):e._e(),e._v(" "),e.hasDesktopDropdown?t("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.showDropdownTooltip,expression:"showDropdownTooltip"}],ref:"issuableActionsDropdownDesktop",staticClass:"gl-hidden md:!gl-inline-flex",attrs:{id:"new-actions-header-dropdown",icon:"ellipsis_v",category:"tertiary","toggle-text":e.dropdownText,"text-sr-only":"",title:e.dropdownText,"aria-label":e.dropdownText,"auto-close":!1,"data-testid":"desktop-dropdown","no-caret":""},on:{shown:e.showDesktopDropdown,hidden:e.hideDesktopDropdown}},[e.showMovedSidebarOptions&&!e.glFeatures.notificationsTodosButtons?[t("sidebar-subscriptions-widget",{attrs:{iid:String(e.iid),"full-path":e.fullPath,"issuable-type":e.$options.TYPE_ISSUE,"data-testid":"notification-toggle"}}),e._v(" "),t("gl-dropdown-divider")]:e._e(),e._v(" "),e.showToggleIssueStateButton?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"toggle-issue-state-button"},on:{action:e.toggleIssueState},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.buttonText))]},proxy:!0}],null,!1,3197841089)}):e._e(),e._v(" "),e.canCreateIssue&&e.isUserSignedIn?t("gl-disclosure-dropdown-item",{attrs:{item:e.newIssueItem}}):e._e(),e._v(" "),e.canPromoteToEpic?t("gl-disclosure-dropdown-item",{attrs:{item:e.promoteToEpicItem,"data-testid":"promote-button"},on:{action:e.promoteToEpic}}):e._e(),e._v(" "),e.showLockIssueOption?[t("issuable-lock-form",{attrs:{"is-editable":!1,"data-testid":"lock-issue-toggle"}})]:e._e(),e._v(" "),e.showConfidentialityToggle?t("header-actions-confidentiality-toggle",{on:{closeActionsDropdown:e.closeActionsDropdown}}):e._e(),e._v(" "),t("gl-disclosure-dropdown-item",{staticClass:"js-copy-reference",attrs:{"data-clipboard-text":e.issuableReference,"data-testid":"copy-reference"},on:{action:e.copyReference},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.$options.i18n.copyReferenceText))]},proxy:!0}],null,!1,1322238531)}),e._v(" "),e.issuableEmailAddress&&e.showMovedSidebarOptions?t("gl-disclosure-dropdown-item",{attrs:{"data-clipboard-text":e.issuableEmailAddress,"data-testid":"copy-email"},on:{action:e.copyEmailAddress},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.copyMailAddressText))]},proxy:!0}],null,!1,3371067373)}):e._e(),e._v(" "),e.canDestroyIssue||e.canReportSpam||!e.isIssueAuthor?t("gl-dropdown-divider"):e._e(),e._v(" "),e.canReportSpam?t("gl-disclosure-dropdown-item",{attrs:{item:e.submitSpamItem,"data-method":"post",rel:"nofollow"}}):e._e(),e._v(" "),!e.isIssueAuthor&&e.isUserSignedIn?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"report-abuse-item"},on:{action:function(t){return e.toggleReportAbuseDrawer(!0)}},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v(e._s(e.$options.i18n.reportAbuse))]},proxy:!0}],null,!1,3173336638)}):e._e(),e._v(" "),e.canDestroyIssue?[t("gl-disclosure-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.deleteModalId,expression:"$options.deleteModalId"}],attrs:{"data-testid":"delete-issue-button"},on:{action:function(t){return e.track("click_dropdown")}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("span",{staticClass:"gl-text-danger"},[e._v("\n            "+e._s(e.deleteButtonText)+"\n          ")])]},proxy:!0}],null,!1,3090695912)})]:e._e()],2):e._e(),e._v(" "),t("gl-modal",{ref:"blockedByIssuesModal",attrs:{"modal-id":"blocked-by-issues-modal","action-cancel":e.$options.actionCancel,"action-primary":e.$options.actionPrimary,title:e.__("Are you sure you want to close this blocked issue?")},on:{primary:e.invokeUpdateIssueMutation}},[t("p",[e._v(e._s(e.__("This issue is currently blocked by the following issues:")))]),e._v(" "),t("ul",e._l(e.getBlockedByIssues,(function(i){return t("li",{key:i.iid},[t("gl-link",{attrs:{href:i.web_url}},[e._v("#"+e._s(i.iid))])],1)})),0)]),e._v(" "),t("delete-issue-modal",{attrs:{"issue-path":e.issuePath,"issue-type":e.issueType,"modal-id":e.$options.deleteModalId,title:e.deleteButtonText}}),e._v(" "),e.isReportAbuseDrawerOpen?t("abuse-category-selector",{attrs:{"reported-user-id":e.reportedUserId,"reported-from-url":e.reportedFromUrl,"show-drawer":e.isReportAbuseDrawerOpen},on:{"close-drawer":function(t){return e.toggleReportAbuseDrawer(!1)}}}):e._e()],1)}),[],!1,null,null,null).exports,zt=i("Lzak"),Kt=i("z7iI"),Qt=i("q/7U"),Yt=i("UNxS"),Jt=i("AuBS"),Xt=i("Fsq/"),Zt=i("MS9k"),ei={components:{ConfidentialityBadge:Yt.a,GlIcon:V.a,GlBadge:zt.a,GlButton:Ue.a,GlLink:ut.a,GlSprintf:ct.a,HiddenBadge:Kt.a,LockedBadge:Qt.a,ImportedBadge:Jt.a,TimeAgoTooltip:Xt.a,WorkItemTypeIcon:Zt.a},directives:{GlTooltip:St.a},props:{createdAt:{type:String,required:!0},author:{type:Object,required:!0},issuableState:{type:String,required:!1,default:""},statusIcon:{type:String,required:!1,default:""},statusIconClass:{type:String,required:!1,default:""},blocked:{type:Boolean,required:!1,default:!1},confidential:{type:Boolean,required:!1,default:!1},isFirstContribution:{type:Boolean,required:!1,default:!1},isHidden:{type:Boolean,required:!1,default:!1},isImported:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!1,default:""},serviceDeskReplyTo:{type:String,required:!1,default:""},showWorkItemTypeIcon:{type:Boolean,required:!1,default:!1},taskCompletionStatus:{type:Object,required:!1,default:null},workspaceType:{type:String,required:!1,default:""}},computed:{badgeText(){return x.v[this.issuableState]},badgeVariant(){return this.issuableState===x.i||this.issuableState===x.j?"success":"info"},shouldShowWorkItemTypeIcon(){return this.showWorkItemTypeIcon&&this.issuableType},createdMessage(){return this.serviceDeskReplyTo?this.shouldShowWorkItemTypeIcon?Object(g.a)("created %{timeAgo} by %{email} via %{author}"):Object(g.a)("Created %{timeAgo} by %{email} via %{author}"):this.shouldShowWorkItemTypeIcon?Object(g.a)("created %{timeAgo} by %{author}"):Object(g.a)("Created %{timeAgo} by %{author}")},authorId(){return Object(Q.e)(""+this.author.id)},isAuthorExternal(){var e;return Object(u.w)(null!==(e=this.author.webUrl)&&void 0!==e?e:"")},taskStatusString(){const{count:e,completedCount:t}=this.taskCompletionStatus;return Object(g.h)(Object(g.f)("%{completedCount} of %{count} checklist item completed","%{completedCount} of %{count} checklist items completed",e),{completedCount:t,count:e})},hasTasks(){return this.taskCompletionStatus.count>0}},mounted(){this.toggleSidebarButtonEl=document.querySelector(".js-toggle-right-sidebar-button")},methods:{handleRightSidebarToggleClick(){this.$emit("toggle"),this.toggleSidebarButtonEl&&this.toggleSidebarButtonEl.dispatchEvent(new Event("click"))}}},ti=Object($.a)(ei,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"detail-page-header gl-flex-col md:gl-flex-row"},[t("div",{staticClass:"detail-page-header-body gl-flex-wrap gl-gap-x-2 gl-text-subtle"},[t("gl-badge",{attrs:{variant:e.badgeVariant,icon:e.statusIcon,"data-testid":"issue-state-badge"}},[e._t("status-badge",(function(){return[e._v(e._s(e.badgeText))]}))],2),e._v(" "),e.confidential?t("confidentiality-badge",{attrs:{"issuable-type":e.issuableType,"workspace-type":e.workspaceType}}):e._e(),e._v(" "),e.blocked?t("locked-badge",{attrs:{"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.isHidden?t("hidden-badge",{attrs:{"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.isImported?t("imported-badge",{attrs:{"importable-type":e.issuableType}}):e._e(),e._v(" "),e.shouldShowWorkItemTypeIcon?t("work-item-type-icon",{attrs:{"show-text":"","work-item-type":e.issuableType,"icon-class":"gl-fill-icon-subtle"}}):e._e(),e._v(" "),t("gl-sprintf",{attrs:{message:e.createdMessage},scopedSlots:e._u([{key:"timeAgo",fn:function(){return[t("time-ago-tooltip",{attrs:{time:e.createdAt}})]},proxy:!0},{key:"email",fn:function(){return[e._v("\n        "+e._s(e.serviceDeskReplyTo)+"\n      ")]},proxy:!0},{key:"author",fn:function(){return[t("gl-link",{staticClass:"js-user-link gl-font-bold",attrs:{href:e.author.webUrl,"data-user-id":e.authorId}},[t("span",{class:[{"gl-hidden":!e.isAuthorExternal},"sm:gl-inline"]},[e._v("\n            "+e._s(e.author.name)+"\n          ")]),e._v(" "),e.isAuthorExternal?t("gl-icon",{attrs:{name:"external-link","aria-label":e.__("external link")}}):e._e(),e._v(" "),e.author.username?t("strong",{staticClass:"author gl-inline sm:!gl-hidden"},[e._v("@"+e._s(e.author.username))]):e._e()],1)]},proxy:!0}])}),e._v(" "),e.isFirstContribution?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{name:"first-contribution",title:e.__("1st contribution!"),"aria-label":e.__("1st contribution!")}}):e._e(),e._v(" "),e.taskCompletionStatus&&e.hasTasks?t("span",{staticClass:"gl-hidden md:gl-block lg:gl-inline-block"},[e._v(e._s(e.taskStatusString))]):e._e(),e._v(" "),t("gl-button",{staticClass:"js-sidebar-toggle gl-ml-auto gl-block sm:!gl-hidden",attrs:{icon:"chevron-double-lg-left","aria-label":e.__("Expand sidebar")},on:{click:e.handleRightSidebarToggleClick}})],1),e._v(" "),t("div",{staticClass:"detail-page-header-actions gl-flex gl-gap-3 gl-self-center"},[e._t("header-actions")],2)])}),[],!1,null,null,null).exports,ii={WORKSPACE_PROJECT:x.u,components:{GlLink:ut.a,GlSprintf:ct.a,IssuableHeader:ti},props:{author:{type:Object,required:!0},confidential:{type:Boolean,required:!0},createdAt:{type:String,required:!0},duplicatedToIssueUrl:{type:String,required:!0},isFirstContribution:{type:Boolean,required:!0},isHidden:{type:Boolean,required:!0},isImported:{type:Boolean,required:!0},isLocked:{type:Boolean,required:!0},issuableState:{type:String,required:!0},issuableType:{type:String,required:!0},movedToIssueUrl:{type:String,required:!0},promotedToEpicUrl:{type:String,required:!0},serviceDeskReplyTo:{type:String,required:!1,default:""}},computed:{closedStatusLink(){return this.duplicatedToIssueUrl||this.movedToIssueUrl||this.promotedToEpicUrl},closedStatusText(){return this.duplicatedToIssueUrl?Object(g.g)("IssuableStatus|duplicated"):this.movedToIssueUrl?Object(g.g)("IssuableStatus|moved"):this.promotedToEpicUrl?Object(g.g)("IssuableStatus|promoted"):""},isOpen(){return this.issuableState===x.i||this.issuableState===x.j},statusIcon(){return this.isOpen?"issue-open-m":"issue-close"},statusText(){return this.isOpen?Object(g.a)("Open"):this.closedStatusLink?Object(g.g)("IssuableStatus|Closed (%{link})"):Object(g.g)("IssuableStatus|Closed")}}},ni=Object($.a)(ii,(function(){var e=this,t=e._self._c;return t("issuable-header",{attrs:{author:e.author,blocked:e.isLocked,confidential:e.confidential,"created-at":e.createdAt,"is-first-contribution":e.isFirstContribution,"is-hidden":e.isHidden,"is-imported":e.isImported,"issuable-state":e.issuableState,"issuable-type":e.issuableType,"service-desk-reply-to":e.serviceDeskReplyTo,"show-work-item-type-icon":"","status-icon":e.statusIcon,"workspace-type":e.$options.WORKSPACE_PROJECT},scopedSlots:e._u([{key:"status-badge",fn:function(){return[e.closedStatusLink?t("gl-sprintf",{attrs:{message:e.statusText},scopedSlots:e._u([{key:"link",fn:function(){return[t("gl-link",{staticClass:"!gl-text-inherit gl-underline",attrs:{href:e.closedStatusLink}},[e._v(e._s(e.closedStatusText))])]},proxy:!0}],null,!1,3728443003)}):[e._v(e._s(e.statusText))]]},proxy:!0}])})}),[],!1,null,null,null).exports,si=(i("v2fZ"),{components:{GlButton:Ue.a},props:{zoomMeetingUrl:{type:String,required:!1,default:""},publishedIncidentUrl:{type:String,required:!1,default:""}},computed:{pinnedLinks(){const e=[];return this.publishedIncidentUrl&&e.push({id:"publishedIncidentUrl",url:this.publishedIncidentUrl,text:ue,icon:"tanuki"}),this.zoomMeetingUrl&&e.push({id:"zoomMeetingUrl",url:this.zoomMeetingUrl,text:ce,icon:"brand-zoom"}),e}},methods:{needsPaddingClass(e){return e<this.pinnedLinks.length-1}}}),ai=Object($.a)(si,(function(){var e=this,t=e._self._c;return e.pinnedLinks&&e.pinnedLinks.length?t("div",{staticClass:"gl-flex gl-justify-start"},[e._l(e.pinnedLinks,(function(i,n){return[i.url?t("div",{key:i.id,class:{"gl-pr-3":e.needsPaddingClass(n)}},[t("gl-button",{staticClass:"gl-mb-5 gl-font-bold",attrs:{href:i.url,target:"_blank",icon:i.icon,size:"small","data-testid":i.id}},[e._v(e._s(i.text))])],1):e._e()]}))],2):e._e()}),[],!1,null,null,null).exports,ri=i("ehHk"),oi={WORKSPACE_PROJECT:x.u,components:{ConfidentialityBadge:Yt.a,GlBadge:zt.a,GlIntersectionObserver:ri.a,GlLink:ut.a,GlSprintf:ct.a,HiddenBadge:Kt.a,ImportedBadge:Jt.a,LockedBadge:Qt.a},props:{isConfidential:{type:Boolean,required:!1,default:!1},isHidden:{type:Boolean,required:!1,default:!1},isImported:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1},issuableState:{type:String,required:!0},issuableType:{type:String,required:!0},show:{type:Boolean,required:!1,default:!1},title:{type:String,required:!0},duplicatedToIssueUrl:{type:String,required:!0},movedToIssueUrl:{type:String,required:!0},promotedToEpicUrl:{type:String,required:!0}},computed:{isOpen(){return this.issuableState===x.i||this.issuableState===x.j},isClosed(){return this.issuableState===x.d},statusIcon(){return this.isClosed?"issue-close":"issue-open-m"},statusText(){return this.isOpen?Object(g.a)("Open"):this.closedStatusLink?Object(g.g)("IssuableStatus|Closed (%{link})"):Object(g.g)("IssuableStatus|Closed")},closedStatusLink(){return this.duplicatedToIssueUrl||this.movedToIssueUrl||this.promotedToEpicUrl},closedStatusText(){return this.duplicatedToIssueUrl?Object(g.g)("IssuableStatus|duplicated"):this.movedToIssueUrl?Object(g.g)("IssuableStatus|moved"):this.promotedToEpicUrl?Object(g.g)("IssuableStatus|promoted"):""},statusVariant(){return this.isClosed?"info":"success"}}},li=Object($.a)(oi,(function(){var e=this,t=e._self._c;return t("gl-intersection-observer",{on:{appear:function(t){return e.$emit("hide")},disappear:function(t){return e.$emit("show")}}},[t("transition",{attrs:{name:"issuable-header-slide"}},[e.show?t("div",{staticClass:"issue-sticky-header gl-border-b gl-fixed gl-z-3 gl-bg-default gl-py-3",attrs:{"data-testid":"issue-sticky-header"}},[t("div",{staticClass:"issue-sticky-header-text gl-mx-auto gl-flex gl-items-center gl-gap-2"},[t("gl-badge",{staticClass:"gl-shrink-0",attrs:{variant:e.statusVariant,icon:e.statusIcon}},[e.closedStatusLink?t("gl-sprintf",{attrs:{message:e.statusText},scopedSlots:e._u([{key:"link",fn:function(){return[t("gl-link",{staticClass:"!gl-text-inherit gl-underline",attrs:{"data-testid":"sticky-header-closed-status-link",href:e.closedStatusLink}},[e._v(e._s(e.closedStatusText))])]},proxy:!0}],null,!1,836977613)}):[e._v(e._s(e.statusText))]],2),e._v(" "),e.isConfidential?t("confidentiality-badge",{attrs:{"issuable-type":e.issuableType,"workspace-type":e.$options.WORKSPACE_PROJECT}}):e._e(),e._v(" "),e.isLocked?t("locked-badge",{attrs:{"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.isHidden?t("hidden-badge",{attrs:{"issuable-type":e.issuableType}}):e._e(),e._v(" "),e.isImported?t("imported-badge",{attrs:{"importable-type":e.issuableType}}):e._e(),e._v(" "),t("gl-link",{staticClass:"gl-truncate gl-font-bold gl-text-default",attrs:{href:"#top",title:e.title}},[e._v("\n          "+e._s(e.title)+"\n        ")])],1)]):e._e()])],1)}),[],!1,null,null,null).exports,di={directives:{GlTooltip:St.a,SafeHtml:Se.a},mixins:[Fe],props:{issuableRef:{type:[String,Number],required:!0},canUpdate:{required:!1,type:Boolean,default:!1},titleHtml:{type:String,required:!0},titleText:{type:String,required:!0}},data:()=>({preAnimation:!1,pulseAnimation:!1,titleEl:document.querySelector("title")}),watch:{titleHtml(){this.setPageTitle(),this.animateChange()}},methods:{setPageTitle(){const e=this.titleEl.innerText.split("Â·");e[0]=`${this.titleText} (${this.issuableRef}) `,this.titleEl.textContent=e.join("Â·")}}},ci=Object($.a)(di,(function(){var e=this._self._c;return e("div",{staticClass:"gl-flex gl-flex-col gl-items-start gl-gap-3 gl-pt-3 md:gl-flex-row"},[e("h1",{directives:[{name:"safe-html",rawName:"v-safe-html",value:this.titleHtml,expression:"titleHtml"}],staticClass:"title gl-heading-1 !gl-m-0",class:{"issue-realtime-pre-pulse":this.preAnimation,"issue-realtime-trigger-pulse":this.pulseAnimation},attrs:{"data-testid":"issue-title",dir:"auto"}}),this._v(" "),this._t("actions")],2)}),[],!1,null,null,null).exports;function ui(e){return e.replace(/<details[^>]*>/g,"<details>")}var pi={components:{HeaderActions:Ht,IssueHeader:ni,TitleComponent:ci,EditedComponent:Be.a,FormComponent:gt,PinnedLinks:ai,StickyHeader:li},props:{author:{type:Object,required:!1,default:function(){return{}}},endpoint:{required:!0,type:String},updateEndpoint:{required:!0,type:String},canUpdate:{required:!0,type:Boolean},createdAt:{type:String,required:!1,default:""},enableAutocomplete:{type:Boolean,required:!1,default:!0},zoomMeetingUrl:{type:String,required:!1,default:""},publishedIncidentUrl:{type:String,required:!1,default:""},issuableRef:{type:String,required:!0},issuableStatus:{type:String,required:!1,default:""},initialTitleHtml:{type:String,required:!0},initialTitleText:{type:String,required:!0},initialDescriptionHtml:{type:String,required:!1,default:""},initialDescriptionText:{type:String,required:!1,default:""},initialTaskCompletionStatus:{type:Object,required:!1,default:function(){return{}}},updatedAt:{type:String,required:!1,default:""},updatedByName:{type:String,required:!1,default:""},updatedByPath:{type:String,required:!1,default:""},issuableTemplateNamesPath:{type:String,required:!1,default:""},markdownPreviewPath:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},projectPath:{type:String,required:!0},projectId:{type:Number,required:!0},projectNamespace:{type:String,required:!0},isConfidential:{type:Boolean,required:!1,default:!1},isImported:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!1,default:x.p},canAttachFile:{type:Boolean,required:!1,default:!0},lockVersion:{type:Number,required:!1,default:0},descriptionComponent:{type:Object,required:!1,default:function(){return $e}},showTitleBorder:{type:Boolean,required:!1,default:!0},isHidden:{type:Boolean,required:!1,default:!1},issueId:{type:String,required:!1,default:null},issueIid:{type:String,required:!1,default:null},duplicatedToIssueUrl:{type:String,required:!1,default:""},movedToIssueUrl:{type:String,required:!1,default:""},promotedToEpicUrl:{type:String,required:!1,default:""},isFirstContribution:{type:Boolean,required:!1,default:!1},serviceDeskReplyTo:{type:String,required:!1,default:""}},data(){return{formState:{title:"",description:"",lockedWarningVisible:!1,updateLoading:!1,lock_version:0,issuableTemplates:{}},state:{titleHtml:this.initialTitleHtml,titleText:this.initialTitleText,descriptionHtml:this.initialDescriptionHtml,descriptionText:this.initialDescriptionText,updatedAt:this.updatedAt,updatedByName:this.updatedByName,updatedByPath:this.updatedByPath,taskCompletionStatus:this.initialTaskCompletionStatus,lock_version:this.lockVersion},showForm:!1,templatesRequested:!1,isStickyHeaderShowing:!1,issueState:{}}},apollo:{issueState:{query:ge.a}},computed:{headerClasses(){return this.issuableType===x.o?"gl-mb-3":"gl-mb-6"},issueChanged(){const{formState:{description:e,title:t},initialDescriptionText:i,initialTitleText:n}=this;return i||e?i!==e:!(!n&&!t)&&n!==t},defaultErrorMessage(){return Object(g.h)(Object(g.a)("Error updating %{issuableType}"),{issuableType:this.issuableType})},pinnedLinkClasses(){return this.showTitleBorder?"gl-border-b-1 gl-border-b-default gl-border-b-solid gl-mb-6":""},shouldShowStickyHeader(){return[x.o,x.p,x.n].includes(this.issuableType)}},created(){var e=this;this.alert=null,this.service=new ve(this.endpoint),this.poll=new le.a({resource:this.service,method:"getData",successCallback:function(t){return e.updateState(t.data)},errorCallback(e){throw new Error(e)}}),ae.a.hidden()||this.poll.makeDelayedRequest(2e3),ae.a.change((function(){ae.a.hidden()?e.poll.stop():e.poll.restart()})),window.addEventListener("beforeunload",this.handleBeforeUnloadEvent),me.a.$on("update.issuable",this.updateIssuable),me.a.$on("close.form",this.closeForm),me.a.$on("open.form",this.openForm)},beforeDestroy(){me.a.$off("update.issuable",this.updateIssuable),me.a.$off("close.form",this.closeForm),me.a.$off("open.form",this.openForm),window.removeEventListener("beforeunload",this.handleBeforeUnloadEvent),this.hideStickyHeader()},methods:{handleBeforeUnloadEvent(e){const t=e;this.showForm&&this.issueChanged&&!this.issueState.isDirty&&(t.returnValue=Object(g.a)("Are you sure you want to lose your issue information?"))},updateState(e){(this.state.titleText!==e.title_text||this.state.descriptionText!==e.description_text)&&(this.formState.lockedWarningVisible=!0),Object.assign(this.state,Object(k.g)(e));const t=document.body.querySelector(".detail-page-description.content-block"),i=null!=t&&t.getElementsByTagName("details"),n=re(Object(oe.b)(e.description),i);var s,a;s=this.state.descriptionHtml,a=n,ui(s)!==ui(a)&&(this.state.descriptionHtml=n),this.state.titleHtml=Object(oe.b)(e.title),this.state.lock_version=e.lock_version},refetchData(){var e=this;return this.service.getData().then((function(e){return e.data})).then(this.updateState).catch((function(){return Object(p.createAlert)({message:e.defaultErrorMessage})}))},setFormState(e){this.formState={...this.formState,...e}},updateFormState(e={}){this.setFormState({title:this.state.titleText,description:this.state.descriptionText,lock_version:this.state.lock_version,lockedWarningVisible:!1,updateLoading:!1,issuableTemplates:e})},updateAndShowForm(e){this.showForm||(this.updateFormState(e),this.showForm=!0)},requestTemplatesAndShowForm(){var e=this;return this.service.loadTemplates(this.issuableTemplateNamesPath).then((function(t){e.updateAndShowForm(t.data)})).catch((function(){Object(p.createAlert)({message:e.defaultErrorMessage}),e.updateAndShowForm()}))},openForm(){this.templatesRequested?this.updateAndShowForm(this.formState.issuableTemplates):(this.templatesRequested=!0,this.requestTemplatesAndShowForm())},closeForm(){this.showForm=!1},async updateIssuable(){var e,t=this;this.setFormState({updateLoading:!0});const{formState:i,issueState:n}=this,s=n.isDirty?{...i,issue_type:n.issueType}:i;null===(e=this.alert)||void 0===e||e.dismiss();return await Object(de.b)({content:s.description,contentType:de.a.DESCRIPTION})?this.service.updateIssuable(s).then((function(e){return e.data})).then((function(e){if(window.location.pathname.includes(e.web_url)||n.issueType===x.o||Object(u.R)(e.web_url),n.isDirty){const t=n.issueType===x.o?e.web_url.replace("issues","issues/incident"):e.web_url;Object(u.R)(t)}})).then(this.refetchData).then((function(){me.a.$emit("close.form")})).catch((function(e={}){const{message:i,response:n={}}=e;let s=t.defaultErrorMessage;n.data&&n.data.errors?s+=". "+n.data.errors.join(" "):i&&(s+=". "+i),t.alert=Object(p.createAlert)({message:s})})).finally((function(){t.setFormState({updateLoading:!1})})):(this.setFormState({updateLoading:!1}),!1)},hideStickyHeader(){var e;this.isStickyHeaderShowing=!1,null===(e=document.body.classList)||void 0===e||e.remove("issuable-sticky-header-visible")},showStickyHeader(){var e;this.$refs.title.$el.offsetTop<window.pageYOffset&&(this.isStickyHeaderShowing=!0),null===(e=document.body.classList)||void 0===e||e.add("issuable-sticky-header-visible")},handleSaveDescription(e){this.updateFormState(),this.setFormState({description:e}),this.updateIssuable()},taskListUpdateStarted(){this.poll.stop()},taskListUpdateSucceeded(){this.poll.enable(),this.poll.makeDelayedRequest(2e3)},taskListUpdateFailed(){this.poll.enable(),this.poll.makeDelayedRequest(2e3),this.refetchData()}}},hi=Object($.a)(pi,(function(){var e=this,t=e._self._c;return t("div",[e.canUpdate&&e.showForm?t("div",[t("form-component",{attrs:{endpoint:e.endpoint,"form-state":e.formState,"initial-description-text":e.initialDescriptionText,"issuable-templates":e.formState.issuableTemplates,"markdown-docs-path":e.markdownDocsPath,"markdown-preview-path":e.markdownPreviewPath,"project-path":e.projectPath,"project-id":e.projectId,"project-namespace":e.projectNamespace,"can-attach-file":e.canAttachFile,"enable-autocomplete":e.enableAutocomplete,"issuable-type":e.issuableType},on:{updateForm:e.setFormState}})],1):t("div",[t("title-component",{ref:"title",attrs:{"issuable-ref":e.issuableRef,"can-update":e.canUpdate,"title-html":e.state.titleHtml,"title-text":e.state.titleText},scopedSlots:e._u([{key:"actions",fn:function(){return[e._t("actions",(function(){return[t("header-actions")]}))]},proxy:!0}],null,!0)}),e._v(" "),e.shouldShowStickyHeader?t("sticky-header",{attrs:{"is-confidential":e.isConfidential,"is-hidden":e.isHidden,"is-imported":e.isImported,"is-locked":e.isLocked,"issuable-state":e.issuableStatus,"issuable-type":e.issuableType,show:e.isStickyHeaderShowing,title:e.state.titleText,"duplicated-to-issue-url":e.duplicatedToIssueUrl,"moved-to-issue-url":e.movedToIssueUrl,"promoted-to-epic-url":e.promotedToEpicUrl},on:{hide:e.hideStickyHeader,show:e.showStickyHeader}}):e._e(),e._v(" "),e._t("header",(function(){return[t("issue-header",{staticClass:"gl-mt-2 gl-p-0",class:e.headerClasses,attrs:{author:e.author,confidential:e.isConfidential,"created-at":e.createdAt,"duplicated-to-issue-url":e.duplicatedToIssueUrl,"is-first-contribution":e.isFirstContribution,"is-hidden":e.isHidden,"is-imported":e.isImported,"is-locked":e.isLocked,"issuable-state":e.issuableStatus,"issuable-type":e.issuableType,"moved-to-issue-url":e.movedToIssueUrl,"promoted-to-epic-url":e.promotedToEpicUrl,"service-desk-reply-to":e.serviceDeskReplyTo}})]})),e._v(" "),t("pinned-links",{class:e.pinnedLinkClasses,attrs:{"zoom-meeting-url":e.zoomMeetingUrl,"published-incident-url":e.publishedIncidentUrl}}),e._v(" "),t(e.descriptionComponent,{tag:"component",attrs:{"issue-id":e.issueId,"issue-iid":e.issueIid,"can-update":e.canUpdate,"description-html":e.state.descriptionHtml,"description-text":e.state.descriptionText,"updated-at":e.state.updatedAt,"issuable-type":e.issuableType,"update-url":e.updateEndpoint,"lock-version":e.state.lock_version,"is-updating":e.formState.updateLoading},on:{saveDescription:e.handleSaveDescription,taskListUpdateStarted:e.taskListUpdateStarted,taskListUpdateSucceeded:e.taskListUpdateSucceeded,taskListUpdateFailed:e.taskListUpdateFailed,updateDescription:function(t){e.state.descriptionHtml=t}}}),e._v(" "),t("edited-component",{staticClass:"gl-mt-4",attrs:{"task-completion-status":e.state.taskCompletionStatus,"updated-at":e.state.updatedAt,"updated-by-name":e.state.updatedByName,"updated-by-path":e.state.updatedByPath}})],2)])}),[],!1,null,null,null).exports,mi=i("sF+2"),fi=i("pbPB"),gi=i("hlfj"),vi=i("Yy82"),bi=i("OlWj"),yi=i.n(bi),ki=i("bOix"),wi={components:{GlLink:ut.a,IncidentSla:function(){return Promise.resolve().then(i.bind(null,"4b03"))}},directives:{GlTooltip:St.a},props:{alert:{type:Object,required:!1,default:null}},data:()=>({childHasData:!1}),computed:{startTime(){return Object(ki.l)(this.alert.startedAt,"yyyy-mm-dd Z")},showHighlightBar(){return this.alert||this.childHasData}},methods:{update(e){this.childHasData=e}}},Si=Object($.a)(wi,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showHighlightBar,expression:"showHighlightBar"}],staticClass:"gl-mb-3 gl-flex gl-flex-col gl-justify-between gl-rounded-base gl-border-1 gl-border-solid gl-border-default gl-p-5 sm:gl-flex-row"},[e.alert?t("div",{staticClass:"gl-mr-3"},[t("span",{staticClass:"gl-font-bold"},[e._v(e._s(e.s__("HighlightBar|Original alert:")))]),e._v(" "),t("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.alert.title,href:e.alert.detailsUrl}},[e._v("\n      #"+e._s(e.alert.iid)+"\n    ")])],1):e._e(),e._v(" "),e.alert?t("div",{staticClass:"gl-mr-3"},[t("span",{staticClass:"gl-font-bold"},[e._v(e._s(e.s__("HighlightBar|Alert start time:")))]),e._v("\n    "+e._s(e.startTime)+"\n  ")]):e._e(),e._v(" "),e.alert?t("div",{staticClass:"gl-mr-3"},[t("span",{staticClass:"gl-font-bold"},[e._v(e._s(e.s__("HighlightBar|Alert events:")))]),e._v(" "),t("span",[e._v(e._s(e.alert.eventCount))])]):e._e(),e._v(" "),t("incident-sla",{on:{update:e.update}})],1)}),[],!1,null,null,null).exports,_i=i("FkSe"),Ii=i("zUX4"),Ti=i.n(Ii);i("3UXl"),i("iyoE");const Oi={comment:"comment",issues:"issues",label:"label",status:"status",default:"comment"},Ci=function(e=null){const t=e?new Date(e):new Date;return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t},xi=function(e=[]){return e.map((function({name:e}){return e}))},ji=Object.freeze({title:Object(g.g)("Incident|Timeline"),emptyDescription:Object(g.g)("Incident|No timeline items have been added yet."),addEventButton:Object(g.g)("Incident|Add new timeline event")}),Ei=Object.freeze({createError:Object(g.g)("Incident|Error creating incident timeline event: %{error}"),createErrorGeneric:Object(g.g)("Incident|Something went wrong while creating the incident timeline event."),areaPlaceholder:Object(g.g)("Incident|Timeline text..."),areaDefaultMessage:Object(g.g)("Incident|Incident"),selectTags:Object(g.a)("Select tags"),tagsLabel:Object(g.a)("Event tag (optional)"),save:Object(g.a)("Save"),cancel:Object(g.a)("Cancel"),delete:Object(g.a)("Delete"),description:Object(g.a)("Description"),hint:Object(g.a)("You can enter up to 280 characters"),textRemaining:function(e){return Object(g.f)("%d character remaining","%d characters remaining",e)},saveAndAdd:Object(g.g)("Incident|Save and add another event"),areaLabel:Object(g.g)("Incident|Timeline text")}),Di=Object.freeze({deleteButton:Object(g.g)("Incident|Delete event"),deleteError:Object(g.g)("Incident|Error deleting incident timeline event: %{error}"),deleteErrorGeneric:Object(g.g)("Incident|Something went wrong while deleting the incident timeline event."),deleteModal:Object(g.g)("Incident|Are you sure you want to delete this event?"),editError:Object(g.g)("Incident|Error updating incident timeline event: %{error}"),editErrorGeneric:Object(g.g)("Incident|Something went wrong while updating the incident timeline event.")}),Ni=Object.freeze({delete:Object(g.a)("Delete"),edit:Object(g.a)("Edit"),moreActions:Object(g.a)("More actions"),timeUTC:Object(g.a)("%{time} UTC")}),Ai=Object.freeze({startTime:Object(g.a)("Start time"),impactDetected:Object(g.a)("Impact detected"),responseInitiated:Object(g.a)("Response initiated"),impactMitigated:Object(g.a)("Impact mitigated"),causeIdentified:Object(g.a)("Cause identified"),endTime:Object(g.a)("End time")}),Pi=Object.freeze({title:Object(g.g)("Incident|Event tag"),message:Object(g.g)("Incident|Adding an event tag associates the timeline comment with specific incident metrics."),link:Object(g.a)("Learn more")}),Fi=Object.values(Ai).map((function(e){return{text:e,value:e}}));var Li=i("TKCn"),Ri=i.n(Li),qi=i("vZ/O"),$i=i("47in"),Bi=i("IeAI"),Mi=i("qLpH"),Vi={name:"TimelineEventsTagsPopover",components:{GlPopover:L.a,GlLink:ut.a,HelpIcon:R.a},i18n:Pi,learnMoreLink:Object(Mi.a)("operations/incident_management/incident_timeline_events",{anchor:"incident-tags"})},Ui=Object($.a)(Vi,(function(){var e=this,t=e._self._c;return t("span",[t("help-icon",{attrs:{id:"timeline-events-tag-question"}}),e._v(" "),t("gl-popover",{attrs:{target:"timeline-events-tag-question",triggers:"hover focus",placement:"top",container:"viewport",title:e.$options.i18n.title}},[t("div",[t("p",{staticClass:"gl-mb-0"},[e._v("\n        "+e._s(e.$options.i18n.message)+"\n      ")]),e._v(" "),t("gl-link",{staticClass:"gl-text-sm",attrs:{target:"_blank",href:e.$options.learnMoreLink}},[e._v(e._s(e.$options.i18n.link))]),e._v(".\n    ")],1)])],1)}),[],!1,null,null,null).exports,Gi={name:"TimelineEventsForm",restrictedToolBarItems:["quote","strikethrough","bullet-list","numbered-list","task-list","collapsible-section","table","attach-file","full-screen"],components:{MarkdownField:Bi.a,TimelineEventsTagsPopover:Ui,GlDatepicker:qi.a,GlFormInput:nt.a,GlFormGroup:it.a,GlButton:Ue.a,GlCollapsibleListbox:M.a,GlFormTextarea:$i.a},mixins:[Object(Dt.a)()],i18n:Ei,MAX_TEXT_LENGTH:280,props:{showSaveAndAdd:{type:Boolean,required:!1,default:!1},isEditing:{type:Boolean,required:!1,default:!1},isEventProcessed:{type:Boolean,required:!0},previousOccurredAt:{type:String,required:!1,default:null},previousNote:{type:String,required:!1,default:""},previousTags:{type:Array,required:!1,default:function(){return[]}},tags:{type:Array,required:!1,default:function(){return Fi}}},data(){const e=Ci(this.previousOccurredAt);return{timelineText:this.previousNote,timelineTextIsDirty:this.isEditing,placeholderDate:e,hourPickerInput:e.getHours(),minutePickerInput:e.getMinutes(),datePickerInput:e,selectedTags:xi(this.previousTags)}},computed:{isTimelineTextValid(){return this.timelineTextCount>0&&this.timelineTextRemainingCount>=0},occurredAtString(){const e=this.datePickerInput.getFullYear(),t=this.datePickerInput.getMonth(),i=this.datePickerInput.getDate();return new Date(Date.UTC(e,t,i,this.hourPickerInput,this.minutePickerInput)).toISOString()},timelineTextRemainingCount(){return 280-this.timelineTextCount},timelineTextCount(){return this.timelineText.length},listboxText(){if(!this.selectedTags.length)return Ei.selectTags;return 1===this.selectedTags.length?this.selectedTags[0]:Object(g.h)(Object(g.a)("%{numberOfSelectedTags} tags"),{numberOfSelectedTags:this.selectedTags.length})}},mounted(){this.focusDate()},methods:{clear(){const e=Ci();this.datePickerInput=e,this.hourPickerInput=e.getHours(),this.minutePickerInput=e.getMinutes(),this.timelineText="",this.selectedTags=[]},focusDate(){var e;null===(e=this.$refs.datepicker.$el.querySelector("input"))||void 0===e||e.focus()},setTimelineTextDirty(){this.timelineTextIsDirty=!0},onTagsChange(e){this.selectedTags=[...e],this.timelineTextIsDirty||(this.timelineText=this.generateTimelineTextFromTags(this.selectedTags))},generateTimelineTextFromTags(e){if(!e.length)return"";const t=e.map((function(e){return e.toLocaleLowerCase()})).join(", ");return`${Ei.areaDefaultMessage} ${t}`},handleSave(e){const t={note:this.timelineText,occurredAt:this.occurredAtString,timelineEventTags:this.selectedTags};this.$emit("save-event",t,e)}}},Wi=Object($.a)(Gi,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"gl-grow gl-border-subtle"},[t("div",{staticClass:"gl-mt-3 gl-flex gl-flex-col sm:gl-flex-row"},[t("gl-form-group",{staticClass:"gl-mr-5",attrs:{label:e.__("Date")}},[t("gl-datepicker",{ref:"datepicker",attrs:{id:"incident-date"},model:{value:e.datePickerInput,callback:function(t){e.datePickerInput=t},expression:"datePickerInput"}})],1),e._v(" "),t("div",{staticClass:"gl-flex"},[t("gl-form-group",{attrs:{label:e.__("Time")}},[t("div",{staticClass:"gl-flex"},[t("label",{staticClass:"sr-only",attrs:{"label-for":"timeline-input-hours"}}),e._v(" "),t("gl-form-input",{attrs:{id:"timeline-input-hours","data-testid":"input-hours",width:"xs",type:"number",min:"00",max:"23"},model:{value:e.hourPickerInput,callback:function(t){e.hourPickerInput=t},expression:"hourPickerInput"}}),e._v(" "),t("label",{staticClass:"sr-only",attrs:{"label-for":"timeline-input-minutes"}}),e._v(" "),t("gl-form-input",{staticClass:"gl-ml-3",attrs:{id:"timeline-input-minutes","data-testid":"input-minutes",width:"xs",type:"number",min:"00",max:"59"},model:{value:e.minutePickerInput,callback:function(t){e.minutePickerInput=t},expression:"minutePickerInput"}})],1)]),e._v(" "),t("p",{staticClass:"gl-ml-3 gl-self-end gl-leading-32"},[e._v(e._s(e.__("UTC")))])],1)],1),e._v(" "),t("gl-form-group",[t("label",{staticClass:"gl-flex gl-items-center gl-gap-3",attrs:{for:"timeline-input-tags"}},[e._v("\n      "+e._s(e.$options.i18n.tagsLabel)+"\n      "),t("timeline-events-tags-popover")],1),e._v(" "),t("gl-collapsible-listbox",{attrs:{id:"timeline-input-tags",selected:e.selectedTags,"toggle-text":e.listboxText,items:e.tags,"is-check-centered":!0,multiple:!0},on:{select:e.onTagsChange}})],1),e._v(" "),t("div",{staticClass:"common-note-form"},[t("gl-form-group",{staticClass:"gl-mb-3",attrs:{label:e.$options.i18n.areaLabel}},[t("markdown-field",{staticClass:"gl-border gl-mt-0 gl-rounded-base gl-border-section",attrs:{"can-attach-file":!1,"add-spacing-classes":!1,"show-comment-tool-bar":!1,"textarea-value":e.timelineText,"restricted-tool-bar-items":e.$options.restrictedToolBarItems,"markdown-docs-path":"","enable-preview":!1},scopedSlots:e._u([{key:"textarea",fn:function(){return[t("gl-form-textarea",{staticClass:"note-textarea-rounded-bottom js-gfm-input js-autosize markdown-area !gl-font-monospace",attrs:{"data-testid":"input-note",dir:"auto","no-resize":"","data-supports-quick-actions":"false","aria-label":e.$options.i18n.description,"aria-describedby":"timeline-form-hint",placeholder:e.$options.i18n.areaPlaceholder,maxlength:e.$options.MAX_TEXT_LENGTH},on:{input:e.setTimelineTextDirty},model:{value:e.timelineText,callback:function(t){e.timelineText=t},expression:"timelineText"}}),e._v(" "),t("div",{staticClass:"gl-sr-only",attrs:{id:"timeline-form-hint"}},[e._v(e._s(e.$options.i18n.hint))]),e._v(" "),t("div",{staticClass:"gl-absolute gl-bottom-2 gl-right-4 gl-text-sm gl-text-subtle",attrs:{"aria-hidden":"true"}},[e._v("\n            "+e._s(e.timelineTextRemainingCount)+"\n          ")]),e._v(" "),t("div",{staticClass:"gl-sr-only",attrs:{role:"status"}},[e._v("\n            "+e._s(e.$options.i18n.textRemaining(e.timelineTextRemainingCount))+"\n          ")])]},proxy:!0}])})],1)],1),e._v(" "),t("gl-form-group",{staticClass:"gl-mb-3"},[t("div",{staticClass:"gl-flex gl-flex-wrap gl-gap-3"},[t("gl-button",{attrs:{variant:"confirm",category:"primary","data-testid":"save-button",disabled:!e.isTimelineTextValid,loading:e.isEventProcessed},on:{click:function(t){return e.handleSave(!1)}}},[e._v("\n        "+e._s(e.$options.i18n.save)+"\n      ")]),e._v(" "),e.showSaveAndAdd?t("gl-button",{attrs:{variant:"confirm",category:"secondary","data-testid":"save-and-add-button",disabled:!e.isTimelineTextValid,loading:e.isEventProcessed},on:{click:function(t){return e.handleSave(!0)}}},[e._v("\n        "+e._s(e.$options.i18n.saveAndAdd)+"\n      ")]):e._e(),e._v(" "),t("gl-button",{attrs:{disabled:e.isEventProcessed,"data-testid":"cancel-button"},on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n        "+e._s(e.$options.i18n.cancel)+"\n      ")]),e._v(" "),e.isEditing?t("gl-button",{staticClass:"gl-ml-auto",attrs:{variant:"danger","data-testid":"delete-button",disabled:e.isEventProcessed},on:{click:function(t){return e.$emit("delete")}}},[e._v("\n        "+e._s(e.$options.i18n.delete)+"\n      ")]):e._e()],1),e._v(" "),t("div",{staticClass:"timeline-event-bottom-border"})])],1)}),[],!1,null,null,null).exports,Hi=i("Adug"),zi=i.n(Hi),Ki={name:"CreateTimelineEvent",i18n:Ei,components:{TimelineEventsForm:Wi,GlIcon:V.a},inject:["fullPath","issuableId"],props:{hasTimelineEvents:{type:Boolean,required:!0}},data:()=>({createTimelineEventActive:!1}),methods:{clearForm(){this.$refs.eventForm.clear()},updateCache(e,{data:t}){const{timelineEvent:i,errors:n}=(null==t?void 0:t.timelineEventCreate)||{};if(n.length)return;const s={incidentId:Object(Q.c)(_e.u,this.issuableId),fullPath:this.fullPath},a=e.readQuery({query:Ti.a,variables:s}),r=Object(H.b)(a,(function(e){const{nodes:t}=e.project.incidentManagementTimelineEvents;t.push(i);const n=Ri()(t,"occurredAt");e.project.incidentManagementTimelineEvents.nodes=n}));e.writeQuery({query:Ti.a,variables:s,data:r})},createIncidentTimelineEvent(e,t=!1){var i=this;return this.createTimelineEventActive=!0,this.$apollo.mutate({mutation:zi.a,variables:{input:{incidentId:Object(Q.c)(_e.u,this.issuableId),note:e.note,occurredAt:e.occurredAt,timelineEventTagNames:e.timelineEventTags}},update:this.updateCache}).then((function({data:e={}}){var n;i.createTimelineEventActive=!1;const s=null===(n=e.timelineEventCreate)||void 0===n?void 0:n.errors;s.length?Object(p.createAlert)({message:Object(g.h)(i.$options.i18n.createError,{error:s.join(". ")},!1)}):t?i.$refs.eventForm.clear():i.$emit("hide-new-timeline-events-form")})).catch((function(e){Object(p.createAlert)({message:i.$options.i18n.createErrorGeneric,captureError:!0,error:e})}))}}},Qi=Object($.a)(Ki,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"create-timeline-event gl-relative gl-flex gl-items-start"},[e.hasTimelineEvents?t("div",{staticClass:"gl-z-1 gl-mt-2 gl-flex gl-h-8 gl-w-8 gl-shrink-0 gl-items-center gl-justify-center gl-self-start gl-rounded-full gl-border-1 gl-border-solid gl-border-default gl-bg-default gl-p-3"},[t("gl-icon",{staticClass:"note-icon",attrs:{name:"comment",variant:"subtle"}})],1):e._e(),e._v(" "),t("timeline-events-form",{ref:"eventForm",class:{"gl-border-t gl-border-subtle gl-pt-3":e.hasTimelineEvents},attrs:{"is-event-processed":e.createTimelineEventActive,"show-save-and-add":""},on:{"save-event":e.createIncidentTimelineEvent,cancel:function(t){return e.$emit("hide-new-timeline-events-form")}}})],1)}),[],!1,null,null,null).exports,Yi=i("ejAS"),Ji=i("HiWv"),Xi={name:"IncidentTimelineEventListItem",i18n:Ni,components:{GlDisclosureDropdown:vt.a,GlIcon:V.a,GlSprintf:ct.a,GlBadge:zt.a},directives:{SafeHtml:Se.a},inject:["canUpdateTimelineEvent"],props:{occurredAt:{type:String,required:!0},action:{type:String,required:!0},noteHtml:{type:String,required:!0},eventTags:{type:Array,required:!1,default:function(){return[]}}},computed:{time(){return Object(ki.l)(this.occurredAt,"HH:MM",!0)},canEditEvent(){return"comment"===this.action},items(){var e=this;const t=[];return this.canEditEvent&&t.push({text:this.$options.i18n.edit,action:function(){e.$emit("edit")}}),t.push({text:this.$options.i18n.delete,action:function(){e.$emit("delete")}}),t}},methods:{getEventIcon:function(e){var t;return null!==(t=Oi[e])&&void 0!==t?t:Oi.default}}},Zi=Object($.a)(Xi,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"timeline-event gl-grid"},[t("div",{staticClass:"timeline-event-icon gl-border gl-z-1 gl-mt-2 gl-flex gl-h-8 gl-w-8 gl-items-center gl-justify-center gl-rounded-full gl-bg-default gl-p-3"},[t("gl-icon",{staticClass:"note-icon",attrs:{name:e.getEventIcon(e.action),variant:"subtle"}})],1),e._v(" "),t("div",{staticClass:"timeline-event-note timeline-event-border"},[t("div",{staticClass:"gl-mb-2 gl-flex gl-flex-wrap gl-items-center gl-gap-3"},[t("h3",{staticClass:"timeline-event-note-date gl-my-0 gl-text-sm gl-font-bold",attrs:{"data-testid":"event-time"}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.timeUTC},scopedSlots:e._u([{key:"time",fn:function(){return[t("span",{staticClass:"gl-text-lg"},[e._v(e._s(e.time))])]},proxy:!0}])})],1),e._v(" "),e._l(e.eventTags,(function(i){return t("gl-badge",{key:i.key,attrs:{variant:"muted",icon:"tag"}},[e._v("\n        "+e._s(i.name)+"\n      ")])}))],2),e._v(" "),t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.noteHtml,expression:"noteHtml"}],staticClass:"md"})]),e._v(" "),e.canUpdateTimelineEvent?t("gl-disclosure-dropdown",{staticClass:"event-note-actions gl-self-start",attrs:{placement:"bottom-end",icon:"ellipsis_v","text-sr-only":"","toggle-text":e.$options.i18n.moreActions,category:"tertiary","no-caret":"",items:e.items}}):e._e()],1)}),[],!1,null,null,null).exports,en={name:"EditTimelineEvent",components:{TimelineEventsForm:Wi,GlIcon:V.a},props:{event:{type:Object,required:!0,validator:function(e){return["occurredAt","note"].every((function(t){return e[t]}))}},editTimelineEventActive:{type:Boolean,required:!0}},methods:{saveEvent(e){this.$emit("handle-save-edit",{...e,id:this.event.id},!1)}}},tn=Object($.a)(en,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"edit-timeline-event gl-relative gl-flex gl-items-center"},[t("div",{staticClass:"gl-z-1 gl-mt-2 gl-flex gl-h-8 gl-w-8 gl-items-center gl-justify-center gl-self-start gl-rounded-full gl-border-1 gl-border-solid gl-border-default gl-bg-default"},[t("gl-icon",{staticClass:"note-icon",attrs:{name:"comment",variant:"subtle"}})],1),e._v(" "),t("timeline-events-form",{ref:"eventForm",staticClass:"timeline-event-border",attrs:{"is-event-processed":e.editTimelineEventActive,"previous-occurred-at":e.event.occurredAt,"previous-note":e.event.note,"previous-tags":e.event.timelineEventTags.nodes,"is-editing":""},on:{"save-event":e.saveEvent,cancel:function(t){return e.$emit("hide-edit")},delete:function(t){return e.$emit("delete")}}})],1)}),[],!1,null,null,null).exports,nn=i("Ca8i"),sn=i.n(nn),an=i("owh7"),rn=i.n(an),on={name:"IncidentTimelineEventList",i18n:Di,components:{IncidentTimelineEventItem:Zi,EditTimelineEvent:tn},props:{timelineEventLoading:{type:Boolean,required:!1,default:!0},timelineEvents:{type:Array,required:!0,default:function(){return[]}}},data:()=>({eventToEdit:null,editTimelineEventActive:!1}),computed:{dateGroupedEvents(){const e=new Map;return this.timelineEvents.forEach((function(t){const i=Object(ki.l)(t.occurredAt,"isoDate",!0);e.has(i)?e.get(i).push(t):e.set(i,[t])})),e}},methods:{handleEditSelection(e){this.eventToEdit=e.id,this.$emit("hide-new-incident-timeline-event-form")},hideEdit(){this.eventToEdit=null},handleDelete:Object(Ji.a)((async function(e){const t=this.$options.i18n.deleteModal;if(await Object(Yi.a)(t,{primaryBtnVariant:"danger",primaryBtnText:this.$options.i18n.deleteButton}))try{const t=await this.$apollo.mutate({mutation:sn.a,variables:{input:{id:e.id}},update:function(t){const i=t.identify(e);t.evict({id:i})}}),{errors:i}=t.data.timelineEventDestroy;null!=i&&i.length&&Object(p.createAlert)({message:Object(g.h)(this.$options.i18n.deleteError,{error:i.join(". ")},!1)})}catch(e){Object(p.createAlert)({message:this.$options.i18n.deleteErrorGeneric,captureError:!0,error:e})}})),handleSaveEdit(e){var t=this;return this.editTimelineEventActive=!0,this.$apollo.mutate({mutation:rn.a,variables:{input:{id:e.id,note:e.note,occurredAt:e.occurredAt,timelineEventTagNames:e.timelineEventTags}}}).then((function({data:e}){var i;t.editTimelineEventActive=!1;const n=null===(i=e.timelineEventUpdate)||void 0===i?void 0:i.errors;n.length?Object(p.createAlert)({message:Object(g.h)(t.$options.i18n.editError,{error:n.join(". ")},!1)}):t.hideEdit()})).catch((function(e){Object(p.createAlert)({message:t.$options.i18n.editErrorGeneric,captureError:!0,error:e})}))}}},ln=Object($.a)(on,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"issuable-discussion incident-timeline-events -gl-mt-3"},e._l(e.dateGroupedEvents,(function([i,n]){return t("div",{key:i,staticClass:"timeline-group",attrs:{"data-testid":"timeline-group"}},[t("h2",{staticClass:"gl-my-0 gl-border-1 gl-border-subtle gl-py-5 gl-text-size-h2 gl-border-b-solid",attrs:{"data-testid":"event-date"}},[e._v("\n      "+e._s(i)+"\n    ")]),e._v(" "),t("ul",{staticClass:"notes main-notes-list gl-mt-4"},e._l(n,(function(i,n){return t("li",{key:n,staticClass:"timeline-entry-vertical-line timeline-entry note system-note note-wrapper !gl-my-0 !gl-pr-0"},[e.eventToEdit===i.id?t("edit-timeline-event",{key:"edit-"+i.id,ref:"eventForm",refInFor:!0,attrs:{event:i,"edit-timeline-event-active":e.editTimelineEventActive},on:{"handle-save-edit":e.handleSaveEdit,"hide-edit":function(t){return e.hideEdit()},delete:function(t){return e.handleDelete(i)}}}):t("incident-timeline-event-item",{key:i.id,attrs:{action:i.action,"occurred-at":i.occurredAt,"note-html":i.noteHtml,"event-tags":i.timelineEventTags.nodes},on:{delete:function(t){return e.handleDelete(i)},edit:function(t){return e.handleEditSelection(i)}}})],1)})),0)])})),0)}),[],!1,null,null,null).exports,dn={components:{GlButton:Ue.a,GlLoadingIcon:_i.a,CreateTimelineEvent:Qi,IncidentTimelineEventsList:ln},i18n:ji,inject:["canUpdateTimelineEvent","fullPath","issuableId"],data:()=>({isEventFormVisible:!1,timelineEvents:[]}),apollo:{timelineEvents:{fetchPolicy:P.c.CACHE_AND_NETWORK,query:Ti.a,variables(){return{fullPath:this.fullPath,incidentId:Object(Q.c)(_e.u,this.issuableId)}},update:e=>e.project.incidentManagementTimelineEvents.nodes,error(e){!function(e){Object(p.createAlert)({message:Object(g.g)("Incident|Something went wrong while fetching incident timeline events."),captureError:!0,error:e})}(e)}}},computed:{timelineEventLoading(){return this.$apollo.queries.timelineEvents.loading},hasTimelineEvents(){return Boolean(this.timelineEvents.length)},showEmptyState(){return!this.timelineEventLoading&&!this.hasTimelineEvents}},mounted(){Ot.a.$on("comment-promoted-to-timeline-event",this.refreshTimelineEvents)},destroyed(){Ot.a.$off("comment-promoted-to-timeline-event",this.refreshTimelineEvents)},methods:{refreshTimelineEvents(){this.$apollo.queries.timelineEvents.refetch()},hideEventForm(){this.isEventFormVisible=!1},showEventForm(){this.isEventFormVisible=!0}}},cn=Object($.a)(dn,(function(){var e=this,t=e._self._c;return t("div",[e.timelineEventLoading?t("gl-loading-icon",{staticClass:"gl-mt-5",attrs:{size:"lg",color:"dark"}}):e._e(),e._v(" "),e.showEmptyState?t("div",{staticClass:"gl-mt-4"},[t("p",{staticClass:"gl-mb-0"},[e._v(e._s(e.$options.i18n.emptyDescription))])]):e._e(),e._v(" "),e.hasTimelineEvents?t("incident-timeline-events-list",{attrs:{"timeline-event-loading":e.timelineEventLoading,"timeline-events":e.timelineEvents},on:{"hide-new-timeline-events-form":e.hideEventForm}}):e._e(),e._v(" "),e.isEventFormVisible?t("create-timeline-event",{ref:"createEventForm",staticClass:"timeline-event-note timeline-event-note-form",class:{"gl-pl-0":!e.hasTimelineEvents},attrs:{"has-timeline-events":e.hasTimelineEvents},on:{"hide-new-timeline-events-form":e.hideEventForm}}):e._e(),e._v(" "),e.canUpdateTimelineEvent?t("gl-button",{staticClass:"gl-mb-3 gl-mt-6",attrs:{variant:"default"},on:{click:e.showEventForm}},[e._v("\n    "+e._s(e.$options.i18n.addEventButton)+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports;const un=Object.freeze({summaryTitle:Object(g.g)("Incident|Summary"),metricsTitle:Object(g.g)("Incident|Metrics"),alertsTitle:Object(g.g)("Incident|Alert details"),timelineTitle:Object(g.g)("Incident|Timeline")}),pn=Object.freeze({SUMMARY:"",ALERTS:"alerts",METRICS:"metrics",TIMELINE:"timeline"});var hn={components:{AlertDetailsTable:vi.a,DescriptionComponent:$e,GlTab:mi.a,GlTabs:fi.a,HighlightBar:Si,TimelineTab:cn,IncidentMetricTab:function(){return Promise.resolve().then(i.bind(null,"4b03"))}},inject:["fullPath","iid","hasLinkedAlerts","uploadMetricsFeatureAvailable"],i18n:un,apollo:{alert:{query:yi.a,variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t;return null==e||null===(t=e.project)||void 0===t||null===(t=t.issue)||void 0===t?void 0:t.alertManagementAlert},error(){Object(p.createAlert)({message:Object(g.g)("Incident|There was an issue loading alert data. Please try again.")})}}},data:()=>({alert:null}),computed:{loading(){return this.$apollo.queries.alert.loading},activeTabIndex(){const{tabId:e}=this.$route.params;return e?this.tabMapping.tabNamesToIndex[e]:0},tabMapping(){const e=[pn.SUMMARY];this.uploadMetricsFeatureAvailable&&e.push(pn.METRICS),this.hasLinkedAlerts&&e.push(pn.ALERTS),e.push(pn.TIMELINE);const t={},i={};return e.forEach((function(e,n){t[e]=n,i[n]=e})),{tabNamesToIndex:t,tabIndexToName:i}},currentTabIndex:{get(){return this.activeTabIndex},set(e){const t="/"+this.tabMapping.tabIndexToName[e];t!==this.$route.path&&(this.$router.push(t),this.updateJsIssueWidgets(e))}}},mounted(){this.trackPageViews(),this.updateJsIssueWidgets(this.activeTabIndex)},methods:{trackPageViews(){const{category:e,action:t}=gi.k;U.b.event(e,t)},updateJsIssueWidgets(e){const t=document.querySelector(".js-issue-details");if(null!==t){const i=t.querySelectorAll(".js-issue-widgets"),n=t.querySelector(".js-detail-page-description"),s=document.querySelector(".js-issuable-edit"),a=0===e;n.classList.toggle("gl-border-b-0",!a),i.forEach((function(e){e.classList.toggle("gl-hidden",!a)})),null==s||s.classList.toggle("md:!gl-block",a)}}}},mn=Object($.a)(hn,(function(){var e=this,t=e._self._c;return t("div",[t("gl-tabs",{staticClass:"-gl-mt-3",attrs:{"content-class":"gl-leading-reset","data-testid":"incident-tabs"},model:{value:e.currentTabIndex,callback:function(t){e.currentTabIndex=t},expression:"currentTabIndex"}},[t("gl-tab",{attrs:{title:e.$options.i18n.summaryTitle,"data-testid":"summary-tab"}},[t("highlight-bar",{attrs:{alert:e.alert}}),e._v(" "),t("description-component",e._g(e._b({},"description-component",e.$attrs,!1),e.$listeners))],1),e._v(" "),e.uploadMetricsFeatureAvailable?t("gl-tab",{attrs:{title:e.$options.i18n.metricsTitle,"data-testid":"metrics-tab"}},[t("incident-metric-tab")],1):e._e(),e._v(" "),e.hasLinkedAlerts?t("gl-tab",{staticClass:"alert-management-details",attrs:{title:e.$options.i18n.alertsTitle,"data-testid":"alert-details-tab"}},[t("alert-details-table",{attrs:{alert:e.alert,loading:e.loading}})],1):e._e(),e._v(" "),t("gl-tab",{attrs:{title:e.$options.i18n.timelineTitle,"data-testid":"timeline-tab"}},[t("timeline-tab")],1)],1)],1)}),[],!1,null,null,null).exports,fn={name:"SentryErrorStackTrace",components:{Stacktrace:i("LL4O").a,GlLoadingIcon:_i.a},props:{issueStackTracePath:{type:String,required:!0}},computed:{...Object(te.f)("details",["loadingStacktrace","stacktraceData"]),...Object(te.d)("details",["stacktrace"])},mounted(){this.startPollingStacktrace(this.issueStackTracePath)},methods:{...Object(te.c)("details",["startPollingStacktrace"])}},gn=Object($.a)(fn,(function(){var e=this._self._c;return e("div",[e("div",{staticClass:"card card-slim mt-4 mb-0",class:{"border-bottom-0":this.loadingStacktrace}},[e("div",{staticClass:"card-header border-bottom-0"},[e("h5",{staticClass:"card-title my-1"},[this._v(this._s(this.__("Stack trace")))])])]),this._v(" "),this.loadingStacktrace?e("div",{staticClass:"card"},[e("gl-loading-icon",{staticClass:"py-2",attrs:{label:"Fetching stack trace",size:"sm"}})],1):e("stacktrace",{attrs:{entries:this.stacktrace}})],1)}),[],!1,null,null,null).exports,vn=i("lRsd");y.default.use(vn.a);var bn=function(e,t=null){const i=e.replace(new RegExp(`/${t}$`),""),n=new vn.a({mode:"history",base:i,routes:[{path:"/:tabId",name:"tab"}]});return t&&n.push("/"+t),n};let yn;function kn(e){const t=document.getElementById("js-issuable-app");if(!t)return;const i=function(e){try{if(yn)return yn;const t=JSON.parse(e.dataset.initial);return t.initialTitleHtml=Object(oe.b)(t.initialTitleHtml),t.initialDescriptionHtml=Object(oe.b)(t.initialDescriptionHtml),yn=t,t}catch(e){return _t.b(e),{}}}(t),n=Object(k.g)(JSON.parse(t.dataset.headerActionsData)),{authorId:s,authorName:a,authorUsername:r,authorWebUrl:o,canCreateIncident:l,fullPath:d,iid:c,issuableId:u,issueType:p,hasIterationsFeature:h,imported:m,registerPath:f,signInPath:g,canUpdate:v,canUpdateTimelineEvent:b,currentPath:w,currentTab:S,hasLinkedAlerts:_,projectId:I,slaFeatureAvailable:T,uploadMetricsFeatureAvailable:O}=i,C={registerPath:f,signInPath:g},j={canUpdate:v,canUpdateTimelineEvent:b,hasLinkedAlerts:Object(k.H)(_),projectId:I,slaFeatureAvailable:Object(k.H)(T),uploadMetricsFeatureAvailable:Object(k.H)(O)};return function(e={}){Z.a.clients.defaultClient.cache.writeQuery({query:ge.a,data:{issueState:e}})}({...he,issueType:p}),p===x.o&&function(){const e=document.querySelector(".js-linked-resources-root");if(e){const{issuableId:t,canAddResourceLinks:i,helpPath:n}=e.dataset,s=new A.b({defaultClient:Object(P.b)()});new y.default({el:e,name:"LinkedResourcesRoot",apolloProvider:s,components:{ResourceLinksBlock:ne.default},render:function(e){return e("resource-links-block",{props:{helpPath:n,issuableId:parseInt(t,10),canAddResourceLinks:Object(k.H)(i)}})}})}}(),new y.default({el:t,name:"DescriptionRoot",apolloProvider:Z.a,store:e,router:p===x.o?bn(w,S):void 0,provide:{canCreateIncident:l,fullPath:d,iid:c,issuableId:u,issueType:p,hasIterationsFeature:h,...p===x.p&&C,...p===x.o&&j,canCreateIssue:p===x.o?Object(k.H)(n.canCreateIncident):Object(k.H)(n.canCreateIssue),canDestroyIssue:Object(k.H)(n.canDestroyIssue),canPromoteToEpic:Object(k.H)(n.canPromoteToEpic),canReopenIssue:Object(k.H)(n.canReopenIssue),canReportSpam:Object(k.H)(n.canReportSpam),canUpdateIssue:Object(k.H)(n.canUpdateIssue),isIssueAuthor:Object(k.H)(n.isIssueAuthor),issuePath:n.issuePath,newIssuePath:n.newIssuePath,projectPath:n.projectPath,reportAbusePath:n.reportAbusePath,reportedUserId:n.reportedUserId,reportedFromUrl:n.reportedFromUrl,submitAsSpamPath:n.submitAsSpamPath,issuableEmailAddress:n.issuableEmailAddress},computed:{...Object(te.d)(["getNoteableData"])},render(e){var t,n,l,d,c;return e(hi,{props:{...i,author:{id:s,name:a,username:r,webUrl:o},descriptionComponent:p===x.o?mn:$e,isConfidential:null===(t=this.getNoteableData)||void 0===t?void 0:t.confidential,isLocked:null===(n=this.getNoteableData)||void 0===n?void 0:n.discussion_locked,isImported:m,issuableStatus:null===(l=this.getNoteableData)||void 0===l?void 0:l.state,issuableType:p,issueId:null===(d=this.getNoteableData)||void 0===d||null===(d=d.id)||void 0===d?void 0:d.toString(),issueIid:null===(c=this.getNoteableData)||void 0===c||null===(c=c.iid)||void 0===c?void 0:c.toString(),showTitleBorder:p!==x.o}})}})}var wn=i("goDm"),Sn=i("cyZB"),_n=i("Ocj7");y.default.use(te.b);const In=function(){return new te.b.Store(Object(_n.a)())};const Tn=In();var On=i("DBhb"),Cn=i("q/Yt"),xn=i("Gn8k"),jn=i("Q33P"),En=i.n(jn),Dn=i("J6Lq"),Nn=i("HSGN"),An=i.n(Nn),Pn=i("Lio7"),Fn=i("R76v"),Ln=i("VDDM"),Rn=i("RqH1"),qn=i("dkwd"),$n=i("vjeQ"),Bn={components:{GlAlert:Me.a,GlDisclosureDropdown:vt.a,GlDisclosureDropdownItem:yt.b,CrudComponent:K.a,WorkItemLinksForm:qn.a,WorkItemDetailModal:Ln.a,WorkItemAbuseModal:Rn.a,WorkItemChildrenWrapper:$n.default,WorkItemChildrenLoadMore:Pn.a,WorkItemMoreActions:Fn.a},directives:{GlTooltip:St.a},inject:["fullPath","reportAbusePath"],props:{issuableId:{type:Number,required:!0},issuableIid:{type:Number,required:!0}},apollo:{workItem:{query:An.a,variables(){return{id:this.issuableGid,pageSize:Ae.d,endCursor:""}},update(e){var t;return null!==(t=e.workItem)&&void 0!==t?t:{}},skip(){return!this.issuableId},error(e){this.error=e.message||this.$options.i18n.fetchError},async result(){var e;const t=Object(u.p)("work_item_iid"),i=Object(u.p)(Ae.g);this.activeChild=null!==(e=this.children.find((function(e){return Object(Q.e)(e.id)===Object(Q.e)(i)||e.iid===t})))&&void 0!==e?e:{},await this.$nextTick(),En()(this.activeChild)?(this.updateQueryParam(),this.hasNextPage&&0===this.children.length&&this.fetchNextPage()):this.$refs.modal.show()}},parentIssue:{query:we.a,variables(){return{id:Object(Q.c)(_e.u,this.issuableId)}},update:function(e){return e.issue}}},data:()=>({activeChild:{},error:void 0,parentIssue:null,formType:null,workItem:null,isReportModalOpen:!1,reportedUserId:0,reportedUrl:"",widgetName:Ae.ib,showLabels:!0,showClosed:!0,fetchNextPageInProgress:!1,disableContent:!1,showLabelsLocalStorageKey:Ae.Wb,showClosedLocalStorageKey:Ae.Zb}),computed:{confidential(){var e,t;return(null===(e=this.parentIssue)||void 0===e?void 0:e.confidential)||(null===(t=this.workItem)||void 0===t?void 0:t.confidential)||!1},iid(){return String(this.issuableIid)},issuableIteration(){var e;return null===(e=this.parentIssue)||void 0===e?void 0:e.iteration},issuableMilestone(){var e;return null===(e=this.parentIssue)||void 0===e?void 0:e.milestone},hierarchyWidget(){return this.workItem?Object(Dn.h)(this.workItem.widgets):{}},children(){var e;return(null===(e=this.hierarchyWidget)||void 0===e||null===(e=e.children)||void 0===e?void 0:e.nodes)||[]},canUpdate(){var e;return(null===(e=this.workItem)||void 0===e?void 0:e.userPermissions.updateWorkItem)||!1},canAddTask(){var e;return(null===(e=this.workItem)||void 0===e?void 0:e.userPermissions.adminParentLink)||!1},isChildrenEmpty(){var e;return 0===(null===(e=this.children)||void 0===e?void 0:e.length)},issuableGid(){return this.issuableId?Object(Q.c)(_e.E,this.issuableId):null},isLoading(){return this.$apollo.queries.workItem.loading},childrenIds(){return this.children.map((function(e){return e.id}))},childrenCountLabel(){return this.isLoading&&0===this.children.length?"...":this.children.length},activeChildNamespaceFullPath(){var e;return null===(e=this.activeChild.namespace)||void 0===e?void 0:e.fullPath},pageInfo(){var e;return null===(e=this.hierarchyWidget)||void 0===e||null===(e=e.children)||void 0===e?void 0:e.pageInfo},endCursor(){var e;return(null===(e=this.pageInfo)||void 0===e?void 0:e.endCursor)||""},hasNextPage(){var e;return null===(e=this.pageInfo)||void 0===e?void 0:e.hasNextPage},workItemType(){var e;return(null===(e=this.workItem)||void 0===e||null===(e=e.workItemType)||void 0===e?void 0:e.name)||""},hasAllChildItemsHidden(){return 0===Object(Dn.m)(this.showClosed)(this.children).length}},mounted(){this.showLabels=Object(Dn.o)(this.showLabelsLocalStorageKey),this.showClosed=Object(Dn.o)(this.showClosedLocalStorageKey)},methods:{showAddForm(e){var t=this;this.$refs.workItemsLinks.showForm(),this.formType=e,this.$nextTick((function(){var e;null===(e=t.$refs.wiLinksForm.$refs.wiTitleInput)||void 0===e||e.$el.focus()}))},hideAddForm(){this.$refs.workItemsLinks.hideForm()},openChild({event:e,child:t}){e.preventDefault(),this.activeChild=t,this.$refs.modal.show(),this.updateQueryParam(t.id)},async closeModal(){this.updateQueryParam()},handleWorkItemDeleted(e){const{defaultClient:t}=this.$apollo.provider.clients;Object(Oe.d)({cache:t,fullPath:this.fullPath,iid:this.iid,workItem:e}),this.$toast.show(Object(g.g)("WorkItem|Task deleted"))},updateQueryParam(e){Object(u.O)({url:Object(u.L)({[Ae.g]:Object(Q.e)(e)}),replace:!0})},toggleReportAbuseModal(e,t={}){this.isReportModalOpen=e,this.reportedUrl=t.url,this.reportedUserId=t.author?Object(Q.e)(t.author.id):0},openReportAbuseModal(e){this.toggleReportAbuseModal(!0,e)},toggleShowLabels(){this.showLabels=!this.showLabels,Object(Dn.E)(this.showLabelsLocalStorageKey,this.showLabels)},toggleShowClosed(){this.showClosed=!this.showClosed,Object(Dn.E)(this.showClosedLocalStorageKey,this.showClosed)},setShowLabelsFromLocalStorage(){},async fetchNextPage(){if(this.hasNextPage&&!this.fetchNextPageInProgress){this.fetchNextPageInProgress=!0;try{await this.$apollo.queries.workItem.fetchMore({variables:{endCursor:this.endCursor}})}catch(e){Object(p.createAlert)({message:Object(g.g)("Hierarchy|Something went wrong while fetching children."),captureError:!0,error:e})}finally{this.fetchNextPageInProgress=!1}}}},i18n:{title:Object(g.g)("WorkItem|Child items"),fetchError:Object(g.g)("WorkItem|Something went wrong when fetching child items. Please refresh this page."),emptyStateMessage:Object(g.g)("WorkItem|No child items are currently assigned. Use child items to break down this issue into smaller parts."),addChildButtonLabel:Object(g.g)("WorkItem|Add"),addChildOptionLabel:Object(g.g)("WorkItem|Existing task"),createChildOptionLabel:Object(g.g)("WorkItem|New task"),noChildItemsOpen:Object(g.g)("WorkItem|No child items are currently open.")},WIDGET_TYPE_TASK_ICON:Ae.zb.TASK,WORK_ITEM_STATUS_TEXT:Ae.pc,FORM_TYPES:Ae.j},Mn=Object($.a)(Bn,(function(){var e=this,t=e._self._c;return t("crud-component",{ref:"workItemsLinks",attrs:{"anchor-id":e.widgetName,title:e.$options.i18n.title,icon:e.$options.WIDGET_TYPE_TASK_ICON,count:e.childrenCountLabel,"is-loading":e.isLoading&&!e.fetchNextPageInProgress,"is-collapsible":"","data-testid":"work-item-links"},scopedSlots:e._u([{key:"actions",fn:function(){return[e.canUpdate&&e.canAddTask?t("gl-disclosure-dropdown",{attrs:{placement:"bottom-end",size:"small","toggle-text":e.$options.i18n.addChildButtonLabel,"data-testid":"toggle-form"}},[t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"toggle-create-form"},on:{action:function(t){return e.showAddForm(e.$options.FORM_TYPES.create)}},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v("\n          "+e._s(e.$options.i18n.createChildOptionLabel)+"\n        ")]},proxy:!0}],null,!1,3863648891)}),e._v(" "),t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"toggle-add-form"},on:{action:function(t){return e.showAddForm(e.$options.FORM_TYPES.add)}},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v("\n          "+e._s(e.$options.i18n.addChildOptionLabel)+"\n        ")]},proxy:!0}],null,!1,1469908318)})],1):e._e(),e._v(" "),t("work-item-more-actions",{attrs:{"work-item-iid":e.iid,"full-path":e.fullPath,"work-item-type":e.workItemType,"show-labels":e.showLabels,"show-closed":e.showClosed,"show-view-roadmap-action":!1},on:{"toggle-show-labels":e.toggleShowLabels,"toggle-show-closed":e.toggleShowClosed}})]},proxy:!0},e.isChildrenEmpty&&!e.error?{key:"empty",fn:function(){return[e._v("\n    "+e._s(e.$options.i18n.emptyStateMessage)+"\n  ")]},proxy:!0}:null,{key:"form",fn:function(){return[t("work-item-links-form",{ref:"wiLinksForm",attrs:{"data-testid":"add-links-form","full-path":e.fullPath,"full-name":e.workItem.namespace.fullName,"is-group":!1,"issuable-gid":e.issuableGid,"work-item-iid":e.iid,"children-ids":e.childrenIds,"parent-confidential":e.confidential,"parent-iteration":e.issuableIteration,"parent-milestone":e.issuableMilestone,"form-type":e.formType,"parent-work-item-type":e.workItemType},on:{"update-in-progress":function(t){e.disableContent=t},cancel:e.hideAddForm}})]},proxy:!0},{key:"default",fn:function(){return[e.error?t("gl-alert",{attrs:{variant:"danger"},on:{dismiss:function(t){e.error=void 0}}},[e._v("\n      "+e._s(e.error)+"\n    ")]):e._e(),e._v(" "),e.hasAllChildItemsHidden?e._e():t("div",{staticClass:"!gl-px-3 gl-pb-3 gl-pt-2"},[e.workItem?t("work-item-children-wrapper",{attrs:{children:e.children,parent:e.workItem,"can-update":e.canUpdate,"full-path":e.fullPath,"work-item-id":e.issuableGid,"work-item-iid":e.iid,"show-labels":e.showLabels,"show-closed":e.showClosed,"disable-content":e.disableContent,"has-indirect-children":!1},on:{error:function(t){e.error=t},"show-modal":e.openChild}}):e._e(),e._v(" "),e.hasNextPage?t("work-item-children-load-more",{attrs:{"data-testid":"work-item-load-more","fetch-next-page-in-progress":e.fetchNextPageInProgress},on:{"fetch-next-page":e.fetchNextPage}}):e._e()],1),e._v(" "),t("work-item-detail-modal",{ref:"modal",attrs:{"work-item-id":e.activeChild.id,"work-item-iid":e.activeChild.iid,"work-item-full-path":e.activeChildNamespaceFullPath},on:{close:e.closeModal,workItemDeleted:function(t){return e.handleWorkItemDeleted(e.activeChild)},openReportAbuse:e.openReportAbuseModal}}),e._v(" "),e.isReportModalOpen&&e.reportAbusePath?t("work-item-abuse-modal",{attrs:{"show-modal":e.isReportModalOpen,"reported-user-id":e.reportedUserId,"reported-from-url":e.reportedUrl},on:{"close-modal":function(t){return e.toggleReportAbuseModal(!1)}}}):e._e(),e._v(" "),e.hasAllChildItemsHidden?t("div",{staticClass:"gl-text-subtle",attrs:{"data-testid":"work-item-no-child-items-open"}},[e._v("\n      "+e._s(e.$options.i18n.noChildItemsOpen)+"\n    ")]):e._e()]},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports;y.default.use(be.a);var Vn=i("Ylta"),Un=i("04gX");function Gn(){new a.a(s()(".issue-form")),Object(r.a)(),new wn.a,Object(o.a)(d.a),function(){const e=document.getElementById("js-suggestions"),t=document.getElementById("issue_title");if(!e)return;y.default.use(A.b);const i=new A.b({defaultClient:Object(P.b)()});new y.default({el:e,name:"TitleSuggestionsRoot",apolloProvider:i,data:()=>({search:t.value}),mounted(){var e=this;t.addEventListener("input",(function(){e.search=t.value}))},render(t){return t(F.a,{props:{projectPath:e.dataset.projectPath,search:this.search}})}})}(),function(){const e=document.getElementById("js-type-popover");if(e)new y.default({el:e,name:"TypePopoverRoot",render:function(e){return e(B)}})}(),function(){const e=document.getElementById("js-type-select");if(!e)return;const{selectedType:t,isIssueAllowed:i,isIncidentAllowed:n,issuePath:s,incidentPath:a}=e.dataset;new y.default({el:e,name:"TypeSelectRoot",render:function(e){return e(W,{props:{selectedType:t,isIssueAllowed:Object(k.H)(i),isIncidentAllowed:Object(k.H)(n),issuePath:s,incidentPath:a}})}})}(),Object(Cn.d)(),gon.features.workItemsViewPreference&&i.e(853).then(i.bind(null,"2EeE")).then((function({initWorkItemsFeedback:e}){e()})).catch({})}function Wn(){new N,Object(o.a)(l.a),new Vn.a,Object(Un.a)(document.getElementById("js-vue-awards-block")),kn(Tn),Object(c.initIssuableSidebar)(),function({editorAiActions:e=[]}={}){const t=document.getElementById("js-vue-notes");if(!t)return;y.default.use(A.b);const i=Object(On.a)(t),n=Object(k.H)(t.dataset.showTimelineViewToggle),s=t.dataset,a=JSON.parse(s.currentUserData),r=JSON.parse(s.noteableData);let o={};r.noteableType=s.noteableType,r.targetType=s.targetType,r.discussion_locked=Object(k.H)(r.discussion_locked),a&&(o={id:a.id,name:a.name,username:a.username,avatar_url:a.avatar_path||a.avatar_url,path:a.path,can_add_timeline_events:Object(k.H)(s.canAddTimelineEvents)});const l=JSON.parse(s.notesData);Tn.dispatch("setNotesData",l),Tn.dispatch("setNoteableData",r),Tn.dispatch("setUserData",o),Tn.dispatch("setTargetNoteHash",Object(u.n)()),Tn.dispatch("fetchNotes"),new y.default({el:t,name:"NotesRoot",components:{NotesApp:Sn.a},store:Tn,apolloProvider:Z.a,provide:{showTimelineViewToggle:n,reportAbusePath:s.reportAbusePath,newCommentTemplatePaths:JSON.parse(s.newCommentTemplatePaths),resourceGlobalId:Object(Q.c)(r.noteableType,r.id),editorAiActions:e.map((function(e){return e(r)})),newCustomEmojiPath:s.newCustomEmojiPath},data:()=>({noteableData:r,currentUserData:o,notesData:JSON.parse(s.notesData)}),render(e){return e("notes-app",{props:{noteableData:this.noteableData,notesData:this.notesData,userData:this.currentUserData,...i}})}})}(),function(){const e=document.querySelector(".js-related-issues-root");e&&new y.default({el:e,name:"RelatedIssuesRoot",apolloProvider:Z.a,provide:{fullPath:e.dataset.fullPath,hasIssueWeightsFeature:Object(k.H)(e.dataset.hasIssueWeightsFeature),hasIterationsFeature:Object(k.H)(e.dataset.hasIterationsFeature),isGroup:Object(k.H)(e.dataset.isGroup),canAdminLabel:e.dataset.wiCanAdminLabel,groupPath:e.dataset.wiGroupPath,issuesListPath:e.dataset.wiIssuesListPath,labelsManagePath:e.dataset.wiLabelsManagePath,reportAbusePath:e.dataset.wiReportAbusePath},render:function(t){return t(ee.a,{props:{endpoint:e.dataset.endpoint,canAdmin:Object(k.H)(e.dataset.canAddRelatedIssues),helpPath:e.dataset.helpPath,showCategorizedIssues:Object(k.H)(e.dataset.showCategorizedIssues),issuableType:e.dataset.issuableType,autoCompleteEpics:!1}})}})}(),function(){const e=document.querySelector("#js-related-merge-requests");if(!e)return;y.default.use(A.b);const{hasClosingMergeRequest:t,projectPath:i,iid:n}=e.dataset,s=new A.b({defaultClient:Object(P.b)()});new y.default({apolloProvider:s,el:e,name:"RelatedMergeRequestsRoot",render:function(e){return e(X,{props:{hasClosingMergeRequest:Object(k.H)(t),projectPath:i,iid:n}})}})}(),function(){const e=document.querySelector("#js-sentry-error-stack-trace");if(!e)return;const{issueStackTracePath:t}=e.dataset;new y.default({el:e,name:"SentryErrorStackTraceRoot",store:ie.a,render:function(e){return e(gn,{props:{issueStackTracePath:t}})}})}(),Object(xn.a)(Tn),function(){const e=document.querySelector(".js-work-item-links-root");if(!e)return null;const{fullPath:t,registerPath:i,signInPath:n,wiCanAdminLabel:s,wiGroupPath:a,wiHasIssueWeightsFeature:r,wiHasIterationsFeature:o,wiHasIssuableHealthStatusFeature:l,wiIssuesListPath:d,wiLabelsManagePath:c,wiNewCommentTemplatePaths:u,wiReportAbusePath:p,hasLinkedItemsEpicsFeature:h}=e.dataset;new y.default({el:e,name:"WorkItemLinksRoot",apolloProvider:Z.a,provide:{fullPath:t,registerPath:i,signInPath:n,canAdminLabel:s,groupPath:a,hasIssueWeightsFeature:r,hasIterationsFeature:o,hasIssuableHealthStatusFeature:l,issuesListPath:d,labelsManagePath:c,newCommentTemplatePaths:JSON.parse(u),reportAbusePath:p,hasLinkedItemsEpicsFeature:Object(k.H)(h)},render:function(t){return t(Mn,{props:{issuableId:parseInt(e.dataset.issuableId,10),issuableIid:parseInt(e.dataset.issuableIid,10)}})}})}(),i.e(265).then(i.bind(null,"gS9Y")).then((function(e){return e.default()})).catch((function(){})),gon.features.workItemsViewPreference&&i.e(853).then(i.bind(null,"2EeE")).then((function({initWorkItemsFeedback:e}){e()})).catch({})}},"0Zrb":function(e,t,i){var n=i("mqRG"),s=i("uLMv"),a=i("5wxO");e.exports=function(e){return s(e)?a(e):n(e)}},"0ch9":function(e,t,i){"use strict";i.d(t,"k",(function(){return n})),i.d(t,"l",(function(){return s})),i.d(t,"z",(function(){return a})),i.d(t,"y",(function(){return r})),i.d(t,"x",(function(){return o})),i.d(t,"A",(function(){return l})),i.d(t,"B",(function(){return d})),i.d(t,"K",(function(){return c})),i.d(t,"L",(function(){return u})),i.d(t,"N",(function(){return p})),i.d(t,"M",(function(){return h})),i.d(t,"D",(function(){return m})),i.d(t,"C",(function(){return f})),i.d(t,"H",(function(){return g})),i.d(t,"G",(function(){return v})),i.d(t,"F",(function(){return b})),i.d(t,"E",(function(){return y})),i.d(t,"J",(function(){return k})),i.d(t,"I",(function(){return w})),i.d(t,"T",(function(){return S})),i.d(t,"S",(function(){return _})),i.d(t,"P",(function(){return I})),i.d(t,"R",(function(){return T})),i.d(t,"O",(function(){return O})),i.d(t,"U",(function(){return C})),i.d(t,"Q",(function(){return x})),i.d(t,"g",(function(){return j})),i.d(t,"f",(function(){return E})),i.d(t,"e",(function(){return D})),i.d(t,"h",(function(){return N})),i.d(t,"d",(function(){return A})),i.d(t,"j",(function(){return P})),i.d(t,"i",(function(){return F})),i.d(t,"o",(function(){return L})),i.d(t,"n",(function(){return R})),i.d(t,"p",(function(){return q})),i.d(t,"r",(function(){return $})),i.d(t,"q",(function(){return B})),i.d(t,"m",(function(){return M})),i.d(t,"u",(function(){return V})),i.d(t,"v",(function(){return U})),i.d(t,"t",(function(){return G})),i.d(t,"s",(function(){return W})),i.d(t,"w",(function(){return H})),i.d(t,"b",(function(){return z})),i.d(t,"c",(function(){return K})),i.d(t,"a",(function(){return Q}));const n="mark",s="measure",a="snippet-view-app-start",r="snippet-edit-app-start",o="snippet-blobs-content-finished",l="snippet-blobs-content",d="webide-app-start",c="webide-file-clicked",u="webide-file-finished",p="webide-init-editor-start",h="webide-init-editor-finish",m="webide-getBranchData-start",f="webide-getBranchData-finish",g="webide-getFileData-start",v="webide-getFileData-finish",b="webide-getFiles-start",y="webide-getFiles-finish",k="webide-getProjectData-start",w="webide-getProjectData-finish",S="webide-file-loading-after-interaction",_="WebIDE: Project data",I="WebIDE: Branch data",T="WebIDE: File data",O="WebIDE: Before Vue app",C="WebIDE: Repo Editor",x="WebIDE: Fetch Files",j="mr-diffs-mark-file-tree-start",E="mr-diffs-mark-file-tree-end",D="mr-diffs-mark-diff-files-start",N="mr-diffs-mark-first-diff-file-shown",A="mr-diffs-mark-diff-files-end",P="mr-diffs-measure-file-tree-done",F="mr-diffs-measure-diff-files-done",L="pipelines-detail-links-mark-calculate-start",R="pipelines-detail-links-mark-calculate-end",q="Pipelines Detail Graph: Links Calculation",$="pipeline_graph_link_calculation_duration_seconds",B="pipeline_graph_links_total",M="pipeline_graph_links_per_job_ratio",V="blobviewer-load-viewer-start",U="blobviewer-switch-to-viewerr-start",G="blobviewer-load-viewer-finish",W="Repository File Viewer: loading the viewer",H="Repository File Viewer: switching the viewer",z="design-app-start",K="Design Management: Before the Vue app",Q="Design Management: Single image preview"},"0qSx":function(e,t,i){"use strict";var n=i("DZUU"),s=i("s1D3"),a=i("MV2A"),r={components:{GlTooltip:n.a,GlIcon:s.a,GlLink:a.a},props:{anchorId:{type:String,required:!1,default:""},wrapperComponent:{type:String,required:!1,default:"span"},wrapperComponentClass:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},titleComponentClass:{type:String,required:!1,default:""},iconName:{type:String,required:!1,default:""},iconClass:{type:String,required:!1,default:""},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"bottom"},isLink:{type:Boolean,required:!1,default:!1},href:{type:String,required:!1,default:""}}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t(e.isLink?"gl-link":"span",{tag:"component",attrs:{href:e.href}},[t(e.wrapperComponent,{ref:"wrapperRef",tag:"component",class:e.wrapperComponentClass,attrs:{"data-testid":e.anchorId}},[e._t("icon",(function(){return[e.iconName?t("gl-icon",{class:e.iconClass,attrs:{name:e.iconName,"data-testid":e.anchorId+"-icon"}}):e._e()]})),e._v(" "),e._t("title",(function(){return[e.title?t("span",{class:e.titleComponentClass,attrs:{"data-testid":e.anchorId+"-title"}},[e._v("\n        "+e._s(e.title)+"\n      ")]):e._e()]}))],2),e._v(" "),t("gl-tooltip",{attrs:{target:function(){return e.$refs.wrapperRef},placement:e.tooltipPlacement}},[e._t("tooltip-text",(function(){return[e.tooltipText?[e._v("\n        "+e._s(e.tooltipText)+"\n      ")]:e._e()]}))],2)],1)}),[],!1,null,null,null);t.a=l.exports},"17OG":function(e,t,i){var n=i("DbBu")((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}));e.exports=n},"1MuU":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemMove"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"workItemsHierarchyReorderInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"endCursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemsHierarchyReorder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemHierarchy"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parentWorkItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemHierarchy"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:332}};n.loc.source={body:'#import "./work_item_hierarchy.fragment.graphql"\n\nmutation workItemMove(\n  $input: workItemsHierarchyReorderInput!\n  $pageSize: Int = 100\n  $endCursor: String = ""\n) {\n  workItemsHierarchyReorder(input: $input) {\n    workItem {\n      ...WorkItemHierarchy\n    }\n    parentWorkItem {\n      ...WorkItemHierarchy\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("BHG8").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.workItemMove=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"workItemMove")},"1gtg":function(e,t,i){"use strict";i.d(t,"a",(function(){return Me})),i.d(t,"c",(function(){return Ve})),i.d(t,"b",(function(){return Ue}));var n=i("ewH8"),s=i("GiFX"),a=i("lRsd"),r=i("Q33P"),o=i.n(r),l=(i("v2fZ"),i("UezY"),i("z6RN"),i("hG7+"),i("B++/"),i("47t/"),i("byxs"),i("E7T3"),i("Bo17")),d=i("fSQg"),c=i("4lAS"),u=i("1fc5"),p=i("z1xw"),h=i("SN6w"),m=i("b9Gi"),f=i("PxiM"),g=i.n(f),v=i("7F3p"),b=i("eJv8"),y=i("xQR3"),k=i("P45A"),w=i.n(k),S=i("Ib1k"),_=i.n(S),I=i("/9qn"),T=i("CqXh"),O=i("jlnU"),C=i("4wgn"),x=i("XoYy"),j=i("FxFN"),E=i("Df1p"),D=i("AxUD"),N=i("2ibD"),A=i("5v28"),P=i("SNRI"),F=i("qjHl"),L=i("3twG"),R=i("/lV4"),q=i("W4cT"),$=i("jcQM"),B=i("LxhL"),M=i("sHIo"),V=i("L3r5"),U=i("JtyA"),G=i("OlVo"),W=i("J6Lq"),H=i("bXWw"),z=i("D4cA"),K=i("FbO4"),Q=i.n(K),Y=i("UqQf"),J=i.n(Y),X=i("FIzW"),Z=i.n(X),ee=(i("eJ0a"),i("dkay")),te=i.n(ee);const ie=function(){return{inject:["fullPath"],computed:{newIssueDropdownQueryVariables(){return{fullPath:this.fullPath}}},methods:{extractProjects(e){var t;return null==e||null===(t=e.group)||void 0===t||null===(t=t.projects)||void 0===t?void 0:t.nodes}},searchProjectsQuery:te.a}};var ne=i.p+"empty-epic-md.7978cef8.svg",se=i.p+"empty-issues-md.3e7bf411.svg",ae=i("dsLq"),re={components:{GlButton:c.a,GlEmptyState:ae.a},inject:{newIssuePath:{default:!1},showNewIssueLink:{default:!1}},props:{hasSearch:{type:Boolean,required:!1,default:!1},isEpic:{type:Boolean,required:!1,default:!1},isOpenTab:{type:Boolean,required:!1,default:!0}},computed:{closedTabTitle(){return this.isEpic?Object(R.a)("There are no closed epics"):Object(R.a)("There are no closed issues")},openTabTitle(){return this.isEpic?Object(R.a)("There are no open epics"):Object(R.a)("There are no open issues")},svgPath(){return this.isEpic?ne:se}}},oe=i("tBpV"),le=Object(oe.a)(re,(function(){var e=this,t=e._self._c;return e.hasSearch?t("gl-empty-state",{attrs:{description:e.__("To widen your search, change or remove filters above"),title:e.__("Sorry, your filter produced no results"),"svg-path":e.svgPath,"data-testid":"issuable-empty-state"},scopedSlots:e._u([{key:"actions",fn:function(){return[e._t("new-issue-button",(function(){return[e.showNewIssueLink?t("gl-button",{attrs:{href:e.newIssuePath,variant:"confirm"}},[e._v("\n        "+e._s(e.__("New issue"))+"\n      ")]):e._e()]}))]},proxy:!0}],null,!0)}):e.isOpenTab?t("gl-empty-state",{attrs:{title:e.openTabTitle,"svg-path":e.svgPath,"data-testid":"issuable-empty-state"},scopedSlots:e._u([{key:"actions",fn:function(){return[e._t("new-issue-button",(function(){return[e.showNewIssueLink?t("gl-button",{attrs:{href:e.newIssuePath,variant:"confirm"}},[e._v("\n        "+e._s(e.__("New issue"))+"\n      ")]):e._e()]}))]},proxy:!0}],null,!0)}):t("gl-empty-state",{attrs:{title:e.closedTabTitle,"svg-path":e.svgPath,"data-testid":"issuable-empty-state"}})}),[],!1,null,null,null).exports,de=i.p+"empty-issues-add-md.201d9f29.svg",ce=i("MV2A"),ue=i("30su"),pe=i("qLpH"),he={i18n:{jiraIntegrationMessage:Object(R.g)("JiraService|%{jiraDocsLinkStart}Enable the Jira integration%{jiraDocsLinkEnd} to view your Jira issues in GitLab.")},emptyStateSvg:de,issuesHelpPagePath:Object(pe.a)("user/project/issues/index"),jiraIntegrationPath:Object(pe.a)("integration/jira/configure",{anchor:"view-jira-issues"}),components:{CsvImportExportButtons:x.a,GlButton:c.a,GlDisclosureDropdown:l.a,GlEmptyState:ae.a,GlLink:ce.a,GlSprintf:ue.a,NewResourceDropdown:V.default},mixins:[ie()],inject:["canCreateProjects","isSignedIn","newIssuePath","newProjectPath","showNewIssueLink","signInPath","groupId","isProject"],props:{currentTabCount:{type:Number,required:!1,default:void 0},exportCsvPathWithQuery:{type:String,required:!1,default:""},showCsvButtons:{type:Boolean,required:!1,default:!1},showNewIssueDropdown:{type:Boolean,required:!1,default:!1},showIssuableByEmail:{type:Boolean,required:!1,default:!1}},computed:{createProjectMessage(){return this.showNewIssueDropdown?Object(R.a)("Issues exist in projects. Select a project to create an issue, or create a project."):Object(R.a)("Issues exist in projects. To create an issue, first create a project.")}}},me=Object(oe.a)(he,(function(){var e=this,t=e._self._c;return e.isSignedIn?t("div",{attrs:{"data-testid":"signed-in-empty-state-block","data-track-action":e.isProject&&"render","data-track-label":e.isProject&&"project_issues_empty_list"}},[t("div",[t("gl-empty-state",{attrs:{title:e.__("Use issues to collaborate on ideas, solve problems, and plan work"),"svg-path":e.$options.emptyStateSvg,"data-testid":"issuable-empty-state"},scopedSlots:e._u([{key:"description",fn:function(){return[e.canCreateProjects?t("p",{staticClass:"gl-my-2 gl-text-subtle",attrs:{"data-testid":"create-project-message"}},[e._v("\n          "+e._s(e.createProjectMessage)+"\n        ")]):e._e(),e._v(" "),t("gl-link",{attrs:{href:e.$options.issuesHelpPagePath,"data-track-action":e.isProject&&"click_learn_more_project_issues_empty_list_page","data-track-label":e.isProject&&"learn_more_project_issues_empty_list"}},[e._v("\n          "+e._s(e.__("Learn more about issues."))+"\n        ")])]},proxy:!0},{key:"actions",fn:function(){return[e._t("actions"),e._v(" "),e.showNewIssueDropdown?t("new-resource-dropdown",{staticClass:"gl-mx-2 gl-mb-3 gl-self-center",attrs:{query:e.$options.searchProjectsQuery,"query-variables":e.newIssueDropdownQueryVariables,"extract-projects":e.extractProjects,"group-id":e.groupId}}):e._e(),e._v(" "),e._t("new-issue-button",(function(){return[e.showNewIssueLink?t("gl-button",{staticClass:"gl-mx-2 gl-mb-3",attrs:{href:e.newIssuePath,variant:"confirm","data-track-action":"click_new_issue_project_issues_empty_list_page","data-track-label":"new_issue_project_issues_empty_list"}},[e._v("\n            "+e._s(e.__("New issue"))+"\n          ")]):e._e()]})),e._v(" "),e.canCreateProjects?t("gl-button",{staticClass:"gl-mx-2 gl-mb-3",attrs:{href:e.newProjectPath,variant:e.showNewIssueDropdown?"default":"confirm"}},[e._v("\n          "+e._s(e.__("New project"))+"\n        ")]):e._e(),e._v(" "),e.showCsvButtons?t("gl-disclosure-dropdown",{staticClass:"gl-mx-2 gl-mb-3",attrs:{"toggle-text":e.__("Import issues"),"data-testid":"import-issues-dropdown"}},[t("csv-import-export-buttons",{attrs:{"export-csv-path":e.exportCsvPathWithQuery,"issuable-count":e.currentTabCount,"track-import-click":""}})],1):e._e()]},proxy:!0}],null,!0)}),e._v(" "),t("hr"),e._v(" "),t("p",{staticClass:"gl-mb-0 gl-text-center gl-font-bold"},[e._v("\n      "+e._s(e.s__("JiraService|Using Jira for issue tracking?"))+"\n    ")]),e._v(" "),t("p",{staticClass:"gl-mb-0 gl-text-center"},[t("gl-sprintf",{attrs:{message:e.$options.i18n.jiraIntegrationMessage},scopedSlots:e._u([{key:"jiraDocsLink",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.$options.jiraIntegrationPath,"data-track-action":e.isProject&&"click_jira_int_project_issues_empty_list_page","data-track-label":e.isProject&&"jira_int_project_issues_empty_list"}},[e._v("\n            "+e._s(i)+"\n          ")])]}}],null,!1,315739561)})],1),e._v(" "),t("p",{staticClass:"gl-text-center gl-text-subtle"},[e._v("\n      "+e._s(e.s__("JiraService|This feature requires a Premium plan."))+"\n    ")])],1)]):t("gl-empty-state",{attrs:{title:e.__("Use issues to collaborate on ideas, solve problems, and plan work"),"svg-path":e.$options.emptyStateSvg,"svg-height":null,"primary-button-text":e.__("Register / Sign In"),"primary-button-link":e.signInPath,"data-testid":"issuable-empty-state"},scopedSlots:e._u([{key:"description",fn:function(){return[t("gl-link",{attrs:{href:e.$options.issuesHelpPagePath}},[e._v("\n      "+e._s(e.__("Learn more about issues."))+"\n    ")])]},proxy:!0}])})}),[],!1,null,null,null).exports;const fe=function(){return Promise.all([i.e(30),i.e(130)]).then(i.bind(null,"w63v"))},ge=function(){return i.e(133).then(i.bind(null,"TAvF"))},ve=function(){return Promise.all([i.e(30),i.e(131)]).then(i.bind(null,"4SqF"))},be=function(){return Promise.all([i.e(60),i.e(250)]).then(i.bind(null,"o1cG"))},ye=function(){return i.e(915).then(i.bind(null,"be3U"))},ke=function(){return i.e(893).then(i.bind(null,"/VjK"))},we=function(){return i.e(894).then(i.bind(null,"GpkJ"))},Se=function(){return Promise.all([i.e(91),i.e(252)]).then(i.bind(null,"PhVj"))};var _e={name:"IssuesListAppCE",i18n:H.V,issuableListTabs:B.d,issuableType:D.p.toUpperCase(),ISSUES_VIEW_TYPE_KEY:H.q,ISSUES_GRID_VIEW_KEY:H.o,ISSUES_LIST_VIEW_KEY:H.p,components:{CsvImportExportButtons:x.a,GlDisclosureDropdown:l.a,GlDisclosureDropdownGroup:d.a,EmptyStateWithAnyIssues:le,EmptyStateWithoutAnyIssues:me,GlButton:c.a,GlButtonGroup:u.a,IssuableByEmail:E.a,IssuableList:$.a,IssueCardStatistics:b.a,IssueCardTimeInfo:y.a,NewResourceDropdown:V.default,LocalStorageSync:T.a,WorkItemDrawer:G.a},directives:{GlTooltip:p.a},mixins:[Object(M.a)(),ie()],inject:["autocompleteAwardEmojisPath","calendarPath","canBulkUpdate","canCreateIssue","canReadCrmContact","canReadCrmOrganization","exportCsvPath","fullPath","hasAnyIssues","hasAnyProjects","hasBlockedIssuesFeature","hasIssuableHealthStatusFeature","hasIssueDateFilterFeature","hasIssueWeightsFeature","hasOkrsFeature","hasQualityManagementFeature","hasScopedLabelsFeature","initialEmail","initialSort","isIssueRepositioningDisabled","isProject","isPublicVisibilityRestricted","isSignedIn","newIssuePath","releasesPath","rssPath","showNewIssueLink","groupId"],props:{eeSearchTokens:{type:Array,required:!1,default:function(){return[]}}},data(){return{exportCsvPathWithQuery:this.getExportCsvPathWithQuery(),filterTokens:[],issues:[],issuesCounts:{},issuesError:null,pageInfo:{},pageParams:{},showBulkEditSidebar:!1,sortKey:H.j,state:D.i,pageSize:B.a,viewType:H.p,subscribeDropdownOptions:{items:[{text:Object(R.a)("Subscribe to RSS feed"),href:this.rssPath,extraAttrs:{"data-testid":"subscribe-rss"}},{text:Object(R.a)("Subscribe to calendar"),href:this.calendarPath,extraAttrs:{"data-testid":"subscribe-calendar"}}]},activeIssuable:null}},apollo:{issues:{query:w.a,variables(){return this.queryVariables},update(e){var t,i;return null!==(t=null===(i=e[this.namespace])||void 0===i?void 0:i.issues.nodes)&&void 0!==t?t:[]},fetchPolicy:A.c.CACHE_AND_NETWORK,nextFetchPolicy:A.c.CACHE_FIRST,notifyOnNetworkStatusChange:!0,result({data:e}){var t,i;e&&(this.pageInfo=null!==(t=null===(i=e[this.namespace])||void 0===i?void 0:i.issues.pageInfo)&&void 0!==t?t:{},this.exportCsvPathWithQuery=this.getExportCsvPathWithQuery(),this.checkDrawerParams())},error(e){this.issuesError=this.$options.i18n.errorFetchingIssues,v.b(e)},skip(){return!this.hasAnyIssues||o()(this.pageParams)}},issuesCounts:{query:_.a,variables(){return this.queryVariables},update(e){var t;return null!==(t=e[this.namespace])&&void 0!==t?t:{}},error(e){this.issuesError=this.$options.i18n.errorFetchingCounts,v.b(e)},skip(){return!this.hasAnyIssues||o()(this.pageParams)}}},computed:{queryVariables(){const e=H.r.test(this.searchQuery);return{fullPath:this.fullPath,hideUsers:this.isPublicVisibilityRestricted&&!this.isSignedIn,iid:e?this.searchQuery.slice(1):void 0,isProject:this.isProject,isSignedIn:this.isSignedIn,sort:this.sortKey,state:this.state,...this.pageParams,...this.apiFilterParams,search:e?void 0:this.searchQuery,types:this.apiFilterParams.types||this.defaultWorkItemTypes}},namespace(){return this.isProject?D.u:D.t},defaultWorkItemTypes(){return Object(I.f)({hasOkrsFeature:this.hasOkrsFeature,hasQualityManagementFeature:this.hasQualityManagementFeature})},hasSearch(){return Boolean(this.searchQuery||Object.keys(this.urlFilterParams).length||this.pageParams.afterCursor||this.pageParams.beforeCursor)},isBulkEditButtonDisabled(){return this.showBulkEditSidebar||!this.issues.length},isManualOrdering(){return this.sortKey===H.L},isOpenTab(){return this.state===D.i},showCsvButtons(){return this.isProject&&this.isSignedIn},showIssuableByEmail(){return this.initialEmail&&this.canCreateIssue},showNewIssueDropdown(){return!this.isProject&&this.hasAnyProjects},apiFilterParams(){return Object(I.a)(this.filterTokens)},urlFilterParams(){return Object(I.c)(this.filterTokens)},searchQuery(){return Object(I.b)(this.filterTokens)},searchTokens(){const e=[];gon.current_user_id&&e.push({id:Object(j.c)(C.D,gon.current_user_id),name:gon.current_user_fullname,username:gon.current_username,avatar_url:gon.current_user_avatar_url});const t=[{type:q.zb,title:q.U,icon:"search",token:h.a,unique:!0,operators:q.m,options:[{icon:"title",value:"TITLE",title:this.$options.i18n.titles},{icon:"text-description",value:"DESCRIPTION",title:this.$options.i18n.descriptions}]},{type:q.db,title:q.B,icon:"pencil",token:fe,dataType:"user",defaultUsers:[],operators:q.o,fullPath:this.fullPath,isProject:this.isProject,recentSuggestionsStorageKey:this.fullPath+"-issues-recent-tokens-author",preloadedUsers:e,multiSelect:!0},{type:q.cb,title:q.A,icon:"user",token:fe,dataType:"user",operators:q.o,fullPath:this.fullPath,isProject:this.isProject,recentSuggestionsStorageKey:this.fullPath+"-issues-recent-tokens-assignee",preloadedUsers:e,multiSelect:!0},{type:q.tb,title:q.O,icon:"milestone",token:be,recentSuggestionsStorageKey:this.fullPath+"-issues-recent-tokens-milestone",shouldSkipSort:!0,fullPath:this.fullPath,isProject:this.isProject},{type:q.rb,title:q.M,icon:"labels",token:ve,operators:q.o,fetchLabels:this.fetchLabels,fetchLatestLabels:this.glFeatures.frontendCaching?this.fetchLatestLabels:null,recentSuggestionsStorageKey:this.fullPath+"-issues-recent-tokens-label",multiSelect:!0},{type:q.Db,title:q.Y,icon:"issues",token:h.a,options:this.typeTokenOptions}];return this.isProject&&t.push({type:q.xb,title:q.S,icon:"rocket",token:ye,fetchReleases:this.fetchReleases,recentSuggestionsStorageKey:this.fullPath+"-issues-recent-tokens-release"}),this.isSignedIn&&(t.push({type:q.ub,title:q.P,icon:"thumb-up",token:ge,unique:!0,fetchEmojis:this.fetchEmojis,recentSuggestionsStorageKey:this.fullPath+"-issues-recent-tokens-my_reaction"}),t.push({type:q.fb,title:q.D,icon:"eye-slash",token:h.a,unique:!0,operators:q.m,options:[{icon:"eye-slash",value:"yes",title:this.$options.i18n.confidentialYes},{icon:"eye",value:"no",title:this.$options.i18n.confidentialNo}]}),this.hasIssueDateFilterFeature&&(t.push({type:q.hb,title:q.F,icon:"history",token:Se,operators:q.l}),t.push({type:q.eb,title:q.C,icon:"history",token:Se,operators:q.l}))),this.canReadCrmContact&&t.push({type:q.gb,title:q.E,icon:"user",token:ke,fullPath:this.fullPath,isProject:this.isProject,recentSuggestionsStorageKey:this.fullPath+"-issues-recent-tokens-crm-contacts",operators:q.m,unique:!0}),this.canReadCrmOrganization&&t.push({type:q.vb,title:q.Q,icon:"users",token:we,fullPath:this.fullPath,isProject:this.isProject,recentSuggestionsStorageKey:this.fullPath+"-issues-recent-tokens-crm-organizations",operators:q.m,unique:!0}),this.eeSearchTokens.length&&t.push(...this.eeSearchTokens),t.sort((function(e,t){return e.title.localeCompare(t.title)})),t},showPaginationControls(){return!this.isLoading&&(this.pageInfo.hasNextPage||this.pageInfo.hasPreviousPage)},showPageSizeSelector(){return this.issues.length>0},sortOptions(){return Object(I.i)({hasBlockedIssuesFeature:this.hasBlockedIssuesFeature,hasIssuableHealthStatusFeature:this.hasIssuableHealthStatusFeature,hasIssueWeightsFeature:this.hasIssueWeightsFeature})},tabCounts(){const{openedIssues:e,closedIssues:t,allIssues:i}=this.issuesCounts;return{[D.i]:null==e?void 0:e.count,[D.d]:null==t?void 0:t.count,[D.c]:null==i?void 0:i.count}},typeTokenOptions(){return Object(I.j)({hasOkrsFeature:this.hasOkrsFeature,hasQualityManagementFeature:this.hasQualityManagementFeature})},currentTabCount(){var e;return null!==(e=this.tabCounts[this.state])&&void 0!==e?e:0},urlParams(){var e,t;const i=this.activeIssuable?Object(W.z)(this.activeIssuable,this.fullPath):void 0,n={sort:H.W[this.sortKey],state:this.state,...this.urlFilterParams,first_page_size:this.pageParams.firstPageSize,last_page_size:this.pageParams.lastPageSize,page_after:null!==(e=this.pageParams.afterCursor)&&void 0!==e?e:void 0,page_before:null!==(t=this.pageParams.beforeCursor)&&void 0!==t?t:void 0};return i?{...n,show:i}:n},isLoading(){return this.$apollo.queries.issues.loading&&!this.$apollo.provider.clients.defaultClient.readQuery({query:w.a,variables:this.queryVariables})},gridViewFeatureEnabled(){var e;return Boolean(null===(e=this.glFeatures)||void 0===e?void 0:e.issuesGridView)},isGridView(){return this.viewType===H.o},isIssuableSelected(){return!o()(this.activeIssuable)},issuesDrawerEnabled(){var e;return null===(e=this.glFeatures)||void 0===e?void 0:e.issuesListDrawer}},watch:{$route(e,t){e.fullPath!==t.fullPath&&this.updateData(Object(L.p)(H.F)),e.query.show?this.checkDrawerParams():this.activeIssuable=null}},created(){this.updateData(this.initialSort),this.cache={}},mounted(){z.a.$on("issuables:toggleBulkEdit",this.toggleBulkEditSidebar)},beforeDestroy(){z.a.$off("issuables:toggleBulkEdit",this.toggleBulkEditSidebar)},methods:{fetchWithCache(e,t,i,n){var s=this;if(this.cache[t]){const e=n?g.a.filter(this.cache[t],n,{key:i}):this.cache[t].slice(0,H.u);return Promise.resolve(e)}return N.a.get(e).then((function({data:e}){return s.cache[t]=e,e.slice(0,H.u)}))},fetchEmojis(e){return this.fetchWithCache(this.autocompleteAwardEmojisPath,"emojis","name",e)},fetchReleases(e){return this.fetchWithCache(this.releasesPath,"releases","tag",e)},fetchLabelsWithFetchPolicy(e,t=A.c.CACHE_FIRST){var i=this;return this.$apollo.query({query:J.a,variables:{fullPath:this.fullPath,search:e,isProject:this.isProject},fetchPolicy:t}).then((function({data:e}){var t;return null===(t=e[i.namespace])||void 0===t?void 0:t.labels.nodes})).then((function(t){return t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))}))},fetchLabels(e){return this.fetchLabelsWithFetchPolicy(e)},fetchLatestLabels(e){return this.fetchLabelsWithFetchPolicy(e,A.c.NETWORK_ONLY)},getExportCsvPathWithQuery(){return`${this.exportCsvPath}${window.location.search}`},getStatus(e){return e.state===D.d&&e.moved?this.$options.i18n.closedMoved:e.state===D.d?this.$options.i18n.closed:void 0},handleUpdateLegacyBulkEdit(){this.$nextTick((function(){z.a.$emit("issuables:updateBulkEdit")}))},async handleBulkUpdateClick(){if(!this.hasInitBulkEdit){(await Promise.all([i.e(29),i.e(91),i.e(173),i.e(867),i.e(859)]).then(i.bind(null,"9ZrP"))).initBulkUpdateSidebar("issuable_"),this.hasInitBulkEdit=!0}z.a.$emit("issuables:enableBulkEdit")},handleClickTab(e){this.state!==e&&(this.state=e,this.pageParams=Object(I.h)(this.pageSize),this.$router.push({query:this.urlParams}))},handleDismissAlert(){this.issuesError=null},handleFilter(e){this.filterTokens=e,this.pageParams=Object(I.h)(this.pageSize),this.$router.push({query:this.urlParams})},handleNextPage(){this.pageParams={afterCursor:this.pageInfo.endCursor,firstPageSize:this.pageSize},Object(F.e)(),this.$router.push({query:this.urlParams})},handlePreviousPage(){this.pageParams={beforeCursor:this.pageInfo.startCursor,lastPageSize:this.pageSize},Object(F.e)(),this.$router.push({query:this.urlParams})},handleReorder({newIndex:e,oldIndex:t}){var i=this;const n=this.issues[t],s=e>t,a=0===e,r=e===this.issues.length-1;let o,l;if(s){const t=r?e:e+1;o=this.issues[e].id,l=this.issues[t].id}else{const t=a?e:e-1;o=this.issues[t].id,l=this.issues[e].id}return N.a.put(Object(L.A)(n.webPath,"reorder"),{move_before_id:a?null:Object(j.e)(o),move_after_id:r?null:Object(j.e)(l)}).then((function(){const n=JSON.stringify(i.queryVariables);return i.$apollo.mutate({mutation:Q.a,variables:{oldIndex:t,newIndex:e,namespace:i.namespace,serializedVariables:n}})})).catch((function(e){i.issuesError=Object(R.a)("An error occurred while reordering issues."),v.b(e)}))},handleSort(e){this.sortKey!==e&&(this.isIssueRepositioningDisabled&&e===H.L?this.showIssueRepositioningMessage():(this.sortKey=e,this.pageParams=Object(I.h)(this.pageSize),this.isSignedIn&&this.saveSortPreference(e),this.$router.push({query:this.urlParams})))},saveSortPreference(e){this.$apollo.mutate({mutation:Z.a,variables:{input:{issuesSort:e}}}).then((function({data:e}){if(e.userPreferencesUpdate.errors.length)throw new Error(e.userPreferencesUpdate.errors)})).catch((function(e){v.b(e)}))},showIssueRepositioningMessage(){Object(O.createAlert)({message:this.$options.i18n.issueRepositioningMessage,variant:O.VARIANT_INFO})},toggleBulkEditSidebar(e){this.showBulkEditSidebar=e},handlePageSizeChange(e){this.pageSize=e,this.pageParams=Object(I.h)(e),Object(F.e)(),this.$router.push({query:this.urlParams})},updateData(e){var t,i;const n=Object(L.p)(H.B),s=Object(L.p)(H.C),a=Object(L.p)(H.G);let r=Object(I.d)({sort:e,state:a});this.isIssueRepositioningDisabled&&r===H.L&&(this.showIssueRepositioningMessage(),r=a===D.d?H.P:H.j);const o=Object(I.g)(window.location.search);this.filterTokens=Object(I.k)(o,this.searchTokens),this.exportCsvPathWithQuery=this.getExportCsvPathWithQuery(),this.pageParams=Object(I.h)(this.pageSize,Object(P.e)(n)?parseInt(n,10):void 0,Object(P.e)(s)?parseInt(s,10):void 0,null!==(t=Object(L.p)(H.D))&&void 0!==t?t:void 0,null!==(i=Object(L.p)(H.E))&&void 0!==i?i:void 0),this.sortKey=r,this.state=a||D.i},switchViewType(e){e!==H.o?this.viewType=H.p:this.viewType=H.o},handleSelectIssuable(e){this.activeIssuable={...e}},updateIssuablesCache(e){const t=this.$apollo.provider.clients.defaultClient,i=t.readQuery({query:w.a,variables:this.queryVariables}),n=i[this.namespace].issues.nodes.find((function(t){return Object(j.e)(t.id)===Object(j.e)(e.id)}));if(!n)return;if(!n.state.includes(e.state.toLowerCase()))return void this.refetchIssuables();const s=Object(I.n)({list:i,workItem:e,namespace:this.namespace,type:"issue"});t.writeQuery({query:w.a,variables:this.queryVariables,data:s})},promoteToObjective(e){var t=this;const{cache:i}=this.$apollo.provider.clients.defaultClient;i.updateQuery({query:w.a,variables:this.queryVariables},(function(i){return Object(m.a)(i,(function(i){i[t.namespace].issues.nodes.find((function(t){return t.iid===e})).type=U.vc}))}))},refetchIssuables(){this.$apollo.queries.issues.refetch(),this.$apollo.queries.issuesCounts.refetch()},deleteIssuable(){this.activeIssuable=null,this.refetchIssuables()},updateIssuableEmojis(e){const t=this.$apollo.provider.clients.defaultClient,i=t.readQuery({query:w.a,variables:this.queryVariables}),n=Object(I.o)({list:i,workItem:e,namespace:this.namespace});t.writeQuery({query:w.a,variables:this.queryVariables,data:n})},checkDrawerParams(){const e=Object(L.p)(U.g);if(this.activeIssuable||!e)return;const t=JSON.parse(atob(e));if(t.id){const e=this.issues.find((function(e){return Object(j.e)(e.id)===t.id}));e?this.activeIssuable={...e,fullPath:t.full_path}:Object(L.O)({url:Object(L.I)([U.g])})}}}},Ie=Object(oe.a)(_e,(function(){var e=this,t=e._self._c;return t("div",[e.issuesDrawerEnabled?t("work-item-drawer",{attrs:{open:e.isIssuableSelected,"active-item":e.activeIssuable,"issuable-type":e.$options.issuableType,"click-outside-exclude-selector":".issuable-list"},on:{close:function(t){e.activeIssuable=null},"work-item-updated":e.updateIssuablesCache,"work-item-emoji-updated":e.updateIssuableEmojis,addChild:e.refetchIssuables,deleteWorkItemError:function(t){e.issuesError=e.__("An error occurred while deleting an issuable.")},workItemDeleted:e.deleteIssuable,promotedToObjective:e.promoteToObjective,workItemTypeChanged:function(t){return e.updateIssuablesCache(t)}}}):e._e(),e._v(" "),e.hasAnyIssues?t("issuable-list",{attrs:{namespace:e.fullPath,"full-path":e.fullPath,"recent-searches-storage-key":"issues","search-tokens":e.searchTokens,"has-scoped-labels-feature":e.hasScopedLabelsFeature,"initial-filter-value":e.filterTokens,"sort-options":e.sortOptions,"initial-sort-by":e.sortKey,issuables:e.issues,error:e.issuesError,"label-filter-param":"label_name",tabs:e.$options.issuableListTabs,"current-tab":e.state,"tab-counts":e.tabCounts,"truncate-counts":!e.isProject,"issuables-loading":e.isLoading,"is-manual-ordering":e.isManualOrdering,"show-bulk-edit-sidebar":e.showBulkEditSidebar,"show-pagination-controls":e.showPaginationControls,"default-page-size":e.pageSize,"show-filtered-search-friendly-text":"","sync-filter-and-sort":"","use-keyset-pagination":"","show-page-size-selector":e.showPageSizeSelector,"has-next-page":e.pageInfo.hasNextPage,"has-previous-page":e.pageInfo.hasPreviousPage,"is-grid-view":e.isGridView,"active-issuable":e.activeIssuable,"show-work-item-type-icon":"","prevent-redirect":e.issuesDrawerEnabled},on:{"click-tab":e.handleClickTab,"dismiss-alert":e.handleDismissAlert,filter:e.handleFilter,"next-page":e.handleNextPage,"previous-page":e.handlePreviousPage,reorder:e.handleReorder,sort:e.handleSort,"update-legacy-bulk-edit":e.handleUpdateLegacyBulkEdit,"page-size-change":e.handlePageSizeChange,"select-issuable":e.handleSelectIssuable},scopedSlots:e._u([{key:"nav-actions",fn:function(){return[t("div",{staticClass:"gl-flex gl-gap-3"},[e.gridViewFeatureEnabled?t("local-storage-sync",{attrs:{value:e.viewType,"storage-key":e.$options.ISSUES_VIEW_TYPE_KEY},on:{input:e.switchViewType}},[t("gl-button-group",[t("gl-button",{attrs:{variant:e.isGridView?"default":"confirm","data-testid":"list-view-type"},on:{click:function(t){return e.switchViewType(e.$options.ISSUES_LIST_VIEW_KEY)}}},[e._v("\n              "+e._s(e.__("List"))+"\n            ")]),e._v(" "),t("gl-button",{attrs:{variant:e.isGridView?"confirm":"default","data-testid":"grid-view-type"},on:{click:function(t){return e.switchViewType(e.$options.ISSUES_GRID_VIEW_KEY)}}},[e._v("\n              "+e._s(e.__("Grid"))+"\n            ")])],1)],1):e._e(),e._v(" "),e.canBulkUpdate?t("gl-button",{staticClass:"gl-shrink-0 gl-grow",attrs:{disabled:e.isBulkEditButtonDisabled},on:{click:e.handleBulkUpdateClick}},[e._v("\n          "+e._s(e.__("Bulk edit"))+"\n        ")]):e._e(),e._v(" "),e._t("new-issuable-button",(function(){return[e.showNewIssueLink?t("gl-button",{staticClass:"gl-grow",attrs:{href:e.newIssuePath,variant:"confirm"}},[e._v("\n            "+e._s(e.__("New issue"))+"\n          ")]):e._e()]})),e._v(" "),e.showNewIssueDropdown?t("new-resource-dropdown",{attrs:{query:e.$options.searchProjectsQuery,"query-variables":e.newIssueDropdownQueryVariables,"extract-projects":e.extractProjects,"group-id":e.groupId}}):e._e(),e._v(" "),t("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:e.$options.i18n.actionsLabel,expression:"$options.i18n.actionsLabel",modifiers:{hover:!0}}],staticClass:"!gl-w-7",attrs:{category:"tertiary",icon:"ellipsis_v","no-caret":"","toggle-text":e.$options.i18n.actionsLabel,"text-sr-only":"","data-testid":"issues-list-more-actions-dropdown","toggle-class":"!gl-m-0 gl-h-full"}},[e.showCsvButtons?t("csv-import-export-buttons",{attrs:{"export-csv-path":e.exportCsvPathWithQuery,"issuable-count":e.currentTabCount}}):e._e(),e._v(" "),t("gl-disclosure-dropdown-group",{attrs:{bordered:e.showCsvButtons,group:e.subscribeDropdownOptions}})],1)],2)]},proxy:!0},{key:"timeframe",fn:function({issuable:e={}}){return[t("issue-card-time-info",{attrs:{issue:e}})]}},{key:"status",fn:function({issuable:t={}}){return[e._v("\n      "+e._s(e.getStatus(t))+"\n    ")]}},{key:"statistics",fn:function({issuable:e={}}){return[t("issue-card-statistics",{attrs:{issue:e}})]}},{key:"empty-state",fn:function(){return[t("empty-state-with-any-issues",{attrs:{"has-search":e.hasSearch,"is-open-tab":e.isOpenTab}})]},proxy:!0},{key:"list-body",fn:function(){return[e._t("list-body")]},proxy:!0},{key:"title-icons",fn:function({issuable:t}){return[e._t("title-icons",null,null,{issuable:t,apiFilterParams:e.apiFilterParams})]}}],null,!0)}):t("empty-state-without-any-issues",{attrs:{"current-tab-count":e.currentTabCount,"export-csv-path-with-query":e.exportCsvPathWithQuery,"show-csv-buttons":e.showCsvButtons,"show-new-issue-dropdown":e.showNewIssueDropdown}}),e._v(" "),e.showIssuableByEmail?t("issuable-by-email",{staticClass:"gl-pb-7 gl-pt-5 gl-text-center",attrs:{"data-track-action":"click_email_issue_project_issues_empty_list_page","data-track-label":"email_issue_project_issues_empty_list"}}):e._e()],1)}),[],!1,null,null,null).exports,Te=i("w8i/"),Oe=i("Erny"),Ce=i("imzI"),xe=i("NmEs"),je=i("GwXZ"),Ee=i("gAdM"),De=i.n(Ee),Ne=(i("YSE1"),i("b+iX"),i("dsWN")),Ae=i("jl6Z"),Pe=i("jYmY"),Fe=i("gZK5"),Le=i.n(Fe),Re={name:"JiraIssuesImportStatus",components:{GlAlert:Ne.a,GlLabel:Ae.a},props:{canEdit:{type:Boolean,required:!0},isJiraConfigured:{type:Boolean,required:!0},issuesPath:{type:String,required:!0},projectPath:{type:String,required:!0}},data:()=>({jiraImport:{}}),apollo:{jiraImport:{query:Le.a,variables(){return{fullPath:this.projectPath}},update:function({project:e}){var t;const i=Object(Pe.b)(e.jiraImports.nodes,e.issues.nodes.flatMap((function({labels:e}){return e.nodes})));return{importedIssuesCount:null===(t=De()(e.jiraImports.nodes))||void 0===t?void 0:t.importedIssuesCount,label:i,shouldShowFinishedAlert:Object(Pe.f)(i.title,e.jiraImportStatus),shouldShowInProgressAlert:Object(Pe.d)(e.jiraImportStatus)}}}},computed:{finishedMessage(){return Object(R.f)("%d issue successfully imported with the label","%d issues successfully imported with the label",this.jiraImport.importedIssuesCount)},labelTarget(){return`${this.issuesPath}?label_name[]=${encodeURIComponent(this.jiraImport.label.title)}`},shouldRender(){return this.jiraImport.shouldShowInProgressAlert||this.jiraImport.shouldShowFinishedAlert}},methods:{hideFinishedAlert(){Object(Pe.e)(this.jiraImport.label.title),this.jiraImport.shouldShowFinishedAlert=!1},hideInProgressAlert(){this.jiraImport.shouldShowInProgressAlert=!1}}},qe=Object(oe.a)(Re,(function(){var e=this,t=e._self._c;return e.shouldRender?t("div",{staticClass:"gl-my-5"},[e.jiraImport.shouldShowInProgressAlert?t("gl-alert",{on:{dismiss:e.hideInProgressAlert}},[e._v("\n    "+e._s(e.__("Import in progress. Refresh page to see newly added issues."))+"\n  ")]):e.jiraImport.shouldShowFinishedAlert?t("gl-alert",{attrs:{variant:"success"},on:{dismiss:e.hideFinishedAlert}},[e._v("\n    "+e._s(e.finishedMessage)+"\n    "),t("gl-label",{attrs:{"background-color":e.jiraImport.label.color,scoped:"",target:e.labelTarget,title:e.jiraImport.label.title}})],1):e._e()],1):e._e()}),[],!1,null,null,null).exports,$e=i("P22J");let Be;async function Me(){var e;return Be||(Be=null!==(e=gon.features)&&void 0!==e&&e.frontendCaching?await Object(A.a)(Te.d,{localCacheKey:"issues_list",...Te.b}):Object(A.b)(Te.d,Te.b),Be)}async function Ve(){const e=document.querySelector(".js-jira-issues-import-status-root");if(!e)return null;const{issuesPath:t,projectPath:i}=e.dataset,a=Object(xe.H)(e.dataset.canEdit),r=Object(xe.H)(e.dataset.isJiraConfigured);return r&&a?(n.default.use(s.b),new n.default({el:e,name:"JiraIssuesImportStatusRoot",apolloProvider:new s.b({defaultClient:await Object($e.a)()}),render:e=>e(qe,{props:{canEdit:a,isJiraConfigured:r,issuesPath:t,projectPath:i}})})):null}async function Ue(){const e=document.querySelector(".js-issues-list-root");if(!e)return null;Object(Oe.a)(Ce.a),n.default.use(s.b),n.default.use(a.a);const{autocompleteAwardEmojisPath:t,calendarPath:i,canBulkUpdate:r,canCreateIssue:o,canCreateProjects:l,canEdit:d,canImportIssues:c,canReadCrmContact:u,canReadCrmOrganization:p,email:h,emailsHelpPagePath:m,exportCsvPath:f,fullPath:g,groupId:v,groupPath:b,hasAnyIssues:y,hasAnyProjects:k,hasBlockedIssuesFeature:w,hasIssuableHealthStatusFeature:S,hasIssueDateFilterFeature:_,hasIssueWeightsFeature:I,hasIterationsFeature:T,hasOkrsFeature:O,hasQualityManagementFeature:C,hasScopedLabelsFeature:x,importCsvIssuesPath:j,initialEmail:E,initialSort:D,isIssueRepositioningDisabled:N,isProject:A,isPublicVisibilityRestricted:P,isSignedIn:F,markdownHelpPath:L,maxAttachmentSize:R,newIssuePath:q,newProjectPath:$,projectImportJiraPath:B,quickActionsHelpPath:M,releasesPath:V,resetPath:G,rssPath:W,showNewIssueLink:H,signInPath:z,wiCanAdminLabel:K,wiIssuesListPath:Q,wiLabelsManagePath:Y,wiReportAbusePath:J,hasLinkedItemsEpicsFeature:X}=e.dataset;return new n.default({el:e,name:"IssuesListRoot",apolloProvider:new s.b({defaultClient:await Me()}),router:new a.a({base:window.location.pathname,mode:"history",routes:[{name:"root",path:"/"},{name:U.cb.design,path:"/:iid/designs/:id",component:je.a,beforeEnter({params:{id:e}},t,i){"string"==typeof e&&i()},props:function({params:{id:e,iid:t}}){return{id:e,iid:t}}}]}),provide:{autocompleteAwardEmojisPath:t,calendarPath:i,canBulkUpdate:Object(xe.H)(r),canCreateIssue:Object(xe.H)(o),canCreateProjects:Object(xe.H)(l),canReadCrmContact:Object(xe.H)(u),canReadCrmOrganization:Object(xe.H)(p),fullPath:g,groupId:v,groupPath:b,hasAnyIssues:Object(xe.H)(y),hasAnyProjects:Object(xe.H)(k),hasBlockedIssuesFeature:Object(xe.H)(w),hasIssuableHealthStatusFeature:Object(xe.H)(S),hasIssueDateFilterFeature:Object(xe.H)(_),hasIssueWeightsFeature:Object(xe.H)(I),hasIterationsFeature:Object(xe.H)(T),hasOkrsFeature:Object(xe.H)(O),hasQualityManagementFeature:Object(xe.H)(C),hasScopedLabelsFeature:Object(xe.H)(x),initialSort:D,isIssueRepositioningDisabled:Object(xe.H)(N),isGroup:!Object(xe.H)(A),isProject:Object(xe.H)(A),isPublicVisibilityRestricted:Object(xe.H)(P),isSignedIn:Object(xe.H)(F),newIssuePath:q,newProjectPath:$,releasesPath:V,rssPath:W,showNewIssueLink:Object(xe.H)(H),signInPath:z,canEdit:Object(xe.H)(d),email:h,exportCsvPath:f,importCsvIssuesPath:j,maxAttachmentSize:R,projectImportJiraPath:B,showExportButton:Object(xe.H)(y),showImportButton:Object(xe.H)(c),showLabel:!Object(xe.H)(y),emailsHelpPagePath:m,initialEmail:E,markdownHelpPath:L,quickActionsHelpPath:M,resetPath:G,canAdminLabel:K,issuesListPath:Q,labelsManagePath:Y,reportAbusePath:J,hasSubepicsFeature:!1,hasLinkedItemsEpicsFeature:Object(xe.H)(X)},render:function(e){return e(Ie)}})}},"1joW":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"destroyWorkItemDesignNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DestroyNoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"destroyNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:138}};i.loc.source={body:"mutation destroyWorkItemDesignNote($input: DestroyNoteInput!) {\n  destroyNote(input: $input) {\n    errors\n    note {\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.destroyWorkItemDesignNote=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"destroyWorkItemDesignNote")},"2+u0":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var n=i("/lV4");const s={CRITICAL:Object(n.g)("severity|Critical"),HIGH:Object(n.g)("severity|High"),MEDIUM:Object(n.g)("severity|Medium"),LOW:Object(n.g)("severity|Low"),INFO:Object(n.g)("severity|Info"),UNKNOWN:Object(n.g)("severity|Unknown")},a={OPERATIONS:{TITLE:"OPERATIONS",STATUSES:{TRIGGERED:Object(n.g)("AlertManagement|Triggered"),ACKNOWLEDGED:Object(n.g)("AlertManagement|Acknowledged"),RESOLVED:Object(n.g)("AlertManagement|Resolved")},TRACK_ALERTS_DETAILS_VIEWS_OPTIONS:{category:"Alert Management",action:"view_alert_details"},TRACK_ALERT_STATUS_UPDATE_OPTIONS:{category:"Alert Management",action:"update_alert_status",label:"Status"}}}},237:function(e,t,i){i("HVBj"),i("gjpc"),e.exports=i("v07w")},"2FlG":function(e,t,i){"use strict";i("B++/"),i("z6RN"),i("47t/");var n=i("crTv"),s=i("/lV4");const a=[20,50,100].map((function(e){return{value:e,text:Object(s.f)("SecurityReports|Show %d item","SecurityReports|Show %d items",e)}}));var r={components:{GlCollapsibleListbox:n.a},props:{value:{type:Number,required:!0}},computed:{selectedItem(){var e=this;return a.find((function({value:t}){return t===e.value}))},toggleText(){return this.selectedItem.text}},methods:{emitInput(e){this.$emit("input",e)}},PAGE_SIZES:a},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this;return(0,e._self._c)("gl-collapsible-listbox",{attrs:{"toggle-text":e.toggleText,items:e.$options.PAGE_SIZES,selected:e.value},on:{select:function(t){return e.emitInput(t)}}})}),[],!1,null,null,null);t.a=l.exports},"2O3R":function(e,t,i){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){s(e,t,i[t])}))}return e}function o(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.r(t),i.d(t,"MultiDrag",(function(){return yt})),i.d(t,"Sortable",(function(){return Be})),i.d(t,"Swap",(function(){return lt}));function d(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=d(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=d(/Edge/i),p=d(/firefox/i),h=d(/safari/i)&&!d(/chrome/i)&&!d(/android/i),m=d(/iP(ad|od|hone)/i),f=d(/chrome/i)&&d(/android/i),g={capture:!1,passive:!1};function v(e,t,i){e.addEventListener(t,i,!c&&g)}function b(e,t,i){e.removeEventListener(t,i,!c&&g)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function k(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function w(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&y(e,t):y(e,t))||n&&e===i)return e;if(e===i)break}while(e=k(e))}return null}var S,_=/\s+/g;function I(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(_," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(_," ")}}function T(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function O(e,t){var i="";if("string"==typeof e)i=e;else do{var n=T(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function C(e,t,i){if(e){var n=e.getElementsByTagName(t),s=0,a=n.length;if(i)for(;s<a;s++)i(n[s],s);return n}return[]}function x(){var e=document.scrollingElement;return e||document.documentElement}function j(e,t,i,n,s){if(e.getBoundingClientRect||e===window){var a,r,o,l,d,u,p;if(e!==window&&e!==x()?(r=(a=e.getBoundingClientRect()).top,o=a.left,l=a.bottom,d=a.right,u=a.height,p=a.width):(r=0,o=0,l=window.innerHeight,d=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||i)&&e!==window&&(s=s||e.parentNode,!c))do{if(s&&s.getBoundingClientRect&&("none"!==T(s,"transform")||i&&"static"!==T(s,"position"))){var h=s.getBoundingClientRect();r-=h.top+parseInt(T(s,"border-top-width")),o-=h.left+parseInt(T(s,"border-left-width")),l=r+a.height,d=o+a.width;break}}while(s=s.parentNode);if(n&&e!==window){var m=O(s||e),f=m&&m.a,g=m&&m.d;m&&(l=(r/=g)+(u/=g),d=(o/=f)+(p/=f))}return{top:r,left:o,bottom:l,right:d,width:p,height:u}}}function E(e,t,i){for(var n=F(e,!0),s=j(e)[t];n;){var a=j(n)[i];if(!("top"===i||"left"===i?s>=a:s<=a))return n;if(n===x())break;n=F(n,!1)}return!1}function D(e,t,i){for(var n=0,s=0,a=e.children;s<a.length;){if("none"!==a[s].style.display&&a[s]!==Be.ghost&&a[s]!==Be.dragged&&w(a[s],i.draggable,e,!1)){if(n===t)return a[s];n++}s++}return null}function N(e,t){for(var i=e.lastElementChild;i&&(i===Be.ghost||"none"===T(i,"display")||t&&!y(i,t));)i=i.previousElementSibling;return i||null}function A(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Be.clone||t&&!y(e,t)||i++;return i}function P(e){var t=0,i=0,n=x();if(e)do{var s=O(e),a=s.a,r=s.d;t+=e.scrollLeft*a,i+=e.scrollTop*r}while(e!==n&&(e=e.parentNode));return[t,i]}function F(e,t){if(!e||!e.getBoundingClientRect)return x();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=T(i);if(i.clientWidth<i.scrollWidth&&("auto"==s.overflowX||"scroll"==s.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==s.overflowY||"scroll"==s.overflowY)){if(!i.getBoundingClientRect||i===document.body)return x();if(n||t)return i;n=!0}}}while(i=i.parentNode);return x()}function L(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function R(e,t){return function(){if(!S){var i=arguments,n=this;1===i.length?e.call(n,i[0]):e.apply(n,i),S=setTimeout((function(){S=void 0}),t)}}}function q(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function $(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function B(e,t){T(e,"position","absolute"),T(e,"top",t.top),T(e,"left",t.left),T(e,"width",t.width),T(e,"height",t.height)}function M(e){T(e,"position",""),T(e,"top",""),T(e,"left",""),T(e,"width",""),T(e,"height","")}var V="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==T(e,"display")&&e!==Be.ghost){t.push({target:e,rect:j(e)});var i=r({},t[t.length-1].rect);if(e.thisAnimationDuration){var n=O(e,!0);n&&(i.top-=n.f,i.left-=n.e)}e.fromRect=i}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(t,{target:e}),1)},animateAll:function(i){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof i&&i());var s=!1,a=0;t.forEach((function(e){var t=0,i=e.target,r=i.fromRect,o=j(i),l=i.prevFromRect,d=i.prevToRect,c=e.rect,u=O(i,!0);u&&(o.top-=u.f,o.left-=u.e),i.toRect=o,i.thisAnimationDuration&&L(l,o)&&!L(r,o)&&(c.top-o.top)/(c.left-o.left)==(r.top-o.top)/(r.left-o.left)&&(t=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(c,l,d,n.options)),L(o,r)||(i.prevFromRect=r,i.prevToRect=o,t||(t=n.options.animation),n.animate(i,c,o,t)),t&&(s=!0,a=Math.max(a,t),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),t),i.thisAnimationDuration=t)})),clearTimeout(e),s?e=setTimeout((function(){"function"==typeof i&&i()}),a):"function"==typeof i&&i(),t=[]},animate:function(e,t,i,n){if(n){T(e,"transition",""),T(e,"transform","");var s=O(this.el),a=s&&s.a,r=s&&s.d,o=(t.left-i.left)/(a||1),l=(t.top-i.top)/(r||1);e.animatingX=!!o,e.animatingY=!!l,T(e,"transform","translate3d("+o+"px,"+l+"px,0)"),function(e){e.offsetWidth}(e),T(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var G=[],W={initializeByDefault:!0},H={mount:function(e){for(var t in W)W.hasOwnProperty(t)&&!(t in e)&&(e[t]=W[t]);G.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var s=e+"Global";G.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][s]&&t[n.pluginName][s](r({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](r({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var s in G.forEach((function(n){var s=n.pluginName;if(e.options[s]||n.initializeByDefault){var r=new n(e,t,e.options);r.sortable=e,r.options=e.options,e[s]=r,a(i,r.defaults)}})),e.options)if(e.options.hasOwnProperty(s)){var r=this.modifyOption(e,s,e.options[s]);void 0!==r&&(e.options[s]=r)}},getEventProperties:function(e,t){var i={};return G.forEach((function(n){"function"==typeof n.eventProperties&&a(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return G.forEach((function(s){e[s.pluginName]&&s.optionListeners&&"function"==typeof s.optionListeners[t]&&(n=s.optionListeners[t].call(e[s.pluginName],i))})),n}};function z(e){var t=e.sortable,i=e.rootEl,n=e.name,s=e.targetEl,a=e.cloneEl,o=e.toEl,l=e.fromEl,d=e.oldIndex,p=e.newIndex,h=e.oldDraggableIndex,m=e.newDraggableIndex,f=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||i&&i[V]){var b,y=t.options,k="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||c||u?(b=document.createEvent("Event")).initEvent(n,!0,!0):b=new CustomEvent(n,{bubbles:!0,cancelable:!0}),b.to=o||i,b.from=l||i,b.item=s||i,b.clone=a,b.oldIndex=d,b.newIndex=p,b.oldDraggableIndex=h,b.newDraggableIndex=m,b.originalEvent=f,b.pullMode=g?g.lastPutMode:void 0;var w=r({},v,H.getEventProperties(n,t));for(var S in w)b[S]=w[S];i&&i.dispatchEvent(b),y[k]&&y[k].call(t,b)}}var K=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,s=o(i,["evt"]);H.pluginEvent.bind(Be)(e,t,r({dragEl:Y,parentEl:J,ghostEl:X,rootEl:Z,nextEl:ee,lastDownEl:te,cloneEl:ie,cloneHidden:ne,dragStarted:ge,putSortable:de,activeSortable:Be.active,originalEvent:n,oldIndex:se,oldDraggableIndex:re,newIndex:ae,newDraggableIndex:oe,hideGhostForTarget:Le,unhideGhostForTarget:Re,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){Q({sortable:t,name:e,originalEvent:n})}},s))};function Q(e){z(r({putSortable:de,cloneEl:ie,targetEl:Y,rootEl:Z,oldIndex:se,oldDraggableIndex:re,newIndex:ae,newDraggableIndex:oe},e))}var Y,J,X,Z,ee,te,ie,ne,se,ae,re,oe,le,de,ce,ue,pe,he,me,fe,ge,ve,be,ye,ke,we=!1,Se=!1,_e=[],Ie=!1,Te=!1,Oe=[],Ce=!1,xe=[],je="undefined"!=typeof document,Ee=m,De=u||c?"cssFloat":"float",Ne=je&&!f&&!m&&"draggable"in document.createElement("div"),Ae=function(){if(je){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Pe=function(e,t){var i=T(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=D(e,0,t),a=D(e,1,t),r=s&&T(s),o=a&&T(a),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+j(s).width,d=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+j(a).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&r.float&&"none"!==r.float){var c="left"===r.float?"left":"right";return!a||"both"!==o.clear&&o.clear!==c?"horizontal":"vertical"}return s&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=n&&"none"===i[De]||a&&"none"===i[De]&&l+d>n)?"vertical":"horizontal"},Fe=function(e){function t(e,i){return function(n,s,a,r){var o=n.options.group.name&&s.options.group.name&&n.options.group.name===s.options.group.name;if(null==e&&(i||o))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,s,a,r),i)(n,s,a,r);var l=(i?n:s).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},s=e.group;s&&"object"==n(s)||(s={name:s}),i.name=s.name,i.checkPull=t(s.pull,!0),i.checkPut=t(s.put),i.revertClone=s.revertClone,e.group=i},Le=function(){!Ae&&X&&T(X,"display","none")},Re=function(){!Ae&&X&&T(X,"display","")};je&&document.addEventListener("click",(function(e){if(Se)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Se=!1,!1}),!0);var qe=function(e){if(Y){e=e.touches?e.touches[0]:e;var t=(s=e.clientX,a=e.clientY,_e.some((function(e){if(!N(e)){var t=j(e),i=e[V].options.emptyInsertThreshold,n=s>=t.left-i&&s<=t.right+i,o=a>=t.top-i&&a<=t.bottom+i;return i&&n&&o?r=e:void 0}})),r);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[V]._onDragOver(i)}}var s,a,r},$e=function(e){Y&&Y.parentNode[V]._isOutsideThisEl(e.target)};function Be(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[V]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Be.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var n in H.initializePlugins(this,e,i),i)!(n in t)&&(t[n]=i[n]);for(var s in Fe(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&Ne,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),_e.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,U())}function Me(e,t,i,n,s,a,r,o){var l,d,p=e[V],h=p.options.onMove;return!window.CustomEvent||c||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=s||t,l.relatedRect=a||j(t),l.willInsertAfter=o,l.originalEvent=r,e.dispatchEvent(l),h&&(d=h.call(p,l,r)),d}function Ve(e){e.draggable=!1}function Ue(){Ce=!1}function Ge(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function We(e){return setTimeout(e,0)}function He(e){return clearTimeout(e)}Be.prototype={constructor:Be,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,s=n.preventOnFilter,a=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,o=(r||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||o,d=n.filter;if(function(e){xe.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&xe.push(n)}}(i),!Y&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||n.disabled||l.isContentEditable||(o=w(o,n.draggable,i,!1))&&o.animated||te===o)){if(se=A(o),re=A(o,n.draggable),"function"==typeof d){if(d.call(this,e,o,this))return Q({sortable:t,rootEl:l,name:"filter",targetEl:o,toEl:i,fromEl:i}),K("filter",t,{evt:e}),void(s&&e.cancelable&&e.preventDefault())}else if(d&&(d=d.split(",").some((function(n){if(n=w(l,n.trim(),i,!1))return Q({sortable:t,rootEl:n,name:"filter",targetEl:o,fromEl:i,toEl:i}),K("filter",t,{evt:e}),!0}))))return void(s&&e.cancelable&&e.preventDefault());n.handle&&!w(l,n.handle,i,!1)||this._prepareDragStart(e,r,o)}}},_prepareDragStart:function(e,t,i){var n,s=this,a=s.el,r=s.options,o=a.ownerDocument;if(i&&!Y&&i.parentNode===a){var l=j(i);if(Z=a,J=(Y=i).parentNode,ee=Y.nextSibling,te=i,le=r.group,Be.dragged=Y,ce={target:Y,clientX:(t||e).clientX,clientY:(t||e).clientY},me=ce.clientX-l.left,fe=ce.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Y.style["will-change"]="all",n=function(){K("delayEnded",s,{evt:e}),Be.eventCanceled?s._onDrop():(s._disableDelayedDragEvents(),!p&&s.nativeDraggable&&(Y.draggable=!0),s._triggerDragStart(e,t),Q({sortable:s,name:"choose",originalEvent:e}),I(Y,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){C(Y,e.trim(),Ve)})),v(o,"dragover",qe),v(o,"mousemove",qe),v(o,"touchmove",qe),v(o,"mouseup",s._onDrop),v(o,"touchend",s._onDrop),v(o,"touchcancel",s._onDrop),p&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),K("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||c))n();else{if(Be.eventCanceled)return void this._onDrop();v(o,"mouseup",s._disableDelayedDrag),v(o,"touchend",s._disableDelayedDrag),v(o,"touchcancel",s._disableDelayedDrag),v(o,"mousemove",s._delayedDragTouchMoveHandler),v(o,"touchmove",s._delayedDragTouchMoveHandler),r.supportPointer&&v(o,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(n,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&Ve(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(Y,"dragend",this),v(Z,"dragstart",this._onDragStart));try{document.selection?We((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(we=!1,Z&&Y){K("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",$e);var i=this.options;!e&&I(Y,i.dragClass,!1),I(Y,i.ghostClass,!0),Be.active=this,e&&this._appendGhost(),Q({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,Le();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(Y.parentNode[V]._isOutsideThisEl(e),t)do{if(t[V]){if(t[V]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Re()}},_onTouchMove:function(e){if(ce){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,s=e.touches?e.touches[0]:e,a=X&&O(X,!0),r=X&&a&&a.a,o=X&&a&&a.d,l=Ee&&ke&&P(ke),d=(s.clientX-ce.clientX+n.x)/(r||1)+(l?l[0]-Oe[0]:0)/(r||1),c=(s.clientY-ce.clientY+n.y)/(o||1)+(l?l[1]-Oe[1]:0)/(o||1);if(!Be.active&&!we){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(X){a?(a.e+=d-(pe||0),a.f+=c-(he||0)):a={a:1,b:0,c:0,d:1,e:d,f:c};var u="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");T(X,"webkitTransform",u),T(X,"mozTransform",u),T(X,"msTransform",u),T(X,"transform",u),pe=d,he=c,ue=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!X){var e=this.options.fallbackOnBody?document.body:Z,t=j(Y,!0,Ee,!0,e),i=this.options;if(Ee){for(ke=e;"static"===T(ke,"position")&&"none"===T(ke,"transform")&&ke!==document;)ke=ke.parentNode;ke!==document.body&&ke!==document.documentElement?(ke===document&&(ke=x()),t.top+=ke.scrollTop,t.left+=ke.scrollLeft):ke=x(),Oe=P(ke)}I(X=Y.cloneNode(!0),i.ghostClass,!1),I(X,i.fallbackClass,!0),I(X,i.dragClass,!0),T(X,"transition",""),T(X,"transform",""),T(X,"box-sizing","border-box"),T(X,"margin",0),T(X,"top",t.top),T(X,"left",t.left),T(X,"width",t.width),T(X,"height",t.height),T(X,"opacity","0.8"),T(X,"position",Ee?"absolute":"fixed"),T(X,"zIndex","100000"),T(X,"pointerEvents","none"),Be.ghost=X,e.appendChild(X),T(X,"transform-origin",me/parseInt(X.style.width)*100+"% "+fe/parseInt(X.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,s=i.options;K("dragStart",this,{evt:e}),Be.eventCanceled?this._onDrop():(K("setupClone",this),Be.eventCanceled||((ie=$(Y)).draggable=!1,ie.style["will-change"]="",this._hideClone(),I(ie,this.options.chosenClass,!1),Be.clone=ie),i.cloneId=We((function(){K("clone",i),Be.eventCanceled||(i.options.removeCloneOnHide||Z.insertBefore(ie,Y),i._hideClone(),Q({sortable:i,name:"clone"}))})),!t&&I(Y,s.dragClass,!0),t?(Se=!0,i._loopId=setInterval(i._emulateDragOver,50)):(b(document,"mouseup",i._onDrop),b(document,"touchend",i._onDrop),b(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(i,n,Y)),v(document,"drop",i),T(Y,"transform","translateZ(0)")),we=!0,i._dragStartId=We(i._dragStarted.bind(i,t,e)),v(document,"selectstart",i),ge=!0,h&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,s,a=this.el,o=e.target,l=this.options,d=l.group,c=Be.active,u=le===d,p=l.sort,h=de||c,m=this,f=!1;if(!Ce){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),o=w(o,l.draggable,a,!0),L("dragOver"),Be.eventCanceled)return f;if(Y.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||m._ignoreWhileAnimating===o)return $(!1);if(Se=!1,c&&!l.disabled&&(u?p||(n=!Z.contains(Y)):de===this||(this.lastPutMode=le.checkPull(this,c,Y,e))&&d.checkPut(this,c,Y,e))){if(s="vertical"===this._getDirection(e,o),t=j(Y),L("dragOverValid"),Be.eventCanceled)return f;if(n)return J=Z,R(),this._hideClone(),L("revert"),Be.eventCanceled||(ee?Z.insertBefore(Y,ee):Z.appendChild(Y)),$(!0);var g=N(a,l.draggable);if(!g||function(e,t,i){var n=j(N(i.el,i.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,s,this)&&!g.animated){if(g===Y)return $(!1);if(g&&a===e.target&&(o=g),o&&(i=j(o)),!1!==Me(Z,a,Y,t,o,i,e,!!o))return R(),a.appendChild(Y),J=a,B(),$(!0)}else if(o.parentNode===a){i=j(o);var v,b,y,k=Y.parentNode!==a,S=!function(e,t,i){var n=i?e.left:e.top,s=i?e.right:e.bottom,a=i?e.width:e.height,r=i?t.left:t.top,o=i?t.right:t.bottom,l=i?t.width:t.height;return n===r||s===o||n+a/2===r+l/2}(Y.animated&&Y.toRect||t,o.animated&&o.toRect||i,s),_=s?"top":"left",O=E(o,"top","top")||E(Y,"top","top"),C=O?O.scrollTop:void 0;if(ve!==o&&(b=i[_],Ie=!1,Te=!S&&l.invertSwap||k),0!==(v=function(e,t,i,n,s,a,r,o){var l=n?e.clientY:e.clientX,d=n?i.height:i.width,c=n?i.top:i.left,u=n?i.bottom:i.right,p=!1;if(!r)if(o&&ye<d*s){if(!Ie&&(1===be?l>c+d*a/2:l<u-d*a/2)&&(Ie=!0),Ie)p=!0;else if(1===be?l<c+ye:l>u-ye)return-be}else if(l>c+d*(1-s)/2&&l<u-d*(1-s)/2)return function(e){return A(Y)<A(e)?1:-1}(t);if((p=p||r)&&(l<c+d*a/2||l>u-d*a/2))return l>c+d/2?1:-1;return 0}(e,o,i,s,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Te,ve===o))){var x=A(Y);do{x-=v,y=J.children[x]}while(y&&("none"===T(y,"display")||y===X))}if(0===v||y===o)return $(!1);ve=o,be=v;var D=o.nextElementSibling,P=!1,F=Me(Z,a,Y,t,o,i,e,P=1===v);if(!1!==F)return 1!==F&&-1!==F||(P=1===F),Ce=!0,setTimeout(Ue,30),R(),P&&!D?a.appendChild(Y):o.parentNode.insertBefore(Y,P?D:o),O&&q(O,0,C-O.scrollTop),J=Y.parentNode,void 0===b||Te||(ye=Math.abs(b-j(o)[_])),B(),$(!0)}if(a.contains(Y))return $(!1)}return!1}function L(l,d){K(l,m,r({evt:e,isOwner:u,axis:s?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:p,fromSortable:h,target:o,completed:$,onMove:function(i,n){return Me(Z,a,Y,t,i,j(i),e,n)},changed:B},d))}function R(){L("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function $(t){return L("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(m),m!==h&&(I(Y,de?de.options.ghostClass:c.options.ghostClass,!1),I(Y,l.ghostClass,!0)),de!==m&&m!==Be.active?de=m:m===Be.active&&de&&(de=null),h===m&&(m._ignoreWhileAnimating=o),m.animateAll((function(){L("dragOverAnimationComplete"),m._ignoreWhileAnimating=null})),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===Y&&!Y.animated||o===a&&!o.animated)&&(ve=null),l.dragoverBubble||e.rootEl||o===document||(Y.parentNode[V]._isOutsideThisEl(e.target),!t&&qe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function B(){ae=A(Y),oe=A(Y,l.draggable),Q({sortable:m,name:"change",toEl:a,newIndex:ae,newDraggableIndex:oe,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",qe),b(document,"mousemove",qe),b(document,"touchmove",qe)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;ae=A(Y),oe=A(Y,i.draggable),K("drop",this,{evt:e}),J=Y&&Y.parentNode,ae=A(Y),oe=A(Y,i.draggable),Be.eventCanceled||(we=!1,Te=!1,Ie=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),He(this.cloneId),He(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&T(document.body,"user-select",""),T(Y,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),X&&X.parentNode&&X.parentNode.removeChild(X),(Z===J||de&&"clone"!==de.lastPutMode)&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),Y&&(this.nativeDraggable&&b(Y,"dragend",this),Ve(Y),Y.style["will-change"]="",ge&&!we&&I(Y,de?de.options.ghostClass:this.options.ghostClass,!1),I(Y,this.options.chosenClass,!1),Q({sortable:this,name:"unchoose",toEl:J,newIndex:null,newDraggableIndex:null,originalEvent:e}),Z!==J?(ae>=0&&(Q({rootEl:J,name:"add",toEl:J,fromEl:Z,originalEvent:e}),Q({sortable:this,name:"remove",toEl:J,originalEvent:e}),Q({rootEl:J,name:"sort",toEl:J,fromEl:Z,originalEvent:e}),Q({sortable:this,name:"sort",toEl:J,originalEvent:e})),de&&de.save()):ae!==se&&ae>=0&&(Q({sortable:this,name:"update",toEl:J,originalEvent:e}),Q({sortable:this,name:"sort",toEl:J,originalEvent:e})),Be.active&&(null!=ae&&-1!==ae||(ae=se,oe=re),Q({sortable:this,name:"end",toEl:J,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){K("nulling",this),Z=Y=J=X=ee=ie=te=ne=ce=ue=ge=ae=oe=se=re=ve=be=de=le=Be.dragged=Be.ghost=Be.clone=Be.active=null,xe.forEach((function(e){e.checked=!0})),xe.length=pe=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Y&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,s=i.length,a=this.options;n<s;n++)w(e=i[n],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||Ge(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach((function(e,n){var s=i.children[n];w(s,this.options.draggable,i,!1)&&(t[e]=s)}),this),e.forEach((function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return w(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=H.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&Fe(i)},destroy:function(){K("destroy",this);var e=this.el;e[V]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),_e.splice(_e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(K("hideClone",this),Be.eventCanceled)return;T(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(K("showClone",this),Be.eventCanceled)return;Z.contains(Y)&&!this.options.group.revertClone?Z.insertBefore(ie,Y):ee?Z.insertBefore(ie,ee):Z.appendChild(ie),this.options.group.revertClone&&this.animate(Y,ie),T(ie,"display",""),ne=!1}}else this._hideClone()}},je&&v(document,"touchmove",(function(e){(Be.active||we)&&e.cancelable&&e.preventDefault()})),Be.utils={on:v,off:b,css:T,find:C,is:function(e,t){return!!w(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:R,closest:w,toggleClass:I,clone:$,index:A,nextTick:We,cancelNextTick:He,detectDirection:Pe,getChild:D},Be.get=function(e){return e[V]},Be.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Be.utils=r({},Be.utils,e.utils)),H.mount(e)}))},Be.create=function(e,t){return new Be(e,t)},Be.version="1.10.2";var ze,Ke,Qe,Ye,Je,Xe,Ze=[],et=!1;function tt(){Ze.forEach((function(e){clearInterval(e.pid)})),Ze=[]}function it(){clearInterval(Xe)}var nt,st=R((function(e,t,i,n){if(t.scroll){var s,a=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,l=t.scrollSpeed,d=x(),c=!1;Ke!==i&&(Ke=i,tt(),ze=t.scroll,s=t.scrollFn,!0===ze&&(ze=F(i,!0)));var u=0,p=ze;do{var h=p,m=j(h),f=m.top,g=m.bottom,v=m.left,b=m.right,y=m.width,k=m.height,w=void 0,S=void 0,_=h.scrollWidth,I=h.scrollHeight,O=T(h),C=h.scrollLeft,E=h.scrollTop;h===d?(w=y<_&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),S=k<I&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(w=y<_&&("auto"===O.overflowX||"scroll"===O.overflowX),S=k<I&&("auto"===O.overflowY||"scroll"===O.overflowY));var D=w&&(Math.abs(b-a)<=o&&C+y<_)-(Math.abs(v-a)<=o&&!!C),N=S&&(Math.abs(g-r)<=o&&E+k<I)-(Math.abs(f-r)<=o&&!!E);if(!Ze[u])for(var A=0;A<=u;A++)Ze[A]||(Ze[A]={});Ze[u].vx==D&&Ze[u].vy==N&&Ze[u].el===h||(Ze[u].el=h,Ze[u].vx=D,Ze[u].vy=N,clearInterval(Ze[u].pid),0==D&&0==N||(c=!0,Ze[u].pid=setInterval(function(){n&&0===this.layer&&Be.active._onTouchMove(Je);var t=Ze[this.layer].vy?Ze[this.layer].vy*l:0,i=Ze[this.layer].vx?Ze[this.layer].vx*l:0;"function"==typeof s&&"continue"!==s.call(Be.dragged.parentNode[V],i,t,e,Je,Ze[this.layer].el)||q(Ze[this.layer].el,i,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==d&&(p=F(p,!1)));et=c}}),30),at=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,s=e.activeSortable,a=e.dispatchSortableEvent,r=e.hideGhostForTarget,o=e.unhideGhostForTarget;if(t){var l=i||s;r();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);o(),l&&!l.el.contains(c)&&(a("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function rt(){}function ot(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;nt=t},dragOverValid:function(e){var t=e.completed,i=e.target,n=e.onMove,s=e.activeSortable,a=e.changed,r=e.cancel;if(s.options.swap){var o=this.sortable.el,l=this.options;if(i&&i!==o){var d=nt;!1!==n(i)?(I(i,l.swapClass,!0),nt=i):nt=null,d&&d!==nt&&I(d,l.swapClass,!1)}a(),t(!0),r()}},drop:function(e){var t=e.activeSortable,i=e.putSortable,n=e.dragEl,s=i||this.sortable,a=this.options;nt&&I(nt,a.swapClass,!1),nt&&(a.swap||i&&i.options.swap)&&n!==nt&&(s.captureAnimationState(),s!==t&&t.captureAnimationState(),function(e,t){var i,n,s=e.parentNode,a=t.parentNode;if(!s||!a||s.isEqualNode(t)||a.isEqualNode(e))return;i=A(e),n=A(t),s.isEqualNode(a)&&i<n&&n++;s.insertBefore(t,s.children[i]),a.insertBefore(e,a.children[n])}(n,nt),s.animateAll(),s!==t&&t.animateAll())},nulling:function(){nt=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:nt}}})}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=D(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:at},a(rt,{pluginName:"revertOnSpill"}),ot.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:at},a(ot,{pluginName:"removeOnSpill"});var dt,ct,ut,pt,ht,mt=[],ft=[],gt=!1,vt=!1,bt=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,i){var n="";mt.length&&ct===e?mt.forEach((function(e,t){n+=(t?", ":"")+e.textContent})):n=i.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ut=t},delayEnded:function(){this.isMultiDrag=~mt.indexOf(ut)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var n=0;n<mt.length;n++)ft.push($(mt[n])),ft[n].sortableIndex=mt[n].sortableIndex,ft[n].draggable=!1,ft[n].style["will-change"]="",I(ft[n],this.options.selectedClass,!1),mt[n]===ut&&I(ft[n],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,n=e.dispatchSortableEvent,s=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||mt.length&&ct===t&&(kt(!0,i),n("clone"),s()))},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,n=e.cancel;this.isMultiDrag&&(kt(!1,i),ft.forEach((function(e){T(e,"display","")})),t(),ht=!1,n())},hideClone:function(e){var t=this,i=(e.sortable,e.cloneNowHidden),n=e.cancel;this.isMultiDrag&&(ft.forEach((function(e){T(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),i(),ht=!0,n())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ct&&ct.multiDrag._deselectMultiDrag(),mt.forEach((function(e){e.sortableIndex=A(e)})),mt=mt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),bt=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){mt.forEach((function(e){e!==ut&&T(e,"position","absolute")}));var n=j(ut,!1,!0,!0);mt.forEach((function(e){e!==ut&&B(e,n)})),vt=!0,gt=!0}i.animateAll((function(){vt=!1,gt=!1,t.options.animation&&mt.forEach((function(e){M(e)})),t.options.sort&&wt()}))}},dragOver:function(e){var t=e.target,i=e.completed,n=e.cancel;vt&&~mt.indexOf(t)&&(i(!1),n())},revert:function(e){var t=e.fromSortable,i=e.rootEl,n=e.sortable,s=e.dragRect;mt.length>1&&(mt.forEach((function(e){n.addAnimationState({target:e,rect:vt?j(e):s}),M(e),e.fromRect=s,t.removeAnimationState(e)})),vt=!1,function(e,t){mt.forEach((function(i,n){var s=t.children[i.sortableIndex+(e?Number(n):0)];s?t.insertBefore(i,s):t.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,n=e.insertion,s=e.activeSortable,a=e.parentEl,r=e.putSortable,o=this.options;if(n){if(i&&s._hideClone(),gt=!1,o.animation&&mt.length>1&&(vt||!i&&!s.options.sort&&!r)){var l=j(ut,!1,!0,!0);mt.forEach((function(e){e!==ut&&(B(e,l),a.appendChild(e))})),vt=!0}if(!i)if(vt||wt(),mt.length>1){var d=ht;s._showClone(t),s.options.animation&&!ht&&d&&ft.forEach((function(e){s.addAnimationState({target:e,rect:pt}),e.fromRect=pt,e.thisAnimationDuration=null}))}else s._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,n=e.activeSortable;if(mt.forEach((function(e){e.thisAnimationDuration=null})),n.options.animation&&!i&&n.multiDrag.isMultiDrag){pt=a({},t);var s=O(ut,!0);pt.top-=s.f,pt.left-=s.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,wt())},drop:function(e){var t=e.originalEvent,i=e.rootEl,n=e.parentEl,s=e.sortable,a=e.dispatchSortableEvent,r=e.oldIndex,o=e.putSortable,l=o||this.sortable;if(t){var d=this.options,c=n.children;if(!bt)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(ut,d.selectedClass,!~mt.indexOf(ut)),~mt.indexOf(ut))mt.splice(mt.indexOf(ut),1),dt=null,z({sortable:s,rootEl:i,name:"deselect",targetEl:ut,originalEvt:t});else{if(mt.push(ut),z({sortable:s,rootEl:i,name:"select",targetEl:ut,originalEvt:t}),t.shiftKey&&dt&&s.el.contains(dt)){var u,p,h=A(dt),m=A(ut);if(~h&&~m&&h!==m)for(m>h?(p=h,u=m):(p=m,u=h+1);p<u;p++)~mt.indexOf(c[p])||(I(c[p],d.selectedClass,!0),mt.push(c[p]),z({sortable:s,rootEl:i,name:"select",targetEl:c[p],originalEvt:t}))}else dt=ut;ct=l}if(bt&&this.isMultiDrag){if((n[V].options.sort||n!==i)&&mt.length>1){var f=j(ut),g=A(ut,":not(."+this.options.selectedClass+")");if(!gt&&d.animation&&(ut.thisAnimationDuration=null),l.captureAnimationState(),!gt&&(d.animation&&(ut.fromRect=f,mt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ut){var t=vt?j(e):f;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),wt(),mt.forEach((function(e){c[g]?n.insertBefore(e,c[g]):n.appendChild(e),g++})),r===A(ut))){var v=!1;mt.forEach((function(e){e.sortableIndex===A(e)||(v=!0)})),v&&a("update")}mt.forEach((function(e){M(e)})),l.animateAll()}ct=l}(i===n||o&&"clone"!==o.lastPutMode)&&ft.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=bt=!1,ft.length=0},destroyGlobal:function(){this._deselectMultiDrag(),b(document,"pointerup",this._deselectMultiDrag),b(document,"mouseup",this._deselectMultiDrag),b(document,"touchend",this._deselectMultiDrag),b(document,"keydown",this._checkKeyDown),b(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==bt&&bt||ct!==this.sortable||e&&w(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;mt.length;){var t=mt[0];I(t,this.options.selectedClass,!1),mt.shift(),z({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[V];t&&t.options.multiDrag&&!~mt.indexOf(e)&&(ct&&ct!==t&&(ct.multiDrag._deselectMultiDrag(),ct=t),I(e,t.options.selectedClass,!0),mt.push(e))},deselect:function(e){var t=e.parentNode[V],i=mt.indexOf(e);t&&t.options.multiDrag&&~i&&(I(e,t.options.selectedClass,!1),mt.splice(i,1))}},eventProperties:function(){var e=this,t=[],i=[];return mt.forEach((function(n){var s;t.push({multiDragElement:n,index:n.sortableIndex}),s=vt&&n!==ut?-1:vt?A(n,":not(."+e.options.selectedClass+")"):A(n),i.push({multiDragElement:n,index:s})})),{items:l(mt),clones:[].concat(ft),oldIndicies:t,newIndicies:i}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function kt(e,t){ft.forEach((function(i,n){var s=t.children[i.sortableIndex+(e?Number(n):0)];s?t.insertBefore(i,s):t.appendChild(i)}))}function wt(){mt.forEach((function(e){e!==ut&&e.parentNode&&e.parentNode.removeChild(e)}))}Be.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),it(),tt(),clearTimeout(S),S=void 0},nulling:function(){Je=Ke=ze=et=Xe=Qe=Ye=null,Ze.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(n,s);if(Je=e,t||u||c||h){st(e,this.options,a,t);var r=F(a,!0);!et||Xe&&n===Qe&&s===Ye||(Xe&&it(),Xe=setInterval((function(){var a=F(document.elementFromPoint(n,s),!0);a!==r&&(r=a,tt()),st(e,i.options,a,t)}),10),Qe=n,Ye=s)}else{if(!this.options.bubbleScroll||F(a,!0)===x())return void tt();st(e,this.options,F(a,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Be.mount(ot,rt),t.default=Be},"2mBx":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("oTzT");const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=Object(n.l)();return!!(t&&""!==t.toString().trim()&&t.containsNode&&Object(n.s)(e))&&t.containsNode(e,!0)}},"2rze":function(e,t,i){var n=i("9s1C"),s=i("wJPF"),a=i("Uc6l"),r=a&&a.isSet,o=r?s(r):n;e.exports=o},"2zC5":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemRepositionImageDiffNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositionImageDiffNoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repositionImageDiffNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignNote"},directives:[]}]}}]}}]}}],loc:{start:0,end:231}};n.loc.source={body:'#import "./fragments/design_note.fragment.graphql"\n\nmutation workItemRepositionImageDiffNote($input: RepositionImageDiffNoteInput!) {\n  repositionImageDiffNote(input: $input) {\n    errors\n    note {\n      ...DesignNote\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("LjxR").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.workItemRepositionImageDiffNote=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"workItemRepositionImageDiffNote")},"35TA":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PromoteTimelineEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TimelineEventPromoteFromNoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEventPromoteFromNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEvent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:176}};i.loc.source={body:"mutation PromoteTimelineEvent($input: TimelineEventPromoteFromNoteInput!) {\n  timelineEventPromoteFromNote(input: $input) {\n    timelineEvent {\n      id\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.PromoteTimelineEvent=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"PromoteTimelineEvent")},"3BNn":function(e,t,i){"use strict";i("3UXl"),i("iyoE");var n=i("z1xw"),s=i("/lV4"),a=i("xRSn"),r=i("eZCY"),o=i.n(r),l=i("o4PY"),d=i.n(l),c=(i("UezY"),i("z6RN"),i("hG7+"),i("DZUU")),u=i("MV2A"),p=i("s1D3"),h=i("AxUD"),m=i("Fsq/"),f=i("+kWK"),g=i("5QKO"),v={components:{GlTooltip:c.a,GlLink:u.a,GlIcon:p.a,UserAvatarImage:f.a,TimeagoTooltip:m.a},directives:{GlTooltip:n.a},mixins:[g.a],props:{suggestion:{type:Object,required:!0}},computed:{counts(){return[{id:d()(),icon:"thumb-up",tooltipTitle:Object(s.a)("Upvotes"),count:this.suggestion.upvotes},{id:d()(),icon:"comment",tooltipTitle:Object(s.a)("Comments"),count:this.suggestion.userNotesCount}].filter((function({count:e}){return e}))},isClosed(){return this.suggestion.state===h.d},stateIconClass(){return this.isClosed?"gl-fill-icon-info":"gl-fill-icon-success"},stateIconName(){return this.isClosed?"issue-close":"issue-open-m"},stateTitle(){return this.isClosed?Object(s.a)("Closed"):Object(s.a)("Opened")},closedOrCreatedDate(){return this.suggestion.closedAt||this.suggestion.createdAt},hasUpdated(){return this.suggestion.updatedAt!==this.suggestion.createdAt}}},b=i("tBpV"),y=Object(b.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"suggestion-item"},[t("div",{staticClass:"gl-flex gl-items-center"},[e.suggestion.confidential?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-mr-2 gl-cursor-help gl-text-orange-500",attrs:{title:e.__("Confidential"),name:"eye-slash"}}):e._e(),e._v(" "),t("gl-link",{staticClass:"suggestion str-truncated-100 gl-font-bold !gl-text-default",attrs:{href:e.suggestion.webUrl,target:"_blank"}},[e._v("\n      "+e._s(e.suggestion.title)+"\n    ")])],1),e._v(" "),t("div",{staticClass:"suggestion-footer gl-text-subtle"},[t("span",{ref:"state"},[t("gl-icon",{staticClass:"gl-cursor-help",class:e.stateIconClass,attrs:{name:e.stateIconName}})],1),e._v(" "),t("gl-tooltip",{attrs:{target:function(){return e.$refs.state},placement:"bottom"}},[t("span",{staticClass:"gl-block"},[t("span",{staticClass:"gl-font-bold"},[e._v(" "+e._s(e.stateTitle)+" ")]),e._v("\n        "+e._s(e.timeFormatted(e.closedOrCreatedDate))+"\n      ")]),e._v(" "),t("span",{staticClass:"gl-text-tertiary"},[e._v(e._s(e.tooltipTitle(e.closedOrCreatedDate)))])]),e._v("\n    #"+e._s(e.suggestion.iid)+" â¢\n    "),t("timeago-tooltip",{staticClass:"gl-cursor-help",attrs:{time:e.suggestion.createdAt,"tooltip-placement":"bottom"}}),e._v("\n    "+e._s(e.__("by"))+"\n    "),t("gl-link",{attrs:{href:e.suggestion.author.webUrl}},[t("user-avatar-image",{staticClass:"gl-inline-block",attrs:{"img-src":e.suggestion.author.avatarUrl,size:16,"css-classes":"mr-0 float-none","tooltip-placement":"bottom"}},[t("span",{staticClass:"gl-block gl-font-bold"},[e._v(e._s(e.__("Author")))]),e._v(" "+e._s(e.suggestion.author.name)+"\n        "),t("span",{staticClass:"gl-text-tertiary"},[e._v("@"+e._s(e.suggestion.author.username))])])],1),e._v(" "),e.hasUpdated?[e._v("\n      â¢ "+e._s(e.__("updated"))+"\n      "),t("timeago-tooltip",{staticClass:"gl-cursor-help",attrs:{time:e.suggestion.updatedAt,"tooltip-placement":"bottom"}})]:e._e(),e._v(" "),t("span",{staticClass:"suggestion-counts"},e._l(e.counts,(function({count:i,icon:n,tooltipTitle:s,id:a}){return t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],key:a,staticClass:"gl-ml-3 gl-cursor-help gl-text-subtle",attrs:{title:s}},[t("gl-icon",{attrs:{name:n}}),e._v(" "+e._s(i)+"\n      ")],1)})),0)],2)])}),[],!1,null,null,null).exports,k={components:{HelpIcon:a.a,TitleSuggestionsItem:y},directives:{GlTooltip:n.a},props:{projectPath:{type:String,required:!0},search:{type:String,required:!0},helpText:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""}},apollo:{issues:{query:o.a,debounce:1e3,skip(){return this.isSearchEmpty},update:function(e){var t,i;return null!==(t=null==e||null===(i=e.project)||void 0===i||null===(i=i.issues)||void 0===i?void 0:i.edges.map((function({node:e}){return e})))&&void 0!==t?t:[]},variables(){return{fullPath:this.projectPath,search:this.search}}}},data:()=>({issues:[],loading:0}),computed:{isSearchEmpty(){return!this.search.length},showSuggestions(){return!this.isSearchEmpty&&this.issues.length&&!this.loading},helpIconTitle(){return this.helpText||this.$options.helpText},suggestionsTitle(){return this.title||Object(s.a)("Similar issues")}},watch:{search(){this.isSearchEmpty&&(this.issues=[])}},helpText:Object(s.a)("These existing issues have a similar title. It might be better to comment there instead of creating another similar issue.")},w=Object(b.a)(k,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSuggestions,expression:"showSuggestions"}],staticClass:"form-group"},[e._m(0),e._v(" "),t("ul",{staticClass:"gl-m-0 gl-list-none gl-p-0"},e._l(e.issues,(function(i,n){return t("li",{key:i.id,class:{"gl-mb-3":n!==e.issues.length-1}},[t("title-suggestions-item",{attrs:{suggestion:i}})],1)})),0)])}),[function(){var e=this._self._c;return e("div",{staticClass:"gl-pb-3"},[this._v("\n    "+this._s(this.suggestionsTitle)+"\n    "),e("help-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],attrs:{title:this.helpIconTitle,"aria-label":this.helpIconTitle}})],1)}],!1,null,null,null);t.a=w.exports},"3Wsj":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueCrmContacts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CrmContacts"},directives:[]}]}}]}}],loc:{start:0,end:133}};n.loc.source={body:'#import "./issue_crm_contacts.fragment.graphql"\n\nquery issueCrmContacts($id: IssueID!) {\n  issue(id: $id) {\n    ...CrmContacts\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("ycwL").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.issueCrmContacts=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"issueCrmContacts")},"3Ydu":function(e,t,i){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkItemLinkedItemsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetLinkedItems"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkedItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"namespace"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"full"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemMetadataWidgets"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemMetadataWidgetsExtras"},directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:914}};n.loc.source={body:'#import "ee_else_ce/work_items/graphql/work_item_metadata_widgets.fragment.graphql"\n#import "ee_else_ce/work_items/graphql/work_item_metadata_widgets_extras.fragment.graphql"\n\nfragment WorkItemLinkedItemsFragment on WorkItem {\n  widgets {\n    ... on WorkItemWidgetLinkedItems {\n      type\n      linkedItems {\n        nodes {\n          linkId\n          linkType\n          workItem {\n            id\n            iid\n            confidential\n            namespace {\n              id\n              fullPath\n            }\n            workItemType {\n              id\n              name\n              iconName\n            }\n            title\n            state\n            createdAt\n            closedAt\n            webUrl\n            reference(full: true)\n            widgets {\n              ...WorkItemMetadataWidgets\n              ...WorkItemMetadataWidgetsExtras\n            }\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("Hcw9").definitions)),n.definitions=n.definitions.concat(a(i("wQtW").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.WorkItemLinkedItemsFragment=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"WorkItemLinkedItemsFragment")},"3cHC":function(e,t,i){"use strict";i.d(t,"p",(function(){return s})),i.d(t,"i",(function(){return a})),i.d(t,"j",(function(){return r})),i.d(t,"B",(function(){return o})),i.d(t,"C",(function(){return l})),i.d(t,"A",(function(){return d})),i.d(t,"s",(function(){return c})),i.d(t,"r",(function(){return u})),i.d(t,"t",(function(){return p})),i.d(t,"w",(function(){return h})),i.d(t,"u",(function(){return m})),i.d(t,"v",(function(){return f})),i.d(t,"x",(function(){return g})),i.d(t,"y",(function(){return v})),i.d(t,"a",(function(){return b})),i.d(t,"b",(function(){return y})),i.d(t,"l",(function(){return k})),i.d(t,"z",(function(){return w})),i.d(t,"g",(function(){return S})),i.d(t,"o",(function(){return _})),i.d(t,"n",(function(){return I})),i.d(t,"m",(function(){return T})),i.d(t,"d",(function(){return O})),i.d(t,"k",(function(){return C})),i.d(t,"h",(function(){return x})),i.d(t,"f",(function(){return j})),i.d(t,"e",(function(){return E})),i.d(t,"q",(function(){return D})),i.d(t,"c",(function(){return N}));var n=i("ewH8");const s="sidebar-portal-mount",a="js-super-sidebar-toggle-collapse",r="js-super-sidebar-toggle-expand",o=n.default.observable({ready:!1}),l=n.default.observable({isCollapsed:!1,hasPeeked:!1,isPeek:!1,isPeekable:!1,isHoverPeek:!1,wasHoverPeek:!1}),d=n.default.observable({commands:[],isShown:!1}),c=200,u=500,p="closed",h="will-open",m="open",f="will-close",g="item_without_id",v="nav_panel_unknown",b="click_menu_item",y="click_pinned_menu_item",k=["group","project","organization"],w={"data-track-property":"nav_user_menu","data-track-action":"click_link"},S={"data-track-property":"nav_help_menu","data-track-action":"click_link"},_="sidebar_pinned_section_expanded",I=3650,T="super-sidebar-pinned-nav-item-clicked",O=4,C="super-sidebar-nav-item-current",x=34,j={MAX_COUNT:20,ELIGIBLE_FREQUENCY:3},E=9e5,D={projects:"frequent-projects"},N="groups"},"3lQS":function(e,t,i){"use strict";var n=i("tbP8"),s=i("FxFN"),a=i("5c3i"),r={components:{GlAvatar:n.a},props:{projectId:{type:[Number,String],default:0,required:!1,validator:e=>"string"!=typeof e||Object(s.f)(e)},projectName:{type:String,required:!0},projectAvatarUrl:{type:String,required:!1,default:""},size:{type:Number,default:32,required:!1},alt:{type:String,required:!1,default:void 0}},computed:{avatarAlt(){var e;return null!==(e=this.alt)&&void 0!==e?e:this.projectName},entityId(){return Object(s.f)(this.projectId)?Object(s.e)(this.projectId):this.projectId}},AVATAR_SHAPE_OPTION_RECT:a.a},o=i("tBpV"),l=Object(o.a)(r,(function(){return(0,this._self._c)("gl-avatar",{attrs:{shape:this.$options.AVATAR_SHAPE_OPTION_RECT,"entity-id":this.entityId,"entity-name":this.projectName,src:this.projectAvatarUrl,alt:this.avatarAlt,size:this.size,"fallback-on-error":!0,itemprop:"image"}})}),[],!1,null,null,null);t.a=l.exports},"3uc7":function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));i("B++/"),i("z6RN"),i("47t/"),i("Tznw"),i("IYH6"),i("6yen"),i("OeRx"),i("l/dT"),i("RqS2"),i("Zy7a"),i("cjZU"),i("OAhk"),i("X42P"),i("mHhP"),i("fn0I"),i("UB/6"),i("imhG"),i("ZzK0"),i("BzOf");var n=i("EmJ/"),s=i.n(n),a=i("+XPY"),r=i.n(a),o=i("Jn9D"),l=i("tRCE"),d=i("bOix"),c=i("3twG"),u=i("yYhH"),p=i("Ylta"),h=i("e2M3"),m=i("B3Hj"),f=i("5c3i"),g=i("7KAB");const v="merge_request[source_branch]";function b(e,t=!1){const i=function(e,t=!1){return e[v]||e["merge_request[target_branch]"]?t?{[v]:e[v]}:{[v]:e[v],"merge_request[target_branch]":e["merge_request[target_branch]"]}:e}(Object(c.E)(e,{legacySpacesDecode:!0}),t);return Object(c.C)(i)}class y{static addAutosave(e,t,i,n,s){i&&e.set(t,new l.a(i,[document.location.pathname,n,t],`${s}=${t}`))}constructor(e){var t=this;if(0===e.length)return;if(this.form=e,this.resetAutosave=this.resetAutosave.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.draftRegex=new RegExp("^\\s*(\\[draft\\]\\s*|draft:\\s*|\\(draft\\)\\s*)+\\s*","i"),this.gfmAutoComplete=new o.a(gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources).setup(),this.usersSelect=new u.a,this.reviewersSelect=new u.a(void 0,".js-reviewer-search"),this.zenMode=new p.a,this.searchTerm=function(e){const{search:t,pathname:i}=document.location;return e===i?"":b(t)}(e[0].getAttribute("data-new-issue-path")),this.fallbackKey=function(){const e=b(document.location.search,!0);return["autosave",document.location.pathname,e].join("/")}(),this.titleField=this.form.find('input[name*="[title]"]'),this.descriptionField=function(){return t.form.find('textarea[name*="[description]"]')},this.submitButton=this.form.find(".js-issuable-submit-button"),this.draftCheck=document.querySelector("input.js-toggle-draft"),!this.titleField.length)return;this.autosaves=this.initAutosave(),this.form.on("submit",this.handleSubmit),this.form.on("click",".btn-cancel, .js-reset-autosave",this.resetAutosave),this.initDraft();const i=s()("#issuable-due-date");if(i.length){const e=new r.a({field:i.get(0),theme:"gl-datepicker-theme animate-picker",format:"yyyy-mm-dd",container:i.parent().get(0),parse:function(e){return Object(d.O)(e)},toString:function(e){return Object(d.V)(e)},onSelect:function(n){i.val(e.toString(n)),t.autosaves.has("due_date")&&t.autosaves.get("due_date").save()},firstDay:gon.first_day_of_week});e.setDate(Object(d.O)(i.val()))}}initAutosave(){const e=new Map;return y.addAutosave(e,"title",this.form.find('input[name*="[title]"]').get(0),this.searchTerm,this.fallbackKey),y.addAutosave(e,"confidential",this.form.find('input:checkbox[name*="[confidential]"]').get(0),this.searchTerm,this.fallbackKey),y.addAutosave(e,"due_date",this.form.find('input[name*="[due_date]"]').get(0),this.searchTerm,this.fallbackKey),e}async handleSubmit(e){e.preventDefault(),Object(m.c)(localStorage.getItem("gl-markdown-editor-mode")===f.f,document.location.pathname.includes("merge_requests")?g.MERGE_REQUEST_NOTEABLE_TYPE:document.location.pathname.includes("issues")?g.ISSUE_NOTEABLE_TYPE:"Other");const t=e.target,i=this.descriptionField().val();return await Object(h.b)({content:i,contentType:h.a.DESCRIPTION})?(t.submit(),this.resetAutosave()):(this.submitButton.removeAttr("disabled"),this.submitButton.removeClass("disabled"),!1)}resetAutosave(){this.autosaves.forEach((function(e){null==e||e.reset()}))}initDraft(){var e=this;this.draftCheck&&(this.draftCheck.addEventListener("click",(function(){return e.writeDraftStatus()})),this.titleField.on("keyup blur",(function(){return e.readDraftStatus()})),this.readDraftStatus())}isMarkedDraft(){return this.draftRegex.test(this.titleField.val())}readDraftStatus(){this.draftCheck.checked=this.isMarkedDraft()}writeDraftStatus(){this.draftCheck.checked?this.addDraft():this.removeDraft()}removeDraft(){return this.titleField.val(this.titleField.val().replace(this.draftRegex,""))}addDraft(){this.titleField.val("Draft: "+this.titleField.val())}}},"4NPW":function(e,t,i){"use strict";i("byxs");var n=i("ewH8"),s=i("GiFX"),a=i("5v28"),r=i("NmEs"),o=i("DVFT"),l=i("AxUD"),d=(i("3UXl"),i("iyoE"),i("UezY"),i("z6RN"),i("hG7+"),i("l5WF")),c=i("FxFN"),u=i("ZIW3"),p=i("/lV4"),h={components:{GlFormGroup:d.a,LabelsSelect:u.a},inject:["allowLabelRemove","attrWorkspacePath","fieldName","fullPath","labelsFilterBasePath","initialLabels","issuableType","labelType","issuableSupportsLockOnMerge","variant","workspaceType"],data(){return{selectedLabels:this.initialLabels||[]}},methods:{handleUpdateSelectedLabels({labels:e}){this.selectedLabels=e.map((function(e){return{...e,id:Object(c.e)(e.id)}}))},handleLabelRemove(e){this.selectedLabels=this.selectedLabels.filter((function(t){return t.id!==e}))}},i18n:{fieldLabel:Object(p.a)("Labels"),dropdownButtonText:Object(p.a)("Select label"),listTitle:Object(p.a)("Select label"),createTitle:Object(p.a)("Create project label"),manageTitle:Object(p.a)("Manage project labels"),emptySelection:Object(p.a)("None")}},m=i("tBpV"),f=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("gl-form-group",{staticClass:"row",attrs:{"label-class":"gl-hidden"}},[t("label",{staticClass:"col-12 gl-align-center gl-flex"},[e._v("\n    "+e._s(e.$options.i18n.fieldLabel)+"\n  ")]),e._v(" "),t("div",{staticClass:"col-12"},[t("div",{staticClass:"issuable-form-label-select-holder"},[e._l(e.selectedLabels,(function(i){return t("input",{key:i.id,attrs:{name:e.fieldName,type:"hidden"},domProps:{value:i.id}})})),e._v(" "),t("labels-select",{staticClass:"block labels",attrs:{"allow-label-remove":e.allowLabelRemove,"allow-multiselect":!0,"show-embedded-labels-list":!0,"full-path":e.fullPath,"attr-workspace-path":e.attrWorkspacePath,"labels-filter-base-path":e.labelsFilterBasePath,"dropdown-button-text":e.$options.i18n.dropdownButtonText,"labels-list-title":e.$options.i18n.listTitle,"footer-create-label-title":e.$options.i18n.createTitle,"footer-manage-label-title":e.$options.i18n.manageTitle,variant:e.variant,"workspace-type":e.workspaceType,"issuable-type":e.issuableType,"label-create-type":e.labelType,"selected-labels":e.selectedLabels,"issuable-supports-lock-on-merge":e.issuableSupportsLockOnMerge},on:{updateSelectedLabels:e.handleUpdateSelectedLabels,onLabelRemove:e.handleLabelRemove}},[e._v("\n        "+e._s(e.$options.i18n.emptySelection)+"\n      ")])],2)])])}),[],!1,null,null,null).exports;n.default.use(s.b);const g=new s.b({defaultClient:Object(a.b)()});t.a=function(){const e=document.querySelector(".js-issuable-form-label-selector");if(!e)return!1;const{fieldName:t,fullPath:i,initialLabels:s,issuableType:a,labelsFilterBasePath:d,labelsManagePath:c,supportsLockOnMerge:u}=e.dataset;return new n.default({el:e,apolloProvider:g,provide:{allowLabelCreate:!0,allowLabelEdit:!0,allowLabelRemove:!0,allowScopedLabels:!0,attrWorkspacePath:i,fieldName:t,fullPath:i,initialLabels:JSON.parse(s),issuableType:a,issuableSupportsLockOnMerge:Object(r.H)(u),labelType:l.u,labelsFilterBasePath:d,labelsManagePath:c,variant:o.d,workspaceType:l.u,toggleAttrs:{"data-testid":"issuable-label-dropdown"}},render:e=>e(f)})}},"4ORW":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issueCrmContactsUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCrmContactsUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CrmContacts"},directives:[]}]}}]}}]}}],loc:{start:0,end:203}};n.loc.source={body:'#import "./issue_crm_contacts.fragment.graphql"\n\nsubscription issueCrmContactsUpdated($id: IssuableID!) {\n  issueCrmContactsUpdated(issuableId: $id) {\n    ... on Issue {\n      ...CrmContacts\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("ycwL").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.issueCrmContactsUpdated=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"issueCrmContactsUpdated")},"4XBy":function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return c})),i.d(t,"b",(function(){return p})),i.d(t,"a",(function(){return f})),i.d(t,"f",(function(){return v})),i.d(t,"e",(function(){return b}));i("lFMf"),i("gOHk"),i("c9hT");var n=i("/lV4"),s=i("pIt4");const a=function(e,t,i){if(i)return!0;const n=null==t?void 0:t.line_code;return!!n&&n===e},r=function(e){return e===s.i},o=function(e){return e===s.P},l=function(e){return[s.ab,s.X,s.u].includes(e)},d=function(e){var t;return(null==e||null===(t=e.discussions)||void 0===t?void 0:t.length)>0},c=function(e){return"diff-content-"+e.file_hash},u=function(e){const t=new URL(window.location);return t.searchParams.set("file",e.file_hash),t},p=function(e){const t=u(e);return t.hash=c(e),t},h=function(e,t){if(!e||!e.line_code)return"";const i=u(t);return i.hash=e.line_code,i.toString()},m=function(e){var t,i;if(e)return e.line_code||(null===(t=e.left)||void 0===t?void 0:t.line_code)||(null===(i=e.right)||void 0===i?void 0:i.line_code)},f=function({line:e,highlighted:t,commented:i,selectionStart:n,selectionEnd:a,isLoggedIn:o,isHover:d}){const c={"highlight-top":t||n,"highlight-bottom":t||a,hll:t,commented:i};if(e){const{type:t}=e;Object.assign(c,{[t]:!0,[s.M]:o&&d&&!r(t)&&!l(t),old_line:"old"===t,new_line:"new"===t})}return[c]},g=function(e){let t;if(!e)return t;if(t=Object(n.a)("Add a comment to this line or drag for multiple lines"),!e.problems)return t;const{brokenSymlink:i,brokenLineCode:s,fileOnlyMoved:a}=e.problems;return i?i.wasSymbolic||i.isSymbolic?t=Object(n.a)("Commenting on symbolic links that replace or are replaced by files is not supported"):(i.wasReal||i.isReal)&&(t=Object(n.a)("Commenting on files that replace or are replaced by symbolic links is not supported")):a?t=Object(n.a)("Commenting on files that are only moved or renamed is not supported"):s&&(t=Object(n.a)("Commenting on this line is not supported")),t},v=function({line:e,highlighted:t,commented:i,selectionStart:n,selectionEnd:a}){var r;if((null==e||null===(r=e.right)||void 0===r?void 0:r.type)===s.X)return s.ab;return[null!=e&&e.left?e.left.type:s.u,{hll:t,commented:i,"highlight-top":t||n,"highlight-bottom":t||a}]},b=function({diffFile:e,hasParallelDraftLeft:t,hasParallelDraftRight:i,draftsForLine:n}){return function(a){var c,u,p,f,v,b,y,k,w,S,_,I,T,O;let{left:C,right:x}=a;const j=(null===(c=C)||void 0===c||null===(c=c.discussions)||void 0===c?void 0:c.length)>0&&(null===(u=C)||void 0===u?void 0:u.discussionsExpanded),E=(null===(p=x)||void 0===p||null===(p=p.discussions)||void 0===p?void 0:p.length)>0&&(null===(f=x)||void 0===f?void 0:f.discussionsExpanded),D=j||E||(null===(v=C)||void 0===v?void 0:v.hasForm)||(null===(b=x)||void 0===b?void 0:b.hasForm);var N,A;C&&(C={...C,renderDiscussion:j,hasDraft:t(e.file_hash,a),lineDrafts:n(e.file_hash,a,"left"),hasCommentForm:C.hasForm,isConflictMarker:a.left.type===s.e||a.left.type===s.f,emptyCellClassMap:{conflict_our:(null===(N=a.right)||void 0===N?void 0:N.type)===s.h},addCommentTooltip:g(a.left)});x&&(x={...x,renderDiscussion:Boolean(E&&x.type&&x.type!==s.E),hasDraft:i(e.file_hash,a),lineDrafts:n(e.file_hash,a,"right"),hasCommentForm:Boolean(x.hasForm&&x.type&&x.type!==s.E),emptyCellClassMap:{conflict_their:(null===(A=a.left)||void 0===A?void 0:A.type)===s.g},addCommentTooltip:g(a.right)});return{...a,left:C,right:x,isMatchLineLeft:o(null===(y=C)||void 0===y?void 0:y.type),isMatchLineRight:o(null===(k=x)||void 0===k?void 0:k.type),isContextLineLeft:r(null===(w=C)||void 0===w?void 0:w.type),isContextLineRight:r(null===(S=x)||void 0===S?void 0:S.type),hasDiscussionsLeft:d(C),hasDiscussionsRight:d(x),lineHrefOld:h(C,e),lineHrefNew:h(x,e),lineCode:m(a),isMetaLineLeft:l(null===(_=C)||void 0===_?void 0:_.type),isMetaLineRight:l(null===(I=x)||void 0===I?void 0:I.type),draftRowClasses:null!==(T=C)&&void 0!==T&&T.hasDraft||null!==(O=x)&&void 0!==O&&O.hasDraft?"":"js-temp-notes-holder",renderCommentRow:D,commentRowClasses:d(C)||d(x)?"":"js-temp-notes-holder"}}}},"4b03":function(e,t,i){"use strict";i.r(t),t.default={render:function(){return null}}},"4eEf":function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"workItemLinkedItems"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"namespace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemLinkedItemsFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:249}};n.loc.source={body:'#import "./work_item_linked_items.fragment.graphql"\n\nquery workItemLinkedItems($fullPath: ID!, $iid: String!) {\n  workspace: namespace(fullPath: $fullPath) {\n    id\n    workItem(iid: $iid) {\n      id\n      ...WorkItemLinkedItemsFragment\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("3Ydu").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.workItemLinkedItems=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"workItemLinkedItems")},"4ncF":function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DesignNotePermissions"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotePermissions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adminNote"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repositionNote"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awardEmoji"},arguments:[],directives:[]}]}}],loc:{start:0,end:96}};i.loc.source={body:"fragment DesignNotePermissions on NotePermissions {\n  adminNote\n  repositionNote\n  awardEmoji\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.DesignNotePermissions=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"DesignNotePermissions")},"4wRe":function(e,t,i){"use strict";var n=i("TTlA"),s=i("9k56"),a=i("3hkr"),r=i("hII5"),o=i("nhwU");const l=Object(r.c)(o.c,a.t),d=Object(s.c)({name:a.t,mixins:[o.b],provide(){return{getBvRadioGroup:()=>this}},props:l,computed:{isRadioGroup:()=>!0}});var c=i("R0j4"),u=i("OQy4"),p=i("Pyw5"),h=i.n(p);const{model:m}=d.options;const f={name:"GlFormRadioGroup",components:{BFormRadioGroup:d,GlFormRadio:u.a},directives:{SafeHtml:c.a},mixins:[n.a],inheritAttrs:!1,model:m,methods:{onInput(e){this.$emit("input",e)},onChange(e){this.$emit("change",e)}}};const g=h()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-radio-group",e._g(e._b({staticClass:"gl-form-checkbox-group",attrs:{stacked:""},on:{input:e.onInput,change:e.onChange}},"b-form-radio-group",e.$attrs,!1),e.$listeners),[e._t("first"),e._v(" "),e._l(e.formOptions,(function(t,n){return i("gl-form-radio",{key:n,attrs:{value:t.value,disabled:t.disabled}},[t.html?i("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.html,expression:"option.html"}]}):i("span",[e._v(e._s(t.text))])])})),e._v(" "),e._t("default")],2)},staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=g},"4yU6":function(e,t,i){"use strict";var n=i("Tmea"),s=i.n(n),a=(i("YSE1"),i("z6RN"),i("b+iX"),i("UezY"),i("hG7+"),i("e+NP")),r=i("dsWN"),o=i("FxFN"),l=i("SNRI"),d=i("GuZl"),c=i("Mp8J"),u=i("3twG"),p=i("Jn9D"),h=i("lAgH"),m=i.n(h),f=i("EaYZ"),g=i.n(f),v=i("iYJv"),b=i.n(v),y=i("7Zan"),k=i.n(y),w=i("JtyA"),S=i("J6Lq"),_={components:{GlTokenSelector:a.a,GlAlert:r.a},directives:{SafeHtml:c.a},props:{value:{type:Array,required:!1,default:function(){return[]}},fullPath:{type:String,required:!0},isGroup:{type:Boolean,required:!1,default:!1},childrenType:{type:String,required:!1,default:""},childrenIds:{type:Array,required:!1,default:function(){return[]}},parentWorkItemId:{type:String,required:!0},areWorkItemsToAddValid:{type:Boolean,required:!1,default:!1}},apollo:{workspaceWorkItems:{query(){return this.isGroup?g.a:b.a},variables(){return this.queryVariables},skip(){return!this.searchStarted||this.isSearchingByReference},update(e){var t,i;return[...this.filterItems(null===(t=e.workspace.workItemsByIid)||void 0===t?void 0:t.nodes),...this.filterItems(null===(i=e.workspace.workItems)||void 0===i?void 0:i.nodes)]},error(){this.error=Object(w.Jc)(w.N,this.childrenTypeName)}},workItemsByReference:{query:k.a,variables(){return{contextNamespacePath:this.fullPath,refs:[this.searchTerm]}},skip(){return!this.isSearchingByReference},update(e){return this.filterItems(e.workItemsByReference.nodes)},error(){this.error=Object(w.Jc)(w.N,this.childrenTypeName)}},ancestorIds:{query:m.a,variables(){return{id:this.parentWorkItemId}},update:e=>Object(S.j)(e.workItem).flatMap((function(e){return[e.id]})),skip(){return!this.parentWorkItemId}}},data:()=>({ancestorIds:[],workspaceWorkItems:[],workItemsByReference:[],searchTerm:"",searchStarted:!1,error:"",textInputAttrs:{class:"!gl-min-w-fit","aria-label":w.O}}),computed:{availableWorkItems(){return this.isSearchingByReference?this.workItemsByReference:this.workspaceWorkItems},isSearchingByReference(){return Object(S.v)(this.searchTerm)||Object(u.z)(this.searchTerm)},workItemsToAdd:{get(){return this.value},set(e){this.$emit("input",e)}},isLoading(){return this.$apollo.queries.workspaceWorkItems.loading||this.$apollo.queries.workItemsByReference.loading},childrenTypeName(){var e;return null===(e=w.cc[this.childrenType])||void 0===e?void 0:e.name},tokenSelectorContainerClass(){return this.areWorkItemsToAddValid?"":"!gl-shadow-inner-1-red-500"},queryVariables(){const e={fullPath:this.fullPath,searchTerm:this.searchTerm,types:this.childrenType?[this.childrenType]:[],in:this.searchTerm?"TITLE":void 0,iid:Object(l.d)(this.searchTerm)?this.searchTerm:null,searchByIid:Object(l.d)(this.searchTerm),searchByText:!0};return this.isGroup&&(e.includeAncestors=!0,e.includeDescendants=!0),e}},created(){this.debouncedSearchKeyUpdate=s()(this.setSearchKey,d.g)},methods:{getIdFromGraphQLId:o.e,async setSearchKey(e){this.searchTerm=e},handleFocus(){this.searchStarted=!0,this.$emit("searching",!0)},handleMouseOver(){var e=this;this.timeout=setTimeout((function(){e.searchStarted=!0}),d.g)},handleMouseOut(){clearTimeout(this.timeout)},handleBlur(){this.$emit("searching",!1)},focusInputText(){var e=this;this.$nextTick((function(){e.areWorkItemsToAddValid&&e.$refs.tokenSelector.focusTextInput()}))},formatResults(e){return this.searchTerm?Object(p.c)(`<span class="gl-text-default">${e}</span>`,this.searchTerm):e},unsetError(){this.error=""},filterItems(e){var t=this;return(null==e?void 0:e.filter((function(e){return!t.childrenIds.includes(e.id)&&t.parentWorkItemId!==e.id&&!t.ancestorIds.includes(e.id)})))||[]}},i18n:{noMatchesFoundMessage:w.M,addInputPlaceholder:w.O}},I=i("tBpV"),T=Object(I.a)(_,(function(){var e=this,t=e._self._c;return t("div",[e.error?t("gl-alert",{staticClass:"gl-mb-3",attrs:{variant:"danger"},on:{dismiss:e.unsetError}},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e(),e._v(" "),t("gl-token-selector",{ref:"tokenSelector",attrs:{"dropdown-items":e.availableWorkItems,loading:e.isLoading,placeholder:e.$options.i18n.addInputPlaceholder,"menu-class":"gl-dropdown-menu-wide dropdown-reduced-height !gl-min-h-7","container-class":e.tokenSelectorContainerClass,"data-testid":"work-item-token-select-input","text-input-attrs":e.textInputAttrs},on:{"text-input":e.debouncedSearchKeyUpdate,focus:e.handleFocus,"token-add":e.focusInputText,"token-remove":e.focusInputText,blur:e.handleBlur},nativeOn:{mouseover:function(t){return e.handleMouseOver.apply(null,arguments)},mouseout:function(t){return e.handleMouseOut.apply(null,arguments)}},scopedSlots:e._u([{key:"token-content",fn:function({token:t}){return[e._v(" "+e._s(t.iid)+" "+e._s(t.title)+" ")]}},{key:"dropdown-item-content",fn:function({dropdownItem:i}){return[t("div",{staticClass:"gl-flex"},[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.formatResults(i.iid),expression:"formatResults(dropdownItem.iid)"}],staticClass:"gl-mr-4 gl-text-sm gl-text-subtle"}),e._v(" "),t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.formatResults(i.title),expression:"formatResults(dropdownItem.title)"}],staticClass:"gl-truncate"})])]}},{key:"no-results-content",fn:function(){return[t("span",{attrs:{"data-testid":"no-match-found-namespace-message"}},[e._v(e._s(e.$options.i18n.noMatchesFoundMessage))])]},proxy:!0}]),model:{value:e.workItemsToAdd,callback:function(t){e.workItemsToAdd=t},expression:"workItemsToAdd"}})],1)}),[],!1,null,null,null);t.a=T.exports},"50mh":function(e,t,i){"use strict";var n={components:{GlDropdownItem:i("wP8z").a},inject:["allowLabelCreate","labelsManagePath"],props:{footerCreateLabelTitle:{type:String,required:!0},footerManageLabelTitle:{type:String,required:!1,default:""}},computed:{showManageLabelsItem(){return this.footerManageLabelTitle&&this.labelsManagePath}}},s=i("tBpV"),a=Object(s.a)(n,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-testid":"dropdown-footer"}},[e.allowLabelCreate?t("gl-dropdown-item",{attrs:{"data-testid":"create-label-button"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.$emit("toggleDropdownContentsCreateView")}}},[e._v("\n    "+e._s(e.footerCreateLabelTitle)+"\n  ")]):e._e(),e._v(" "),e.showManageLabelsItem?t("gl-dropdown-item",{attrs:{"data-testid":"manage-labels-button",href:e.labelsManagePath},nativeOn:{"!click":function(e){e.stopPropagation()}}},[e._v("\n    "+e._s(e.footerManageLabelTitle)+"\n  ")]):e._e()],1)}),[],!1,null,null,null);t.a=a.exports},"52LP":function(e,t,i){"use strict";var n=i("Lzak"),s=i("/lV4"),a=i("JtyA"),r={components:{GlBadge:n.a},props:{workItemState:{type:String,required:!0},showIcon:{type:Boolean,required:!1,default:!0}},computed:{isWorkItemOpen(){return this.workItemState===a.hb},stateText(){return this.isWorkItemOpen?Object(s.a)("Open"):Object(s.a)("Closed")},workItemStateIcon(){return this.showIcon?this.isWorkItemOpen?"issue-open-m":"issue-close":null},workItemStateVariant(){return this.isWorkItemOpen?"success":"info"}}},o=i("tBpV"),l=Object(o.a)(r,(function(){return(0,this._self._c)("gl-badge",{staticClass:"gl-align-middle",attrs:{variant:this.workItemStateVariant,icon:this.workItemStateIcon}},[this._v("\n  "+this._s(this.stateText)+"\n")])}),[],!1,null,null,null);t.a=l.exports},"5Hgz":function(e,t,i){"use strict";var n=i("gAdM"),s=i.n(n),a=i("onSc"),r=i("XBTk"),o=i("Mi8i"),l=i("FzbX"),d=i("Pyw5"),c=i.n(d);const u={name:"GlFilteredSearchSuggestionList",inject:["suggestionsListClass","termsAsTokens"],provide(){return{filteredSearchSuggestionListInstance:this}},props:{initialValue:{required:!1,validator:()=>!0,default:null}},data:()=>({activeIdx:-1,registeredItems:[]}),computed:{initialActiveIdx(){return this.registeredItems.findIndex(e=>this.valuesMatch(e.value,this.initialValue))},initialActiveItem(){return this.registeredItems[this.initialActiveIdx]},activeItem(){return this.termsAsTokens()||-2!==this.activeIdx?-1===this.activeIdx?this.initialActiveItem:this.registeredItems[this.activeIdx]:null},listClasses(){return[this.suggestionsListClass(),"dropdown-menu gl-filtered-search-suggestion-list"]}},watch:{initialValue(){this.activeIdx=-1}},methods:{valuesMatch:(e,t)=>null!=e&&null!=t&&("string"==typeof e&&"string"==typeof t?e.toLowerCase()===t.toLowerCase():e===t),register(e){this.registeredItems.push(e)},unregister(e){const t=this.registeredItems.indexOf(e);-1!==t&&(this.registeredItems.splice(t,1),t===this.activeIdx&&(this.activeIdx=-1))},nextItem(){this.termsAsTokens()?this.stepItem(1):this.stepItem(1,this.registeredItems.length-1)},prevItem(){this.termsAsTokens()?this.stepItem(-1):this.stepItem(-1,0)},stepItem(e,t){if(this.termsAsTokens()||this.activeIdx!==t&&(-1!==this.activeIdx||this.initialActiveIdx!==t)){const t=-1===this.activeIdx?this.initialActiveIdx:this.activeIdx;this.activeIdx=Object(l.l)(t,e,this.registeredItems.length)}else this.activeIdx=-2},getValue(){return this.activeItem?this.activeItem.value:null}}};var p=c()({render:function(){var e=this.$createElement;return(this._self._c||e)("ul",{class:this.listClasses},[this._t("default")],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);const h=e=>(e=>{var t,i;return"Symbol(Fragment)"===(null==e||null===(t=e.type)||void 0===t||null===(i=t.toString)||void 0===i?void 0:i.call(t))})(e)?Array.isArray(e.children)?e.children.every(h):h(e.children):!!(e=>{var t,i;return"Symbol(Comment)"===(null==e||null===(t=e.type)||void 0===t||null===(i=t.toString)||void 0===i?void 0:i.call(t))})(e);const m={name:"GlFilteredSearchTokenSegment",components:{Portal:a.Portal,GlFilteredSearchSuggestionList:p,GlFilteredSearchSuggestion:o.a},inject:["portalName","alignSuggestions","termsAsTokens"],inheritAttrs:!1,props:{active:{type:Boolean,required:!1,default:!1},isTerm:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"Search"},multiSelect:{type:Boolean,required:!1,default:!1},options:{type:Array,required:!1,default:()=>null},optionTextField:{type:String,required:!1,default:"title"},customInputKeydownHandler:{type:Function,required:!1,default:()=>()=>!1},value:{required:!0,validator:()=>!0},searchInputAttributes:{type:Object,required:!1,default:()=>({})},isLastToken:{type:Boolean,required:!1,default:!1},currentValue:{type:Array,required:!1,default:()=>[]},cursorPosition:{type:String,required:!1,default:"end",validator:e=>["start","end"].includes(e)},viewOnly:{type:Boolean,required:!1,default:!1}},data(){return{fallbackValue:this.value}},computed:{hasTermSuggestion(){return!!this.termsAsTokens()&&(!!this.options&&this.options.some(e=>{let{value:t}=e;return t===l.b}))},matchingOption(){var e;return null===(e=this.options)||void 0===e?void 0:e.find(e=>e.value===this.value)},nonMultipleValue(){return Array.isArray(this.value)?s()(this.value):this.value},inputValue:{get(){return this.isTerm?this.nonMultipleValue:this.matchingOption?this.matchingOption[this.optionTextField]:this.nonMultipleValue},set(e){this.$emit("input",e)}},hasOptionsOrSuggestions(){var e;return(null===(e=this.options)||void 0===e?void 0:e.length)||(e=>{if(!e)return!1;const t="function"==typeof e?e():e;return!(Array.isArray(t)?t.every(h):h(t))})(this.$slots.suggestions)},defaultSuggestedValue(){var e;if(!this.options)return this.nonMultipleValue;if(this.value){const e=this.getMatchingOptionForInputValue(this.inputValue)||this.getMatchingOptionForInputValue(this.inputValue,{loose:!0});return e?e.value:this.hasTermSuggestion?l.b:null}const t=this.options.find(e=>e.default);return t?t.value:this.isTerm||null===(e=this.options[0])||void 0===e?void 0:e.value},containerAttributes(){return this.isLastToken&&!this.active&&this.currentValue.length>1&&this.searchInputAttributes}},watch:{active:{immediate:!0,handler(e){e?this.activate():this.deactivate()}},inputValue(e){if(this.termsAsTokens())return;if(this.multiSelect)return;if("string"!=typeof e)return;const t=e.split('"').length%2==0;if(-1===e.indexOf(" ")||t)return;const[i,...n]=Object(l.k)(e).filter((e,t,i)=>Boolean(e)||t===i.length-1);this.$emit("input",i),n.length&&this.$emit("split",n)}},methods:{emitIfInactive(e){e.button!==r.c||this.active||(this.$emit("activate"),e.preventDefault())},getMatchingOptionForInputValue(e){var t;let{loose:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loose:!1};return null===(t=this.options)||void 0===t?void 0:t.find(t=>i?Object(l.h)(t[this.optionTextField],e):t[this.optionTextField]===e)},activate(){this.fallbackValue=this.value,this.$nextTick(()=>{const{input:e}=this.$refs;e&&(e.focus(),e.scrollIntoView({block:"nearest",inline:"end"}),this.alignSuggestions(e),"start"===this.cursorPosition&&(null==e||e.setSelectionRange(0,0)))})},deactivate(){var e;this.options&&!this.isTerm&&(null===(e=this.matchingOption)||void 0===e?void 0:e.value)!==this.value&&this.$emit("input",this.fallbackValue)},applySuggestion(e){const t=this.termsAsTokens()?e:Object(l.o)(e);this.$emit("select",t),this.multiSelect||(this.$emit("input",t===l.b?this.inputValue:t),this.$emit("complete",t))},handleInputKeydown(e){const{key:t}=e,{suggestions:i,input:n}=this.$refs,s=null==i?void 0:i.getValue(),a={ArrowLeft:()=>{0===n.selectionStart&&(e.preventDefault(),this.$emit("previous"))},ArrowRight:()=>{n.selectionEnd===this.inputValue.length&&(e.preventDefault(),this.$emit("next"))},Backspace:()=>{""===this.inputValue&&(e.preventDefault(),this.$emit("backspace"))},Enter:()=>{e.preventDefault(),null!=s?this.applySuggestion(s):this.$emit("submit")},":":()=>{null!=s&&(e.preventDefault(),this.applySuggestion(s))},Escape:()=>{e.preventDefault(),this.$emit("complete")}},r={ArrowDown:()=>i.nextItem(),Down:()=>i.nextItem(),ArrowUp:()=>i.prevItem(),Up:()=>i.prevItem()};this.hasOptionsOrSuggestions&&Object.assign(a,r),Object.keys(a).includes(t)?a[t]():this.customInputKeydownHandler(e,{suggestedValue:s,inputValue:this.inputValue,applySuggestion:e=>this.applySuggestion(e)})},handleBlur(){this.multiSelect?this.$emit("complete"):this.active&&this.$emit("deactivate")}}};const f=c()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._g(e._b({staticClass:"gl-filtered-search-token-segment",class:{"gl-filtered-search-token-segment-active":e.active,"!gl-cursor-text":e.viewOnly},attrs:{"data-testid":"filtered-search-token-segment"}},"div",e.containerAttributes,!1),e.viewOnly?{}:{mousedown:e.emitIfInactive}),[e.active?[e._t("before-input",null,null,{submitValue:e.applySuggestion}),e._v(" "),"checkbox"===e.searchInputAttributes.type?i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"input",staticClass:"gl-filtered-search-token-segment-input",attrs:{"data-testid":"filtered-search-token-segment-input","aria-label":e.label,readonly:e.viewOnly,type:"checkbox"},domProps:{checked:Array.isArray(e.inputValue)?e._i(e.inputValue,null)>-1:e.inputValue},on:{keydown:e.handleInputKeydown,blur:e.handleBlur,change:function(t){var i=e.inputValue,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=e._i(i,null);n.checked?a<0&&(e.inputValue=i.concat([null])):a>-1&&(e.inputValue=i.slice(0,a).concat(i.slice(a+1)))}else e.inputValue=s}}},"input",e.searchInputAttributes,!1)):"radio"===e.searchInputAttributes.type?i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"input",staticClass:"gl-filtered-search-token-segment-input",attrs:{"data-testid":"filtered-search-token-segment-input","aria-label":e.label,readonly:e.viewOnly,type:"radio"},domProps:{checked:e._q(e.inputValue,null)},on:{keydown:e.handleInputKeydown,blur:e.handleBlur,change:function(t){e.inputValue=null}}},"input",e.searchInputAttributes,!1)):i("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"input",staticClass:"gl-filtered-search-token-segment-input",attrs:{"data-testid":"filtered-search-token-segment-input","aria-label":e.label,readonly:e.viewOnly,type:e.searchInputAttributes.type},domProps:{value:e.inputValue},on:{keydown:e.handleInputKeydown,blur:e.handleBlur,input:function(t){t.target.composing||(e.inputValue=t.target.value)}}},"input",e.searchInputAttributes,!1)),e._v(" "),i("portal",{key:"operator-"+e._uid,attrs:{to:e.portalName}},[e.hasOptionsOrSuggestions?i("gl-filtered-search-suggestion-list",{key:"operator-"+e._uid,ref:"suggestions",attrs:{"initial-value":e.defaultSuggestedValue},on:{suggestion:e.applySuggestion}},[e.options?e._l(e.options,(function(t,n){return i("gl-filtered-search-suggestion",{key:t.value+"-"+n,attrs:{value:t.value,"icon-name":t.icon}},[e._t("option",(function(){return[t.component?[i(t.component,{tag:"component",attrs:{option:t}})]:[e._v("\n                "+e._s(t[e.optionTextField])+"\n              ")]]}),null,{option:t})],2)})):e._t("suggestions")],2):e._e()],1)]:e._t("view",(function(){return[e._v(e._s(e.inputValue))]}),null,{label:e.label,inputValue:e.inputValue})],2)},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=f},"5Jof":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("9k56"),s=i("3hkr"),a=i("jIK5"),r=i("hII5"),o=i("g+RJ"),l=i("GeBT"),d=i("aBA8");const c=Object(r.c)({footVariant:Object(r.b)(a.r)},s.U),u=Object(n.c)({name:s.U,mixins:[o.a,l.a,d.a],provide(){return{getBvTableRowGroup:()=>this}},inject:{getBvTable:{default:()=>()=>({})}},inheritAttrs:!1,props:c,computed:{bvTable(){return this.getBvTable()},isTfoot:()=>!0,isDark(){return this.bvTable.dark},isStacked(){return this.bvTable.isStacked},isResponsive(){return this.bvTable.isResponsive},isStickyHeader:()=>!1,hasStickyHeader(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant(){return this.bvTable.tableVariant},tfootClasses(){return[this.footVariant?"thead-"+this.footVariant:null]},tfootAttrs(){return{...this.bvAttrs,role:"rowgroup"}}},render(e){return e("tfoot",{class:this.tfootClasses,attrs:this.tfootAttrs,on:this.bvListeners},this.normalizeSlot())}})},"5QKO":function(e,t,i){"use strict";var n=i("bOix");t.a={methods:{timeFormatted:(e,t)=>Object(n.z)(t).format(Object(n.O)(e),n.U),tooltipTitle:e=>n.I.asDateTimeFull.format(Object(n.O)(e))}}},"5wtN":function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PageInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PageInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}],loc:{start:0,end:92}};i.loc.source={body:"fragment PageInfo on PageInfo {\n  hasNextPage\n  hasPreviousPage\n  startCursor\n  endCursor\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.PageInfo=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"PageInfo")},"5wxO":function(e,t){var i="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+s+")"+"?",d="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[a,r,o].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[a+n+"?",n,r,o,i].join("|")+")",u=RegExp(s+"(?="+s+")|"+c+d,"g");e.exports=function(e){for(var t=u.lastIndex=0;u.test(e);)++t;return t}},"669a":function(e,t,i){"use strict";var n=i("yi8e");t.a={methods:{...Object(n.c)(["toggleDiscussion"]),clickedToggle(e){this.toggleDiscussion({discussionId:e.id})},toggleText:(e,t)=>t+1}}},"6IOw":function(e,t,i){var n,s,a;a=this,n=[i("EmJ/")],void 0===(s=function(e){return a.returnExportsGlobal=function(e){"use strict";var t,i,n,s,a,r,o,l;t=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.setPos=function(e){var t,i,n,s;return(s=o.getSelection())&&(n=0,i=!1,(t=function(e,a){var o,l,d,c,u,p;for(p=[],d=0,c=(u=a.childNodes).length;d<c&&(o=u[d],!i);d++)if(3===o.nodeType){if(n+o.length>=e){i=!0,(l=r.createRange()).setStart(o,e-n),s.removeAllRanges(),s.addRange(l);break}p.push(n+=o.length)}else p.push(t(e,o));return p})(e,this.domInputor)),this.domInputor},t.prototype.getIEPosition=function(){return this.getPosition()},t.prototype.getPosition=function(){var e,t;return t=this.getOffset(),e=this.$inputor.offset(),t.left-=e.left,t.top-=e.top,t},t.prototype.getOldIEPos=function(){var e,t;return t=r.selection.createRange(),(e=r.body.createTextRange()).moveToElementText(this.domInputor),e.setEndPoint("EndToEnd",t),e.text.length},t.prototype.getPos=function(){var e,t,i;return(i=this.range())?((e=i.cloneRange()).selectNodeContents(this.domInputor),e.setEnd(i.endContainer,i.endOffset),t=e.toString().length,e.detach(),t):r.selection?this.getOldIEPos():void 0},t.prototype.getOldIEOffset=function(){var e,t;return(e=r.selection.createRange().duplicate()).moveStart("character",-1),{height:(t=e.getBoundingClientRect()).bottom-t.top,left:t.left,top:t.top}},t.prototype.getOffset=function(t){var i,n,s,a,l;return o.getSelection&&(s=this.range())?(s.endOffset-1>0&&s.endContainer!==this.domInputor&&((i=s.cloneRange()).setStart(s.endContainer,s.endOffset-1),i.setEnd(s.endContainer,s.endOffset),n={height:(a=i.getBoundingClientRect()).height,left:a.left+a.width,top:a.top},i.detach()),n&&0!==(null!=n?n.height:void 0)||(i=s.cloneRange(),l=e(r.createTextNode("|")),i.insertNode(l[0]),i.selectNode(l[0]),n={height:(a=i.getBoundingClientRect()).height,left:a.left,top:a.top},l.remove(),i.detach())):r.selection&&(n=this.getOldIEOffset()),n&&(n.top+=e(o).scrollTop(),n.left+=e(o).scrollLeft()),n},t.prototype.range=function(){var e;if(o.getSelection)return(e=o.getSelection()).rangeCount>0?e.getRangeAt(0):null},t}(),i=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.getIEPos=function(){var e,t,i,n,s,a;return t=this.domInputor,n=0,(s=r.selection.createRange())&&s.parentElement()===t&&(i=t.value.replace(/\r\n/g,"\n").length,(a=t.createTextRange()).moveToBookmark(s.getBookmark()),(e=t.createTextRange()).collapse(!1),n=a.compareEndPoints("StartToEnd",e)>-1?i:-a.moveStart("character",-i)),n},t.prototype.getPos=function(){return r.selection?this.getIEPos():this.domInputor.selectionStart},t.prototype.setPos=function(e){var t,i;return t=this.domInputor,r.selection?((i=t.createTextRange()).move("character",e),i.select()):t.setSelectionRange&&t.setSelectionRange(e,e),t},t.prototype.getIEOffset=function(e){var t;return t=this.domInputor.createTextRange(),e||(e=this.getPos()),t.move("character",e),{left:t.boundingLeft,top:t.boundingTop,height:t.boundingHeight}},t.prototype.getOffset=function(t){var i,n,s;return i=this.$inputor,r.selection?((n=this.getIEOffset(t)).top+=e(o).scrollTop()+i.scrollTop(),n.left+=e(o).scrollLeft()+i.scrollLeft(),n):(n=i.offset(),s=this.getPosition(t),{left:n.left+s.left-i.scrollLeft(),top:n.top+s.top-i.scrollTop(),height:s.height})},t.prototype.getPosition=function(e){var t,i,s,a,r;return t=this.$inputor,s=function(e){return e=e.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(e=e.replace(/\s/g,"&nbsp;")),e},void 0===e&&(e=this.getPos()),r=t.val().slice(0,e),i=t.val().slice(e),a="<span style='position: relative; display: inline;'>"+s(r)+"</span>",a+="<span id='caret' style='position: relative; display: inline;'>|</span>",a+="<span style='position: relative; display: inline;'>"+s(i)+"</span>",new n(t).create(a).rect()},t.prototype.getIEPosition=function(e){var t,i;return i=this.getIEOffset(e),t=this.$inputor.offset(),{left:i.left-t.left,top:i.top-t.top,height:i.height}},t}(),n=function(){function t(e){this.$inputor=e}return t.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],t.prototype.mirrorCss=function(){var t,i=this;return t={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),e.each(this.css_attr,(function(e,n){return t[n]=i.$inputor.css(n)})),t},t.prototype.create=function(t){return this.$mirror=e("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(t),this.$inputor.after(this.$mirror),this},t.prototype.rect=function(){var e,t,i;return i={left:(t=(e=this.$mirror.find("#caret")).position()).left,top:t.top,height:e.height()},this.$mirror.remove(),i},t}(),s={contentEditable:function(e){return!(!e[0].contentEditable||"true"!==e[0].contentEditable)}},a={pos:function(e){return e||0===e?this.setPos(e):this.getPos()},position:function(e){return r.selection?this.getIEPosition(e):this.getPosition(e)},offset:function(e){return this.getOffset(e)}},r=null,o=null,l=function(e){var t;return(t=null!=e?e.iframe:void 0)?(o=t.contentWindow,r=t.contentDocument||o.document):(o=window,r=document)},e.fn.caret=function(n,r,o){var d;return a[n]?(e.isPlainObject(r)?(l(r),r=void 0):l(o),d=s.contentEditable(this)?new t(this):new i(this),a[n].apply(d,[r])):e.error("Method "+n+" does not exist on jQuery.caret")},e.fn.caret.EditableCaret=t,e.fn.caret.InputCaret=i,e.fn.caret.Utils=s,e.fn.caret.apis=a}(e)}.apply(t,n))||(e.exports=s)},"6UTF":function(e,t,i){"use strict";var n=i("4lAS"),s=i("iN9h"),a={components:{GlButton:n.a,GlSearchBoxByType:s.a},props:{labelsCreateTitle:{type:String,required:!0},labelsListTitle:{type:String,required:!0},showDropdownContentsCreateView:{type:Boolean,required:!0},labelsFetchInProgress:{type:Boolean,required:!1,default:!1},searchKey:{type:String,required:!0},isStandalone:{type:Boolean,required:!1,default:!1}},computed:{dropdownTitle(){return this.showDropdownContentsCreateView?this.labelsCreateTitle:this.labelsListTitle}},methods:{focusInput(){var e;null===(e=this.$refs.searchInput)||void 0===e||e.focusInput()}}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-testid":"dropdown-header"}},[e.isStandalone?e._e():t("div",{staticClass:"dropdown-title gl-mb-0 gl-flex gl-items-center gl-pb-4 gl-pt-2",attrs:{"data-testid":"dropdown-header-title"}},[e.showDropdownContentsCreateView?t("gl-button",{staticClass:"js-btn-back dropdown-header-button !gl-p-0",attrs:{"aria-label":e.__("Go back"),variant:"link",size:"small",icon:"arrow-left","data-testid":"go-back-button"},on:{click:function(t){return t.stopPropagation(),e.$emit("toggleDropdownContentsCreateView")}}}):e._e(),e._v(" "),t("span",{staticClass:"gl-grow"},[e._v(e._s(e.dropdownTitle))]),e._v(" "),t("gl-button",{staticClass:"dropdown-header-button !gl-p-0",attrs:{"aria-label":e.__("Close"),variant:"link",size:"small",icon:"close","data-testid":"close-labels-dropdown-button"},on:{click:function(t){return e.$emit("closeDropdown")}}})],1),e._v(" "),e.showDropdownContentsCreateView?e._e():t("gl-search-box-by-type",{ref:"searchInput",attrs:{value:e.searchKey,placeholder:e.__("Search labels"),disabled:e.labelsFetchInProgress,"data-testid":"dropdown-input-field"},on:{input:function(t){return e.$emit("input",t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("searchEnter",t)}}})],1)}),[],!1,null,null,null);t.a=o.exports},"7HFU":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("/lV4");const s=[{value:"spam",text:Object(n.g)("ReportAbuse|They're posting spam.")},{value:"offensive",text:Object(n.g)("ReportAbuse|They're being offensive or abusive.")},{value:"phishing",text:Object(n.g)("ReportAbuse|They're phishing.")},{value:"crypto",text:Object(n.g)("ReportAbuse|They're crypto mining.")},{value:"credentials",text:Object(n.g)("ReportAbuse|They're posting personal information or credentials.")},{value:"copyright",text:Object(n.g)("ReportAbuse|They're violating a copyright or trademark.")},{value:"malware",text:Object(n.g)("ReportAbuse|They're posting malware.")},{value:"other",text:Object(n.g)("ReportAbuse|Something else.")}]},"7KAB":function(e,t,i){"use strict";i.r(t),i.d(t,"DISCUSSION_NOTE",(function(){return a})),i.d(t,"DIFF_NOTE",(function(){return r})),i.d(t,"DISCUSSION",(function(){return o})),i.d(t,"NOTE",(function(){return l})),i.d(t,"SYSTEM_NOTE",(function(){return d})),i.d(t,"COMMENT",(function(){return c})),i.d(t,"ISSUE_NOTEABLE_TYPE",(function(){return u})),i.d(t,"EPIC_NOTEABLE_TYPE",(function(){return p})),i.d(t,"MERGE_REQUEST_NOTEABLE_TYPE",(function(){return h})),i.d(t,"SNIPPET_NOTEABLE_TYPE",(function(){return m})),i.d(t,"DESIGN_NOTEABLE_TYPE",(function(){return f})),i.d(t,"COMMIT_NOTEABLE_TYPE",(function(){return g})),i.d(t,"INCIDENT_NOTEABLE_TYPE",(function(){return v})),i.d(t,"UNRESOLVE_NOTE_METHOD_NAME",(function(){return b})),i.d(t,"RESOLVE_NOTE_METHOD_NAME",(function(){return y})),i.d(t,"DESCRIPTION_TYPE",(function(){return k})),i.d(t,"DISCUSSION_FILTERS_DEFAULT_VALUE",(function(){return w})),i.d(t,"COMMENTS_ONLY_FILTER_VALUE",(function(){return S})),i.d(t,"HISTORY_ONLY_FILTER_VALUE",(function(){return _})),i.d(t,"DISCUSSION_TAB_LABEL",(function(){return I})),i.d(t,"NOTE_UNDERSCORE",(function(){return T})),i.d(t,"TIME_DIFFERENCE_VALUE",(function(){return O})),i.d(t,"ASC",(function(){return C})),i.d(t,"DESC",(function(){return x})),i.d(t,"DISCUSSION_FETCH_TIMEOUT",(function(){return j})),i.d(t,"FETCH_UPDATED_NOTES_DEBOUNCE_TIMEOUT",(function(){return E})),i.d(t,"NOTEABLE_TYPE_MAPPING",(function(){return D})),i.d(t,"DISCUSSION_FILTER_TYPES",(function(){return N})),i.d(t,"toggleStateErrorMessage",(function(){return A})),i.d(t,"MR_FILTER_OPTIONS",(function(){return P})),i.d(t,"MR_FILTER_TRACKING_OPENED",(function(){return F})),i.d(t,"MR_FILTER_TRACKING_USER_COMMENTS",(function(){return L})),i.d(t,"MR_FILTER_TRACKING_BOT_COMMENTS",(function(){return R}));var n=i("AxUD"),s=i("/lV4");const a="DiscussionNote",r="DiffNote",o="discussion",l="note",d="systemNote",c="comment",u="Issue",p="Epic",h="MergeRequest",m="Snippet",f="DesignManagement::Design",g="Commit",v="INCIDENT",b="delete",y="post",k="changed the description",w=0,S=1,_=2,I="show",T="note_",O=10,C="asc",x="desc",j=750,E=750,D={Issue:u,MergeRequest:h,Epic:p,Incident:v},N={ALL:"all",COMMENTS:"comments",HISTORY:"history"},A={Epic:{[n.d]:Object(s.a)("Something went wrong while reopening the epic. Please try again later."),[n.i]:Object(s.a)("Something went wrong while closing the epic. Please try again later."),[n.j]:Object(s.a)("Something went wrong while closing the epic. Please try again later.")},MergeRequest:{[n.d]:Object(s.a)("Something went wrong while reopening the merge request. Please try again later."),[n.i]:Object(s.a)("Something went wrong while closing the merge request. Please try again later."),[n.j]:Object(s.a)("Something went wrong while closing the merge request. Please try again later.")}},P=[{text:Object(s.a)("Approvals"),value:"approval",systemNoteIcons:["approval","unapproval","check","error"]},{text:Object(s.a)("Assignees & reviewers"),value:"assignees_reviewers",noteText:[Object(s.g)("IssuableEvents|requested review from"),Object(s.g)("IssuableEvents|removed review request for"),Object(s.g)("IssuableEvents|assigned to"),Object(s.g)("IssuableEvents|unassigned")]},{text:Object(s.a)("Comments (from bots)"),value:"bot_comments",bot:!0},{text:Object(s.a)("Comments (from users)"),value:"comments",noteType:["DiscussionNote","DiffNote"],individualNote:!0,noteText:[Object(s.g)("IssuableEvents|resolved all threads")]},{text:Object(s.a)("Commits & branches"),value:"commit_branches",systemNoteIcons:["commit","fork"]},{text:Object(s.a)("Edits"),value:"edits",systemNoteIcons:["pencil","todo-done"]},{text:Object(s.a)("Labels"),value:"labels",systemNoteIcons:["label"]},{text:Object(s.a)("Lock status"),value:"lock_status",systemNoteIcons:["lock","lock-open"]},{text:Object(s.a)("Mentions"),value:"mentions",systemNoteIcons:["comment-dots"]},{text:Object(s.a)("Merge request status"),value:"status",systemNoteIcons:["merge-request","issue-close","issues","merge-request-close","merge"]},{text:Object(s.a)("Tracking"),value:"tracking",noteType:["MilestoneNote"],systemNoteIcons:["timer"]}],F="user_clicks_comment_filter_dropdown",L="click_comment_filter_toggle_user_comments_in_mr",R="click_comment_filter_toggle_bot_comments_in_mr"},"7Zan":function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getWorkItemsByReferences"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contextNamespacePath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"refs"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemsByReference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contextNamespacePath"},value:{kind:"Variable",name:{kind:"Name",value:"contextNamespacePath"}}},{kind:"Argument",name:{kind:"Name",value:"refs"},value:{kind:"Variable",name:{kind:"Name",value:"refs"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:237}};i.loc.source={body:"query getWorkItemsByReferences($contextNamespacePath: ID!, $refs: [String!]!) {\n  workItemsByReference(contextNamespacePath: $contextNamespacePath, refs: $refs) {\n    nodes {\n      id\n      iid\n      title\n      confidential\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getWorkItemsByReferences=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"getWorkItemsByReferences")},"8DVS":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o}));var n=i("9k56"),s=i("jIK5"),a=i("hII5");const r={stacked:Object(a.b)(s.i,!1)},o=Object(n.c)({props:r,computed:{isStacked(){const{stacked:e}=this;return""===e||e},isStackedAlways(){return!0===this.isStacked},stackedTableClasses(){const{isStackedAlways:e}=this;return{"b-table-stacked":e,["b-table-stacked-"+this.stacked]:!e&&this.isStacked}}}})},"8Igx":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=function(e="",...t){console.error("[gitlab]",e+"\n",...t)}},"8eye":function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CiIcon"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DetailedStatus"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsPath"},arguments:[],directives:[]}]}}],loc:{start:0,end:71}};i.loc.source={body:"fragment CiIcon on DetailedStatus {\n  id\n  icon\n  text\n  detailsPath\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.CiIcon=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"CiIcon")},"90A/":function(e,t,i){var n=i("TXW/"),s=i("p1dg"),a=i("zPTW"),r=i("VYh0"),o=i("b/GH");e.exports=function(e,t,i){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return s(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(e,i);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return a(e);case"[object Set]":return new l;case"[object Symbol]":return r(e)}}},"9P+O":function(e,t){const i={html:"html",htm:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown",markdown:"markdown",mdown:"markdown",mkd:"markdown",mkdn:"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",yaml:"yaml",yml:"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",svg:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pbm:"image",pgf:"image",pic:"image",raw:"image",webp:"image",js:"javascript",cjs:"javascript",ejs:"javascript",esx:"javascript",mjs:"javascript",jsx:"react",tsx:"react",ini:"settings",dlc:"settings",dll:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings",ts:"typescript",cts:"typescript",mts:"typescript",marko:"markojs",pdf:"pdf",xlsx:"table",xls:"table",ods:"table",csv:"table",tsv:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode",suo:"visualstudio",sln:"visualstudio",csproj:"visualstudio",vb:"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",cs:"csharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",bzip2:"zip",gzip:"zip",rar:"zip",tgz:"zip",exe:"exe",msi:"exe",java:"java",jar:"java",jsp:"java",c:"c",m:"c",h:"h",cc:"cpp",cpp:"cpp",mm:"cpp",cxx:"cpp",hpp:"hpp",go:"go",py:"python",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",odt:"word",rtf:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",rb:"ruby",erb:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker",tex:"tex",cls:"tex",sty:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",pot:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",odp:"powerpoint",webm:"video",mkv:"video",flv:"video",vob:"video",ogv:"video",ogg:"audio",gifv:"video",avi:"video",mov:"video",qt:"video",wmv:"video",yuv:"video",rm:"video",rmvb:"video",mp4:"video",m4v:"video",mpg:"video",mp2:"video",mpeg:"video",mpe:"video",mpv:"video",m2v:"video",vdi:"virtual",vbox:"virtual",ics:"email",mp3:"audio",flac:"audio",m4a:"audio",wma:"audio",aiff:"audio",coffee:"coffee",txt:"document",graphql:"graphql",rs:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml",lock:"lock",hbs:"handlebars",mustache:"handlebars",pl:"perl",pm:"perl",hx:"haxe",pp:"puppet",ex:"elixir",exs:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",v:"verilog",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",tf:"terraform",tfvars:"terraform",tfstate:"terraform",applescript:"applescript",cake:"cake",feature:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt",cr:"crystal",cu:"cuda",cuh:"cuda",log:"log"},n={"gradle.kts":"gradle","md.rendered":"markdown","markdown.rendered":"markdown","mdown.rendered":"markdown","mkd.rendered":"markdown","mkdn.rendered":"markdown","YAML-tmLanguage":"yaml","sln.dotsettings":"settings","sln.dotsettings.user":"settings","d.ts":"typescript-def","code-workplace":"vscode","7z":"zip","c++":"cpp","vbox-prev":"virtual","js.map":"javascript-map","css.map":"css-map","spec.ts":"test-ts","test.ts":"test-ts","ts.snap":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","spec.js":"test-js","test.js":"test-js","js.snap":"test-js","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver","tf.json":"terraform","blade.php":"laravel","inky.php":"laravel","reducer.ts":"ngrx-reducer","rootReducer.ts":"ngrx-reducer","state.ts":"ngrx-state","actions.ts":"ngrx-actions","effects.ts":"ngrx-effects","drone.yml":"drone"},s={".jscsrc":"json",".jshintrc":"json","tsconfig.json":"json","tslint.json":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".htaccess":"xml",".jshintignore":"settings",".buildignore":"settings",makefile:"settings",".mrconfig":"settings",".yardopts":"settings","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",COPYING:"certificate","COPYING.LESSER":"certificate",LICENSE:"certificate",LICENCE:"certificate","LICENSE.md":"certificate","LICENCE.md":"certificate","LICENSE.txt":"certificate","LICENCE.txt":"certificate",".gitlab-license":"certificate",dockerfile:"docker","docker-compose.yml":"docker",".mailmap":"email",".gitignore":"git",".gitconfig":"git",".gitattributes":"git",".gitmodules":"git",".gitkeep":"git","git-history":"git",".Rhistory":"r","cmakelists.txt":"cmake","cmakecache.txt":"cmake","angular-cli.json":"angular",".angular-cli.json":"angular",".vfl":"vfl",".kl":"kl","postcss.config.js":"postcss",".postcssrc.js":"postcss","project.graphcool":"graphcool","webpack.js":"webpack","webpack.ts":"webpack","webpack.base.js":"webpack","webpack.base.ts":"webpack","webpack.config.js":"webpack","webpack.config.ts":"webpack","webpack.common.js":"webpack","webpack.common.ts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.ts":"webpack","webpack.dev.js":"webpack","webpack.dev.ts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.prod.js":"webpack","webpack.prod.ts":"webpack","webpack.server.js":"webpack","webpack.server.ts":"webpack","webpack.client.js":"webpack","webpack.client.ts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.ts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.ts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.ts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.ts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.ts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.ts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.ts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.coffee":"webpack","webpack.config.test.js":"webpack","webpack.config.test.ts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.test.js":"webpack","webpack.test.ts":"webpack","webpack.dist.js":"webpack","webpack.dist.ts":"webpack","webpackfile.js":"webpack","webpackfile.ts":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.ts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn",".yarnrc.yml":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn","androidmanifest.xml":"android",".env":"tune",".env.example":"tune",".babelrc":"babel","contributing.md":"contributing","contributing.md.rendered":"contributing","readme.md":"readme","readme.md.rendered":"readme",changelog:"changelog","changelog.md":"changelog","changelog.md.rendered":"changelog",CREDITS:"credits","credits.txt":"credits","credits.md":"credits","credits.md.rendered":"credits",".flowconfig":"flow","favicon.png":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","appveyor.yml":"appveyor",".travis.yml":"travis","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku",".editorconfig":"editorconfig",".gitlab-ci.yml":"gitlab",".bowerrc":"bower","bower.json":"bower",".eslintrc.js":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.json":"eslint",".eslintrc":"eslint",".eslintignore":"eslint","code_of_conduct.md":"conduct","code_of_conduct.md.rendered":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia","mocha.opts":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase",Rakefile:"ruby","rollup.config.js":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack",".stylelintrc":"stylelint","stylelint.config.js":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.js":"stylelint",".stylelintignore":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier","prettier.config.js":"prettier",".prettierrc.js":"prettier",".prettierrc.json":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierignore":"prettier","nodemon.json":"nodemon",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone"};e.exports={fileNameIcons:s,fileExtensionIcons:i,twoFileExtensionIcons:n,getIconForFile:function(e){return s[e]||n[e?e.split(".").slice(-2).join("."):""]||i[e?e.split(".").pop().toLowerCase():""]||""}}},"9ZSa":function(e,t,i){"use strict";i.d(t,"a",(function(){return I})),i.d(t,"b",(function(){return _}));var n=i("9k56"),s=i("CU79"),a=i("jIK5"),r=i("4z8A"),o=i("gZSI"),l=i("C+ps"),d=i("9Dxz"),c=i("i8zK"),u=i("KZ4l"),p=i("VuSA"),h=i("hII5"),m=i("idLb"),f=i("I3xC"),g=i("TnX6"),v=i("S8CU");const b=(e,t)=>{const i=[];if(Object(o.a)(e)&&e.filter(f.a).forEach(e=>{if(Object(o.m)(e))i.push({key:e,label:Object(g.d)(e)});else if(Object(o.i)(e)&&e.key&&Object(o.m)(e.key))i.push(Object(p.b)(e));else if(Object(o.i)(e)&&1===Object(p.h)(e).length){const t=Object(p.h)(e)[0],n=((e,t)=>{let i=null;return Object(o.m)(t)?i={key:e,label:t}:Object(o.e)(t)?i={key:e,formatter:t}:Object(o.i)(t)?(i=Object(p.b)(t),i.key=i.key||e):!1!==t&&(i={key:e}),i})(t,e[t]);n&&i.push(n)}}),0===i.length&&Object(o.a)(t)&&t.length>0){const e=t[0];Object(p.h)(e).forEach(e=>{v.e[e]||i.push({key:e,label:Object(g.d)(e)})})}const n={};return i.filter(e=>!n[e.key]&&(n[e.key]=!0,e.label=Object(o.m)(e.label)?e.label:Object(g.d)(e.key),!0))},{mixin:y,props:k,prop:w,event:S}=Object(c.a)("value",{type:a.b,defaultValue:[]}),_=Object(p.m)({...k,fields:Object(h.b)(a.b,null),items:Object(h.b)(a.b,[]),primaryKey:Object(h.b)(a.r),[w]:Object(h.b)(a.b,[])}),I=Object(n.c)({mixins:[y,r.a],props:_,data(){const{items:e}=this;return{localItems:Object(o.a)(e)?e.slice():[]}},computed:{computedFields(){return b(this.fields,this.localItems)},computedFieldsObj(){const{bvParent:e}=this;return this.computedFields.reduce((t,i)=>{if(t[i.key]=Object(p.b)(i),i.formatter){let n=i.formatter;Object(o.m)(n)&&Object(o.e)(e[n])?n=e[n]:Object(o.e)(n)||(n=void 0),t[i.key].formatter=n}return t},{})},computedItems(){const{paginatedItems:e,sortedItems:t,filteredItems:i,localItems:n}=Object(m.a)(this);return(e||t||i||n||[]).slice()},context(){const{perPage:e,currentPage:t}=Object(m.a)(this);return{filter:this.localFilter,sortBy:this.localSortBy,sortDesc:this.localSortDesc,perPage:Object(d.b)(Object(u.b)(e,0),0),currentPage:Object(d.b)(Object(u.b)(t,0),1),apiUrl:this.apiUrl}}},watch:{items(e){this.localItems=Object(o.a)(e)?e.slice():[]},computedItems(e,t){Object(l.a)(e,t)||this.$emit(S,e)},context(e,t){Object(l.a)(e,t)||this.$emit(s.h,e)}},mounted(){this.$emit(S,this.computedItems)},methods:{getFieldFormatter(e){const t=this.computedFieldsObj[e];return t?t.formatter:void 0}}})},"9ZrP":function(e,t,i){"use strict";i.r(t),i.d(t,"initBulkUpdateSidebar",(function(){return y})),i.d(t,"initCsvImportExportButtons",(function(){return k})),i.d(t,"initIssuableByEmail",(function(){return w})),i.d(t,"initIssuableSidebar",(function(){return S}));var n=i("yWhq"),s=i("ewH8"),a=i("NmEs"),r=i("i3lA"),o=i("q/Yt"),l=i("XoYy"),d=i("Df1p"),c=i("EH6T"),u=(i("B++/"),i("z6RN"),i("47t/"),i("3UXl"),i("iyoE"),i("EmJ/")),p=i.n(u),h=i("D4cA"),m=i("goDm");class f{constructor(){this.initDomElements(),this.bindEvents(),this.initDropdowns(),this.setupBulkUpdateActions()}initDomElements(){this.$page=p()(".layout-page"),this.$sidebar=p()(".right-sidebar"),this.$sidebarInnerContainer=this.$sidebar.find(".issuable-sidebar"),this.$bulkEditCancelBtn=p()(".js-bulk-update-menu-hide"),this.$bulkEditSubmitBtn=p()(".js-update-selected-issues"),this.$bulkUpdateEnableBtn=p()(".js-bulk-update-toggle"),this.$otherFilters=p()(".issues-other-filters"),this.$checkAllContainer=p()(".check-all-holder"),this.$issueChecks=p()(".issue-check"),this.$issuesList=p()('.issuable-list input[type="checkbox"]'),this.$issuableIdsInput=p()("#update_issuable_ids")}bindEvents(){var e=this;this.$bulkUpdateEnableBtn.on("click",(function(t){return e.toggleBulkEdit(t,!0)})),this.$bulkEditCancelBtn.on("click",(function(t){return e.toggleBulkEdit(t,!1)})),this.$checkAllContainer.on("click",(function(t){return e.selectAll(t)})),this.$issuesList.on("change",(function(){return e.updateFormState()})),this.$bulkEditSubmitBtn.on("click",(function(){return e.prepForSubmit()})),this.$checkAllContainer.on("click",(function(){return e.updateFormState()})),h.a.$on("issuables:enableBulkEdit",(function(){return e.toggleBulkEdit(null,!0)})),h.a.$on("issuables:updateBulkEdit",(function(){return e.updateFormState()})),h.a.$on("issuables:bulkMoveStarted",(function(){return e.toggleSubmitButtonDisabled(!0)})),h.a.$on("issuables:bulkMoveEnded",(function(){return e.updateFormState()}))}initDropdowns(){new m.a,Object(o.d)(),Object(o.e)(),Object(o.g)(),Object(o.h)(),Object(o.b)(),Object(o.c)()}setupBulkUpdateActions(){c.a.setOriginalDropdownData()}updateFormState(){const e=!p()('.issuable-list input[type="checkbox"]:checked').length;this.toggleSubmitButtonDisabled(e),this.updateSelectedIssuableIds(),c.a.setOriginalDropdownData(),h.a.$emit("issuables:selectionChanged",!e)}prepForSubmit(){var e=this;setTimeout((function(){return e.$bulkEditSubmitBtn.disable()})),this.updateSelectedIssuableIds()}toggleBulkEdit(e,t){null==e||e.preventDefault(),h.a.$emit("issuables:toggleBulkEdit",t),this.toggleSidebarDisplay(t),this.toggleBulkEditButtonDisabled(t),this.toggleOtherFiltersDisabled(t),this.toggleCheckboxDisplay(t)}updateSelectedIssuableIds(){this.$issuableIdsInput.val(f.getCheckedIssueIds())}selectAll(){const e=this.$checkAllContainer.find("input").prop("checked");this.$issuesList.prop("checked",e)}toggleSidebarDisplay(e){this.$page.toggleClass("right-sidebar-expanded issuable-bulk-update-sidebar",e),this.$page.toggleClass("right-sidebar-collapsed issuable-bulk-update-sidebar",!e),this.$sidebarInnerContainer.toggleClass("hidden",!e),this.$sidebar.toggleClass("right-sidebar-expanded issuable-bulk-update-sidebar",e),this.$sidebar.toggleClass("right-sidebar-collapsed issuable-bulk-update-sidebar",!e)}toggleBulkEditButtonDisabled(e){e?this.$bulkUpdateEnableBtn.disable():this.$bulkUpdateEnableBtn.enable()}toggleCheckboxDisplay(e){this.$checkAllContainer.toggleClass("hidden",!e),this.$issueChecks.toggleClass("hidden",!e)}toggleOtherFiltersDisabled(e){this.$otherFilters.toggleClass("disabled-content",e)}toggleSubmitButtonDisabled(e){e?this.$bulkEditSubmitBtn.disable():this.$bulkEditSubmitBtn.enable()}static getCheckedIssueIds(){const e=p()('.issuable-list input[type="checkbox"]:checked');return e.length>0?p.a.map(e,(function(e){return p()(e).data("id")})):[]}}i("ZzK0"),i("BzOf");var g=i("eVUo"),v=i("yYhH");class b{constructor(e){this.reviewersSelect=new v.a(e,".js-reviewer-search"),this.reviewersSelect.dropdowns.forEach((function(e){const t=e.dropdown,i=t[0],n=i.querySelector(".dropdown-content"),s=i.querySelector(".dropdown-loading"),a=s.querySelector(".gl-spinner-container"),r=s.parentNode;i.classList.add("non-blocking-loader"),a.classList.remove("gl-mt-7"),a.classList.add("gl-mt-2"),t.on("shown.bs.dropdown",(function(){e.filterInput.focus()})),t.on("toggle.on.loading.gl.dropdown filtering.gl.dropdown",(function(){n.appendChild(s)})),t.on("done.remote.loading.gl.dropdown done.filtering.gl.dropdown",(function(){r.appendChild(s)}))})),p()(".issuable-sidebar .inline-update").on("change","select",(function(){return p()(this).submit()})),p()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",(function(e){return e.preventDefault()})),p()(document).off("click",".edit-link").on("click",".edit-link",(function(e){e.preventDefault();const t=p()(this).parents(".block"),i=t.find(".selectbox");i.is(":visible")?(i.hide(),t.find(".value:not(.dont-hide)").show()):(i.show(),t.find(".value:not(.dont-hide)").hide()),i.is(":visible")&&setTimeout((function(){return t.find(".dropdown-menu-toggle").trigger("click")}),0)})),window.addEventListener("beforeunload",(function(){const e=g.a.getBreakpointSize();["xs","sm","md"].includes(e)&&Object(a.N)("collapsed_gutter",!0)}))}}function y(e){document.querySelector(".issues-bulk-update")&&(c.a.init({prefixId:e}),new f)}function k(){const e=document.querySelector(".js-csv-import-export-buttons");if(!e)return null;const{showExportButton:t,showImportButton:i,issuableType:n,issuableCount:r,email:o,exportCsvPath:d,importCsvIssuesPath:c,canEdit:u,projectImportJiraPath:p,maxAttachmentSize:h}=e.dataset;return new s.default({el:e,name:"CsvImportExportButtonsRoot",provide:{showExportButton:Object(a.H)(t),showImportButton:Object(a.H)(i),issuableType:n,email:o,importCsvIssuesPath:c,canEdit:Object(a.H)(u),projectImportJiraPath:p,maxAttachmentSize:h},render:function(e){return e(l.a,{props:{exportCsvPath:d,issuableCount:parseInt(r,10)}})}})}function w(){const e=document.querySelector(".js-issuable-by-email");if(!e)return null;s.default.use(n.a);const{initialEmail:t,issuableType:i,emailsHelpPagePath:a,quickActionsHelpPath:r,markdownHelpPath:o,resetPath:l}=e.dataset;return new s.default({el:e,name:"IssuableByEmailRoot",provide:{initialEmail:t,issuableType:i,emailsHelpPagePath:a,quickActionsHelpPath:r,markdownHelpPath:o,resetPath:l},render:function(e){return e(d.a)}})}function S(){const e=document.querySelector(".js-sidebar-options");if(!e)return;const t=Object(o.a)(e);new b(t.currentUser),r.a.initialize()}},"9dZE":function(e,t,i){"use strict";var n=i("9P+O"),s=i("FkSe"),a=i("s1D3"),r=i("5c3i"),o={components:{GlLoadingIcon:s.a,GlIcon:a.a},props:{fileName:{type:String,required:!0},fileMode:{type:String,required:!1,default:""},folder:{type:Boolean,required:!1,default:!1},submodule:{type:Boolean,required:!1,default:!1},opened:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:16},cssClasses:{type:String,required:!1,default:""}},computed:{isSymlink(){return this.fileMode===r.i},spriteHref(){const e=this.submodule?"folder-git":Object(n.getIconForFile)(this.fileName)||"file";return`${gon.sprite_file_icons}#${e}`},folderIconName(){return this.opened?"folder-open":"folder"},iconSizeClass(){return this.size?"s"+this.size:""}}},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("span",[e.loading?t("gl-loading-icon",{attrs:{size:"sm",inline:!0}}):e.isSymlink?t("gl-icon",{attrs:{name:"symlink",size:e.size}}):e.folder?t("gl-icon",{staticClass:"folder-icon",attrs:{name:e.folderIconName,size:e.size}}):t("svg",{key:e.spriteHref,class:[e.iconSizeClass,e.cssClasses]},[t("use",{attrs:{href:e.spriteHref}})])],1)}),[],!1,null,null,null);t.a=d.exports},"9fwh":function(e,t,i){var n,s,a;s=[],void 0===(a="function"==typeof(n=function(){var e=/(auto|scroll)/,t=function(e,i){return null===e.parentNode?i:t(e.parentNode,i.concat([e]))},i=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},n=function(t){return e.test(function(e){return i(e,"overflow")+i(e,"overflow-y")+i(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var i=t(e.parentNode,[]),s=0;s<i.length;s+=1)if(n(i[s]))return i[s];return document.scrollingElement||document.documentElement}}})?n.apply(t,s):n)||(e.exports=a)},"9s1C":function(e,t,i){var n=i("ZB1U"),s=i("QA6A");e.exports=function(e){return s(e)&&"[object Set]"==n(e)}},A5dm:function(e,t,i){"use strict";var n=i("z1xw"),s=i("waGw"),a=i("iQdY"),r=i("Pyw5"),o=i.n(r);const l={name:"GlTruncate",POSITION:a.a,directives:{GlTooltip:n.a,GlResizeObserver:s.a},props:{text:{type:String,required:!0},position:{type:String,required:!1,default:a.a.END,validator:e=>Object.values(a.a).includes(e)},withTooltip:{type:Boolean,required:!1,default:!1}},data:()=>({isTruncated:!1}),computed:{middleIndex(){return Math.floor(this.text.length/2)},first(){return this.text.slice(0,this.middleIndex)},last(){return this.text.slice(this.middleIndex)},isTooltipDisabled(){return!this.withTooltip||!this.isTruncated},title(){return this.withTooltip?this.text:void 0}},watch:{withTooltip(e){e&&this.checkTruncationState()}},methods:{checkTruncationState(){this.withTooltip&&(this.isTruncated=this.$refs.text.scrollWidth>this.$refs.text.offsetWidth)}}};const d=o()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.position===e.$options.POSITION.START?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate-component",attrs:{title:e.title}},[i("span",{ref:"text",staticClass:"gl-truncate-start !gl-text-ellipsis"},[e._v("â"+e._s(e.text)+"â")])]):e.position===e.$options.POSITION.MIDDLE?i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate-component",attrs:{title:e.title}},[i("span",{ref:"text",staticClass:"gl-truncate-end"},[e._v(e._s(e.first))]),i("span",{staticClass:"gl-truncate-start"},[e._v("â"+e._s(e.last)+"â")])]):i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{disabled:e.isTooltipDisabled},expression:"{ disabled: isTooltipDisabled }"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer:[withTooltip]",value:e.checkTruncationState,expression:"checkTruncationState",arg:e.withTooltip}],staticClass:"gl-truncate-component",attrs:{"data-testid":"truncate-end-container",title:e.title}},[i("span",{ref:"text",staticClass:"gl-truncate-end"},[e._v(e._s(e.text))])])},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},AMrI:function(e,t,i){"use strict";var n={name:"UserAccessRoleBadge",components:{GlBadge:i("Lzak").a}},s=i("tBpV"),a=Object(s.a)(n,(function(){return(0,this._self._c)("gl-badge",{attrs:{variant:"muted"}},[this._t("default")],2)}),[],!1,null,null,null);t.a=a.exports},AUvv:function(e,t){(function(){var e,i,n,s,a,r,o,l,d,c,u,p,h,m,f,g;t.score=function(e,t,n){var s,r,o;return s=n.preparedQuery,n.allowErrors||a(e,s.core_lw,s.core_up)?(o=e.toLowerCase(),r=i(e,o,s),Math.ceil(r)):0},t.isMatch=a=function(e,t,i){var n,s,a,r,o,l,d;if(a=e.length,r=t.length,!a||r>a)return!1;for(n=-1,s=-1;++s<r;){for(o=t.charCodeAt(s),l=i.charCodeAt(s);++n<a&&(d=e.charCodeAt(n))!==o&&d!==l;);if(n===a)return!1}return!0},t.computeScore=i=function(e,t,i){var n,s,a,r,o,m,f,v,b,y,k,w,S,_,I,T,O,C,x,j,E,D,N,A;if(I=i.query,T=i.query_lw,y=e.length,S=I.length,s=(n=d(e,t,I,T)).score,n.count===S)return p(S,y,s,n.pos);if((_=t.indexOf(T))>-1)return h(e,t,I,T,_,S,y);for(j=new Array(S),o=new Array(S),A=g(S,y),w=k=Math.ceil(.75*S)+5,f=!0,b=-1;++b<S;)j[b]=0,o[b]=0;for(v=-1;++v<y;)if(!(D=t[v]).charCodeAt(0)in i.charCodes){if(f){for(b=-1;++b<S;)o[b]=0;f=!1}}else for(C=0,x=0,r=0,O=!0,f=!0,b=-1;++b<S;){if((E=j[b])>C&&(C=E),m=0,T[b]===D)if(N=l(v,e,t),m=r>0?r:u(e,t,I,T,v,b,N),(a=x+c(v,b,N,s,m))>C)C=a,w=k;else{if(O&&--w<=0)return Math.max(C,j[S-1])*A;O=!1}x=E,r=o[b],o[b]=m,j[b]=C}return(C=j[S-1])*A},t.isWordStart=l=function(e,t,i){var n,s;return 0===e||(n=t[e],s=t[e-1],r(s)||n!==i[e]&&s===i[e-1])},t.isWordEnd=o=function(e,t,i,n){var s,a;return e===n-1||(s=t[e],a=t[e+1],r(a)||s===i[e]&&a!==i[e+1])},r=function(e){return" "===e||"."===e||"-"===e||"_"===e||"/"===e||"\\"===e},f=function(e){var t;return e<20?100+(t=20-e)*t:Math.max(120-e,0)},t.scoreSize=g=function(e,t){return 150/(150+Math.abs(t-e))},p=function(e,t,i,n){return 2*e*(150*i+f(n))*g(e,t)},t.scorePattern=m=function(e,t,i,n,s){var a,r;return r=e,a=6,i===e&&(a+=2),n&&(a+=3),s&&(a+=1),e===t&&(n&&(r+=i===t?2:1),s&&(a+=1)),i+r*(r+a)},t.scoreCharacter=c=function(e,t,i,n,s){var a;return a=f(e),i?a+150*((n>s?n:s)+10):a+150*s},t.scoreConsecutives=u=function(e,t,i,n,s,a,r){var l,d,c,u,p,h,f;for(l=(c=(d=e.length)-s)<(p=(u=i.length)-a)?c:p,h=0,f=0,i[a]===e[s]&&h++;++f<l&&n[++a]===t[++s];)i[a]===e[s]&&h++;return f<l&&s--,1===f?1+2*h:m(f,u,h,r,o(s,e,t,d))},t.scoreExactMatch=h=function(e,t,i,n,s,a,r){var d,c,u,h,f;for((f=l(s,e,t))||(u=t.indexOf(n,s+1))>-1&&(f=l(u,e,t))&&(s=u),c=-1,h=0;++c<a;)i[s+c]===e[c]&&h++;return d=o(s+a-1,e,t,r),p(a,r,m(a,a,h,f,d),s)},n=new(e=function(e,t,i){this.score=e,this.pos=t,this.count=i})(0,.1,0),t.scoreAcronyms=d=function(t,i,a,o){var d,c,u,p,h,f,g,v,b,y,k;if(h=t.length,f=a.length,!(h>1&&f>1))return n;for(d=0,y=0,k=0,v=0,u=-1,p=-1;++p<f;){if(g=o[p],r(g)){if((u=i.indexOf(g,u+1))>-1){y++;continue}break}for(;++u<h;)if(g===i[u]&&l(u,t,i)){a[p]===t[u]&&v++,k+=u,d++;break}if(u===h)break}return d<2?n:(c=d===f&&s(t,i,a,d),b=m(d,f,v,!0,c),new e(b,k/d,d+y))},s=function(e,t,i,n){var s,a,r;if(s=0,(r=e.length)>12*i.length)return!1;for(a=-1;++a<r;)if(l(a,e,t)&&++s>n)return!1;return!0}}).call(this)},Adug:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateTimelineEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TimelineEventCreateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEventCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEvent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noteHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineEventTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:317}};i.loc.source={body:"mutation CreateTimelineEvent($input: TimelineEventCreateInput!) {\n  timelineEventCreate(input: $input) {\n    timelineEvent {\n      id\n      note\n      noteHtml\n      action\n      occurredAt\n      createdAt\n      timelineEventTags {\n        nodes {\n          id\n          name\n        }\n      }\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.CreateTimelineEvent=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"CreateTimelineEvent")},Agcx:function(e,t,i){"use strict";var n=i("o4PY"),s=i.n(n),a=i("4lAS"),r=i("z1xw"),o=i("VpDa"),l=i.n(o),d=i("/lV4"),c=i("GuZl"),u={components:{GlButton:a.a},directives:{GlTooltip:r.a},props:{text:{type:String,required:!1,default:""},id:{type:String,required:!1,default:function(){return s()("modal-copy-button-")}},container:{type:String,required:!1,default:""},cssClasses:{type:String,required:!1,default:""},modalId:{type:String,required:!1,default:""},target:{type:String,required:!1,default:""},title:{type:String,required:!1,default:Object(d.a)("Copy")},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"primary"}},computed:{modalDomId(){return this.modalId?"#"+this.modalId:""}},mounted(){var e=this;this.$nextTick((function(){e.clipboard=new l.a(e.$el,{container:document.querySelector(e.modalDomId+" div.modal-content")||document.getElementById(e.container)||document.body}),e.clipboard.on("success",(function(t){e.$root.$emit(c.b,e.id),e.$emit("success",t),t.clearSelection(),t.trigger.blur()})).on("error",(function(t){return e.$emit("error",t)}))}))},destroyed(){this.clipboard&&this.clipboard.destroy()}},p=i("tBpV"),h=Object(p.a)(u,(function(){var e=this;return(0,e._self._c)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:e.tooltipPlacement,container:e.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:e.cssClasses,attrs:{id:e.id,"data-clipboard-target":e.target,"data-clipboard-text":e.text,title:e.title,"aria-label":e.title,category:e.category,icon:"copy-to-clipboard"}})}),[],!1,null,null,null);t.a=h.exports},Am3t:function(e,t,i){var n=i("zx4+"),s=i("etTJ"),a=i("NDsS"),r=Math.ceil,o=Math.max;e.exports=function(e,t,i){t=(i?s(e,t,i):void 0===t)?1:o(a(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var d=0,c=0,u=Array(r(l/t));d<l;)u[c++]=n(e,d,d+=t);return u}},AuBS:function(e,t,i){"use strict";var n=i("Lzak"),s=i("z1xw"),a=i("/lV4"),r=i("AxUD"),o=i("HZAj");const l={[o.c]:Object(a.a)("activity"),[o.d]:Object(a.a)("comment"),[o.e]:Object(a.a)("design"),[r.n]:Object(a.a)("epic"),[r.p]:Object(a.a)("issue"),[r.q]:Object(a.a)("merge request"),[o.f]:Object(a.a)("snippet")};var d={components:{GlBadge:n.a},directives:{GlTooltip:s.a},props:{importableType:{type:String,required:!1,default:""},textOnly:{type:Boolean,required:!1,default:!1}},computed:{title(){return Object(a.h)(Object(a.g)("BulkImport|This %{importable} was imported from another instance."),{importable:l[this.importableType]})}}},c=i("tBpV"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return e.textOnly?t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.title,expression:"title"}]},[e._v("\n  "+e._s(e.__("Imported"))+"\n")]):t("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.title,expression:"title"}],staticClass:"gl-shrink-0"},[e._v("\n  "+e._s(e.__("Imported"))+"\n")])}),[],!1,null,null,null);t.a=u.exports},BAFT:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return d}));var n=i("9k56"),s=i("jIK5"),a=i("BBKf"),r=i("hII5"),o=i("5Jof");const l={footClone:Object(r.b)(s.g,!1),footRowVariant:Object(r.b)(s.r),footVariant:Object(r.b)(s.r),tfootClass:Object(r.b)(s.e),tfootTrClass:Object(r.b)(s.e)},d=Object(n.c)({props:l,methods:{renderTFootCustom(){const e=this.$createElement;return this.hasNormalizedSlot(a.d)?e(o.a,{class:this.tfootClass||null,props:{footVariant:this.footVariant||this.headVariant||null},key:"bv-tfoot-custom"},this.normalizeSlot(a.d,{items:this.computedItems.slice(),fields:this.computedFields.slice(),columns:this.computedFields.length})):e()},renderTfoot(){return this.footClone?this.renderThead(!0):this.renderTFootCustom()}}})},BAGK:function(e,t,i){"use strict";i.d(t,"k",(function(){return n})),i.d(t,"j",(function(){return s})),i.d(t,"h",(function(){return a})),i.d(t,"p",(function(){return r})),i.d(t,"q",(function(){return o})),i.d(t,"r",(function(){return l})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return c})),i.d(t,"l",(function(){return u})),i.d(t,"n",(function(){return p})),i.d(t,"m",(function(){return h})),i.d(t,"o",(function(){return m})),i.d(t,"b",(function(){return f})),i.d(t,"E",(function(){return g})),i.d(t,"x",(function(){return v})),i.d(t,"z",(function(){return b})),i.d(t,"y",(function(){return y})),i.d(t,"A",(function(){return k})),i.d(t,"C",(function(){return w})),i.d(t,"D",(function(){return S})),i.d(t,"w",(function(){return _})),i.d(t,"B",(function(){return I})),i.d(t,"v",(function(){return T})),i.d(t,"s",(function(){return O})),i.d(t,"t",(function(){return C})),i.d(t,"i",(function(){return x})),i.d(t,"a",(function(){return j})),i.d(t,"e",(function(){return E})),i.d(t,"f",(function(){return D})),i.d(t,"g",(function(){return N})),i.d(t,"u",(function(){return A}));const n=750,s=50,a=72,r=340,o=260,l=60,d="editor",c="preview",u="createMergeRequestIn",p="readMergeRequest",h="pushCode",m="rejectUnsignedCommits",f={[h]:!0},g={mr:"mrdiff",edit:"editor",diff:"diff"},v={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed"},b=Object.freeze({not_diffable:"not_diffable",no_preview:"no_preview",added:"added",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed",text:"text",image:"image"}),y=Object.freeze({too_large:"too_large",stored_externally:"server_side_but_stored_externally"}),k={edit:{name:"ide-tree"},review:{name:"ide-review"},commit:{name:"repo-commit-section"}},w={pipelines:{name:"pipelines-list",keepAlive:!0},jobsDetail:{name:"jobs-detail",keepAlive:!1},mergeRequestInfo:{name:"merge-request-info",keepAlive:!0},terminal:{name:"terminal",keepAlive:!0}},S={unstaged:"unstaged",staged:"staged"},_={addition:{icon:"file-addition",class:"file-addition ide-file-addition"},modified:{icon:"file-modified",class:"file-modified ide-file-modified"},deleted:{icon:"file-deletion",class:"file-deletion ide-file-deletion"}},I={rename:"rename",tree:"tree",blob:"blob"},T={move:"move",delete:"delete",create:"create",update:"update"},O="left",C="right",x=10,j="main",E="https://gitlab.com/gitlab-org/gitlab/-/issues/377367",D="ide",N="/-/ide",A="/-/ide/oauth_redirect"},BHG8:function(e,t,i){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkItemHierarchy"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteWorkItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updateWorkItem"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adminParentLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setWorkItemMetadata"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createNote"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adminWorkItemLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"markNoteAsInternal"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetHierarchy"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasChildren"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"depthLimitReachedByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"depthLimitReached"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rolledUpCountsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countsByState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"opened"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"all"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"pageSize"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"endCursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PageInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"namespace"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"full"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetHierarchy"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasChildren"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rolledUpCountsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countsByState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"all"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemMetadataWidgets"},directives:[]}]}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemMetadataWidgets"},directives:[]}]}}]}}],loc:{start:0,end:1869}};n.loc.source={body:'#import "~/graphql_shared/fragments/page_info.fragment.graphql"\n#import "ee_else_ce/work_items/graphql/work_item_metadata_widgets.fragment.graphql"\n\nfragment WorkItemHierarchy on WorkItem {\n  id\n  workItemType {\n    id\n    name\n    iconName\n  }\n  title\n  confidential\n  userPermissions {\n    deleteWorkItem\n    updateWorkItem\n    adminParentLink\n    setWorkItemMetadata\n    createNote\n    adminWorkItemLink\n    markNoteAsInternal\n  }\n  widgets {\n    type\n    ... on WorkItemWidgetHierarchy {\n      type\n      hasChildren\n      depthLimitReachedByType {\n        workItemType {\n          id\n          name\n        }\n        depthLimitReached\n      }\n      rolledUpCountsByType {\n        countsByState {\n          opened\n          all\n          closed\n        }\n        workItemType {\n          id\n          name\n          iconName\n        }\n      }\n      parent {\n        id\n      }\n      children(first: $pageSize, after: $endCursor) {\n        pageInfo {\n          ...PageInfo\n        }\n        count\n        nodes {\n          id\n          iid\n          confidential\n          workItemType {\n            id\n            name\n            iconName\n          }\n          namespace {\n            id\n            fullPath\n            name\n          }\n          title\n          state\n          createdAt\n          closedAt\n          webUrl\n          reference(full: true)\n          widgets {\n            ... on WorkItemWidgetHierarchy {\n              type\n              hasChildren\n              rolledUpCountsByType {\n                countsByState {\n                  all\n                  closed\n                }\n                workItemType {\n                  id\n                  name\n                  iconName\n                }\n              }\n            }\n            ...WorkItemMetadataWidgets\n          }\n        }\n      }\n    }\n    ...WorkItemMetadataWidgets\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("5wtN").definitions)),n.definitions=n.definitions.concat(a(i("Hcw9").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.WorkItemHierarchy=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"WorkItemHierarchy")},Bk2k:function(e,t,i){var n=i("vkS7"),s=i("sHai"),a=Object.prototype.hasOwnProperty,r=s((function(e,t,i){a.call(e,i)?e[i].push(t):n(e,i,[t])}));e.exports=r},Bmfz:function(e,t,i){"use strict";i("v2fZ");var n=i("z1xw"),s=i("4lAS"),a=i("HyJ2"),r=i("/lV4"),o=i("pgS/"),l=i("LhZf"),d=i.n(l),c=i("yFt4"),u=i.n(c),p=i("JtyA"),h={i18n:{addATodo:Object(r.g)("WorkItem|Add a to-do item"),markAsDone:Object(r.g)("WorkItem|Mark as done")},directives:{GlTooltip:n.a},components:{GlButton:s.a,GlAnimatedTodoIcon:a.a},props:{itemId:{type:String,required:!0},currentUserTodos:{type:Array,required:!1,default:function(){return[]}},todosButtonType:{type:String,required:!1,default:"tertiary"}},data(){return{isLoading:!1,buttonLabel:this.currentUserTodos.length>0?this.$options.i18n.markAsDone:this.$options.i18n.addATodo}},computed:{todoId(){var e;return(null===(e=this.currentUserTodos[0])||void 0===e?void 0:e.id)||""},pendingTodo(){return""!==this.todoId},buttonIcon(){return this.pendingTodo?p.vb:p.ub}},methods:{onToggle(){var e=this;this.isLoading=!0,this.buttonLabel="";let t=d.a,i={targetId:this.itemId};this.pendingTodo&&(t=u.a,i={id:this.todoId}),this.$apollo.mutate({mutation:t,variables:{input:i},optimisticResponse:{todoMutation:{todo:{id:this.todoId,state:this.pendingTodo?p.wb:p.xb},errors:[]}},update:function(t,{data:{todoMutation:{todo:i={}}}}){const n=[];i.state===p.xb&&n.push({__typename:"Todo",id:i.id}),e.$emit("todosUpdated",{cache:t,todos:n})}}).then((function({data:{todoMutation:{errors:t}}}){if(null!=t&&t.length)throw new Error(t[0]);e.pendingTodo?(Object(o.c)(1),e.buttonLabel=e.$options.i18n.markAsDone):(Object(o.c)(-1),e.buttonLabel=e.$options.i18n.addATodo)})).catch((function(t){e.$emit("error",t.message)})).finally((function(){e.isLoading=!1}))}}},m=i("tBpV"),f=Object(m.a)(h,(function(){var e=this._self._c;return e("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom.hover",modifiers:{bottom:!0,hover:!0}}],staticClass:"btn-icon",attrs:{disabled:this.isLoading,title:this.buttonLabel,category:this.todosButtonType,"aria-label":this.buttonLabel},on:{click:this.onToggle}},[e("gl-animated-todo-icon",{class:{"!gl-text-blue-500":this.pendingTodo},attrs:{"is-on":this.pendingTodo,name:this.buttonIcon}})],1)}),[],!1,null,null,null);t.a=f.exports},CU3q:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssuableSeverity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"severity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableSeverity"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueSetSeverity"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"severity"},value:{kind:"Variable",name:{kind:"Name",value:"severity"}}},{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:258}};i.loc.source={body:"mutation updateIssuableSeverity($projectPath: ID!, $severity: IssuableSeverity!, $iid: String!) {\n  issueSetSeverity(input: { iid: $iid, severity: $severity, projectPath: $projectPath }) {\n    errors\n    issue {\n      iid\n      id\n      severity\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssuableSeverity=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssuableSeverity")},CUaz:function(e,t,i){"use strict";var n=i("yi8e"),s=i("/lV4");t.a={props:{discussionId:{type:String,required:!1,default:null},resolveDiscussion:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},computed:{...Object(n.d)(["isDiscussionResolved"]),resolvedStatusMessage(){let e;const t=this.isDiscussionResolved("draft"in this?this.draft.discussion_id:this.discussionId),i="draft"in this?this.draft.resolve_discussion:this.resolveDiscussion;if(!i||!t||this.$options.showStaysResolved)return i?e=t?Object(s.g)("MergeRequests|Thread stays resolved"):Object(s.g)("MergeRequests|Thread will be resolved"):t?e=Object(s.g)("MergeRequests|Thread will be unresolved"):this.$options.showStaysResolved&&(e=Object(s.g)("MergeRequests|Thread stays unresolved")),e},componentClasses(){return this.resolveDiscussion?"is-resolving-discussion":"is-unresolving-discussion"},resolveButtonTitle(){if(this.isDraft||this.discussionId)return this.resolvedStatusMessage;let e=Object(s.a)("Resolve thread");return this.resolvedBy&&(e=Object(s.h)(Object(s.a)("Resolved by %{name}"),{name:this.resolvedBy.name},!1)),e}},showStaysResolved:!0}},Ca8i:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DestroyTimelineEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TimelineEventDestroyInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEventDestroy"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEvent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:160}};i.loc.source={body:"mutation DestroyTimelineEvent($input: TimelineEventDestroyInput!) {\n  timelineEventDestroy(input: $input) {\n    timelineEvent {\n      id\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.DestroyTimelineEvent=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"DestroyTimelineEvent")},CaNa:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchRelatedMergeRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relatedMergeRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PageInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reference"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MilestoneFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"headPipeline"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailedStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CiIcon"},directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1034}};n.loc.source={body:'#import "~/graphql_shared/fragments/ci_icon.fragment.graphql"\n#import "~/graphql_shared/fragments/page_info.fragment.graphql"\n#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/milestone.fragment.graphql"\n\nquery fetchRelatedMergeRequests($projectPath: ID!, $iid: String!, $after: String = "") {\n  project(fullPath: $projectPath) {\n    id\n    issue(iid: $iid) {\n      id\n      relatedMergeRequests(after: $after) {\n        count\n        pageInfo {\n          ...PageInfo\n        }\n        nodes {\n          id\n          reference\n          state\n          title\n          createdAt\n          mergedAt\n          webUrl\n          milestone {\n            ...MilestoneFragment\n          }\n          project {\n            id\n            fullPath\n          }\n          assignees {\n            nodes {\n              ...User\n            }\n          }\n          headPipeline {\n            id\n            detailedStatus {\n              ...CiIcon\n            }\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("8eye").definitions)),n.definitions=n.definitions.concat(a(i("5wtN").definitions)),n.definitions=n.definitions.concat(a(i("aBoS").definitions)),n.definitions=n.definitions.concat(a(i("tylY").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.fetchRelatedMergeRequests=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"fetchRelatedMergeRequests")},CdyC:function(e,t,i){"use strict";var n=i("s1D3"),s=i("SNRI"),a={components:{GlIcon:n.a},props:{path:{type:String,required:!0},filePath:{type:String,required:!1,default:""},fileSize:{type:Number,required:!1,default:0}},computed:{fileSizeReadable(){return Object(s.f)(this.fileSize)},fileName(){return(this.filePath||this.path).split("/").pop()}}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"file-container"},[t("div",{staticClass:"file-content"},[t("p",{staticClass:"file-info gl-mt-3"},[e._v("\n      "+e._s(e.fileName)+"\n      "),e.fileSize>0?[e._v(" ("+e._s(e.fileSizeReadable)+") ")]:e._e()],2),e._v(" "),t("a",{staticClass:"btn btn-default",attrs:{href:e.path,rel:"nofollow",download:e.fileName,target:"_blank"}},[t("gl-icon",{staticClass:"float-left gl-mr-3",attrs:{size:16,name:"download"}}),e._v("\n      "+e._s(e.__("Download"))+"\n    ")],1)])])}),[],!1,null,null,null);t.a=o.exports},CqXh:function(e,t,i){"use strict";var n=i("lx39"),s=i.n(n),a=i("VNnR"),r=i.n(a),o=(i("byxs"),{props:{storageKey:{type:String,required:!0},value:{type:[String,Number,Boolean,Array,Object],required:!1,default:""},asString:{type:Boolean,required:!1,default:!1},persist:{type:Boolean,required:!1,default:!0},clear:{type:Boolean,required:!1,default:!1}},watch:{value(e){this.persist&&this.saveValue(this.serialize(e))},clear(e){e&&localStorage.removeItem(this.storageKey)}},mounted(){const{exists:e,value:t}=this.getStorageValue();e&&!r()(t,this.value)&&this.$emit("input",t)},methods:{getStorageValue(){const e=localStorage.getItem(this.storageKey);if(null===e)return{exists:!1};try{return{exists:!0,value:this.deserialize(e)}}catch{return console.warn(`[gitlab] Failed to deserialize value from localStorage (key=${this.storageKey})`,e),{exists:!1}}},saveValue(e){localStorage.setItem(this.storageKey,e)},serialize(e){return!s()(e)&&this.asString&&console.warn("[gitlab] LocalStorageSync is saving",e,`to the key "${this.storageKey}", but it is not a string and the 'asString' prop is true. This will save and restore the stringified value rather than the original value. If this is not intended, please remove or set the 'asString' prop to false.`),this.asString?e:JSON.stringify(e)},deserialize(e){return this.asString?e:JSON.parse(e)}},render(){var e,t;return null===(e=(t=this.$scopedSlots).default)||void 0===e?void 0:e.call(t)}}),l=i("tBpV"),d=Object(l.a)(o,void 0,void 0,!1,null,null,null);t.a=d.exports},DBhb:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("byxs"),i("3UXl"),i("iyoE");const n=function(e){const{notesFilterValue:t,notesFilters:i}=e.dataset,n=i?JSON.parse(i):{};return{notesFilters:Object.keys(n).map((function(e){return{title:e,value:n[e]}})),notesFilterValue:t?Number(t):void 0}}},DbBu:function(e,t,i){var n=i("5N3H"),s=i("rRem"),a=i("J0jI"),r=RegExp("['â]","g");e.exports=function(e){return function(t){return n(a(s(t).replace(r,"")),e,"")}}},Df1p:function(e,t,i){"use strict";var n=i("4lAS"),s=i("1cpz"),a=i("30su"),r=i("MV2A"),o=i("Lb36"),l=i("Mq5L"),d=i("z1xw"),c=i("AxUD"),u=i("2ibD"),p=i("/lV4"),h=i("Agcx"),m=i("xRSn"),f={i18n:{sendEmail:Object(p.a)("Send email")},name:"IssuableByEmail",components:{GlButton:n.a,GlModal:s.a,GlSprintf:a.a,GlLink:r.a,GlFormInputGroup:o.a,HelpIcon:m.a,ModalCopyButton:h.a},directives:{GlModal:l.a,GlTooltip:d.a},inject:{initialEmail:{default:null},issuableType:{default:c.p},emailsHelpPagePath:{default:""},quickActionsHelpPath:{default:""},markdownHelpPath:{default:""},resetPath:{default:""}},data(){return{email:this.initialEmail,issuableName:this.issuableType===c.p?Object(p.a)("issue"):Object(p.a)("merge request")}},computed:{mailToLink(){const e=Object(p.h)(Object(p.a)("Enter the %{name} title"),{name:this.issuableName}),t=Object(p.h)(Object(p.a)("Enter the %{name} description"),{name:this.issuableName});return`mailto:${this.email}?subject=${e}&body=${t}`}},methods:{async resetIncomingEmailToken(){try{const{data:{new_address:e}}=await u.a.put(this.resetPath);this.email=e}catch{this.$toast.show(Object(p.a)("There was an error when reseting email token."))}},cancelHandler(){this.$refs.modal.hide()}},modalId:"issuable-email-modal"},g=i("tBpV"),v=Object(g.a)(f,(function(){var e=this,t=e._self._c;return t("div",[t("gl-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.modalId,expression:"$options.modalId"}],attrs:{variant:"link"}},[t("gl-sprintf",{attrs:{message:e.__("Email a new %{name} to this project")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})],1),e._v(" "),t("gl-modal",{ref:"modal",attrs:{"modal-id":e.$options.modalId},scopedSlots:e._u([{key:"modal-title",fn:function(){return[t("gl-sprintf",{attrs:{message:e.__("Create new %{name} by email")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})]},proxy:!0},{key:"modal-footer",fn:function(){return[t("gl-button",{attrs:{category:"secondary"},on:{click:e.cancelHandler}},[e._v(e._s(e.__("Cancel")))])]},proxy:!0}])},[e._v(" "),t("p",[t("gl-sprintf",{attrs:{message:e.__("You can create a new %{name} inside this project by sending an email to the following email address:")},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.issuableName))]},proxy:!0}])})],1),e._v(" "),t("gl-form-input-group",{staticClass:"gl-mb-4",attrs:{value:e.email,readonly:"","select-on-click":""},scopedSlots:e._u([{key:"append",fn:function(){return[t("modal-copy-button",{attrs:{text:e.email,title:e.__("Copy"),"modal-id":e.$options.modalId}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:e.mailToLink,title:e.$options.i18n.sendEmail,"aria-label":e.$options.i18n.sendEmail,icon:"mail"}})]},proxy:!0}])}),e._v(" "),t("p",[t("gl-sprintf",{attrs:{message:e.__("The subject will be used as the title of the new issue, and the message will be the description. %{quickActionsLinkStart}Quick actions%{quickActionsLinkEnd} and styling with %{markdownLinkStart}Markdown%{markdownLinkEnd} are supported.")},scopedSlots:e._u([{key:"quickActionsLink",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.quickActionsHelpPath,target:"_blank"}},[e._v(e._s(i))])]}},{key:"markdownLink",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.markdownHelpPath,target:"_blank"}},[e._v(e._s(i))])]}}])})],1),e._v(" "),t("p",[t("gl-sprintf",{attrs:{message:e.__("This is a private email address %{helpIcon} generated just for you. Anyone who has it can create issues or merge requests as if they were you. If that happens, %{resetLinkStart}reset this token%{resetLinkEnd}.")},scopedSlots:e._u([{key:"helpIcon",fn:function(){return[t("gl-link",{attrs:{href:e.emailsHelpPagePath,target:"_blank"}},[t("help-icon")],1)]},proxy:!0},{key:"resetLink",fn:function({content:i}){return[t("gl-button",{attrs:{variant:"link","data-testid":"reset_email_token_link"},on:{click:e.resetIncomingEmailToken}},[e._v("\n            "+e._s(i)+"\n          ")])]}}])})],1)],1)],1)}),[],!1,null,null,null);t.a=v.exports},EH6T:function(e,t,i){"use strict";var n=i("Idy0"),s=i.n(n),a=i("sAvI"),r=i.n(a),o=i("HJBN"),l=i.n(o),d=(i("B++/"),i("z6RN"),i("47t/"),i("v2fZ"),i("ZzK0"),i("BzOf"),i("86Lb"),i("EmJ/")),c=i.n(d),u=i("jlnU"),p=i("2ibD"),h=i("/lV4");t.a={init({form:e,issues:t,prefixId:i}={}){this.prefixId=i||"issue_",this.form=e||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=t||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit(e){return e.preventDefault(),this.submit()},submit(){var e=this;p.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then((function(){return window.location.reload()})).catch((function(){return e.onFormSubmitFailure()}))},onFormSubmitFailure(){return this.form.find('[type="submit"]').enable(),Object(u.createAlert)({message:Object(h.a)("Issue update failed")})},getFormDataAsObject(){const e=this.form.find('input[name="update[assignee_ids][]"]').val(),t={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),health_status:this.form.find('input[name="update[health_status]"]').val(),epic_id:this.form.find('input[name="update[epic_id]"]').val(),sprint_id:this.form.find('input[name="update[iteration_id]"]').val(),add_label_ids:[],remove_label_ids:[],confidential:this.form.find('input[name="update[confidentiality]"]').val()}};return e&&(t.update.assignee_ids=[e]),this.willUpdateLabels&&(t.update.add_label_ids=this.$labelDropdown.data("user-checked"),t.update.remove_label_ids=this.$labelDropdown.data("user-unchecked")),t},setOriginalDropdownData(){const e=c()(".bulk-update .js-label-select"),t=e.data("user-checked")||[],i=e.data("user-unchecked")||[],n=l()(s()(this.getOriginalCommonIds(),t),i),a=l()(this.getOriginalIndeterminateIds(),t,i);e.data("marked",n),e.data("indeterminate",a)},getOriginalCommonIds(){var e=this;const t=[];return this.getElement('.issuable-list input[type="checkbox"]:checked').each((function(i,n){t.push(e.getElement(`#${e.prefixId}${n.dataset.id}`).data("labels"))})),r.a.apply(this,t)},getOriginalIndeterminateIds(){var e=this;const t=[],i=[];let n=[];return this.getElement('.issuable-list input[type="checkbox"]:checked').each((function(s,a){n=e.getElement(`#${e.prefixId}${a.dataset.id}`).data("labels"),n.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),i.push(n)})),i.unshift(t),t.filter((function(t){return!r.a.apply(e,i).includes(t)}))},getElement(e){return this.scopeEl=this.scopeEl||c()(".content"),this.scopeEl.find(e)}}},EaYZ:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"groupWorkItems"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"types"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueType"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"in"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableSearchableField"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAncestors"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeDescendants"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"NullValue"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchByIid"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchByText"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"Variable",name:{kind:"Name",value:"types"}}},{kind:"Argument",name:{kind:"Name",value:"in"},value:{kind:"Variable",name:{kind:"Name",value:"in"}}},{kind:"Argument",name:{kind:"Name",value:"includeAncestors"},value:{kind:"Variable",name:{kind:"Name",value:"includeAncestors"}}},{kind:"Argument",name:{kind:"Name",value:"includeDescendants"},value:{kind:"Variable",name:{kind:"Name",value:"includeDescendants"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"searchByText"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"workItemsByIid"},name:{kind:"Name",value:"workItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"Variable",name:{kind:"Name",value:"types"}}},{kind:"Argument",name:{kind:"Name",value:"includeAncestors"},value:{kind:"Variable",name:{kind:"Name",value:"includeAncestors"}}},{kind:"Argument",name:{kind:"Name",value:"includeDescendants"},value:{kind:"Variable",name:{kind:"Name",value:"includeDescendants"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"searchByIid"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:1060}};i.loc.source={body:"query groupWorkItems(\n  $searchTerm: String\n  $fullPath: ID!\n  $types: [IssueType!]\n  $in: [IssuableSearchableField!]\n  $includeAncestors: Boolean = false\n  $includeDescendants: Boolean = false\n  $iid: String = null\n  $searchByIid: Boolean = false\n  $searchByText: Boolean = true\n) {\n  workspace: group(fullPath: $fullPath) {\n    id\n    workItems(\n      search: $searchTerm\n      types: $types\n      in: $in\n      includeAncestors: $includeAncestors\n      includeDescendants: $includeDescendants\n    ) @include(if: $searchByText) {\n      nodes {\n        id\n        iid\n        title\n        confidential\n        workItemType {\n          id\n          name\n          iconName\n        }\n      }\n    }\n    workItemsByIid: workItems(\n      iid: $iid\n      types: $types\n      includeAncestors: $includeAncestors\n      includeDescendants: $includeDescendants\n    ) @include(if: $searchByIid) {\n      nodes {\n        id\n        iid\n        title\n        confidential\n        workItemType {\n          id\n          name\n          iconName\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.groupWorkItems=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"groupWorkItems")},EcvJ:function(e,t,i){"use strict";var n=i("FkSe"),s=i("XiQx"),a=i("z1xw"),r=i("KnFb"),o=i("yi8e"),l=i("AxUD"),d=i("/lV4"),c=i("jlnU"),u=i("udiD"),p=i("Or2z"),h={locked:{icon:"lock",class:"value",displayText:Object(d.a)("Locked")},unlocked:{class:["no-value hide-collapsed"],icon:"lock-open",displayText:Object(d.a)("Unlocked")},components:{GlLoadingIcon:n.a,GlDisclosureDropdownItem:s.b},directives:{GlTooltip:a.a,Outside:r.a},inject:["fullPath"],props:{isEditable:{required:!0,type:Boolean}},i18n:{issue:Object(d.a)("issue"),issueCapitalized:Object(d.a)("Issue"),mergeRequest:Object(d.a)("merge request"),mergeRequestCapitalized:Object(d.a)("Merge request"),lockingMergeRequest:Object(d.a)("Locking discussion"),unlockingMergeRequest:Object(d.a)("Unlocking discussion"),lockMergeRequest:Object(d.a)("Lock discussion"),unlockMergeRequest:Object(d.a)("Unlock discussion"),lockedMessage:Object(d.a)("Discussion locked."),unlockedMessage:Object(d.a)("Discussion unlocked.")},data:()=>({isLoading:!1,isLockDialogOpen:!1}),computed:{...Object(o.d)(["getNoteableData"]),isIssuable(){return this.getNoteableData.targetType===l.p},issuableDisplayName(){return this.isIssuable?this.$options.i18n.issue:this.$options.i18n.mergeRequest},issuableDisplayNameCapitalized(){return this.isIssuable?this.$options.i18n.issueCapitalized:this.$options.i18n.mergeRequestCapitalized},isLocked(){return this.getNoteableData.discussion_locked},lockStatus(){return this.isLocked?this.$options.locked:this.$options.unlocked},lockToggleInProgressText(){return this.isLocked?this.unlockingMergeRequestText:this.lockingMergeRequestText},lockToggleText(){return this.isLocked?this.unlockMergeRequestText:this.lockMergeRequestText},lockingMergeRequestText(){return Object(d.h)(this.$options.i18n.lockingMergeRequest,{issuableDisplayName:this.issuableDisplayName})},unlockingMergeRequestText(){return Object(d.h)(this.$options.i18n.unlockingMergeRequest,{issuableDisplayName:this.issuableDisplayName})},lockMergeRequestText(){return Object(d.h)(this.$options.i18n.lockMergeRequest,{issuableDisplayName:this.issuableDisplayName})},unlockMergeRequestText(){return Object(d.h)(this.$options.i18n.unlockMergeRequest,{issuableDisplayName:this.issuableDisplayName})},lockedMessageText(){return Object(d.h)(this.$options.i18n.lockedMessage,{issuableDisplayName:this.issuableDisplayNameCapitalized})},unlockedMessageText(){return Object(d.h)(this.$options.i18n.unlockedMessage,{issuableDisplayName:this.issuableDisplayNameCapitalized})}},created(){p.a.$on("closeLockForm",this.toggleForm)},beforeDestroy(){p.a.$off("closeLockForm",this.toggleForm)},methods:{...Object(o.c)(["updateLockedAttribute"]),toggleForm(){this.isEditable&&(this.isLockDialogOpen=!this.isLockDialogOpen)},toggleLocked(){var e=this;this.isLoading=!0,this.updateLockedAttribute({locked:!this.isLocked,fullPath:this.fullPath}).then((function(){Object(u.default)(e.isLocked?e.lockedMessageText:e.unlockedMessageText)})).catch((function(){const t=Object(d.a)("Something went wrong trying to change the locked state of the discussion");Object(c.createAlert)({message:Object(d.h)(t,{issuableDisplayName:e.issuableDisplayName})})})).finally((function(){e.isLoading=!1}))},closeForm(){this.isLockDialogOpen=!1}}},m=i("tBpV"),f=Object(m.a)(h,(function(){var e=this,t=e._self._c;return e.isIssuable?t("li",{staticClass:"gl-new-dropdown-item"},[t("button",{staticClass:"gl-new-dropdown-item-content",attrs:{type:"button","data-testid":"issuable-lock"},on:{click:e.toggleLocked}},[t("span",{staticClass:"gl-new-dropdown-item-text-wrapper"},[e.isLoading?[t("gl-loading-icon",{attrs:{inline:"",size:"sm"}}),e._v(" "+e._s(e.lockToggleInProgressText)+"\n      ")]:[e._v("\n        "+e._s(e.lockToggleText)+"\n      ")]],2)])]):t("gl-disclosure-dropdown-item",[t("button",{staticClass:"gl-new-dropdown-item-content",attrs:{type:"button","data-testid":"issuable-lock"},on:{click:e.toggleLocked}},[t("span",{staticClass:"gl-new-dropdown-item-text-wrapper"},[e.isLoading?[t("gl-loading-icon",{attrs:{inline:"",size:"sm"}}),e._v(" "+e._s(e.lockToggleInProgressText)+"\n      ")]:[e._v("\n        "+e._s(e.lockToggleText)+"\n      ")]],2)])])}),[],!1,null,null,null);t.a=f.exports},EvrX:function(e,t,i){"use strict";t.a=i.p+"empty-activity-md.9368030d.svg"},Ex4Z:function(e,t,i){"use strict";var n=i("P/Kr"),s=i.n(n),a=i("yi8e"),r=i("669a");function o(e,t){return 100*e/t}var l={name:"ImageDiffOverlay",components:{DesignNotePin:i("Vjau").a},mixins:[r.a],props:{discussions:{type:[Array,Object],required:!0},fileHash:{type:String,required:!0},canComment:{type:Boolean,required:!1,default:!1},showCommentIcon:{type:Boolean,required:!1,default:!1},badgeClass:{type:String,required:!1,default:""},shouldToggleDiscussion:{type:Boolean,required:!1,default:!0},renderedWidth:{type:Number,required:!0},renderedHeight:{type:Number,required:!0}},computed:{...Object(a.d)("diffs",["getDiffFileByHash","getCommentFormForDiffFile"]),currentCommentForm(){return this.getCommentFormForDiffFile(this.fileHash)},allDiscussions(){return s()(this.discussions)?this.discussions:[this.discussions]}},methods:{...Object(a.c)("diffs",["openDiffFileCommentForm"]),getImageDimensions(){return{width:Math.round(this.$parent.width),height:Math.round(this.$parent.height)}},getPositionForObject(e){const{x:t,y:i,width:n,height:s}=e;return{x:t/n*100,y:i/s*100}},getPosition(e){const{x:t,y:i}=this.getPositionForObject(e.position);return{left:t+"%",top:i+"%"}},clickedImage(e,t){const{width:i,height:n}=this.getImageDimensions(),s=o(e,this.renderedWidth),a=o(t,this.renderedHeight);this.openDiffFileCommentForm({fileHash:this.fileHash,width:i,height:n,x:Math.round(i*(s/100)),y:Math.round(n*(a/100)),xPercent:s,yPercent:a})}}},d=i("tBpV"),c=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"image-diff-overlay gl-absolute gl-h-full gl-w-full"},[e.canComment?t("button",{staticClass:"image-diff-overlay-add-comment js-add-image-diff-note-button gl-absolute gl-h-full gl-w-full gl-border-0 gl-bg-transparent",attrs:{type:"button"},on:{click:function(t){return e.clickedImage(t.offsetX,t.offsetY)}}},[t("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.__("Add image comment"))+" ")])]):e._e(),e._v(" "),e._l(e.allDiscussions,(function(i,n){return t("design-note-pin",{key:i.id,staticClass:"js-image-badge",class:e.badgeClass,attrs:{label:e.showCommentIcon?null:e.toggleText(i,n),position:e.getPosition(i),"aria-label":e.__("Show comments"),"is-draft":i.isDraft,"is-resolved":i.resolved,"is-on-image":"",disabled:!e.shouldToggleDiscussion},on:{click:function(t){return e.clickedToggle(i)}}})})),e._v(" "),e.canComment&&e.currentCommentForm?t("design-note-pin",{attrs:{position:{left:e.currentCommentForm.xPercent+"%",top:e.currentCommentForm.yPercent+"%"}}}):e._e()],2)}),[],!1,null,null,null);t.a=c.exports},FIzW:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"setSortPreference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserPreferencesUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userPreferencesUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:124}};i.loc.source={body:"mutation setSortPreference($input: UserPreferencesUpdateInput!) {\n  userPreferencesUpdate(input: $input) {\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.setSortPreference=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"setSortPreference")},FPOf:function(e,t,i){"use strict";var n=i("MV2A"),s=i("30su"),a=i("/lV4"),r={components:{TimeAgoTooltip:i("Fsq/").a,GlLink:n.a,GlSprintf:s.a},props:{taskCompletionStatus:{type:Object,required:!1,default:function(){return{}}},updatedAt:{type:String,required:!1,default:""},updatedByName:{type:String,required:!1,default:""},updatedByPath:{type:String,required:!1,default:""}},computed:{completedCount(){var e;return null!==(e=this.taskCompletionStatus.completed_count)&&void 0!==e?e:this.taskCompletionStatus.completedCount},count(){return this.taskCompletionStatus.count},hasUpdatedBy(){return this.updatedByName&&this.updatedByPath},showCheck(){return this.completedCount===this.count},taskStatus(){const{completedCount:e,count:t}=this;if(t)return Object(a.h)(Object(a.f)("%{completedCount} of %{count} checklist item completed","%{completedCount} of %{count} checklist items completed",t),{completedCount:e,count:t})}}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return e.taskStatus||e.updatedAt?t("small",{staticClass:"js-issue-widgets gl-inline-block gl-text-sm gl-text-subtle"},[e.taskStatus?[e.showCheck?[e._v("â")]:e._e(),e._v("\n    "+e._s(e.taskStatus)+"\n    "),e.updatedAt?[e._v("Â·")]:e._e()]:e._e(),e._v(" "),e.updatedAt?[e.hasUpdatedBy?t("gl-sprintf",{attrs:{message:e.__("Edited %{timeago} by %{author}")},scopedSlots:e._u([{key:"timeago",fn:function(){return[t("time-ago-tooltip",{attrs:{time:e.updatedAt,"tooltip-placement":"bottom"}})]},proxy:!0},{key:"author",fn:function(){return[t("gl-link",{staticClass:"gl-text-subtle hover:gl-text-subtle",attrs:{href:e.updatedByPath}},[e._v("\n          "+e._s(e.updatedByName)+"\n        ")])]},proxy:!0}],null,!1,1851124434)}):t("gl-sprintf",{attrs:{message:e.__("Edited %{timeago}")},scopedSlots:e._u([{key:"timeago",fn:function(){return[t("time-ago-tooltip",{attrs:{time:e.updatedAt,"tooltip-placement":"bottom"}})]},proxy:!0}],null,!1,3148754604)})]:e._e()],2):e._e()}),[],!1,null,null,null);t.a=l.exports},FYTc:function(e,t,i){"use strict";i.d(t,"g",(function(){return s})),i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"u",(function(){return o})),i.d(t,"k",(function(){return l})),i.d(t,"l",(function(){return d})),i.d(t,"h",(function(){return c})),i.d(t,"j",(function(){return u})),i.d(t,"i",(function(){return p})),i.d(t,"q",(function(){return m})),i.d(t,"t",(function(){return f})),i.d(t,"b",(function(){return g})),i.d(t,"c",(function(){return v})),i.d(t,"r",(function(){return b})),i.d(t,"s",(function(){return y})),i.d(t,"f",(function(){return k})),i.d(t,"n",(function(){return w})),i.d(t,"e",(function(){return S})),i.d(t,"o",(function(){return _})),i.d(t,"p",(function(){return I})),i.d(t,"m",(function(){return T})),i.d(t,"w",(function(){return O})),i.d(t,"v",(function(){return C}));i("3UXl"),i("iyoE");var n=i("/lV4");const s=["design-detail-layout","gl-overflow-hidden","gl-m-0"],a={pin:"pin",discussion:"discussion",url:"url"},r={danger:"danger",info:"info"},o={mimetype:"image/png, image/jpg, image/jpeg, image/gif, image/bmp, image/tiff, image/ico",regex:/image\/.+/},l=10,d=Object(n.h)(Object(n.g)("DesignManagement|The maximum number of designs allowed to be uploaded is %{upload_limit}. Please try again."),{upload_limit:l}),c=Object(n.g)("DesignManagement|Could not find design."),u=Object(n.g)("DesignManagement|Requested design version does not exist."),p=Object(n.g)("DesignManagement|Failed to archive a design. Please try again."),h=Object(n.g)("DesignManagement|Upload skipped. %{reason}"),m=Object(n.g)("DesignManagement|Could not update description. Please try again."),f=Object(n.g)("DesignManagement|Error uploading a new design. Please try again."),g=Object(n.g)("DesignManagement|Could not add a new comment. Please try again."),v=Object(n.g)("DesignManagement|Could not create new discussion. Please try again."),b=Object(n.g)("DesignManagement|Could not update discussion. Please try again."),y=Object(n.g)("DesignManagement|Could not update comment. Please try again."),k=Object(n.g)("DesignManagement|Could not delete comment. Please try again."),w=Object(n.g)("DesignManagement|Could not resolve comment. Please try again."),S=Object(n.g)("DesignManagement|Could not award emoji. Please try again."),_="Discussion",I="User",T=Object(n.g)("DesignManagement|Something went wrong when reordering designs. Please try again"),O=function(e,t){if(0===t.length)return null;if(t.length===e.length){const{filename:e}=t[0],i=Object(n.h)(Object(n.f)("DesignManagement|%{filename} did not change.","DesignManagement|The designs you tried uploading did not change.",t.length),{filename:e});return Object(n.h)(h,{reason:i})}return function(e){const t=e.slice(0,5).map((function({filename:e}){return e})).join(", "),i=e.length>5?Object(n.h)(Object(n.g)("DesignManagement|Some of the designs you tried uploading did not change: %{skippedFiles} and %{moreCount} more."),{skippedFiles:t,moreCount:e.length-5}):Object(n.h)(Object(n.g)("DesignManagement|Some of the designs you tried uploading did not change: %{skippedFiles}."),{skippedFiles:t});return Object(n.h)(h,{reason:i})}(t)},C=function(e=1){return Object(n.f)("DesignManagement|Failed to archive a design. Please try again.","DesignManagement|Failed to archive designs. Please try again.",e)}},FbO4:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"reorderIssues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"oldIndex"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newIndex"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"namespace"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"serializedVariables"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reorderIssues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"oldIndex"},value:{kind:"Variable",name:{kind:"Name",value:"oldIndex"}}},{kind:"Argument",name:{kind:"Name",value:"newIndex"},value:{kind:"Variable",name:{kind:"Name",value:"newIndex"}}},{kind:"Argument",name:{kind:"Name",value:"namespace"},value:{kind:"Variable",name:{kind:"Name",value:"namespace"}}},{kind:"Argument",name:{kind:"Name",value:"serializedVariables"},value:{kind:"Variable",name:{kind:"Name",value:"serializedVariables"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:265}};i.loc.source={body:"mutation reorderIssues(\n  $oldIndex: Int\n  $newIndex: Int\n  $namespace: String\n  $serializedVariables: String\n) {\n  reorderIssues(\n    oldIndex: $oldIndex\n    newIndex: $newIndex\n    namespace: $namespace\n    serializedVariables: $serializedVariables\n  ) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.reorderIssues=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"reorderIssues")},FcHL:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkItemTypeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgetDefinitions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetDefinitionHierarchy"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowedChildTypes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:249}};i.loc.source={body:"fragment WorkItemTypeFragment on WorkItemType {\n  id\n  name\n  iconName\n  widgetDefinitions {\n    type\n    ... on WorkItemWidgetDefinitionHierarchy {\n      allowedChildTypes {\n        nodes {\n          id\n          name\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.WorkItemTypeFragment=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"WorkItemTypeFragment")},"Fsq/":function(e,t,i){"use strict";var n=i("z1xw"),s=i("A5dm"),a=i("bOix"),r=i("5QKO"),o={directives:{GlTooltip:n.a},components:{GlTruncate:s.a},mixins:[r.a],props:{time:{type:[String,Number,Date],required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""},dateTimeFormat:{type:String,required:!1,default:a.b,validator:function(e){return a.a.includes(e)}},enableTruncation:{type:Boolean,required:!1,default:!1}},computed:{timeAgo(){return this.timeFormatted(this.time,this.dateTimeFormat)},tooltipText(){return this.enableTruncation?void 0:this.tooltipTitle(this.time)}}},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:e.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:e.cssClass,attrs:{title:e.tooltipText,datetime:e.time}},[e._t("default",(function(){return[e.enableTruncation?[t("gl-truncate",{attrs:{text:e.timeAgo,"with-tooltip":""}})]:[e._v(e._s(e.timeAgo))]]}),{timeAgo:e.timeAgo})],2)}),[],!1,null,null,null);t.a=d.exports},FzbX:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return p})),i.d(t,"d",(function(){return S})),i.d(t,"e",(function(){return _})),i.d(t,"f",(function(){return w})),i.d(t,"g",(function(){return h})),i.d(t,"h",(function(){return I})),i.d(t,"i",(function(){return g})),i.d(t,"j",(function(){return m})),i.d(t,"k",(function(){return O})),i.d(t,"l",(function(){return v})),i.d(t,"m",(function(){return T})),i.d(t,"n",(function(){return b})),i.d(t,"o",(function(){return C}));var n=i("bta6"),s=i.n(n),a=i("gAdM"),r=i.n(a),o=i("lx39"),l=i.n(o),d=i("/CIc");const c="filtered-search-term",u="intent-activate-previous",p=".gl-token-close";function h(e){return e.type===c&&""===e.value.data.trim()}function m(e){const t=[];return e.forEach(e=>{h(e)||(e.type!==c?t.push({...e}):t.length>0&&"string"==typeof t[t.length-1]?t[t.length-1]+=" "+e.value.data:t.push(e.value.data))}),t}function f(e){Array.isArray(e),0}function g(e){return"string"==typeof e||(f(e),e.some(e=>"string"==typeof e||!e.id))}function v(e,t,i){if(0===t)return e;let n;return n=e>=0&&e<i?e:t>0?-1:i,Object(d.d)(n+t,i)}function b(e){let{icon:t,title:i,type:n,optionComponent:s}=e;return{icon:t,title:i,value:n,component:s}}let y=0;const k=()=>{const e="token-"+y;return y+=1,e};function w(e){return e.id?e:{...e,id:k()}}function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{id:k(),type:c,value:{data:e}}}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(e);const i=Array.isArray(e)?e:[e];return i.reduce((e,i)=>{if("string"==typeof i)if(t){const t=i.trim();t&&e.push(S(t))}else{i.split(" ").filter(Boolean).forEach(t=>e.push(S(t)))}else e.push(w(i));return e},[])}function I(e,t){return e.toLowerCase().includes(t.toLowerCase())}const T={type:c,icon:"title",title:"Search for this text"};function O(e){if("'"===s()(e)&&"'"===r()(e))return[e];if('"'===s()(e)&&'"'===r()(e))return[e];const t=e.split(" "),i=[];let n=!1,a="";for(;t.length;){const e=t.shift();if(-1===e.indexOf('"'))n?a+=" "+e:i.push(e);else{const[s,r]=e.split('"',2);n?(n=!1,a+=` ${s}"`,i.push(a),a="",r.length&&t.unshift(r)):(n=!0,s.length&&i.push(s),a='"'+r)}}return i}function C(e){if(!l()(e))return e;if(!e.includes(" "))return e;return["'",'"'].some(t=>s()(e)===t&&r()(e)===t)?e:`"${e}"`}},"G/dv":function(e,t,i){"use strict";var n=i("jlnU"),s=i("/lV4");t.a={computed:{discussionResolved(){return this.discussion?Boolean(this.discussion.resolved):this.note.resolved},resolveButtonTitle(){return this.discussionResolved?Object(s.a)("Unresolve thread"):Object(s.a)("Resolve thread")}},methods:{resolveHandler(e=!1){var t=this;if(this.note&&this.note.isDraft)return this.$emit("toggleResolveStatus");this.isResolving=!0;const i=this.discussionResolved||e,a=this.resolveAsThread;let r=a&&this.discussion?this.discussion.resolve_path:this.note.path+"/resolve";return this.discussionResolvePath&&(r=this.discussionResolvePath),this.toggleResolveNote({endpoint:r,isResolved:i,discussion:a}).then((function(){t.isResolving=!1})).catch((function(){t.isResolving=!1;const e=Object(s.a)("Something went wrong while resolving this discussion. Please try again.");Object(n.createAlert)({message:e,parent:t.$el})}))}}}},Gn8k:function(e,t,i){"use strict";var n=i("q/Yt"),s=i("uyVa");t.a=function(e){const t=new s.a(Object(n.a)());t.fetch(),Object(n.f)(t,e)}},Gtn5:function(e,t,i){"use strict";i.d(t,"f",(function(){return u})),i.d(t,"i",(function(){return p})),i.d(t,"a",(function(){return h})),i.d(t,"e",(function(){return m})),i.d(t,"d",(function(){return f})),i.d(t,"h",(function(){return g})),i.d(t,"j",(function(){return v})),i.d(t,"b",(function(){return b})),i.d(t,"c",(function(){return y})),i.d(t,"g",(function(){return k}));i("UezY"),i("z6RN"),i("hG7+"),i("aFm2"),i("R9qC"),i("B++/"),i("47t/");var n=i("BAGK"),s=i("SNRI"),a=i("0AwG"),r=i("WelT"),o=i("pIt4"),l=i("LlB7");function d(e,t){const i=t.filter((function(t){return t.file_hash===e.file_hash})),n=i.some((function(e){return[e.a_mode,e.b_mode].includes(o.q)}));return i.length>1&&n&&{replaced:e.b_mode===o.o,wasSymbolic:e.a_mode===o.q,isSymbolic:e.b_mode===o.q,wasReal:![o.q,o.o].includes(e.a_mode),isReal:![o.q,o.o].includes(e.b_mode)}}function c(e){const t=e.viewer||{};return{automaticallyCollapsed:t.automaticallyCollapsed||t.collapsed||!1,manuallyCollapsed:null,forceOpen:!1}}function u(e){var t;return(null==e||null===(t=e.viewer)||void 0===t?void 0:t.name)===n.z.not_diffable}function p({file:e,allFiles:t,meta:i=!1,index:n=-1}){var s;const a={brokenSymlink:d(e,t),hasCommentForm:!1,discussions:e.discussions||[],drafts:[],viewer:{...e.viewer,...c(e)}};return!i&&null!==(s=e.blob)&&void 0!==s&&s.id&&e.load_collapsed_diff_url&&(a.id=function(e){var t;const{namespace:i,project:n,id:s}=Object(l.b)({endpoint:e.load_collapsed_diff_url});return Object(r.a)({seeds:[i,n,s,e.file_identifier_hash,null===(t=e.blob)||void 0===t?void 0:t.id]})[0]}(e)),n>=0&&Number(n)===n&&(a.order=n),Object.assign(e,a)}function h(e){var t;return"boolean"==typeof(null==e||null===(t=e.viewer)||void 0===t?void 0:t.manuallyCollapsed)?o.p:o.n}function m(e){var t,i;const n=h(e);return{[o.n]:(null==e||null===(t=e.viewer)||void 0===t?void 0:t.automaticallyCollapsed)||!1,[o.p]:null==e||null===(i=e.viewer)||void 0===i?void 0:i.manuallyCollapsed}[n]}function f(e){return e.content_sha?Object(a.E)(String(e.content_sha)):null}function g({fileA:e,fileB:t,mode:i="universal"}={}){return({universal:function(e,t){return!(null==e||!e.id||null==t||!t.id)&&e.id===t.id},mr:function(e,t){return!(null==e||!e.file_identifier_hash||null==t||!t.file_identifier_hash)&&e.file_identifier_hash===t.file_identifier_hash}}[i]||function(){return!1})(e,t)}function v(e){let t=!1,i="",n="",a="",r=0,o=0;return e&&(r=Object(s.b)(e.old_size,e.new_size),o=e.new_size-e.old_size,n=o>=0?"+":"",a=`${n}${Object(s.f)(o)} (${n}${r}%)`,t=!0,o>0?i="gl-text-success":o<0&&(i="gl-text-danger")),{changed:o,text:a,percent:r,classes:i,sign:n,valid:t}}function b(e,t){if(0===t||!e[t+1])return-1;const i=e[t-1],n=e[t+1];return Number((n.left||n).new_line)-Number((i.left||i).new_line)}function y(e,t){return e.find((function(i,n){if(!i.meta_data)return!1;const s=e[n-1];return s?s.new_line<t&&t<=i.meta_data.new_pos:t<=i.meta_data.new_pos}))||e[e.length-1]}function k(e,t,i){return e.some((function(e){return e.old_line===t&&e.new_line===i}))}},GuNs:function(e,t,i){"use strict";i.d(t,"n",(function(){return a})),i.d(t,"o",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"e",(function(){return d})),i.d(t,"q",(function(){return c})),i.d(t,"p",(function(){return u})),i.d(t,"m",(function(){return p})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return m})),i.d(t,"g",(function(){return f})),i.d(t,"a",(function(){return g})),i.d(t,"i",(function(){return v})),i.d(t,"j",(function(){return b})),i.d(t,"h",(function(){return y})),i.d(t,"k",(function(){return k})),i.d(t,"l",(function(){return w}));var n=i("/lV4"),s=i("AxUD");const a={BLOCKS:"blocks",IS_BLOCKED_BY:"is_blocked_by",RELATES_TO:"relates_to"},r={[a.RELATES_TO]:Object(n.a)("Relates to"),[a.BLOCKS]:Object(n.a)("Blocks"),[a.IS_BLOCKED_BY]:Object(n.a)("Is blocked by")},o={true:{[s.p]:Object(n.h)(Object(n.a)(" or %{emphasisStart}#issue ID%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1),[s.o]:Object(n.h)(Object(n.a)(" or %{emphasisStart}#ID%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1),[s.n]:Object(n.h)(Object(n.a)(" or %{emphasisStart}&epic ID%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1),[s.q]:Object(n.h)(Object(n.a)(" or %{emphasisStart}!merge request ID%{emphasisEnd}"),{emphasisStart:"<",emphasisEnd:">"},!1)},false:{[s.p]:"",[s.n]:"",[s.q]:Object(n.a)(" or references")}},l={[s.p]:Object(n.a)("Enter issue URL"),[s.o]:Object(n.a)("Enter URL"),[s.n]:Object(n.a)("Enter epic URL"),[s.q]:Object(n.a)("Enter merge request URLs")},d={[s.p]:Object(n.a)("Enter confidential issue URL"),[s.n]:Object(n.a)("Enter confidential epic URL"),[s.q]:Object(n.a)("Enter merge request URLs")},c={[s.p]:Object(n.a)("An error occurred while removing issues."),[s.n]:Object(n.a)("An error occurred while removing epics.")},u={[s.p]:Object(n.a)("We could not determine the path to remove the issue"),[s.n]:Object(n.a)("We could not determine the path to remove the epic")},p={NOT_FOUND:"not_found",MAX_NUMBER_OF_CHILD_EPICS:"conflict"},h={[s.p]:Object(n.a)("Issue cannot be found."),[s.n]:Object(n.a)("Epic cannot be found.")},m={[p.MAX_NUMBER_OF_CHILD_EPICS]:Object(n.a)("This epic already has the maximum number of child epics.")},f={[s.p]:"issues",[s.o]:"issues",[s.n]:"epic"},g={Epic:"&",Issue:"#"},v={[s.p]:Object(n.a)("Linked items"),[s.o]:Object(n.a)("Linked incidents or issues"),[s.n]:Object(n.a)("Linked epics")},b={[s.p]:Object(n.a)("Learn more about linking issues"),[s.o]:Object(n.a)("Learn more about linking issues and incidents"),[s.n]:Object(n.a)("Learn more about linking epics")},y={[s.p]:Object(n.a)("Add a related issue"),[s.n]:Object(n.a)("Add a related epic")},k={[s.p]:Object(n.a)("The current issue"),[s.o]:Object(n.a)("The current incident"),[s.n]:Object(n.a)("The current epic")},w={[s.p]:Object(n.a)("the following issues"),[s.o]:Object(n.a)("the following incidents or issues"),[s.n]:Object(n.a)("the following epics")}},GwXZ:function(e,t,i){"use strict";var n=i("Z0DX"),s=i.n(n),a=(i("B++/"),i("z6RN"),i("47t/"),i("UezY"),i("hG7+"),i("v2fZ"),i("dsWN")),r=i("jlnU"),o=i("O6Bj"),l=i("FxFN"),d=i("d08M"),c=i("pgS/"),u=i("7F3p"),p=i("JtyA"),h=i("VcEk"),m=i.n(h),f=i("uboF"),g=i.n(f),v=i("cLuZ"),b=i.n(v),y=i("2zC5"),k=i.n(y),w=i("N8jz"),S=i.n(w),_=i("enyH"),I=i("UgQf"),T=i("FYTc"),O=i("4lAS"),C=i("qLpH"),x=i("/lV4"),j=i("NmEs"),E=i("JTix"),D=i("0ENF"),N=i("5c3i"),A=i("ejAS"),P={name:"WorkItemDesignReplyForm",i18n:{primaryBtn:Object(x.g)("DesignManagement|Discard changes"),cancelBtnCreate:Object(x.g)("DesignManagement|Continue creating"),cancelBtnUpdate:Object(x.g)("DesignManagement|Continue editing"),cancelCreate:Object(x.g)("DesignManagement|Are you sure you want to cancel creating this comment?"),cancelUpdate:Object(x.g)("DesignManagement|Are you sure you want to cancel editing this comment?"),newCommentButton:Object(x.g)("DesignManagement|Comment"),updateCommentButton:Object(x.g)("DesignManagement|Save comment")},markdownDocsPath:Object(C.a)("user/markdown"),components:{MarkdownEditor:E.a,GlButton:O.a,GlAlert:a.a},inject:["fullPath"],props:{designNoteMutation:{type:Object,required:!0},mutationVariables:{type:Object,required:!1,default:null},markdownPreviewPath:{type:String,required:!1,default:""},isNewComment:{type:Boolean,required:!1,default:!0},isDiscussion:{type:Boolean,required:!1,default:!0},noteableId:{type:String,required:!0},discussionId:{type:String,required:!1,default:"new"},value:{type:String,required:!1,default:""}},data(){return{noteText:this.value,saving:!1,noteUpdateDirty:!1,isLoggedIn:Object(j.A)(),errorMessage:"",formFieldProps:{id:"design-reply",name:"design-reply","aria-label":Object(x.a)("Description"),placeholder:Object(x.a)("Write a commentâ¦"),"data-testid":"note-textarea",class:"note-textarea js-gfm-input js-autosize markdown-area"}}},computed:{hasValue(){return this.noteText.length>0},buttonText(){return this.isNewComment?this.$options.i18n.newCommentButton:this.$options.i18n.updateCommentButton},shortDiscussionId(){return Object(l.f)(this.discussionId)?Object(l.e)(this.discussionId):this.discussionId},autosaveKey(){return this.isLoggedIn?[Object(x.g)("DesignManagement|Discussion"),Object(l.e)(this.noteableId),this.shortDiscussionId].join("/"):""},hasDirtyFreshComment(){return this.hasValue&&this.noteUpdateDirty&&this.noteText!==this.value}},beforeDestroy(){var e=this;this.$nextTick((function(){D.a.$emit(N.b,e.autosaveKey)}))},methods:{handleInput(){this.saving||(this.noteUpdateDirty=!0)},async submitForm(){if(this.hasValue){this.saving=!0;try{await this.$apollo.mutate({mutation:this.designNoteMutation,variables:{input:{...this.mutationVariables,body:this.noteText}},update:this.afterNoteMutation})}catch(e){this.errorMessage=this.getErrorMessage(),u.b(e)}finally{this.saving=!1}}},afterNoteMutation(e,{data:t}){this.$emit("note-submit-complete",{store:e,data:t})},getErrorMessage(){return this.isNewComment?this.isDiscussion?T.c:T.b:this.isDiscussion?T.r:T.s},cancelComment(){this.hasDirtyFreshComment?this.confirmCancelCommentModal():(this.$emit("cancel-form"),this.noteUpdateDirty=!1)},async confirmCancelCommentModal(){const e=this.isNewComment?this.$options.i18n.cancelCreate:this.$options.i18n.cancelUpdate,t=this.isNewComment?this.$options.i18n.cancelBtnCreate:this.$options.i18n.cancelBtnUpdate;await Object(A.a)(e,{primaryBtnText:this.$options.i18n.primaryBtn,cancelBtnText:t,primaryBtnVariant:"danger"})&&(this.$emit("cancel-form"),D.a.$emit(N.b,this.autosaveKey))}}},F=i("tBpV"),L=Object(F.a)(P,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"new-note common-note-form",on:{submit:function(e){e.preventDefault()}}},[e.errorMessage?t("div",{staticClass:"gl-pb-3"},[t("gl-alert",{attrs:{variant:"danger"},on:{dismiss:function(t){e.errorMessage=null}}},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")])],1):e._e(),e._v(" "),t("markdown-editor",{attrs:{autofocus:"","markdown-docs-path":e.$options.markdownDocsPath,"render-markdown-path":e.markdownPreviewPath,"enable-autocomplete":!0,"supports-quick-actions":!1,"form-field-props":e.formFieldProps},on:{input:e.handleInput,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.submitForm.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.submitForm.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.cancelComment.apply(null,arguments))}]},model:{value:e.noteText,callback:function(t){e.noteText=t},expression:"noteText"}}),e._v(" "),e._t("resolve-checkbox"),e._v(" "),t("div",{staticClass:"note-form-actions !gl-mt-4 gl-flex"},[t("gl-button",{ref:"submitButton",staticClass:"gl-mr-3 !gl-w-auto",attrs:{disabled:!e.hasValue,loading:e.saving,category:"primary",variant:"confirm",type:"submit","data-track-action":"click_button"},on:{click:e.submitForm}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")]),e._v(" "),t("gl-button",{ref:"cancelButton",staticClass:"!gl-w-auto",attrs:{variant:"default",category:"primary"},on:{click:e.cancelComment}},[e._v(e._s(e.__("Cancel")))])],1)],2)}),[],!1,null,null,null).exports,R=i("h7kv"),q=i.n(R),$=(i("3UXl"),i("iyoE"),i("FkSe")),B=i("s1D3"),M=i("0ch9"),V=i("lnTC"),U={components:{GlIcon:B.a},props:{image:{type:String,required:!1,default:""},name:{type:String,required:!1,default:""},scale:{type:Number,required:!1,default:1}},data:()=>({baseImageSize:null,imageStyle:null,imageError:!1}),watch:{scale(e){this.zoom(e)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted(){var e=this;this.image||this.onImgLoad(),this.resizeThrottled=q()((function(){e.setBaseImageSize()}),400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad(){requestIdleCallback(this.setBaseImageSize,{timeout:1e3}),requestIdleCallback(this.setImageNaturalScale,{timeout:1e3}),Object(V.a)({measures:[{name:M.a,start:M.b}]})},onImgError(){this.imageError=!0},setBaseImageSize(){const{contentImg:e}=this.$refs;e&&(0===e.offsetHeight||0===e.offsetWidth?this.baseImageSize={height:e.naturalHeight,width:e.naturalWidth}:this.baseImageSize={height:e.offsetHeight,width:e.offsetWidth},this.onResize({width:this.baseImageSize.width,height:this.baseImageSize.height}))},setImageNaturalScale(){const{contentImg:e}=this.$refs;if(!e)return;const{naturalHeight:t,naturalWidth:i}=e;if(0===t||0===i)return;const{height:n,width:s}=this.baseImageSize;this.imageStyle={width:s+"px",height:n+"px"},this.$parent.$emit("setMaxScale",Math.round((n+s)/(t+i)*100)/100)},onResize({width:e,height:t}){this.$emit("resize",{width:e,height:t})},zoom(e){var t=this;if(1===e)return this.imageStyle=null,void this.$nextTick((function(){t.setBaseImageSize()}));const i=this.baseImageSize.width*e,n=this.baseImageSize.height*e;this.imageStyle={width:i+"px",height:n+"px"},this.onResize({width:i,height:n})}}},G=Object(F.a)(U,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"js-design-image gl-mx-auto gl-my-auto"},[e.imageError?t("gl-icon",{attrs:{name:"media-broken",size:48,variant:"disabled"}}):e._e(),e._v(" "),t("img",{directives:[{name:"show",rawName:"v-show",value:!e.imageError,expression:"!imageError"}],ref:"contentImg",staticClass:"gl-border gl-max-h-full",class:{"img-fluid":!e.imageStyle},style:e.imageStyle,attrs:{src:e.image,alt:e.name},on:{error:e.onImgError,load:e.onImgLoad}})],1)}),[],!1,null,null,null).exports,W=(i("aFm2"),i("R9qC"),i("Vjau")),H=i("Ice9"),z=i.n(H),K=i("gGL6"),Q=i.n(K),Y={name:"DesignOverlay",components:{DesignNotePin:W.a},props:{dimensions:{type:Object,required:!0},position:{type:Object,required:!0},notes:{type:Array,required:!1,default:function(){return[]}},currentCommentForm:{type:Object,required:!1,default:null},disableCommenting:{type:Boolean,required:!1,default:!1},resolvedDiscussionsExpanded:{type:Boolean,required:!0},disableNotes:{type:Boolean,required:!1,default:!1}},apollo:{activeDesignDiscussion:{query:Q.a}},data:()=>({movingNoteNewPosition:null,movingNoteStartPosition:null,activeDesignDiscussion:{}}),computed:{overlayStyle(){return{cursor:this.disableCommenting?"unset":void 0,width:this.dimensions.width+"px",height:this.dimensions.height+"px",...this.position}},isMovingCurrentComment(){return Boolean(this.movingNoteStartPosition&&!this.movingNoteStartPosition.noteId)},currentCommentPositionStyle(){return this.isMovingCurrentComment&&this.movingNoteNewPosition?this.getNotePositionStyle(this.movingNoteNewPosition):this.getNotePositionStyle(this.currentCommentForm)},visibleNotes(){return this.resolvedDiscussionsExpanded?this.notes:this.notes.filter((function(e){return!e.resolved}))}},methods:{setNewNoteCoordinates({x:e,y:t}){this.$emit("openCommentForm",{x:e,y:t})},getNoteRelativePosition(e){const{x:t,y:i,width:n,height:s}=e,a=this.dimensions.width/n,r=this.dimensions.height/s;return{left:Math.round(t*a),top:Math.round(i*r)}},getNotePositionStyle(e){const{left:t,top:i}=this.getNoteRelativePosition(e);return{left:t+"px",top:i+"px"}},getMovingNotePositionDelta(e){let t=0,i=0;if(this.movingNoteStartPosition){const{clientX:n,clientY:s}=this.movingNoteStartPosition;t=e.clientX-n,i=e.clientY-s}return{deltaX:t,deltaY:i}},isMovingNote(e){var t;const i=null===(t=this.movingNoteStartPosition)||void 0===t?void 0:t.noteId;return Boolean(i&&i===e)},canMoveNote(e){const{userPermissions:t}=e,{repositionNote:i}=t||{};return Boolean(i)},isPositionInOverlay(e){const{top:t,left:i}=this.getNoteRelativePosition(e),{height:n,width:s}=this.dimensions;return t>=0&&t<=n&&i>=0&&i<=s},onNewNoteMove(e){if(!this.isMovingCurrentComment)return;const{deltaX:t,deltaY:i}=this.getMovingNotePositionDelta(e),n={x:this.currentCommentForm.x+t,y:this.currentCommentForm.y+i,width:this.dimensions.width,height:this.dimensions.height};this.isPositionInOverlay(n)?this.movingNoteNewPosition=n:this.onNewNoteMouseup()},onExistingNoteMove(e){var t=this;const i=this.notes.find((function({id:e}){return e===t.movingNoteStartPosition.noteId}));if(!i||!this.canMoveNote(i))return;const{position:n}=i,{width:s,height:a}=n,r=this.dimensions.width/s,o=this.dimensions.height/a,{deltaX:l,deltaY:d}=this.getMovingNotePositionDelta(e),c={x:n.x*r+l,y:n.y*o+d,width:this.dimensions.width,height:this.dimensions.height};this.isPositionInOverlay(c)?this.movingNoteNewPosition=c:this.onExistingNoteMouseup()},onNewNoteMouseup(){if(!this.movingNoteNewPosition)return;const{x:e,y:t}=this.movingNoteNewPosition;this.setNewNoteCoordinates({x:e,y:t})},onExistingNoteMouseup(e){if(!this.movingNoteStartPosition||!this.movingNoteNewPosition)return this.updateActiveDesignDiscussion(e.id),void this.$emit("closeCommentForm");const{x:t,y:i}=this.movingNoteNewPosition;this.$emit("moveNote",{noteId:this.movingNoteStartPosition.noteId,discussionId:this.movingNoteStartPosition.discussionId,coordinates:{x:t,y:i}})},onNoteMousedown({clientX:e,clientY:t},i){this.movingNoteStartPosition={noteId:null==i?void 0:i.id,discussionId:null==i?void 0:i.discussion.id,clientX:e,clientY:t}},onOverlayMousemove(e){this.movingNoteStartPosition&&(this.isMovingCurrentComment?this.onNewNoteMove(e):this.onExistingNoteMove(e))},onNoteMouseup(e){this.movingNoteStartPosition&&(this.isMovingCurrentComment?this.onNewNoteMouseup():this.onExistingNoteMouseup(e),this.movingNoteStartPosition=null,this.movingNoteNewPosition=null)},onAddCommentMouseup({offsetX:e,offsetY:t}){this.disableCommenting||(this.activeDesignDiscussion.id&&this.updateActiveDesignDiscussion(),this.setNewNoteCoordinates({x:e,y:t}))},updateActiveDesignDiscussion(e){this.$apollo.mutate({mutation:z.a,variables:{id:e,source:T.a.pin}})},isNoteInactive(e){var t=this;const i=e.discussion.notes.nodes||[];return this.activeDesignDiscussion.id&&!i.some((function({id:e}){return e===t.activeDesignDiscussion.id}))}},i18n:{newCommentButtonLabel:Object(x.a)("Add comment to design")}},J=Object(F.a)(Y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"frame gl-absolute gl-left-0 gl-top-0",style:e.overlayStyle,attrs:{"data-testid":"design-overlay"},on:{mousemove:e.onOverlayMousemove,mouseleave:e.onNoteMouseup}},[t("button",{directives:[{name:"show",rawName:"v-show",value:!e.disableCommenting,expression:"!disableCommenting"}],staticClass:"gl-absolute gl-left-0 gl-top-0 gl-h-full gl-w-full gl-border-0 !gl-bg-transparent gl-p-0 gl-text-subtle !gl-shadow-none gl-outline-none hover:gl-cursor-crosshair",attrs:{type:"button",role:"button","aria-label":e.$options.i18n.newCommentButtonLabel,"data-testid":"design-image-button"},on:{mouseup:e.onAddCommentMouseup}}),e._v(" "),e.disableNotes?e._e():[e._l(e.visibleNotes,(function(i){return t("design-note-pin",{key:i.id,attrs:{label:i.index,position:e.isMovingNote(i.id)&&e.movingNoteNewPosition?e.getNotePositionStyle(e.movingNoteNewPosition):e.getNotePositionStyle(i.position),"is-inactive":e.isNoteInactive(i),"is-resolved":i.resolved,"is-on-image":"","data-testid":"note-pin"},on:{mousedown:function(t){return t.stopPropagation(),e.onNoteMousedown(t,i)},mouseup:function(t){return t.stopPropagation(),e.onNoteMouseup(i)}}})})),e._v(" "),e.currentCommentForm?t("design-note-pin",{attrs:{position:e.currentCommentPositionStyle,"data-testid":"comment-badge"},on:{mousedown:function(t){return t.stopPropagation(),e.onNoteMousedown.apply(null,arguments)},mouseup:function(t){return t.stopPropagation(),e.onNoteMouseup.apply(null,arguments)}}}):e._e()]],2)}),[],!1,null,null,null).exports;var X={components:{DesignImage:G,DesignOverlay:J,GlLoadingIcon:$.a},props:{image:{type:String,required:!1,default:""},imageName:{type:String,required:!1,default:""},discussions:{type:Array,required:!0},isAnnotating:{type:Boolean,required:!1,default:!1},scale:{type:Number,required:!1,default:1},resolvedDiscussionsExpanded:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0},disableCommenting:{type:Boolean,required:!0},isSidebarOpen:{type:Boolean,required:!1,default:!0}},data:()=>({overlayDimensions:null,overlayPosition:null,currentAnnotationPosition:null,zoomFocalPoint:{x:0,y:0,width:0,height:0},initialLoad:!0,lastDragPosition:null,isDraggingDesign:!1,isLoggedIn:Object(j.A)()}),computed:{discussionStartingNotes(){return this.discussions.map((function(e){return{...e.notes[0],index:e.index}}))},currentCommentForm(){return this.isAnnotating&&this.currentAnnotationPosition||null},presentationStyle(){return{cursor:this.isDraggingDesign?"grabbing":void 0}}},beforeDestroy(){const{presentationViewport:e}=this.$refs;e&&e.removeEventListener("scroll",this.scrollThrottled,!1)},mounted(){var e=this;const{presentationViewport:t}=this.$refs;t&&(this.scrollThrottled=q()((function(){e.shiftZoomFocalPoint()}),400),t.addEventListener("scroll",this.scrollThrottled,!1))},methods:{syncCurrentAnnotationPosition(){if(!this.currentAnnotationPosition)return;const e=this.overlayDimensions.width/this.currentAnnotationPosition.width,t=this.overlayDimensions.height/this.currentAnnotationPosition.height,i=this.currentAnnotationPosition.x*e,n=this.currentAnnotationPosition.y*t;this.currentAnnotationPosition=this.getAnnotationPosition({x:i,y:n})},setOverlayDimensions(e){this.overlayDimensions=e,this.syncCurrentAnnotationPosition()},setOverlayPosition(){this.overlayDimensions||(this.overlayPosition={});const{presentationViewport:e}=this.$refs;e&&(this.overlayPosition={left:`calc(50% - ${this.overlayDimensions.width/2}px)`,top:`calc(50% - ${this.overlayDimensions.height/2}px)`},this.overlayDimensions.width>e.offsetWidth&&(this.overlayPosition.left="0"),this.overlayDimensions.height>e.offsetHeight&&(this.overlayPosition.top="0"))},getViewportCenter(){const{presentationViewport:e}=this.$refs;if(!e)return{};const t=e.scrollWidth-e.offsetWidth,i=e.scrollHeight-e.offsetHeight,n=e.scrollLeft>0?e.scrollLeft/t:0,s=e.scrollTop>0?e.scrollTop/i:0,a=(e.scrollWidth-e.offsetWidth-0)*n,r=(e.scrollHeight-e.offsetHeight-0)*s;return{x:e.offsetWidth/2+a,y:e.offsetHeight/2+r}},scrollToFocalPoint(){const{presentationViewport:e}=this.$refs;if(!e)return;const t=this.zoomFocalPoint.x-e.offsetWidth/2,i=this.zoomFocalPoint.y-e.offsetHeight/2;e.scrollTo(t,i)},scaleZoomFocalPoint(){const{x:e,y:t,width:i,height:n}=this.zoomFocalPoint,s=this.overlayDimensions.width/i,a=this.overlayDimensions.height/n;this.zoomFocalPoint={x:Math.round(e*s*100)/100,y:Math.round(t*a*100)/100,...this.overlayDimensions}},shiftZoomFocalPoint(){this.zoomFocalPoint={...this.getViewportCenter(),...this.overlayDimensions}},onImageResize(e){var t=this;this.setOverlayDimensions(e),this.setOverlayPosition(),this.$nextTick((function(){t.initialLoad?(t.shiftZoomFocalPoint(),t.initialLoad=!1):(t.scaleZoomFocalPoint(),t.scrollToFocalPoint())}))},getAnnotationPosition(e){const{x:t,y:i}=e,{width:n,height:s}=this.overlayDimensions;return{x:Math.round(t),y:Math.round(i),width:Math.round(n),height:Math.round(s)}},openCommentForm(e){this.currentAnnotationPosition=this.getAnnotationPosition(e),this.$emit("openCommentForm",this.currentAnnotationPosition)},closeCommentForm(){this.currentAnnotationPosition=null,this.$emit("closeCommentForm")},moveNote({noteId:e,discussionId:t,coordinates:i}){const n=this.getAnnotationPosition(i);this.$emit("moveNote",{noteId:e,discussionId:t,position:n})},onPresentationMousedown({clientX:e,clientY:t}){this.isDesignOverflowing()&&(this.lastDragPosition={x:e,y:t})},getDragDelta(e,t){return{deltaX:this.lastDragPosition.x-e,deltaY:this.lastDragPosition.y-t}},exceedsDragThreshold(e,t){const{deltaX:i,deltaY:n}=this.getDragDelta(e,t);return Math.abs(i)>2||Math.abs(n)>2},shouldDragDesign(e,t){return this.lastDragPosition&&(this.isDraggingDesign||this.exceedsDragThreshold(e,t))},onPresentationMousemove({clientX:e,clientY:t}){const{presentationViewport:i}=this.$refs;if(!i||!this.shouldDragDesign(e,t))return;this.isDraggingDesign=!0;const{scrollLeft:n,scrollTop:s}=i,{deltaX:a,deltaY:r}=this.getDragDelta(e,t);i.scrollTo(n+a,s+r),this.lastDragPosition={x:e,y:t}},onPresentationMouseup(){this.lastDragPosition=null,this.isDraggingDesign=!1},isDesignOverflowing(){const{presentationViewport:e}=this.$refs;return!!e&&(e.scrollWidth>e.offsetWidth||e.scrollHeight>e.offsetHeight)}}},Z=Object(F.a)(X,(function(){var e=this,t=e._self._c;return t("div",{ref:"presentationViewport",staticClass:"overflow-auto gl-relative gl-h-full gl-w-full gl-p-5",style:e.presentationStyle,attrs:{"data-testid":"presentation-viewport"},on:{mousedown:e.onPresentationMousedown,mousemove:e.onPresentationMousemove,mouseup:e.onPresentationMouseup,mouseleave:e.onPresentationMouseup,touchstart:e.onPresentationMousedown,touchmove:e.onPresentationMousemove,touchend:e.onPresentationMouseup,touchcancel:e.onPresentationMouseup}},[e.isLoading?t("gl-loading-icon",{staticClass:"gl-flex gl-h-full gl-items-center",attrs:{size:"xl"}}):t("div",{staticClass:"gl-relative gl-flex gl-h-full gl-w-full gl-items-center"},[e.image?t("design-image",{attrs:{image:e.image,name:e.imageName,scale:e.scale},on:{resize:e.onImageResize}}):e._e(),e._v(" "),e.overlayDimensions&&e.overlayPosition?t("design-overlay",{attrs:{dimensions:e.overlayDimensions,position:e.overlayPosition,notes:e.discussionStartingNotes,"current-comment-form":e.currentCommentForm,"disable-commenting":!e.isLoggedIn||e.isDraggingDesign||e.disableCommenting,"disable-notes":!e.isSidebarOpen,"resolved-discussions-expanded":e.resolvedDiscussionsExpanded},on:{openCommentForm:e.openCommentForm,closeCommentForm:e.closeCommentForm,moveNote:e.moveNote}}):e._e()],1)],1)}),[],!1,null,null,null).exports,ee=i("4+8U"),te=i("z1xw"),ie=i("HZAj"),ne=i("AuBS"),se=i("Bmfz"),ae=i("eTWE"),re={components:{GlIcon:B.a},ROUTES:p.cb},oe=Object(F.a)(re,(function(){var e=this._self._c;return e("div",{staticClass:"gl-border-l"},[e("router-link",{staticClass:"btn btn-icon gl-mx-3 gl-border-0 gl-px-3",attrs:{to:{name:this.$options.ROUTES.workItem,query:this.$route.query},"aria-label":this.s__("DesignManagement|Go back to designs")}},[e("gl-icon",{attrs:{name:"close"}})],1)],1)}),[],!1,null,null,null).exports,le=i("1fc5"),de={i18n:{nextButton:Object(x.g)("DesignManagement|Go to next design"),previousButton:Object(x.g)("DesignManagement|Go to previous design")},components:{GlButton:O.a,GlButtonGroup:le.a},directives:{GlTooltip:te.a},props:{filename:{type:String,required:!0},allDesigns:{type:Array,required:!1,default:function(){return[]}}},computed:{designsCount(){return this.allDesigns.length},currentIndex(){var e=this;return this.allDesigns.findIndex((function(t){return t.filename===e.filename}))},paginationText(){return Object(x.h)(Object(x.g)("DesignManagement|of %{designs_count}"),{designs_count:this.designsCount})},previousDesign(){return 0===this.currentIndex?null:this.allDesigns[this.currentIndex-1]},nextDesign(){return this.currentIndex+1===this.designsCount?null:this.allDesigns[this.currentIndex+1]}},mounted(){var e=this;o.b.bind(Object(d.Ab)(d.O),(function(){return e.navigateToDesign(e.previousDesign)})),o.b.bind(Object(d.Ab)(d.N),(function(){return e.navigateToDesign(e.nextDesign)}))},beforeDestroy(){o.b.unbind(Object(d.Ab)(d.O)),o.b.unbind(Object(d.Ab)(d.N))},methods:{navigateToDesign(e){e&&this.$router.push({name:p.cb.design,params:{id:e.filename},query:this.$route.query})}}},ce=Object(F.a)(de,(function(){var e=this,t=e._self._c;return e.designsCount?t("div",{staticClass:"gl-flex gl-shrink-0 gl-items-center"},[t("div",{staticClass:"gl-mr-2 gl-w-5 gl-text-right"},[e._v(e._s(e.currentIndex+1))]),e._v(" "),t("div",[e._v(e._s(e.paginationText))]),e._v(" "),t("gl-button-group",{staticClass:"gl-ml-3"},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"js-previous-design",attrs:{disabled:!e.previousDesign,title:e.$options.i18n.previousButton,"aria-label":e.$options.i18n.previousButton,icon:"chevron-lg-left"},on:{click:function(t){return e.navigateToDesign(e.previousDesign)}}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"js-next-design",attrs:{disabled:!e.nextDesign,title:e.$options.i18n.nextButton,"aria-label":e.$options.i18n.nextButton,icon:"chevron-lg-right"},on:{click:function(t){return e.navigateToDesign(e.nextDesign)}}})],1)],1):e._e()}),[],!1,null,null,null).exports,ue={i18n:{downloadButtonLabel:Object(x.g)("DesignManagement|Download design"),hideCommentsButtonLabel:Object(x.g)("DesignManagement|Hide comments"),showCommentsButtonLabel:Object(x.g)("DesignManagement|Show comments"),archiveButtonLabel:Object(x.g)("DesignManagement|Archive design")},isLoggedIn:Object(j.A)(),components:{GlButton:O.a,GlIcon:B.a,GlSkeletonLoader:ee.a,ImportedBadge:ne.a,CloseButton:oe,DesignNavigation:ce,TodosToggle:se.a,ArchiveDesignButton:ae.a},directives:{GlTooltip:te.a},props:{workItemTitle:{type:String,required:!0},design:{type:Object,required:!0},designFilename:{type:String,required:!0},isLoading:{type:Boolean,required:!0},isLatestVersion:{type:Boolean,required:!0},isSidebarOpen:{type:Boolean,required:!0},allDesigns:{type:Array,required:!1,default:function(){return[]}},currentUserDesignTodos:{type:Array,required:!1,default:function(){return[]}}},computed:{toggleCommentsButtonLabel(){return this.isSidebarOpen?this.$options.i18n.hideCommentsButtonLabel:this.$options.i18n.showCommentsButtonLabel}},TYPE_DESIGN:ie.e},pe=Object(F.a)(ue,(function(){var e=this,t=e._self._c;return t("header",{staticClass:"js-design-header gl-border-b gl-flex gl-max-w-full gl-flex-col gl-justify-between gl-bg-white gl-py-4 gl-pl-5 md:gl-flex-row md:gl-items-center"},[t("div",{staticClass:"gl-mb-3 gl-flex gl-flex-row gl-items-center gl-overflow-hidden md:gl-mb-0"},[t("div",{staticClass:"gl-mr-3 gl-flex gl-overflow-hidden"},[e.isLoading?t("gl-skeleton-loader",{attrs:{lines:1}}):t("h2",{staticClass:"gl-m-0 gl-flex gl-items-center gl-overflow-hidden gl-text-base"},[t("span",{staticClass:"gl-truncate gl-text-heading gl-no-underline"},[e._v("\n          "+e._s(e.workItemTitle)+"\n        ")]),e._v(" "),t("gl-icon",{staticClass:"gl-shrink-0",attrs:{name:"chevron-right",variant:"disabled"}}),e._v(" "),t("span",{staticClass:"gl-truncate gl-font-normal"},[e._v(e._s(e.design.filename))]),e._v(" "),e.design.imported?t("imported-badge",{staticClass:"gl-ml-2",attrs:{"importable-type":e.$options.TYPE_DESIGN}}):e._e()],1)],1),e._v(" "),t("close-button",{staticClass:"gl-ml-auto md:gl-hidden"})],1),e._v(" "),!e.isLoading&&e.design.id?t("div",{staticClass:"gl-mr-5 gl-flex gl-shrink-0 md:gl-ml-auto md:gl-flex-row"},[e.$options.isLoggedIn?t("todos-toggle",{attrs:{"item-id":e.design.id,"current-user-todos":e.currentUserDesignTodos,"todos-button-type":"tertiary"},on:{todosUpdated:function(t){return e.$emit("todosUpdated",t)}}}):e._e(),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-ml-2",attrs:{category:"tertiary",href:e.design.image,icon:"download",title:e.$options.i18n.downloadButtonLabel,"aria-label":e.$options.i18n.downloadButtonLabel}}),e._v(" "),e.isLatestVersion?t("archive-design-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-ml-2",attrs:{"button-size":"medium",title:e.$options.i18n.archiveButtonLabel,"aria-label":e.$options.i18n.archiveButtonLabel,"button-icon":"archive","button-category":"tertiary"},on:{"archive-selected-designs":function(t){return e.$emit("archive-design")}}}):e._e(),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-ml-2 gl-mr-5",attrs:{category:"tertiary",icon:"comments",title:e.toggleCommentsButtonLabel,"aria-label":e.toggleCommentsButtonLabel,"data-testid":"toggle-design-sidebar"},on:{click:function(t){return e.$emit("toggle-sidebar")}}}),e._v(" "),t("design-navigation",{staticClass:"gl-ml-auto",attrs:{filename:e.designFilename,"all-designs":e.allDesigns}})],1):e._e(),e._v(" "),t("close-button",{staticClass:"gl-hidden md:gl-flex"})],1)}),[],!1,null,null,null).exports,he=i("UKdF"),me=i("nbHk"),fe=i("dsLq"),ge=i("EvrX"),ve=i("vkYZ"),be=i("SeSR"),ye=i("MV2A"),ke=i("oz03"),we=i("Fsq/"),Se=i("3twG"),_e=i("4wgn"),Ie=i("Lysa"),Te=i.n(Ie),Oe=i("ivpE"),Ce=i.n(Oe),xe=i("1joW"),je=i.n(xe),Ee={components:{GlSprintf:i("30su").a,GlLink:ye.a},props:{registerPath:{type:String,required:!0},signInPath:{type:String,required:!0},isAddDiscussion:{type:Boolean,required:!1,default:!1}},computed:{signedOutText(){return this.isAddDiscussion?Object(x.a)("Please %{registerLinkStart}register%{registerLinkEnd} or %{signInLinkStart}sign in%{signInLinkEnd} to start a new discussion."):Object(x.a)("Please %{registerLinkStart}register%{registerLinkEnd} or %{signInLinkStart}sign in%{signInLinkEnd} to reply.")}}},De=Object(F.a)(Ee,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"disabled-comment !gl-border-none gl-text-center gl-text-subtle"},[t("gl-sprintf",{attrs:{message:e.signedOutText},scopedSlots:e._u([{key:"registerLink",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.registerPath}},[e._v(e._s(i))])]}},{key:"signInLink",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.signInPath}},[e._v(e._s(i))])]}}])})],1)}),[],!1,null,null,null).exports,Ne={name:"ReplyPlaceholder",components:{GlFormInput:i("PrLL").a},props:{placeholderText:{type:String,required:!1,default:Object(x.a)("Replyâ¦")},labelText:{type:String,required:!1,default:Object(x.a)("Reply to comment")}}},Ae=Object(F.a)(Ne,(function(){var e=this;return(0,e._self._c)("gl-form-input",{staticClass:"reply-placeholder-input-field js-discussion-reply-field-placeholder",attrs:{"data-testid":"discussion-reply-tab",placeholder:e.placeholderText,"aria-label":e.labelText},on:{focus:function(t){return e.$emit("focus")}}})}),[],!1,null,null,null).exports,Pe=i("Q33P"),Fe=i.n(Pe),Le=i("tbP8"),Re=i("mFhR"),qe=i("Bo17"),$e=i("b9Gi"),Be=i("Mp8J"),Me=i("NbhA"),Ve=i("YH60"),Ue=i("OgyL"),Ge=i("zOeY"),We=i.n(Ge),He=i("uAd4"),ze=i.n(He),Ke={i18n:{editCommentLabel:Object(x.a)("Edit comment"),moreActionsLabel:Object(x.a)("More actions"),deleteCommentText:Object(x.a)("Delete comment"),copyCommentLink:Object(x.a)("Copy link")},components:{AwardsList:Me.a,GlAvatar:Le.a,GlButton:O.a,GlAvatarLink:Re.a,GlLink:ye.a,GlDisclosureDropdown:qe.a,ImportedBadge:ne.a,TimeAgoTooltip:we.a,TimelineEntryItem:Ue.a,DesignReplyForm:L,EmojiPicker:Ve.default},directives:{GlTooltip:te.a,SafeHtml:Be.a},props:{note:{type:Object,required:!0},noteableId:{type:String,required:!0},designVariables:{type:Object,required:!0},isDiscussion:{type:Boolean,required:!1,default:!1},markdownPreviewPath:{type:String,required:!1,default:""}},data:()=>({isEditing:!1}),computed:{mutationVariables(){return{id:this.note.id}},author(){return this.note.author||{}},hasAuthor(){return!Fe()(this.author)},authorId(){return Object(l.e)(this.author.id)},noteAnchorId(){return Object(_.e)(this.note.id)},isImported(){return this.note.imported},currentUserId(){var e;return null===(e=window.gon)||void 0===e?void 0:e.current_user_id},currentUserFullName(){var e;return null===(e=window.gon)||void 0===e?void 0:e.current_user_fullname},canAwardEmoji(){return this.note.userPermissions.awardEmoji},adminPermissions(){return this.note.userPermissions.adminNote},hasPermissions(){return this.adminPermissions},awards(){return this.note.awardEmoji.nodes.map((function(e){return{...e,user:{...e.user,id:Object(l.e)(e.user.id)}}}))},dropdownItems(){var e=this;return[{text:this.$options.i18n.editCommentLabel,action:function(){e.isEditing=!0},extraAttrs:{class:"sm:!gl-hidden"}},{text:this.$options.i18n.copyCommentLink,action:function(){e.$toast.show(Object(x.a)("Link copied to clipboard."))},extraAttrs:{"data-clipboard-text":Object(Se.K)(window.location.href,"note_"+this.noteAnchorId)}},{text:this.$options.i18n.deleteCommentText,action:function(){e.$emit("delete-note",e.note)},extraAttrs:{class:["!gl-text-red-500",{"!gl-hidden":!this.hasPermissions}]}}]}},methods:{hideForm(){this.isEditing=!1},onDone({data:e}){this.hideForm(),Object(I.a)(e.updateNote)&&this.$emit("error",e.errors[0])},isEmojiPresentForCurrentUser(e){var t=this;return this.awards.findIndex((function(i){return i.name===e&&i.user.id===t.currentUserId}))>-1},getAwardEmojiNodes(e,t){var i=this;if(t){if(this.isEmojiPresentForCurrentUser(e))return this.note.awardEmoji.nodes;const t={name:e,__typename:"AwardEmoji",user:{id:Object(l.c)(_e.D,this.currentUserId),name:this.currentUserFullName,__typename:"UserCore"}};return[...this.note.awardEmoji.nodes,t]}return this.note.awardEmoji.nodes.filter((function(t){return!(t.name===e&&Object(l.e)(t.user.id)===i.currentUserId)}))},async handleAwardEmoji(e){var t=this;try{await this.$apollo.mutate({mutation:ze.a,variables:{name:e,awardableId:this.note.id},optimisticResponse:{awardEmojiToggle:{errors:[],toggledOn:!this.isEmojiPresentForCurrentUser(e)}},update:function(i,{data:{awardEmojiToggle:{toggledOn:n}}}){const s={query:m.a,variables:t.designVariables},a=i.readQuery(s),r=Object($e.b)(a,(function(i){const{awardEmoji:s}=i.designManagement.designAtVersion.design.discussions.nodes.find((function(e){return e.id===t.note.discussion.id})).notes.nodes.find((function(e){return e.id===t.note.id}));s.nodes=t.getAwardEmojiNodes(e,n)}));i.writeQuery({...s,data:r})}})}catch(e){u.b(e),this.$emit("error",T.e)}}},updateNoteMutation:We.a,TYPE_COMMENT:ie.d},Qe=Object(F.a)(Ke,(function(){var e=this,t=e._self._c;return t("timeline-entry-item",{staticClass:"design-note note-form",attrs:{id:"note_"+e.noteAnchorId}},[t("gl-avatar-link",{staticClass:"link-inherit-color js-user-link gl-float-left gl-mr-3",attrs:{href:e.author.webUrl,"data-user-id":e.authorId,"data-username":e.author.username}},[t("gl-avatar",{attrs:{size:32,src:e.author.avatarUrl,"entity-name":e.author.username,alt:e.author.username}})],1),e._v(" "),t("div",{staticClass:"gl-flex gl-justify-between"},[t("div",{staticClass:"gl-my-[6px]"},[e.hasAuthor?e._m(0):t("span",[e._v(e._s(e.__("A deleted user")))]),e._v(" "),t("span",{staticClass:"note-headline-light note-headline-meta"},[t("span",{staticClass:"system-note-message"},[e._t("default")],2),e._v(" "),t("gl-link",{staticClass:"note-timestamp system-note-separator link-inherit-color gl-inline-block gl-text-sm",attrs:{href:"#note_"+e.noteAnchorId}},[t("time-ago-tooltip",{attrs:{time:e.note.createdAt,"tooltip-placement":"bottom"}})],1),e._v(" "),e.isImported?t("imported-badge",{attrs:{"importable-type":e.$options.TYPE_COMMENT,size:"sm"}}):e._e()],1)],1),e._v(" "),t("div",{staticClass:"gl-flex gl-items-start"},[e._t("resolve-discussion"),e._v(" "),e.canAwardEmoji?t("emoji-picker",{attrs:{"toggle-class":"add-reaction-button btn-default-tertiary",right:!1,"data-testid":"note-emoji-button"},on:{click:e.handleAwardEmoji}}):e._e(),e._v(" "),!e.isEditing&&e.hasPermissions?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-hidden sm:!gl-flex",attrs:{"aria-label":e.$options.i18n.editCommentLabel,title:e.$options.i18n.editCommentLabel,category:"tertiary","data-testid":"note-edit",icon:"pencil"},on:{click:function(t){e.isEditing=!0}}}):e._e(),e._v(" "),e.isEditing?e._e():t("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{icon:"ellipsis_v",category:"tertiary","text-sr-only":"",title:e.$options.i18n.moreActionsLabel,"aria-label":e.$options.i18n.moreActionsLabel,"no-caret":"",left:"",items:e.dropdownItems,"data-testid":"more-actions"}})],2)]),e._v(" "),e.isEditing?e._e():[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.note.bodyHtml,expression:"note.bodyHtml"}],staticClass:"note-text md",attrs:{"data-testid":"note-text"}}),e._v(" "),e._t("resolved-status")],e._v(" "),e.awards.length?t("awards-list",{staticClass:"gl-mt-5 gl-px-2",attrs:{awards:e.awards,"can-award-emoji":e.note.userPermissions.awardEmoji,"current-user-id":e.currentUserId},on:{award:e.handleAwardEmoji}}):e._e(),e._v(" "),e.isEditing?t("design-reply-form",{staticClass:"gl-mt-5",attrs:{"markdown-preview-path":e.markdownPreviewPath,"design-note-mutation":e.$options.updateNoteMutation,"mutation-variables":e.mutationVariables,value:e.note.body,"is-new-comment":!1,"is-discussion":e.isDiscussion,"noteable-id":e.noteableId},on:{"note-submit-complete":e.onDone,"cancel-form":e.hideForm}}):e._e()],2)}),[function(){var e=this,t=e._self._c;return t("gl-link",{staticClass:"js-user-link link-inherit-color",attrs:{href:e.author.webUrl,"data-testid":"user-link","data-user-id":e.authorId,"data-username":e.author.username}},[t("span",{staticClass:"note-header-author-name gl-font-bold"},[e._v(e._s(e.author.name))]),e._v(" "),e.author.status_tooltip_html?t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.author.status_tooltip_html,expression:"author.status_tooltip_html"}]}):e._e(),e._v(" "),t("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.author.username))])])}],!1,null,null,null).exports,Ye=(i("dHQd"),i("yoDG"),i("KeS/"),i("tWNI"),i("8d6S"),i("VwWG"),i("IYHS"),i("rIA9"),i("MViX"),i("zglm"),i("GDOA"),i("hlbI"),i("a0mT"),i("u3H1"),i("ta8/"),i("IKCR"),i("nmTw"),i("W2kU"),i("58fc"),i("7dtT"),i("Rhav"),i("uhEP"),i("eppl"),i("IO2v")),Je={name:"ToggleNotesWidget",components:{GlButton:O.a,GlAvatar:Le.a,GlAvatarLink:Re.a,GlAvatarsInline:Ye.a},directives:{GlTooltip:te.a},props:{collapsed:{type:Boolean,required:!0},replies:{type:Array,required:!0}},computed:{iconName(){return this.collapsed?"chevron-right":"chevron-down"},toggleText(){return this.collapsed?Object(x.f)("%d reply","%d replies",this.replies.length):Object(x.a)("Collapse replies")},toggleTextColor(){return this.collapsed?"gl-text-link":"gl-text-default"},authors(){return[...new Set(this.replies.map((function(e){return e.author})))]},authorCollapsedTooltip(){return this.authors.length>2?Object(x.f)("%d reply","%d replies",this.authors.length):""},ariaState(){return String(!this.collapsed)}}},Xe=Object(F.a)(Je,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"toggle-comments gl-flex gl-min-h-8 gl-items-center gl-rounded-bl-base gl-rounded-br-base gl-bg-gray-10 gl-p-3",class:{expanded:!e.collapsed},attrs:{"aria-expanded":e.ariaState,"data-testid":"toggle-comments-wrapper"}},[t("gl-button",{staticClass:"gl-my-2 gl-mr-3 !gl-p-0",attrs:{category:"tertiary","data-testid":"toggle-replies-button",icon:e.iconName,"aria-label":e.toggleText},on:{click:function(t){return e.$emit("toggle")}}}),e._v(" "),e.collapsed?[e.authors.length?t("gl-avatars-inline",{staticClass:"gl-mr-3 gl-whitespace-nowrap",attrs:{avatars:e.authors,collapsed:"","max-visible":2,"avatar-size":24,"badge-tooltip-prop":"name","badge-sr-only-text":e.authorCollapsedTooltip},scopedSlots:e._u([{key:"avatar",fn:function({avatar:e}){return[t("gl-avatar-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{href:e.webUrl,title:e.name}},[t("gl-avatar",{attrs:{alt:e.name,src:e.avatarUrl,size:24}})],1)]}}],null,!1,3624126802)}):e._e()]:e._e(),e._v(" "),t("gl-button",{staticClass:"toggle-comments-button",attrs:{variant:"link","data-testid":"replies-button"},on:{click:function(t){return e.$emit("toggle")}}},[t("span",{class:e.toggleTextColor},[e._v(e._s(e.toggleText))])])],2)}),[],!1,null,null,null).exports,Ze={isLoggedIn:Object(j.A)(),i18n:{deleteNote:{confirmationText:Object(x.a)("Are you sure you want to delete this comment?"),primaryModalBtnText:Object(x.a)("Delete comment")}},components:{DesignNote:Qe,DesignNotePin:W.a,DiscussionReplyPlaceholder:Ae,DesignReplyForm:L,DesignNoteSignedOut:De,GlFormCheckbox:be.a,GlButton:O.a,GlLink:ye.a,TimeAgoTooltip:we.a,ToggleRepliesWidget:Xe},directives:{GlTooltip:te.a},props:{discussion:{type:Object,required:!0},noteableId:{type:String,required:!0},discussionWithOpenForm:{type:String,required:!0},registerPath:{type:String,required:!0},signInPath:{type:String,required:!0},resolvedDiscussionsExpanded:{type:Boolean,required:!0},markdownPreviewPath:{type:String,required:!1,default:""},designVariables:{type:Object,required:!0}},apollo:{activeDesignDiscussion:{query:Q.a,result({data:e}){var t=this;this.discussion.resolved&&!this.resolvedDiscussionsExpanded||this.$nextTick((function(){t.$el&&t.shouldScrollToDiscussion(e.activeDesignDiscussion)&&t.$el.scrollIntoView({behavior:"smooth",inline:"start"})}))}}},data(){return{isFormRendered:!1,noteToDelete:null,isResolving:!1,shouldChangeResolvedStatus:!1,areRepliesCollapsed:this.discussion.resolved,activeDesignDiscussion:{}}},computed:{mutationVariables(){return{noteableId:this.noteableId,discussionId:this.discussion.id}},resolveCheckboxText(){return this.discussion.resolved?Object(x.g)("DesignManagement|Unresolve thread"):Object(x.g)("DesignManagement|Resolve thread")},firstNote(){return this.discussion.notes[0]},discussionReplies(){return this.discussion.notes.slice(1)},areRepliesShown(){return!this.areRepliesCollapsed},resolveIconName(){return this.discussion.resolved?"check-circle-filled":"check-circle"},isRepliesWidgetVisible(){return this.discussionReplies.length>0},isDiscussionActive(){var e=this;return this.discussion.notes.some((function({id:t}){var i;return t===e.activeDesignDiscussion.id||(null===(i=Object(Se.n)())||void 0===i?void 0:i.includes(Object(l.e)(t)))}))},isReplyPlaceholderVisible(){return this.areRepliesShown||!this.discussionReplies.length},isFormVisible(){return this.isFormRendered&&this.discussionWithOpenForm===this.discussion.id},designsVersion(){return this.$route.query.version?"gid://gitlab/DesignManagement::Version/"+this.$route.query.version:null}},mounted(){var e=this;this.$nextTick((function(){Object(ke.a)(e.$el.querySelectorAll(".gfm-project_member")),e.isDiscussionActive&&e.$el.scrollIntoView({behavior:"smooth",inline:"start"})}))},updated(){var e=this;this.$nextTick((function(){Object(ke.a)(e.$el.querySelectorAll(".gfm-project_member"))}))},methods:{onSubmitComplete({data:{createNote:e}}){Object(I.a)(e)?Object(r.createAlert)({message:T.b}):this.hideForm(),this.shouldChangeResolvedStatus&&this.toggleResolvedStatus()},shouldScrollToDiscussion(e){const t=[T.a.pin,T.a.url],{source:i}=e;return t.includes(i)&&this.isDiscussionActive},hideForm(){this.isFormRendered=!1},showForm(){this.$emit("open-form",this.discussion.id),this.isFormRendered=!0},async toggleResolvedStatus(){var e,t=this;this.isResolving=!0;const{defaultClient:i}=this.$apollo.provider.clients,n=(null===(e=i.readQuery({query:m.a,variables:this.designVariables}).designManagement.designAtVersion.design.currentUserTodos)||void 0===e||null===(e=e.nodes)||void 0===e?void 0:e.length)||0;try{await this.$apollo.mutate({mutation:Ce.a,variables:{id:this.discussion.id,resolve:!this.discussion.resolved},update:function({data:e}){var i,s;(null===(i=e.errors)||void 0===i?void 0:i.length)>0&&t.$emit("resolve-discussion-error",e.errors[0]);const a=(null==e||null===(s=e.discussionToggleResolve)||void 0===s||null===(s=s.discussion)||void 0===s||null===(s=s.noteable)||void 0===s||null===(s=s.currentUserTodos)||void 0===s||null===(s=s.nodes)||void 0===s?void 0:s.length)||0;Object(c.c)(a-n)}})}catch(e){this.$emit("resolve-discussion-error",T.n),u.b(e)}finally{this.isResolving=!1}},async showDeleteNoteConfirmationModal(e){var t;const i=1===(null==e||null===(t=e.discussion)||void 0===t||null===(t=t.notes)||void 0===t?void 0:t.nodes.length);this.noteToDelete={...e,isLast:i};await Object(A.a)(this.$options.i18n.deleteNote.confirmationText,{primaryBtnVariant:"danger",primaryBtnText:this.$options.i18n.deleteNote.primaryModalBtnText})&&await this.deleteNote()},async deleteNote(){var e=this;const{id:t,discussion:i,isLast:n}=this.noteToDelete;try{await this.$apollo.mutate({mutation:je.a,variables:{input:{id:t}},update:function(s,{data:a}){const{errors:r}=a.destroyNote;null!=r&&r.length&&e.$emit("delete-note-error",r[0]);const o=n?{__typename:_e.p,id:null==i?void 0:i.id}:{__typename:_e.z,id:t};s.modify({id:s.identify(o),fields:function(e,{DELETE:t}){return t}}),s.gc()},optimisticResponse:{destroyNote:{note:null,errors:[],__typename:"DestroyNotePayload"}}})}catch(e){this.$emit("delete-note-error",T.f),u.b(e)}}},createNoteMutation:Te.a},et=Object(F.a)(Ze,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"design-discussion-wrapper",on:{click:function(t){return e.$emit("update-active-discussion")}}},[t("design-note-pin",{attrs:{"is-resolved":e.discussion.resolved,label:e.discussion.index}}),e._v(" "),t("ul",{staticClass:"design-discussion gl-border gl-relative gl-list-none gl-rounded-base gl-border-section gl-p-0",class:{"gl-bg-blue-50":e.isDiscussionActive},attrs:{"data-testid":"design-discussion-content"}},[t("design-note",{attrs:{note:e.firstNote,"markdown-preview-path":e.markdownPreviewPath,"is-resolving":e.isResolving,"is-discussion":"","noteable-id":e.noteableId,"design-variables":e.designVariables},on:{"delete-note":function(t){return e.showDeleteNoteConfirmationModal(t)}},scopedSlots:e._u([e.$options.isLoggedIn&&e.discussion.resolvable?{key:"resolve-discussion",fn:function(){return[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"aria-label":e.resolveCheckboxText,icon:e.resolveIconName,title:e.resolveCheckboxText,loading:e.isResolving,category:"tertiary","data-testid":"resolve-button"},on:{click:e.toggleResolvedStatus}})]},proxy:!0}:null,e.discussion.resolved?{key:"resolved-status",fn:function(){return[t("p",{staticClass:"gl-m-0 gl-mt-5 gl-text-sm gl-text-subtle",attrs:{"data-testid":"resolved-message"}},[e._v("\n          "+e._s(e.__("Resolved by"))+"\n          "),t("gl-link",{staticClass:"link-inherit-color gl-text-sm gl-text-subtle gl-no-underline",attrs:{href:e.discussion.resolvedBy.webUrl,target:"_blank"}},[e._v(e._s(e.discussion.resolvedBy.name))]),e._v(" "),t("time-ago-tooltip",{attrs:{time:e.discussion.resolvedAt,"tooltip-placement":"bottom"}})],1)]},proxy:!0}:null],null,!0)}),e._v(" "),e.isRepliesWidgetVisible?t("toggle-replies-widget",{attrs:{collapsed:e.areRepliesCollapsed,replies:e.discussionReplies},on:{toggle:function(t){e.areRepliesCollapsed=!e.areRepliesCollapsed}}}):e._e(),e._v(" "),e._l(e.discussionReplies,(function(i){return t("design-note",{directives:[{name:"show",rawName:"v-show",value:e.areRepliesShown,expression:"areRepliesShown"}],key:i.id,attrs:{note:i,"markdown-preview-path":e.markdownPreviewPath,"is-resolving":e.isResolving,"noteable-id":e.noteableId,"is-discussion":!1,"design-variables":e.designVariables},on:{"delete-note":function(t){return e.showDeleteNoteConfirmationModal(t)}}})})),e._v(" "),t("li",{directives:[{name:"show",rawName:"v-show",value:e.isReplyPlaceholderVisible,expression:"isReplyPlaceholderVisible"}],staticClass:"reply-wrapper discussion-reply-holder",class:{"gl-bg-gray-10":!e.$options.isLoggedIn}},[e.$options.isLoggedIn?[e.isFormVisible?t("design-reply-form",{attrs:{"design-note-mutation":e.$options.createNoteMutation,"mutation-variables":e.mutationVariables,"markdown-preview-path":e.markdownPreviewPath,"noteable-id":e.noteableId,"discussion-id":e.discussion.id,"is-discussion":!1},on:{"note-submit-complete":e.onSubmitComplete,"cancel-form":e.hideForm},scopedSlots:e._u([e.discussion.resolvable?{key:"resolve-checkbox",fn:function(){return[t("gl-form-checkbox",{staticClass:"-gl-mb-3 gl-mt-5",attrs:{"data-testid":"resolve-checkbox"},model:{value:e.shouldChangeResolvedStatus,callback:function(t){e.shouldChangeResolvedStatus=t},expression:"shouldChangeResolvedStatus"}},[e._v("\n              "+e._s(e.resolveCheckboxText)+"\n            ")])]},proxy:!0}:null],null,!0)}):t("discussion-reply-placeholder",{on:{focus:e.showForm}})]:[t("design-note-signed-out",{attrs:{"register-path":e.registerPath,"sign-in-path":e.signInPath}})]],2)],2)],1)}),[],!1,null,null,null).exports,tt=(i("ZzK0"),i("BzOf"),i("l5WF")),it=i("B3Hj"),nt=i("EJYk"),st=i("NY9D"),at=i("m7u5"),rt=i.n(at);var ot={components:{MarkdownEditor:E.a,GlAlert:a.a,GlButton:O.a,GlFormGroup:tt.a},directives:{SafeHtml:Be.a,GlTooltip:te.a},i18n:{editDescription:Object(x.g)("DesignManagement|Edit description"),descriptionLabel:Object(x.g)("DesignManagement|Description"),addDescriptionLabel:Object(x.g)("DesignManagement|Add a description"),cancelEdit:Object(x.g)("DesignManagement|Are you sure you want to cancel editing the description?"),primaryModalButton:Object(x.g)("DesignManagement|Discard changes"),cancelModalButton:Object(x.g)("DesignManagement|Continue editing")},formFieldProps:{id:"design-description",name:"design-description",placeholder:Object(x.g)("DesignManagement|Write a comment or drag your files hereâ¦"),"aria-label":Object(x.g)("DesignManagement|Design description")},markdownDocsPath:Object(C.a)("user/markdown"),quickActionsDocsPath:Object(C.a)("user/project/quick_actions"),props:{design:{type:Object,required:!0},markdownPreviewPath:{type:String,required:!0}},data(){return{descriptionText:this.design.description||"",showEditor:!1,isSubmitting:!1,errorMessage:"",autosaveKey:`WorkItem/${Object(l.e)(this.design.issue.id)}/Design/${Object(l.e)(this.design.id)}`}},computed:{canUpdate(){var e;return(null===(e=this.design.issue)||void 0===e||null===(e=e.userPermissions)||void 0===e?void 0:e.updateDesign)&&!this.showEditor},showAddDescriptionButton(){var e;return(null===(e=this.design.issue)||void 0===e||null===(e=e.userPermissions)||void 0===e?void 0:e.updateDesign)&&!this.design.descriptionHtml}},watch:{"design.descriptionHtml":{handler(e,t){e!==t&&this.renderGFM()},immediate:!0}},methods:{startEditing(){this.showEditor=!0},closeForm(){this.descriptionText||(this.descriptionText=this.design.description),this.showEditor=!1},async cancelDescription(){if(this.descriptionText&&this.descriptionText!==this.design.description){if(!await Object(A.a)(this.$options.i18n.cancelEdit,{primaryBtnText:this.$options.i18n.primaryModalButton,cancelBtnText:this.$options.i18n.cancelModalButton,primaryBtnVariant:"danger"}))return;this.design.descriptionHtml?this.descriptionText=this.design.description:this.descriptionText="",D.a.$emit(N.b,this.autosaveKey),this.showEditor=!1,this.enableCheckboxes()}else this.descriptionText=this.design.description,this.showEditor=!1,await this.$nextTick(),this.enableCheckboxes()},enableCheckboxes(){if(this.canUpdate){this.$el.querySelectorAll(".task-list-item-checkbox").forEach((function(e){e.disabled=!1}))}},async renderGFM(){await this.$nextTick(),Object(nt.a)(this.$refs["gfm-content"]),this.enableCheckboxes()},setDescriptionText(e){this.isSubmitting||(this.descriptionText=e)},async updateDesignDescription(){this.isSubmitting=!0,this.$refs.markdownEditor&&Object(it.c)(this.$refs.markdownEditor.isContentEditorActive,"Design");try{const e={description:this.descriptionText,id:this.design.id};await this.$apollo.mutate({mutation:rt.a,variables:{input:e}}),this.closeForm()}catch(e){u.b(e),this.errorMessage=T.q}finally{await this.$nextTick(),this.enableCheckboxes(),this.isSubmitting=!1}},toggleCheckboxes(e){const{target:t}=e;if(function(e){return null==e?void 0:e.classList.contains("task-list-item-checkbox")}(t)){t.disabled=!0;const{sourcepos:e}=t.parentElement.dataset;if(!e)return;this.descriptionText=Object(st.a)({rawMarkdown:this.descriptionText,checkboxChecked:t.checked,sourcepos:e}),this.updateDesignDescription()}}}},lt=Object(F.a)(ot,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"design-description-container"},[e.showEditor?t("gl-form-group",{staticClass:"design-description-form common-note-form",attrs:{label:e.$options.i18n.descriptionLabel,"label-class":"!gl-leading-20 !gl-text-lg"}},[e.errorMessage?t("div",{staticClass:"gl-pb-3"},[t("gl-alert",{attrs:{variant:"danger"},on:{dismiss:function(t){e.errorMessage=null}}},[e._v("\n        "+e._s(e.errorMessage)+"\n      ")])],1):e._e(),e._v(" "),t("markdown-editor",{ref:"markdownEditor",attrs:{value:e.descriptionText,"render-markdown-path":e.markdownPreviewPath,"markdown-docs-path":e.$options.markdownDocsPath,"form-field-props":e.$options.formFieldProps,"quick-actions-docs-path":e.$options.quickActionsDocsPath,"autosave-key":e.autosaveKey,"enable-autocomplete":"","supports-quick-actions":!1,autofocus:""},on:{input:e.setDescriptionText,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.updateDesignDescription.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.updateDesignDescription.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.stopPropagation(),e.cancelDescription.apply(null,arguments))}]}}),e._v(" "),t("div",{staticClass:"gl-mt-3 gl-flex"},[t("gl-button",{attrs:{category:"primary",variant:"confirm",loading:e.isSubmitting,"data-testid":"save-description"},on:{click:e.updateDesignDescription}},[e._v(e._s(e.s__("DesignManagement|Save changes"))+"\n      ")]),e._v(" "),t("gl-button",{staticClass:"gl-ml-3",attrs:{category:"tertiary","data-testid":"cancel"},on:{click:e.cancelDescription}},[e._v(e._s(e.s__("DesignManagement|Cancel"))+"\n      ")])],1)],1):t("div",{staticClass:"design-description-view"},[e.showAddDescriptionButton?t("gl-button",{staticClass:"gl-mb-5 gl-ml-auto",attrs:{size:"small","data-testid":"add-design-description","aria-label":e.$options.i18n.addDescriptionLabel},on:{click:e.startEditing}},[e._v("\n      "+e._s(e.$options.i18n.addDescriptionLabel)+"\n    ")]):[t("div",{staticClass:"design-description-header gl-mb-2 gl-flex gl-justify-between"},[t("h3",{staticClass:"gl-m-0 gl-text-lg !gl-leading-20"},[e._v("\n          "+e._s(e.$options.i18n.descriptionLabel)+"\n        ")]),e._v(" "),e.canUpdate?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-ml-auto",attrs:{size:"small",category:"tertiary","aria-label":e.$options.i18n.editDescription,title:e.$options.i18n.editDescription,"data-testid":"edit-description",icon:"pencil"},on:{click:e.startEditing}}):e._e()],1),e._v(" "),e.design.descriptionHtml?t("div",{staticClass:"design-description js-task-list-container"},[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.design.descriptionHtml,expression:"design.descriptionHtml"}],ref:"gfm-content",staticClass:"md gl-mb-4",attrs:{"data-testid":"design-description-content"},on:{change:e.toggleCheckboxes}})]):e._e()]],2)],1)}),[],!1,null,null,null).exports,dt={isLoggedIn:Object(j.A)(),components:{DesignDescription:lt,DesignDisclosure:ve.a,DesignDiscussion:et,DesignNoteSignedOut:De,GlAccordion:he.a,GlAccordionItem:me.a,GlSkeletonLoader:ee.a,GlEmptyState:fe.a},inject:["registerPath","signInPath"],props:{design:{type:Object,required:!0},isLoading:{type:Boolean,required:!0},isOpen:{type:Boolean,required:!0},resolvedDiscussionsExpanded:{type:Boolean,required:!0},markdownPreviewPath:{type:String,required:!0},isCommentFormPresent:{type:Boolean,required:!0},designVariables:{type:Object,required:!0}},data:()=>({discussionWithOpenForm:""}),computed:{showDescriptionForm(){var e;return!this.isLoading&&((null===(e=this.design.issue)||void 0===e||null===(e=e.userPermissions)||void 0===e?void 0:e.updateDesign)||Boolean(this.design.descriptionHtml))},discussions(){var e;return null!==(e=this.design)&&void 0!==e&&e.discussions?Object(_.d)(this.design.discussions):[]},unresolvedDiscussions(){return this.discussions.filter((function(e){return!e.resolved}))},unresolvedDiscussionsCount(){return Object(x.f)("%d Thread","%d Threads",this.unresolvedDiscussions.length)},resolvedDiscussions(){return this.discussions.filter((function(e){return e.resolved}))},hasResolvedDiscussions(){return this.resolvedDiscussions.length>0},resolvedDiscussionsTitle(){return`${this.$options.i18n.resolveCommentsToggleText} (${this.resolvedDiscussions.length})`},isResolvedDiscussionsExpanded:{get(){return this.resolvedDiscussionsExpanded},set(e){this.$emit("toggleResolvedComments",e)}}},methods:{handleSidebarClick(){this.updateActiveDesignDiscussion()},updateActiveDesignDiscussion(e){null!=e&&e.resolved||this.$apollo.mutate({mutation:z.a,variables:{id:null==e?void 0:e.notes[0].id,source:T.a.discussion}})},updateDiscussionWithOpenForm(e){this.discussionWithOpenForm=e}},i18n:{resolveCommentsToggleText:Object(x.g)("DesignManagement|Resolved threads"),newDiscussionText:Object(x.g)("DesignManagement|Click on the image where you'd like to add a new comment.")},EMPTY_DISCUSSION_URL:ge.a},ct=Object(F.a)(dt,(function(){var e=this,t=e._self._c;return t("design-disclosure",{attrs:{open:e.isOpen},scopedSlots:e._u([{key:"default",fn:function(){return[t("div",{staticClass:"image-notes gl-h-full gl-pt-0",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleSidebarClick.apply(null,arguments)}}},[e.showDescriptionForm?t("design-description",{staticClass:"gl-border-b gl-my-5",attrs:{design:e.design,"markdown-preview-path":e.markdownPreviewPath}}):e._e(),e._v(" "),e.isLoading?t("div",{staticClass:"gl-my-5"},[t("gl-skeleton-loader")],1):[t("h3",{staticClass:"gl-my-5 gl-text-lg !gl-leading-20",attrs:{"data-testid":"unresolved-discussion-count"}},[e._v("\n          "+e._s(e.unresolvedDiscussionsCount)+"\n        ")]),e._v(" "),e.$options.isLoggedIn&&0===e.unresolvedDiscussions.length&&!e.isCommentFormPresent?t("gl-empty-state",{attrs:{"data-testid":"new-discussion-disclaimer","svg-path":e.$options.EMPTY_DISCUSSION_URL},scopedSlots:e._u([{key:"description",fn:function(){return[e._v("\n            "+e._s(e.$options.i18n.newDiscussionText)+"\n          ")]},proxy:!0}],null,!1,716832205)}):e._e(),e._v(" "),e.$options.isLoggedIn?e._e():t("design-note-signed-out",{staticClass:"gl-mb-4",attrs:{"register-path":e.registerPath,"sign-in-path":e.signInPath,"is-add-discussion":!0}}),e._v(" "),e._l(e.unresolvedDiscussions,(function(i){return t("design-discussion",{key:i.id,attrs:{discussion:i,"design-variables":e.designVariables,"noteable-id":e.design.id,"markdown-preview-path":e.markdownPreviewPath,"register-path":e.registerPath,"sign-in-path":e.signInPath,"resolved-discussions-expanded":e.resolvedDiscussionsExpanded,"discussion-with-open-form":e.discussionWithOpenForm,"data-testid":"unresolved-discussion"},on:{"create-note-error":function(t){return e.$emit("onDesignDiscussionError",t)},"update-note-error":function(t){return e.$emit("updateNoteError",t)},"delete-note-error":function(t){return e.$emit("deleteNoteError",t)},"resolve-discussion-error":function(t){return e.$emit("resolveDiscussionError",t)},"update-active-discussion":function(t){return e.updateActiveDesignDiscussion(i)},"open-form":e.updateDiscussionWithOpenForm}})})),e._v(" "),e._t("reply-form"),e._v(" "),e.hasResolvedDiscussions?t("gl-accordion",{staticClass:"gl-my-5",attrs:{"header-level":3}},[t("gl-accordion-item",{attrs:{title:e.resolvedDiscussionsTitle,"header-class":"!gl-mb-5"},model:{value:e.isResolvedDiscussionsExpanded,callback:function(t){e.isResolvedDiscussionsExpanded=t},expression:"isResolvedDiscussionsExpanded"}},e._l(e.resolvedDiscussions,(function(i){return t("design-discussion",{key:i.id,attrs:{discussion:i,"design-variables":e.designVariables,"noteable-id":e.design.id,"markdown-preview-path":e.markdownPreviewPath,"register-path":e.registerPath,"sign-in-path":e.signInPath,"resolved-discussions-expanded":e.resolvedDiscussionsExpanded,"discussion-with-open-form":e.discussionWithOpenForm,"data-testid":"resolved-discussion"},on:{error:function(t){return e.$emit("onDesignDiscussionError",t)},"update-note-error":function(t){return e.$emit("updateNoteError",t)},"delete-note-error":function(t){return e.$emit("deleteNoteError",t)},"update-active-discussion":function(t){return e.updateActiveDesignDiscussion(i)},"open-form":e.updateDiscussionWithOpenForm}})})),1)],1):e._e()]],2)]},proxy:!0}])})}),[],!1,null,null,null).exports;var ut={components:{GlButtonGroup:le.a,GlButton:O.a},props:{maxScale:{type:Number,required:!0}},data:()=>({scale:1}),computed:{disableDecrease(){return 1===this.scale},disableIncrease(){return this.scale>=this.maxScale},stepSize(){return(this.maxScale-1)/5},scaleLabel(){return Object(x.h)(Object(x.a)("%{scaleValue}%%"),{scaleValue:Math.ceil(100*this.scale)})}},methods:{setScale(e){e<1||(this.scale=Math.round(100*e)/100,this.$emit("scale",this.scale))},incrementScale(){this.setScale(Math.min(this.scale+this.stepSize,this.maxScale))},decrementScale(){this.setScale(this.scale-this.stepSize)}}},pt=Object(F.a)(ut,(function(){var e=this,t=e._self._c;return t("gl-button-group",{staticClass:"gl-z-1"},[t("gl-button",{attrs:{icon:"dash",disabled:e.disableDecrease,"aria-label":e.__("Decrease")},on:{click:e.decrementScale}}),e._v(" "),t("span",{staticClass:"gl-border-t gl-border-b gl-bg-white gl-p-3 gl-text-sm",attrs:{"data-testid":"scale-value"}},[e._v(e._s(e.scaleLabel))]),e._v(" "),t("gl-button",{attrs:{icon:"plus",disabled:e.disableIncrease,"aria-label":e.__("Increase")},on:{click:e.incrementScale}})],1)}),[],!1,null,null,null).exports;var ht={components:{DesignPresentation:Z,DesignSidebar:ct,DesignToolbar:pe,DesignScaler:pt,DesignReplyForm:L,GlAlert:a.a},inject:["fullPath"],beforeRouteUpdate(e,t,i){this.scale=1,i()},beforeRouteEnter(e,t,i){const n=Object(_.g)();n&&n.classList.add(...T.g),i()},beforeRouteLeave(e,t,i){const n=Object(_.g)();n&&n.classList.remove(...T.g),i()},props:{iid:{type:String,required:!0},allDesigns:{type:Array,required:!1,default:function(){return[]}},allVersions:{type:Array,required:!1,default:function(){return[]}}},data:()=>({design:{},annotationCoordinates:null,errorMessage:"",scale:1,resolvedDiscussionsExpanded:!1,prevCurrentUserTodos:null,maxScale:2,workItemId:"",workItemTitle:"",isSidebarOpen:!0}),apollo:{design:{query:m.a,variables(){return this.designVariables},update(e){const{event:t,image:i,imageV432x230:n}=e.designManagement.designAtVersion;return{...e.designManagement.designAtVersion.design,event:t,image:i,imageV432x230:n}},result({data:e}){var t;null!=e&&null!==(t=e.designManagement)&&void 0!==t&&null!==(t=t.designAtVersion)&&void 0!==t&&t.design?this.$route.query.version&&!this.hasValidVersion&&this.onQueryError(T.j):this.onQueryError(T.h)},error(){this.onQueryError(T.h)}}},computed:{designId(){var e=this;const t=this.allDesigns.find((function(t){return t.filename===e.$route.params.id}));return null==t?void 0:t.id},isLoading(){return this.$apollo.queries.design.loading},markdownPreviewPath(){return`/${this.fullPath}/-/preview_markdown?target_type=Issue`},designVariables(){const e=Object(l.e)(this.hasValidVersion?this.designsVersion:this.latestVersionId);return{id:`gid://gitlab/DesignManagement::DesignAtVersion/${Object(l.e)(this.designId)}.${e}`}},mutationVariables(){const{x:e,y:t,width:i,height:n}=this.annotationCoordinates;return{noteableId:this.design.id,position:{headSha:this.design.diffRefs.headSha,baseSha:this.design.diffRefs.baseSha,startSha:this.design.diffRefs.startSha,x:e,y:t,width:i,height:n,paths:{newPath:this.design.fullPath}}}},hasValidVersion(){return this.$route.query.version},designsVersion(){return this.hasValidVersion?"gid://gitlab/DesignManagement::Version/"+this.$route.query.version:null},discussions(){return this.design.discussions?Object(_.d)(this.design.discussions):[]},resolvedDiscussions(){return this.discussions.filter((function(e){return e.resolved}))},currentUserDesignTodos(){var e;return null===(e=this.design)||void 0===e||null===(e=e.currentUserTodos)||void 0===e?void 0:e.nodes},designCollectionQueryBody(){return{query:g.a,variables:{id:this.workItemId,atVersion:null}}},latestVersionId(){const e=this.allVersions[0];return e&&Object(_.f)(e.id)},isLatestVersion(){return!(this.allVersions.length>0)||(!this.hasValidVersion||!this.latestVersionId||this.hasValidVersion===this.latestVersionId)},isAnnotating(){return Boolean(this.annotationCoordinates)}},watch:{resolvedDiscussions(e){e.length||(this.resolvedDiscussionsExpanded=!1)}},mounted(){o.b.bind(Object(d.Ab)(d.K),this.closeDesign)},methods:{addImageDiffNoteToStore({store:e,data:t}){const{createImageDiffNote:i}=t;Object(I.c)(e,i,m.a,this.designVariables),this.closeCommentForm(t)},async onMoveNote({noteId:e,discussionId:t,position:i}){const n=this.discussions.find((function(e){return e.id===t})),s=null==n?void 0:n.notes.find((function({discussion:e}){return(null==e?void 0:e.id)===t}));try{await this.$apollo.mutate({mutation:k.a,variables:{input:{id:e,position:i}},optimisticResponse:s&&Object(_.i)(s,{position:i}),update:this.afterDesignMove})}catch(e){u.b(e),this.onQueryError(T.r),this.errorMessage=T.r}},afterDesignMove(e,{data:{repositionImageDiffNote:t}}){return Object(I.e)(e,t,m.a,this.designVariables)},onError(e,t){if(this.errorMessage=e,t)throw t},onQueryError(e){Object(r.createAlert)({message:e}),this.$router.push({name:p.cb.workItem})},onDeleteNoteError(e){this.onError(T.f,e)},onResolveDiscussionError(e){this.onError(T.r,e)},closeDesign(){this.$router.push({name:p.cb.workItem,query:this.$route.query})},setMaxScale(e){this.maxScale=1/e},toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},toggleResolvedComments(e){this.resolvedDiscussionsExpanded=e},updateWorkItemDesignCurrentTodosWidgetCache({cache:e,todos:t}){Object(I.g)({store:e,todos:t,query:{query:m.a,variables:this.designVariables}})},async onArchiveDesign(){try{await this.$apollo.mutate({mutation:S.a,variables:{filenames:[this.design.filename],projectPath:this.fullPath,iid:this.iid},update:this.afterArchiveDesign})}catch(e){this.onQueryError(T.i),this.errorMessage=T.i}finally{this.closeDesign()}},afterArchiveDesign(e,{data:{designManagementDelete:t}}){Object(I.d)(e,t,this.designCollectionQueryBody,[this.design.filename])},openCommentForm(e){this.annotationCoordinates=e},closeCommentForm(e){this.annotationCoordinates=null,null!=e&&e.data&&!s()(this.prevCurrentUserTodos)&&(Object(c.c)(this.currentUserTodos-this.prevCurrentUserTodos),this.prevCurrentUserTodos=this.currentUserTodos)}},createImageDiffNoteMutation:b.a},mt=Object(F.a)(ht,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"design-detail js-design-detail fixed-top gl-flex gl-w-full gl-flex-col gl-justify-center gl-bg-gray-10 lg:gl-flex-row"},[t("div",{staticClass:"gl-relative gl-flex gl-grow gl-flex-col gl-overflow-hidden"},[t("design-toolbar",{attrs:{"work-item-title":e.workItemTitle,design:e.design,"design-filename":e.$route.params.id,"is-loading":e.isLoading,"is-sidebar-open":e.isSidebarOpen,"is-latest-version":e.isLatestVersion,"all-designs":e.allDesigns,"current-user-design-todos":e.currentUserDesignTodos},on:{"toggle-sidebar":e.toggleSidebar,"archive-design":e.onArchiveDesign,todosUpdated:e.updateWorkItemDesignCurrentTodosWidgetCache}}),e._v(" "),t("div",{staticClass:"gl-relative gl-flex gl-grow gl-flex-col gl-overflow-hidden lg:gl-flex-row"},[t("div",{staticClass:"gl-relative gl-flex gl-grow-2 gl-flex-col gl-overflow-hidden"},[e.errorMessage?t("div",{staticClass:"gl-p-5"},[t("gl-alert",{attrs:{variant:"danger"},on:{dismiss:function(t){e.errorMessage=null}}},[e._v("\n            "+e._s(e.errorMessage)+"\n          ")])],1):e._e(),e._v(" "),t("design-presentation",{attrs:{image:e.design.image,"image-name":e.design.filename,discussions:e.discussions,"is-annotating":e.isAnnotating,scale:e.scale,"resolved-discussions-expanded":e.resolvedDiscussionsExpanded,"is-sidebar-open":e.isSidebarOpen,"is-loading":e.isLoading,"disable-commenting":!e.isSidebarOpen},on:{openCommentForm:e.openCommentForm,moveNote:e.onMoveNote,setMaxScale:e.setMaxScale}})],1),e._v(" "),t("div",{staticClass:"design-scaler-wrapper gl-absolute gl-mb-6 gl-flex gl-items-center gl-justify-center"},[t("design-scaler",{attrs:{"max-scale":e.maxScale},on:{scale:function(t){e.scale=t}}})],1),e._v(" "),t("design-sidebar",{attrs:{design:e.design,"design-variables":e.designVariables,"is-loading":e.isLoading,"is-open":e.isSidebarOpen,"markdown-preview-path":e.markdownPreviewPath,"resolved-discussions-expanded":e.resolvedDiscussionsExpanded,"is-comment-form-present":e.isAnnotating},on:{deleteNoteError:e.onDeleteNoteError,resolveDiscussionError:e.onResolveDiscussionError,toggleResolvedComments:e.toggleResolvedComments},scopedSlots:e._u([{key:"reply-form",fn:function(){return[e.isAnnotating?t("design-reply-form",{ref:"newDiscussionForm",attrs:{"design-note-mutation":e.$options.createImageDiffNoteMutation,"mutation-variables":e.mutationVariables,"markdown-preview-path":e.markdownPreviewPath,"noteable-id":e.design.id,iid:e.iid},on:{"note-submit-complete":e.addImageDiffNoteToStore,"cancel-form":e.closeCommentForm}}):e._e()]},proxy:!0}])})],1)],1)])}),[],!1,null,null,null);t.a=mt.exports},HCER:function(e,t,i){var n=i("4ips");e.exports=function(e){return(null==e?0:e.length)?n(e,1/0):[]}},HIeB:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VersionListItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DesignVersion"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:114}};i.loc.source={body:"fragment VersionListItem on DesignVersion {\n  id\n  sha\n  createdAt\n  author {\n    id\n    name\n    avatarUrl\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.VersionListItem=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"VersionListItem")},HJBN:function(e,t,i){var n=i("TTsI"),s=i("4ips"),a=i("Opi0"),r=i("QFSp"),o=a((function(e,t){return r(e)?n(e,s(t,1,r,!0)):[]}));e.exports=o},HOKy:function(e,t,i){"use strict";var n=i("TU2v"),s=i("Pyw5"),a=i.n(s);const r={name:"GlAnimatedNotificationIcon",extends:n.a};const o=a()({render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:this.iconStateClass,attrs:{"aria-label":this.ariaLabel,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{staticClass:"gl-animated-notifications-bottom-part",attrs:{d:"M3.72 11.25L2.35519 12.837C2.21579 12.9991 2.33095 13.25 2.54473 13.25H13.4428C13.6586 13.25 13.773 12.995 13.6296 12.8338L12.22 11.25V7C12.22 6.06556 11.9184 5.20155 11.4073 4.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}}),this._v(" "),t("path",{staticClass:"gl-animated-notifications-top-part",attrs:{d:"M3.72 11.75V7C3.72 4.65279 5.62279 2.75 7.97 2.75C9.38277 2.75 10.6345 3.43933 11.4073 4.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}}),this._v(" "),t("path",{staticClass:"gl-animated-notifications-line",attrs:{d:"M1.75 14.25L14.2461 1.75391",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}}),this._v(" "),t("path",{attrs:{d:"M6 13H10V13C10 14.1046 9.10457 15 8 15V15C6.89543 15 6 14.1046 6 13V13Z",fill:"currentColor"}}),this._v(" "),t("path",{attrs:{d:"M7 2C7 1.44772 7.44772 1 8 1V1C8.55228 1 9 1.44772 9 2V2C9 2.55228 8.55228 3 8 3V3C7.44772 3 7 2.55228 7 2V2Z",fill:"currentColor"}})])},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},HSGN:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"workItemTreeQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"endCursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"namespace"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemHierarchy"},directives:[]}]}}]}}],loc:{start:0,end:235}};n.loc.source={body:'#import "./work_item_hierarchy.fragment.graphql"\n\nquery workItemTreeQuery($id: WorkItemID!, $pageSize: Int = 100, $endCursor: String) {\n  workItem(id: $id) {\n    namespace {\n      id\n      fullName\n    }\n    ...WorkItemHierarchy\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("BHG8").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.workItemTreeQuery=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"workItemTreeQuery")},HZAj:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return c}));var n=i("NmEs"),s=i("/lV4");const a="activity",r="comment",o="design",l="snippet",d={badges:Object(s.a)("Badge"),boards:Object(s.g)("Boards|Board"),epics:Object(s.a)("Epic"),issues:Object(s.a)("Issue"),labels:Object(s.a)("Label"),iterations:Object(s.a)("Iteration"),iterations_cadences:Object(s.g)("Iterations|Iteration cadence"),members:Object(s.a)("Member"),merge_requests:Object(s.a)("Merge request"),milestones:Object(s.a)("Milestone"),namespace_settings:Object(s.g)("GroupSettings|Namespace setting"),project:Object(s.a)("Project"),self:Object(s.a)("Group"),auto_devops:Object(s.a)("Auto DevOps"),ci_pipelines:Object(s.a)("CI pipeline"),container_expiration_policy:Object(s.a)("Container expiration policy"),design:Object(s.a)("Design"),project_feature:Object(s.a)("Project feature"),protected_branches:Object(s.a)("Protected Branch"),push_rule:Object(s.a)("Push rule"),repository:Object(s.a)("Repository"),service_desk_setting:Object(s.a)("Service Desk"),vulnerabilities:Object(s.a)("Vulnerabilities"),commit_notes:Object(s.a)("Commit notes")},c={diff_note:Object(s.a)("Diff notes"),issue:Object(s.a)("Issues"),issue_attachment:Object(s.g)("GithubImporter|Issue attachments"),issue_event:Object(s.a)("Issue events"),label:Object(s.a)("Labels"),lfs_object:Object(s.a)("LFS objects"),merge_request_attachment:Object(s.g)("GithubImporter|PR attachments"),milestone:Object(s.a)("Milestones"),note:Object(s.a)("Notes"),note_attachment:Object(s.g)("GithubImporter|Note attachments"),protected_branch:Object(s.a)("Protected branches"),collaborator:Object(s.g)("GithubImporter|Collaborators"),pull_request:Object(s.g)("GithubImporter|Pull requests"),pull_request_merged_by:Object(s.g)("GithubImporter|PR mergers"),pull_request_review:Object(s.g)("GithubImporter|PR reviews"),pull_request_review_request:Object(s.g)("GithubImporter|PR reviewers"),release:Object(s.a)("Releases"),release_attachment:Object(s.g)("GithubImporter|Release attachments")};Object.assign(c,Object(n.g)(c))},Hcw9:function(e,t,i){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkItemMetadataWidgets"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidget"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetStartAndDueDate"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetMilestone"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MilestoneFragment"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetAssignees"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowsMultipleAssignees"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canInviteMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetLabels"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetLinkedItems"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkedItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkType"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:760}};n.loc.source={body:'#import "~/graphql_shared/fragments/label.fragment.graphql"\n#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/work_items/graphql/milestone.fragment.graphql"\n\nfragment WorkItemMetadataWidgets on WorkItemWidget {\n  type\n  ... on WorkItemWidgetStartAndDueDate {\n    dueDate\n    startDate\n  }\n  ... on WorkItemWidgetMilestone {\n    milestone {\n      ...MilestoneFragment\n    }\n  }\n  ... on WorkItemWidgetAssignees {\n    allowsMultipleAssignees\n    canInviteMembers\n    assignees {\n      nodes {\n        ...User\n      }\n    }\n  }\n  ... on WorkItemWidgetLabels {\n    labels {\n      nodes {\n        ...Label\n      }\n    }\n  }\n  ... on WorkItemWidgetLinkedItems {\n    linkedItems {\n      nodes {\n        linkId\n        linkType\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("30z/").definitions)),n.definitions=n.definitions.concat(a(i("aBoS").definitions)),n.definitions=n.definitions.concat(a(i("1/Nw").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.WorkItemMetadataWidgets=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"WorkItemMetadataWidgets")},HnlB:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return s}));const n=e=>e instanceof Date?new Date(e.getTime()):new Date,s=(e,t)=>{const i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-i)/864e5)},a=(e,t)=>new Date(n(e).setDate(e.getDate()-t)),r=(e,t)=>new Date(n(e).setDate(e.getDate()+t)),o=(e,t)=>Boolean(e&&t&&new Date(e).getTime()===new Date(t).getTime())},HzGH:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueLocked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueSetLockedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussionLocked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:160}};i.loc.source={body:"mutation updateIssueLocked($input: IssueSetLockedInput!) {\n  issueSetLocked(input: $input) {\n    issue {\n      id\n      discussionLocked\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssueLocked=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssueLocked")},IAil:function(e,t,i){var n=i("ERvI")({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"});e.exports=n},IO2v:function(e,t,i){"use strict";var n=i("SQMQ"),s=i.n(n),a=i("B42D"),r=i.n(a),o=i("XBTk"),l=i("tbP8"),d=i("DZUU"),c=i("Pyw5"),u=i.n(c);const p={name:"AvatarsInline",components:{GlAvatar:l.a,GlTooltip:d.a},props:{avatars:{type:Array,required:!0},maxVisible:{type:Number,required:!0},avatarSize:{type:Number,required:!0,validator:e=>o.i.includes(e)},collapsed:{type:Boolean,required:!1,default:!1},badgeSrOnlyText:{type:String,required:!0},badgeTooltipProp:{type:String,required:!1,default:""},badgeTooltipMaxChars:{type:Number,required:!1,default:null}},computed:{hiddenAvatars(){return this.avatars.slice(this.maxVisible)},collapsable(){return this.hiddenAvatars.length>0},visibleAvatars(){return this.collapsed?this.avatars.slice(0,this.maxVisible):this.avatars},badgeSize(){return{16:"sm",24:"md",32:"lg"}[this.avatarSize]||"lg"},badgeLabel(){return"+"+this.hiddenAvatars.length},badgeTooltipTitle(){if(!this.badgeTooltipProp)return"";const e=this.hiddenAvatars.map(e=>r()(e,this.badgeTooltipProp,"").trim()).join(", ");return this.badgeTooltipMaxChars?s()(e,{length:this.badgeTooltipMaxChars}):e}}};const h=u()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-avatars-inline",class:"gl-avatars-inline-"+e.badgeSize},[e._l(e.visibleAvatars,(function(t,n){return i("div",{key:n,staticClass:"gl-avatars-inline-child"},[e._t("avatar",(function(){return[i("gl-avatar",e._b({attrs:{size:e.avatarSize}},"gl-avatar",t,!1))]}),{avatar:t})],2)})),e._v(" "),e.collapsed&&e.collapsable?i("div",{staticClass:"gl-avatars-inline-child"},[e.badgeTooltipProp?i("gl-tooltip",{attrs:{target:function(){return e.$refs.badge}}},[e._v("\n      "+e._s(e.badgeTooltipTitle)+"\n    ")]):e._e(),e._v(" "),i("span",{ref:"badge",class:["gl-avatars-inline-badge",e.badgeSize],attrs:{"data-testid":"collapsed-avatars-badge","aria-hidden":"true"}},[e._v("\n      "+e._s(e.badgeLabel)+"\n    ")]),e._v(" "),i("span",{staticClass:"gl-sr-only",attrs:{"data-testid":"badge-sr-only-text"}},[e._v(e._s(e.badgeSrOnlyText))])],1):e._e()],2)},staticRenderFns:[]},void 0,p,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},IZAz:function(e,t,i){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAAAAAAdJSU2AAACNElEQVR4AdXYBa7jMBCA4b3/JZahzIkjp2qt+BWUWnG5ln2XxaJJb2b5F2ukL4wvzK/rP7bUcbf92u6oftLSe1ldk8efsfaVeEjusZZeC6e1RllaCk/yG6ag1lZ4WwPX69uyD6tAe/g2ipAlNMRS37awDLaFrpcMWxXQOi0jnWCWjFkSZomYJWDWKmatYNZyEWkJsvQimoZYah5NgdaLxagCtF6GRy0DshZPkeYwS/KIJWGWYjwYUzDLxCwDtJ54OKglimBLqHWahii2g1pmHLLGBmwVoRjcKlmgOdw65H5qKuGWCVi5Qlhs6m1sENZi4q3AWNvca5UYy2RjT/SAsiZey6CsIvc0wVlV5lJ0ibPMyLUGCmlxQq0IM0hLdWyro7CWEc3sXsqaK4O2zLxOsmtpfW5Q1u68ZrVmepaaNXEewawtI9X5Xl3U3n1qND6+rfPzvqoIWz/fklNCSLY153YV53J/XUxGCJnKZ1lajsn3/Ffegf6Y5pV2LUsSNL2UHzxUfh3TlYpZqqTpXZm0KZk9zJcqaEmaWPHDw0pxe05K7bWOLHFLWXVetqpYmrjle4+1y0aBaF4UOQ1NU+lYezJClkjLUnSEjqhH6zjAW4OjtY39Ibq+sawUb6W2RQfoqG0VeKuwrRJvlba17faRdbe2pTtYq6Nty/S7yAbGsQjWIq41wVoT1+IdZNy1djUcVdu5lklQWC0xHkt1X31qNEE1Pr3qKv/9XiSNj6Aaifj3/69+AYujsR/MvkpZAAAAAElFTkSuQmCC"},Ice9:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateActiveDesignDiscussion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateActiveDesignDiscussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:137}};i.loc.source={body:"mutation updateActiveDesignDiscussion($id: String, $source: String) {\n  updateActiveDesignDiscussion(id: $id, source: $source) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateActiveDesignDiscussion=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateActiveDesignDiscussion")},Idki:function(e,t,i){function n(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function s(e,t,i){return function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}(t,e),i}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i("v2fZ"),i("3UXl"),i("iyoE"),i("UezY"),i("z6RN"),i("hG7+"),i("aFm2"),i("R9qC"),i("2rQv"),i("ZzK0"),i("BzOf"),i("86Lb"),i("dHQd"),i("yoDG"),i("KeS/"),i("tWNI"),i("8d6S"),i("VwWG"),i("IYHS"),i("rIA9"),i("MViX"),i("zglm"),i("GDOA"),i("hlbI"),i("a0mT"),i("u3H1"),i("ta8/"),i("IKCR"),i("nmTw"),i("W2kU"),i("58fc"),i("7dtT"),i("Rhav"),i("uhEP"),i("eppl"),i("kidC"),i("F/X0"),function(e){"use strict";function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function i(t){e.defaults=t}e.defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};const r=/[&<>"']/,o=new RegExp(r.source,"g"),l=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,d=new RegExp(l.source,"g"),c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(e){return c[e]};function p(e,t){if(t){if(r.test(e))return e.replace(o,u)}else if(l.test(e))return e.replace(d,u);return e}const h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function m(e){return e.replace(h,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}const f=/(^|[^\[])\^/g;function g(e,t){let i="string"==typeof e?e:e.source;t=t||"";const n={replace:function(e,t){let s="string"==typeof t?t:t.source;return s=s.replace(f,"$1"),i=i.replace(e,s),n},getRegex:function(){return new RegExp(i,t)}};return n}function v(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const b={exec:function(){return null}};function y(e,t){const i=e.replace(/\|/g,(function(e,t,i){let n=!1,s=t;for(;--s>=0&&"\\"===i[s];)n=!n;return n?"|":" |"})).split(/ \|/);let n=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function k(e,t,i){const n=e.length;if(0===n)return"";let s=0;for(;s<n;){const a=e.charAt(n-s-1);if(a!==t||i){if(a===t||!i)break;s++}else s++}return e.slice(0,n-s)}function w(e,t,i,n){const s=t.href,a=t.title?p(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const e={type:"link",raw:i,href:s,title:a,text:r,tokens:n.inlineTokens(r)};return n.state.inLink=!1,e}return{type:"image",raw:i,href:s,title:a,text:p(r)}}class S{constructor(t){a(this,"options",void 0),a(this,"rules",void 0),a(this,"lexer",void 0),this.options=t||e.defaults}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:k(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],i=function(e,t){const i=e.match(/^(\s+)(?:```)/);if(null===i)return t;const n=i[1];return t.split("\n").map((function(e){const t=e.match(/^\s+/);if(null===t)return e;const[i]=t;return i.length>=n.length?e.slice(n.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=k(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=k(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),i=this.lexer.state.top;this.lexer.state.top=!0;const n=this.lexer.blockTokens(e);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:n,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const n=i.length>1,s={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?"\\d{1,9}\\"+i.slice(-1):"\\"+i,this.options.pedantic&&(i=n?i:"[*+-]");const a=new RegExp(`^( {0,3}${i})((?:[\t ][^\\n]*)?(?:\\n|$))`);let r="",o="",l=!1;for(;e;){let i=!1;if(!(t=a.exec(e)))break;if(this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let n=t[2].split("\n",1)[0].replace(/^\t+/,(function(e){return" ".repeat(3*e.length)})),d=e.split("\n",1)[0],c=0;this.options.pedantic?(c=2,o=n.trimStart()):(c=t[2].search(/[^ ]/),c=c>4?1:c,o=n.slice(c),c+=t[1].length);let u=!1;if(!n&&/^ *$/.test(d)&&(r+=d+"\n",e=e.substring(d.length+1),i=!0),!i){const t=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),i=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),s=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:\`\`\`|~~~)`),a=new RegExp(`^ {0,${Math.min(3,c-1)}}#`);for(;e;){const l=e.split("\n",1)[0];if(d=l,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),s.test(d))break;if(a.test(d))break;if(t.test(d))break;if(i.test(e))break;if(d.search(/[^ ]/)>=c||!d.trim())o+="\n"+d.slice(c);else{if(u)break;if(n.search(/[^ ]/)>=4)break;if(s.test(n))break;if(a.test(n))break;if(i.test(n))break;o+="\n"+d}u||d.trim()||(u=!0),r+=l+"\n",e=e.substring(l.length+1),n=d.slice(c)}}s.loose||(l?s.loose=!0:/\n *\n *$/.test(r)&&(l=!0));let p,h=null;this.options.gfm&&(h=/^\[[ xX]\] /.exec(o),h&&(p="[ ] "!==h[0],o=o.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:r,task:!!h,checked:p,loose:!1,text:o,tokens:[]}),s.raw+=r}s.items[s.items.length-1].raw=r.trimEnd(),s.items[s.items.length-1].text=o.trimEnd(),s.raw=s.raw.trimEnd();for(let e=0;e<s.items.length;e++)if(this.lexer.state.top=!1,s.items[e].tokens=this.lexer.blockTokens(s.items[e].text,[]),!s.loose){const t=s.items[e].tokens.filter((function(e){return"space"===e.type})),i=t.length>0&&t.some((function(e){return/\n.*\n/.test(e.raw)}));s.loose=i}if(s.loose)for(let e=0;e<s.items.length;e++)s.items[e].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:i,title:n}}}table(e){var t=this;const i=this.rules.block.table.exec(e);if(!i)return;if(!/[:|]/.test(i[2]))return;const n=y(i[1]),s=i[2].replace(/^\||\| *$/g,"").split("|"),a=i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split("\n"):[],r={type:"table",raw:i[0],header:[],align:[],rows:[]};if(n.length===s.length){for(const e of s)/^ *-+: *$/.test(e)?r.align.push("right"):/^ *:-+: *$/.test(e)?r.align.push("center"):/^ *:-+ *$/.test(e)?r.align.push("left"):r.align.push(null);for(const e of n)r.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of a)r.rows.push(y(e,r.header.length).map((function(e){return{text:e,tokens:t.lexer.inline(e)}})));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:p(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=k(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let i=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])i++;else if(e[n]===t[1]&&(i--,i<0))return n;return-1}(t[2],"()");if(e>-1){const i=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,i).trim(),t[3]=""}}let i=t[2],n="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);e&&(i=e[1],n=e[3])}else n=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(e)?i.slice(1):i.slice(1,-1)),w(t,{href:i?i.replace(this.rules.inline.anyPunctuation,"$1"):i,title:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const e=t[(i[2]||i[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=i[0].charAt(0);return{type:"text",raw:e,text:e}}return w(i,e,i[0],this.lexer)}}emStrong(e,t,i=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(n&&(!n[3]||!i.match(/[\p{L}\p{N}]/u))&&(!n[1]&&!n[2]||!i||this.rules.inline.punctuation.exec(i))){const i=[...n[0]].length-1;let s,a,r=i,o=0;const l="*"===n[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+i);null!=(n=l.exec(t));){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(a=[...s].length,n[3]||n[4]){r+=a;continue}if((n[5]||n[6])&&i%3&&!((i+a)%3)){o+=a;continue}if(r-=a,r>0)continue;a=Math.min(a,a+r+o);const t=[...n[0]][0].length,l=e.slice(0,i+n.index+t+a);if(Math.min(i,a)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const d=l.slice(2,-2);return{type:"strong",raw:l,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const i=/[^ ]/.test(e),n=/^ /.test(e)&&/ $/.test(e);return i&&n&&(e=e.substring(1,e.length-1)),e=p(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,i;return"@"===t[2]?(e=p(t[1]),i="mailto:"+e):(e=p(t[1]),i=e),{type:"link",raw:t[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,s;if("@"===t[2])e=p(t[0]),s="mailto:"+e;else{let a;do{var i,n;a=t[0],t[0]=null!==(i=null===(n=this.rules.inline._backpedal.exec(t[0]))||void 0===n?void 0:n[0])&&void 0!==i?i:""}while(a!==t[0]);e=p(t[0]),s="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:s,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:p(t[0]),{type:"text",raw:t[0],text:e}}}}const _=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,I=/(?:[*+-]|\d{1,9}[.)])/,T=g(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,I).getRegex(),O=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,C=/(?!\s*\])(?:\\.|[^\[\]\\])+/,x=g(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",C).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),j=g(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,I).getRegex(),E="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",D=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,N=g("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",D).replace("tag",E).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),A=g(O).replace("hr",_).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E).getRegex(),P={blockquote:g(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",A).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:x,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:_,html:N,lheading:T,list:j,newline:/^(?: *(?:\n|$))+/,paragraph:A,table:b,text:/^[^\n]+/},F=g("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",_).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E).getRegex(),L={...P,table:F,paragraph:g(O).replace("hr",_).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",F).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E).getRegex()},R={...P,html:g("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",D).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:b,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:g(O).replace("hr",_).replace("heading"," *#{1,6} *[^\n]").replace("lheading",T).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},q=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$=/^( {2,}|\\)\n(?!\s*$)/,B=g(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,"\\p{P}\\p{S}").getRegex(),M=g(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,"\\p{P}\\p{S}").getRegex(),V=g("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,"\\p{P}\\p{S}").getRegex(),U=g("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,"\\p{P}\\p{S}").getRegex(),G=g(/\\([punct])/,"gu").replace(/punct/g,"\\p{P}\\p{S}").getRegex(),W=g(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),H=g(D).replace("(?:--\x3e|$)","--\x3e").getRegex(),z=g("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",H).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),K=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Q=g(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",K).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Y=g(/^!?\[(label)\]\[(ref)\]/).replace("label",K).replace("ref",C).getRegex(),J=g(/^!?\[(ref)\](?:\[\])?/).replace("ref",C).getRegex(),X=g("reflink|nolink(?!\\()","g").replace("reflink",Y).replace("nolink",J).getRegex(),Z={_backpedal:b,anyPunctuation:G,autolink:W,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:$,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:b,emStrongLDelim:M,emStrongRDelimAst:V,emStrongRDelimUnd:U,escape:q,link:Q,nolink:J,punctuation:B,reflink:Y,reflinkSearch:X,tag:z,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:b},ee={...Z,link:g(/^!?\[(label)\]\((.*?)\)/).replace("label",K).getRegex(),reflink:g(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",K).getRegex()},te={...Z,escape:g(q).replace("])","~|])").getRegex(),url:g(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ie={...te,br:g($).replace("{2,}","*").getRegex(),text:g(te.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ne={normal:P,gfm:L,pedantic:R},se={normal:Z,gfm:te,breaks:ie,pedantic:ee};class ae{constructor(t){a(this,"tokens",void 0),a(this,"options",void 0),a(this,"state",void 0),a(this,"tokenizer",void 0),a(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new S,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={block:ne.normal,inline:se.normal};this.options.pedantic?(i.block=ne.pedantic,i.inline=se.pedantic):this.options.gfm&&(i.block=ne.gfm,this.options.breaks?i.inline=se.breaks:i.inline=se.gfm),this.tokenizer.rules=i}static get rules(){return{block:ne,inline:se}}static lex(e,t){return new ae(t).lex(e)}static lexInline(e,t){return new ae(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){var i=this;let n,s,a,r;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(function(e,t,i){return t+"    ".repeat(i.length)}));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(s){return!!(n=s.call({lexer:i},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?t.push(n):(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(s.raw+="\n"+n.raw,s.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(a=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startBlock.forEach((function(e){s=e.call({lexer:i},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(a)))s=t[t.length-1],r&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n),r=a.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var i=this;let n,s,a,r,o,l,d=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(d));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(d));)d=d.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(d));)d=d.slice(0,r.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(l=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(s){return!!(n=s.call({lexer:i},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)}))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,d,l))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(a=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startInline.forEach((function(e){s=e.call({lexer:i},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(a))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),o=!0,s=t[t.length-1],s&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class re{constructor(t){a(this,"options",void 0),this.options=t||e.defaults}code(e,t,i){var n;const s=null===(n=(t||"").match(/^\S*/))||void 0===n?void 0:n[0];return e=e.replace(/\n$/,"")+"\n",s?'<pre><code class="language-'+p(s)+'">'+(i?e:p(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:p(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,i){const n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"}listitem(e,t,i){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const n=v(e);if(null===n)return i;let s='<a href="'+(e=n)+'"';return t&&(s+=' title="'+t+'"'),s+=">"+i+"</a>",s}image(e,t,i){const n=v(e);if(null===n)return i;let s=`<img src="${e=n}" alt="${i}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}}class oe{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class le{constructor(t){a(this,"options",void 0),a(this,"renderer",void 0),a(this,"textRenderer",void 0),this.options=t||e.defaults,this.options.renderer=this.options.renderer||new re,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new oe}static parse(e,t){return new le(t).parse(e)}static parseInline(e,t){return new le(t).parseInline(e)}parse(e,t=!0){let i="";for(let n=0;n<e.length;n++){const s=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const e=s,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){i+=t||"";continue}}switch(s.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":{const e=s;i+=this.renderer.heading(this.parseInline(e.tokens),e.depth,m(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=s;i+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=s;let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(n);let a="";for(let t=0;t<e.rows.length;t++){const i=e.rows[t];n="";for(let t=0;t<i.length;t++)n+=this.renderer.tablecell(this.parseInline(i[t].tokens),{header:!1,align:e.align[t]});a+=this.renderer.tablerow(n)}i+=this.renderer.table(t,a);continue}case"blockquote":{const e=s,t=this.parse(e.tokens);i+=this.renderer.blockquote(t);continue}case"list":{const e=s,t=e.ordered,n=e.start,a=e.loose;let r="";for(let t=0;t<e.items.length;t++){const i=e.items[t],n=i.checked,s=i.task;let o="";if(i.task){const e=this.renderer.checkbox(!!n);a?i.tokens.length>0&&"paragraph"===i.tokens[0].type?(i.tokens[0].text=e+" "+i.tokens[0].text,i.tokens[0].tokens&&i.tokens[0].tokens.length>0&&"text"===i.tokens[0].tokens[0].type&&(i.tokens[0].tokens[0].text=e+" "+i.tokens[0].tokens[0].text)):i.tokens.unshift({type:"text",text:e+" "}):o+=e+" "}o+=this.parse(i.tokens,a),r+=this.renderer.listitem(o,s,!!n)}i+=this.renderer.list(r,t,n);continue}case"html":{const e=s;i+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=s;i+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let a=s,r=a.tokens?this.parseInline(a.tokens):a.text;for(;n+1<e.length&&"text"===e[n+1].type;)a=e[++n],r+="\n"+(a.tokens?this.parseInline(a.tokens):a.text);i+=t?this.renderer.paragraph(r):r;continue}default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let n=0;n<e.length;n++){const s=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const e=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=e||"";continue}}switch(s.type){case"escape":{const e=s;i+=t.text(e.text);break}case"html":{const e=s;i+=t.html(e.text);break}case"link":{const e=s;i+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=s;i+=t.image(e.href,e.title,e.text);break}case"strong":{const e=s;i+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=s;i+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=s;i+=t.codespan(e.text);break}case"br":i+=t.br();break;case"del":{const e=s;i+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=s;i+=t.text(e.text);break}default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return i}}class de{constructor(t){a(this,"options",void 0),this.options=t||e.defaults}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}a(de,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ce=new WeakSet,ue=new WeakSet;class pe{constructor(...e){n(this,ue),n(this,ce),a(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),a(this,"options",this.setOptions),a(this,"parse",s(this,ce,he).call(this,ae.lex,le.parse)),a(this,"parseInline",s(this,ce,he).call(this,ae.lexInline,le.parseInline)),a(this,"Parser",le),a(this,"Renderer",re),a(this,"TextRenderer",oe),a(this,"Lexer",ae),a(this,"Tokenizer",S),a(this,"Hooks",de),this.use(...e)}walkTokens(e,t){var i=this;let n=[];for(const a of e)switch(n=n.concat(t.call(this,a)),a.type){case"table":{const e=a;for(const i of e.header)n=n.concat(this.walkTokens(i.tokens,t));for(const i of e.rows)for(const e of i)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=a;n=n.concat(this.walkTokens(e.items,t));break}default:{var s;const e=a;null!==(s=this.defaults.extensions)&&void 0!==s&&null!==(s=s.childTokens)&&void 0!==s&&s[e.type]?this.defaults.extensions.childTokens[e.type].forEach((function(s){const a=e[s].flat(1/0);n=n.concat(i.walkTokens(a,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){var t=this;const i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((function(e){const n={...e};if(n.async=t.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if("renderer"in e){const t=i.renderers[e.name];i.renderers[e.name]=t?function(...i){let n=e.renderer.apply(this,i);return!1===n&&(n=t.apply(this,i)),n}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const t=i[e.level];t?t.unshift(e.tokenizer):i[e.level]=[e.tokenizer],e.start&&("block"===e.level?i.startBlock?i.startBlock.push(e.start):i.startBlock=[e.start]:"inline"===e.level&&(i.startInline?i.startInline.push(e.start):i.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(i.childTokens[e.name]=e.childTokens)})),n.extensions=i),e.renderer){const i=t.defaults.renderer||new re(t.defaults);for(const t in e.renderer){if(!(t in i))throw new Error(`renderer '${t}' does not exist`);if("options"===t)continue;const n=t,s=e.renderer[n],a=i[n];i[n]=function(...e){let t=s.apply(i,e);return!1===t&&(t=a.apply(i,e)),t||""}}n.renderer=i}if(e.tokenizer){const i=t.defaults.tokenizer||new S(t.defaults);for(const t in e.tokenizer){if(!(t in i))throw new Error(`tokenizer '${t}' does not exist`);if(["options","rules","lexer"].includes(t))continue;const n=t,s=e.tokenizer[n],a=i[n];i[n]=function(...e){let t=s.apply(i,e);return!1===t&&(t=a.apply(i,e)),t}}n.tokenizer=i}if(e.hooks){const i=t.defaults.hooks||new de;for(const n in e.hooks){if(!(n in i))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const s=n,a=e.hooks[s],r=i[s];de.passThroughHooks.has(n)?i[s]=function(e){if(t.defaults.async)return Promise.resolve(a.call(i,e)).then((function(e){return r.call(i,e)}));const n=a.call(i,e);return r.call(i,n)}:i[s]=function(...e){let t=a.apply(i,e);return!1===t&&(t=r.apply(i,e)),t}}n.hooks=i}if(e.walkTokens){const i=t.defaults.walkTokens,s=e.walkTokens;n.walkTokens=function(e){let t=[];return t.push(s.call(this,e)),i&&(t=t.concat(i.call(this,e))),t}}t.defaults={...t.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ae.lex(e,null!=t?t:this.defaults)}parser(e,t){return le.parse(e,null!=t?t:this.defaults)}}function he(e,t){var i=this;return function(n,a){const r={...a},o={...i.defaults,...r};!0===i.defaults.async&&!1===r.async&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=s(i,ue,me).call(i,!!o.silent,!!o.async);if(null==n)return l(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then((function(t){return e(t,o)})).then((function(e){return o.hooks?o.hooks.processAllTokens(e):e})).then((function(e){return o.walkTokens?Promise.all(i.walkTokens(e,o.walkTokens)).then((function(){return e})):e})).then((function(e){return t(e,o)})).then((function(e){return o.hooks?o.hooks.postprocess(e):e})).catch(l);try{o.hooks&&(n=o.hooks.preprocess(n));let s=e(n,o);o.hooks&&(s=o.hooks.processAllTokens(s)),o.walkTokens&&i.walkTokens(s,o.walkTokens);let a=t(s,o);return o.hooks&&(a=o.hooks.postprocess(a)),a}catch(e){return l(e)}}}function me(e,t){return function(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+p(i.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(i);throw i}}const fe=new pe;function ge(e,t){return fe.parse(e,t)}ge.options=ge.setOptions=function(e){return fe.setOptions(e),ge.defaults=fe.defaults,i(ge.defaults),ge},ge.getDefaults=t,ge.defaults=e.defaults,ge.use=function(...e){return fe.use(...e),ge.defaults=fe.defaults,i(ge.defaults),ge},ge.walkTokens=function(e,t){return fe.walkTokens(e,t)},ge.parseInline=fe.parseInline,ge.Parser=le,ge.parser=le.parse,ge.Renderer=re,ge.TextRenderer=oe,ge.Lexer=ae,ge.lexer=ae.lex,ge.Tokenizer=S,ge.Hooks=de,ge.parse=ge;const ve=ge.options,be=ge.setOptions,ye=ge.use,ke=ge.walkTokens,we=ge.parseInline,Se=ge,_e=le.parse,Ie=ae.lex;e.Hooks=de,e.Lexer=ae,e.Marked=pe,e.Parser=le,e.Renderer=re,e.TextRenderer=oe,e.Tokenizer=S,e.getDefaults=t,e.lexer=Ie,e.marked=ge,e.options=ve,e.parse=Se,e.parseInline=we,e.parser=_e,e.setOptions=be,e.use=ye,e.walkTokens=ke}(t)},Idy0:function(e,t,i){var n=i("4ips"),s=i("Opi0"),a=i("dA+0"),r=i("QFSp"),o=s((function(e){return a(n(e,1,r,!0))}));e.exports=o},IsdW:function(e,t,i){"use strict";var n=i("yi8e");t.a={computed:{...Object(n.d)(["getNoteableDataByProp"]),isProjectArchived(){return this.getNoteableDataByProp("is_project_archived")},archivedProjectDocsPath(){return this.getNoteableDataByProp("archived_project_docs_path")},lockedIssueDocsPath(){return this.getNoteableDataByProp("locked_discussion_docs_path")}},methods:{isLocked:e=>Boolean(e.discussion_locked)}}},IwtM:function(e,t,i){"use strict";var n=i("yi8e"),s=i("+FvQ"),a=i("pIt4"),r=i("jlnU"),o=i("4UiK"),l=i("/lV4"),d=i("z3Iu"),c=i("Kuu+");t.a={computed:{...Object(n.f)({noteableData:function(e){return e.notes.noteableData},notesData:function(e){return e.notes.notesData},withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}}),...Object(n.d)("diffs",["getDiffFileByHash"]),...Object(n.d)("batchComments",["shouldRenderDraftRowInDiscussion","draftForDiscussion"]),...Object(n.f)("diffs",["commit","showWhitespace"])},methods:{...Object(n.c)("diffs",["cancelCommentForm","toggleFileCommentForm"]),...Object(n.c)("batchComments",["addDraftToReview","saveDraft","insertDraftIntoDrafts"]),addReplyToReview(e,t,i,n){var a=this;const o=Object(s.b)({in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,notesData:this.notesData,draft_note:{note:e,resolve_discussion:t}});this.discussion.for_commit&&(o.note_project_id=this.discussion.project_id),this.saveDraft(o).then((function(){a.isReplying=!1,a.handleClearForm(a.discussion.line_code)})).catch((function(e){var t;const s=null==e||null===(t=e.data)||void 0===t?void 0:t.errors,a=s?Object(l.h)(c.k,{reason:s}):c.m;Object(r.createAlert)({message:a,parent:i}),n()}))},addToReview(e,t=null,i,n){var o,u=this;const p=this.line&&this.commentLineStart&&Object(d.b)(this.commentLineStart,this.line)||{},h=t||(this.diffFileCommentForm?a.G:a.hb),m=this.diffFile||this.file,f=Object(s.a)({note:e,notesData:this.notesData,noteableData:this.noteableData,noteableType:this.noteableType,noteTargetLine:this.noteTargetLine,diffViewType:this.diffViewType,diffFile:m,linePosition:this.position,positionType:h,...this.diffFileCommentForm,lineRange:p,showWhitespace:this.showWhitespace}),g=this.commit&&(null==m||null===(o=m.diff_refs)||void 0===o?void 0:o.head_sha);return f.data.note.commit_id=g||null,this.saveDraft(f).then((function(){var e;h===a.G?u.closeDiffFileCommentForm(u.diffFileHash):null!==(e=u.line)&&void 0!==e&&e.line_code?u.handleClearForm(u.line.line_code):h===a.F&&u.toggleFileCommentForm(m.file_path)})).catch((function(e){var t;const s=null==e||null===(t=e.data)||void 0===t?void 0:t.errors,a=s?Object(l.h)(c.k,{reason:s}):c.m;Object(r.createAlert)({message:a,parent:i}),n()}))},handleClearForm(e){var t=this;this.cancelCommentForm({lineCode:e,fileHash:this.diffFileHash}),this.$nextTick((function(){t.autosaveKey?Object(o.a)(t.autosaveKey):t.resetAutoSave()}))},showDraft(e){return this.withBatchComments&&this.shouldRenderDraftRowInDiscussion(e)}}}},J0jI:function(e,t,i){var n=i("JIXF"),s=i("lxj7"),a=i("rhmX"),r=i("qxsN");e.exports=function(e,t,i){return e=a(e),void 0===(t=i?void 0:t)?s(e)?r(e):n(e):e.match(t)||[]}},"J6+Z":function(e,t,i){"use strict";var n=i("EldY"),s=i("XBTk"),a=i("/CIc"),r=i("Pyw5"),o=i.n(r);const l={[s.G.primary]:"gl-progress-bar-primary",[s.G.success]:"gl-progress-bar-success",[s.G.danger]:"gl-progress-bar-danger",[s.G.warning]:"gl-progress-bar-warning"};const d={name:"GlProgressBar",props:{ariaLabel:{type:String,required:!1,default:Object(n.b)("GlProgressBar.ariaLabel","Progress bar")},value:{type:[Number,String],required:!1,default:0},variant:{type:String,required:!1,default:"primary",validator:e=>Object.keys(s.G).includes(e)},max:{type:[Number,String],required:!1,default:100},height:{type:String,required:!1,default:null}},computed:{progressHeight(){return{height:this.height}},computedValue(){return Object(a.e)(this.value,0)},computedMax(){const e=Object(a.e)(this.max,100);return e>0?e:100},progressBarStyles(){return{transform:`scaleX(${this.computedValue/this.computedMax})`}},classes(){return["gl-progress",l[this.variant]]}}};const c=o()({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gl-progress-bar progress",style:this.progressHeight},[t("div",{class:this.classes,style:this.progressBarStyles,attrs:{role:"progressbar","aria-label":this.ariaLabel,"aria-valuemin":"0","aria-valuemax":String(this.computedMax),"aria-valuenow":this.computedValue}})])},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},J6s1:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResolvedStatus"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Discussion"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:130}};i.loc.source={body:"fragment ResolvedStatus on Discussion {\n  id\n  resolvable\n  resolved\n  resolvedAt\n  resolvedBy {\n    id\n    name\n    webUrl\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.ResolvedStatus=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"ResolvedStatus")},J7NB:function(e,t,i){"use strict";var n=i("7xOh");t.a=Object(n.a)()},JCWm:function(e,t,i){"use strict";var n=i("h7kv"),s=i.n(n),a=i("SNRI"),r=i("3twG");var o={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0,required:!1},innerCssClasses:{type:[Array,Object,String],required:!1,default:""}},data:()=>({width:0,height:0,renderedWidth:0,renderedHeight:0}),computed:{fileSizeReadable(){return Object(a.f)(this.fileSize)},hasFileSize(){return this.fileSize>0},hasDimensions(){return this.width&&this.height},safePath(){return this.path.startsWith("blob:")?this.path:Object(r.j)(this.path)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted(){this.onImgLoad(),this.resizeThrottled=s()(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize(){var e=this;const{contentImg:t}=this.$refs;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick((function(){e.renderedWidth=t.clientWidth,e.renderedHeight=t.clientHeight,e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})})))}}},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-testid":"image-viewer"}},[t("div",{staticClass:"position-relative",class:e.innerCssClasses},[t("img",{ref:"contentImg",attrs:{src:e.safePath},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay",null,{renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})],2),e._v(" "),e.renderInfo?t("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v(" | ")]:e._e(),e._v(" "),e.hasDimensions?[t("strong",[e._v(e._s(e.s__("ImageViewerDimensions|W")))]),e._v(": "+e._s(e.width)+" | "),t("strong",[e._v(e._s(e.s__("ImageViewerDimensions|H")))]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])}),[],!1,null,null,null);t.a=d.exports},JIXF:function(e,t){var i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(i)||[]}},JTix:function(e,t,i){"use strict";i("UezY"),i("z6RN"),i("hG7+");var n=i("dsWN"),s=i("oCX2"),a=i("/lV4"),r=i("2ibD"),o=i("4UiK"),l=i("3twG"),d=i("CqXh"),c=i("5c3i"),u=i("IeAI"),p=i("0ENF");async function h(e,t=10,i=2e3){if(i<=0)return null;const n=e();return n||(await async function(e=10){return new Promise((function(t){setTimeout(t,e)}))}(t),h(e,i-t))}var m={components:{GlAlert:n.a,MarkdownField:u.a,LocalStorageSync:d.a,ContentEditor:function(){return Promise.all([i.e(228),i.e(51),i.e(230),i.e(837),i.e(262)]).then(i.bind(null,"Er7F"))}},props:{value:{type:String,required:!0},setFacade:{type:Function,required:!1,default:null},renderMarkdownPath:{type:String,required:!0},uploadsPath:{type:String,required:!1,default:function(){return window.uploads_path||""}},enableContentEditor:{type:Boolean,required:!1,default:!0},formFieldProps:{type:Object,required:!0},autofocus:{type:Boolean,required:!1,default:!1},enableAutocomplete:{type:Boolean,required:!1,default:!0},autocompleteDataSources:{type:Object,required:!1,default:function(){return{}}},supportsQuickActions:{type:Boolean,required:!1,default:!1},autosaveKey:{type:String,required:!1,default:null},markdownDocsPath:{type:String,required:!1,default:""},drawioEnabled:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},disableAttachments:{type:Boolean,required:!1,default:!1},codeSuggestionsConfig:{type:Object,required:!1,default:function(){return{}}},noteableType:{type:String,required:!1,default:""},restrictedToolBarItems:{type:Array,required:!1,default:function(){return[]}},restoreFromAutosave:{type:Boolean,required:!1,default:!1}},data(){var e;let t;switch(null===(e=window.gon)||void 0===e?void 0:e.text_editor){case"rich_text_editor":t=c.f;break;case"plain_text_editor":t=c.h;break;default:t=localStorage.getItem(this.$options.EDITING_MODE_KEY)||c.h}const i=this.autosaveKey?Object(o.c)(this.autosaveKey):"";return{alert:null,markdown:(this.restoreFromAutosave?i:this.value)||i||"",editingMode:t,autofocused:!1}},computed:{isContentEditorActive(){return this.enableContentEditor&&this.editingMode===c.f},contentEditorAutofocused(){return!(!this.autofocus||this.autofocused)&&"end"},markdownFieldRestrictedToolBarItems(){const e=this.disableAttachments?["attach-file"]:[];return[...this.restrictedToolBarItems,...e]},isDefaultEditorEnabled(){var e;return["plain_text_editor","rich_text_editor"].includes(null===(e=window.gon)||void 0===e?void 0:e.text_editor)}},watch:{value:"updateValue"},mounted(){var e,t=this;this.autofocusTextarea(),this.$emit("input",this.markdown),this.saveDraft(),null===(e=this.setFacade)||void 0===e||e.call(this,{getValue:function(){return t.getValue()},setValue:function(e){return t.setValue(e)}}),p.a.$on(c.b,this.clearDraft)},beforeDestroy(){p.a.$off(c.b,this.clearDraft)},methods:{getValue(){return this.markdown},setValue(e){this.$emit("input",e),this.updateValue(e)},updateValue(e){this.markdown=e,this.saveDraft(),this.autosizeTextarea()},append(e){var t=this;if(!e)return void this.focus();const i=[this.markdown.trim(),e].filter(Boolean).join("\n\n");this.updateValue(i+"\n\n"),this.$nextTick((function(){t.focus()}))},setTemplate(e,t=!1){var i=this;if(!this.markdown||t)this.setValue(e);else{const t=function(){i.alert=null};this.alert={message:this.$options.i18n.applyTemplateAlert.message,variant:"warning",primaryButtonText:this.$options.i18n.applyTemplateAlert.primaryButtonText,secondaryButtonText:this.$options.i18n.applyTemplateAlert.secondaryButtonText,primaryAction:function(){i.setValue(e,!0),t()},secondaryAction:t,dismiss:t}}},updateMarkdownFromContentEditor({markdown:e}){this.markdown=e,this.$emit("input",e),this.saveDraft()},updateMarkdownFromMarkdownField({target:e}){this.markdown=e.value,this.$emit("input",e.value),this.saveDraft()},renderMarkdown(e){const t=Object(l.L)({render_quick_actions:this.supportsQuickActions},Object(l.A)(window.location.origin,this.renderMarkdownPath));return r.a.post(t,{text:e}).then((function({data:{html:e,body:t,...i}={}}={}){return{body:t||e,...i}}))},onEditingModeChange(e){this.editingMode=e,this.notifyEditingModeChange(e)},onEditingModeRestored(e){this.isDefaultEditorEnabled&&(e!==c.f||this.enableContentEditor?(this.editingMode=e,this.$emit(e),this.notifyEditingModeChange(e)):this.editingMode=c.h)},async notifyEditingModeChange(e){var t=this;this.$emit(e);const i=e===c.f?function(){return t.$refs.contentEditor}:function(){return t.$refs.textarea};(await h(i)).focus()},autofocusTextarea(){this.autofocus&&this.editingMode===c.h&&(this.$refs.textarea.focus(),this.setEditorAsAutofocused())},focus(){this.editingMode===c.h?this.$refs.textarea.focus():this.$refs.contentEditor.focus()},setEditorAsAutofocused(){this.autofocused=!0},saveDraft(){this.autosaveKey&&(this.markdown?Object(o.e)(this.autosaveKey,this.markdown):Object(o.a)(this.autosaveKey))},clearDraft(e){this.autosaveKey&&e===this.autosaveKey&&Object(o.a)(this.autosaveKey)},togglePreview(e){this.editingMode===c.h&&(this.$refs.markdownField.previewMarkdown=e)},autosizeTextarea(){var e=this;this.editingMode===c.h&&this.$nextTick((function(){s.a.update(e.$refs.textarea)}))},onKeydown(e){(e.ctrlKey||e.metaKey)&&"k"===e.key&&e.preventDefault(),this.$emit("keydown",e)}},EDITING_MODE_KEY:c.g,i18n:{applyTemplateAlert:{message:Object(a.a)("Applying a template will replace the existing content. Any changes you have made will be lost."),primaryButtonText:Object(a.a)("Apply template"),secondaryButtonText:Object(a.a)("Cancel")}}},f=i("tBpV"),g=Object(f.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"md-area-wrapper gl-rounded-lg !gl-px-0"},[e.isDefaultEditorEnabled?e._e():t("local-storage-sync",{attrs:{value:e.editingMode,"as-string":"","storage-key":e.$options.EDITING_MODE_KEY},on:{input:e.onEditingModeRestored}}),e._v(" "),e.alert?t("gl-alert",{staticClass:"gl-mb-4",attrs:{variant:e.alert.variant,"primary-button-text":e.alert.primaryButtonText,"secondary-button-text":e.alert.secondaryButtonText},on:{primaryAction:e.alert.primaryAction,secondaryAction:e.alert.secondaryAction,dismiss:e.alert.dismiss}},[e._v("\n    "+e._s(e.alert.message)+"\n  ")]):e._e(),e._v(" "),e.isContentEditorActive?t("div",[t("content-editor",{ref:"contentEditor",attrs:{"render-markdown":e.renderMarkdown,"markdown-docs-path":e.markdownDocsPath,"uploads-path":e.uploadsPath,markdown:e.markdown,"supports-quick-actions":e.supportsQuickActions,autofocus:e.contentEditorAutofocused,placeholder:e.formFieldProps.placeholder,"drawio-enabled":e.drawioEnabled,"enable-autocomplete":e.enableAutocomplete,"autocomplete-data-sources":e.autocompleteDataSources,editable:!e.disabled,"disable-attachments":e.disableAttachments,"code-suggestions-config":e.codeSuggestionsConfig,"data-testid":e.formFieldProps["data-testid"]||"markdown-editor-form-field"},on:{initialized:e.setEditorAsAutofocused,change:e.updateMarkdownFromContentEditor,keydown:e.onKeydown,enableMarkdownEditor:function(t){return e.onEditingModeChange("markdownField")}},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[e._t("header-buttons")]},proxy:!0},{key:"toolbar",fn:function(){return[e._t("toolbar")]},proxy:!0}],null,!0)}),e._v(" "),t("input",e._b({attrs:{type:"hidden"},domProps:{value:e.markdown}},"input",e.formFieldProps,!1))],1):t("markdown-field",e._b({ref:"markdownField",attrs:{"data-testid":"markdown-field","markdown-preview-path":e.renderMarkdownPath,"can-attach-file":!e.disableAttachments,"can-suggest":e.codeSuggestionsConfig.canSuggest,line:e.codeSuggestionsConfig.line,lines:e.codeSuggestionsConfig.lines,"show-suggest-popover":e.codeSuggestionsConfig.showPopover,"textarea-value":e.markdown,"uploads-path":e.uploadsPath,"enable-autocomplete":e.enableAutocomplete,"autocomplete-data-sources":e.autocompleteDataSources,"markdown-docs-path":e.markdownDocsPath,"supports-quick-actions":e.supportsQuickActions,"show-content-editor-switcher":e.enableContentEditor,"drawio-enabled":e.drawioEnabled,"restricted-tool-bar-items":e.markdownFieldRestrictedToolBarItems,"remove-border":!0},on:{enableContentEditor:function(t){return e.onEditingModeChange("contentEditor")},handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[e._t("header-buttons")]},proxy:!0},{key:"toolbar",fn:function(){return[e._t("toolbar")]},proxy:!0},{key:"textarea",fn:function(){return[t("textarea",e._b({ref:"textarea",staticClass:"note-textarea js-gfm-input markdown-area",attrs:{dir:"auto","data-can-suggest":e.codeSuggestionsConfig.canSuggest,"data-noteable-type":e.noteableType,"data-supports-quick-actions":e.supportsQuickActions,"data-testid":e.formFieldProps["data-testid"]||"markdown-editor-form-field",disabled:e.disabled},domProps:{value:e.markdown},on:{input:e.updateMarkdownFromMarkdownField,keydown:function(t){return e.$emit("keydown",t)}}},"textarea",e.formFieldProps,!1))]},proxy:!0}],null,!0)},"markdown-field",e.$attrs,!1))],1)}),[],!1,null,null,null);t.a=g.exports},KRoI:function(e,t,i){"use strict";var n=i("Tmea"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("UezY"),i("z6RN"),i("hG7+"),i("RFHG"),i("xuo1"),i("aFm2"),i("R9qC"),i("v2fZ"),i("B++/"),i("47t/"),i("vDPP")),r=i("Yyc1"),o=i("koWC"),l=i("wP8z"),d=i("iN9h"),c=i("FkSe"),u=i("z1xw"),p=i("/lV4"),h=i("7fz4"),m=i("AxUD"),f=i("GuZl"),g=i("d6eQ"),v=i("4wgn"),b=i("FxFN"),y={i18n:{unassigned:Object(p.a)("Unassigned")},components:{GlDropdownForm:a.a,GlDropdown:r.a,GlDropdownDivider:o.a,GlDropdownItem:l.a,GlSearchBoxByType:d.a,SidebarParticipant:h.a,GlLoadingIcon:c.a},directives:{GlTooltip:u.a},props:{headerText:{type:String,required:!0},text:{type:String,required:!0},fullPath:{type:String,required:!0},iid:{type:String,required:!1,default:null},value:{type:Array,required:!0},allowMultipleAssignees:{type:Boolean,required:!1,default:!1},currentUser:{type:Object,required:!0},issuableType:{type:String,required:!1,default:m.p},isEditing:{type:Boolean,required:!1,default:!0},issuableId:{type:Number,required:!1,default:null},issuableAuthor:{type:Object,required:!1,default:null}},data:()=>({search:"",participants:[],searchUsers:[],isSearching:!1}),apollo:{participants:{query(){return g.h[this.issuableType].query},skip(){return Boolean(g.h[this.issuableType].skipQuery)||!this.isEditing||!this.iid},variables(){return{iid:this.iid,fullPath:this.fullPath,getStatus:!0}},update(e){var t;return null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.participants.nodes.map((function(e){return{...e,canMerge:!1}}))},error(){this.$emit("error")}},searchUsers:{query(){return g.p[this.issuableType].query},variables(){return this.searchUsersVariables},skip(){return!this.isEditing},update(e){var t;return(null===(t=e.workspace)||void 0===t?void 0:t.users.filter((function(e){return e})).map((function(e){var t;return{...e,canMerge:(null===(t=e.mergeRequestInteraction)||void 0===t?void 0:t.canMerge)||!1}})))||[]},error(){this.$emit("error"),this.isSearching=!1},result(){this.isSearching=!1}}},computed:{isMergeRequest(){return this.issuableType===m.q},searchUsersVariables(){const e={fullPath:this.fullPath,search:this.search,first:20};return this.isMergeRequest?{...e,mergeRequestId:Object(b.c)(v.x,this.issuableId)}:e},isLoading(){return this.$apollo.queries.searchUsers.loading||this.$apollo.queries.participants.loading},users(){var e,t=this;const i=(null===(e=this.participants)||void 0===e?void 0:e.filter((function(e){return e.name.includes(t.search)||e.username.includes(t.search)})))||[],n=this.searchUsers.concat(i).reduce((function(e,t){return e.some((function(e){return t.id===e.id}))?e:[...e,t]}),[]);return this.moveCurrentUserAndAuthorToStart(n)},isSearchEmpty(){return""===this.search},shouldShowParticipants(){return this.isSearchEmpty||this.isSearching},isCurrentUserInList(){var e=this;return this.users.some((function(t){return t.username===e.currentUser.username}))},noUsersFound(){return!this.isSearchEmpty&&0===this.users.length},showCurrentUser(){return this.currentUser.username&&!this.isCurrentUserInList&&this.isSearchEmpty},showAuthor(){var e=this;return this.issuableAuthor&&!this.users.some((function(t){return t.id===e.issuableAuthor.id}))&&this.isSearchEmpty},selectedFiltered(){if(this.shouldShowParticipants)return this.moveCurrentUserAndAuthorToStart(this.value);const e=this.users.map((function({username:e}){return e})),t=this.value.filter((function({username:t}){return e.includes(t)}));return this.moveCurrentUserAndAuthorToStart(t)},selectedUserNames(){return this.value.map((function({username:e}){return e}))},unselectedFiltered(){var e,t=this;return(null===(e=this.users)||void 0===e?void 0:e.filter((function({username:e}){return!t.selectedUserNames.includes(e)})))||[]},selectedIsEmpty(){return 0===this.selectedFiltered.length}},watch:{search(e){e&&(this.isSearching=!0)}},created(){this.debouncedSearchKeyUpdate=s()(this.setSearchKey,f.g)},methods:{selectAssignee(e){let t=[...this.value];this.allowMultipleAssignees?(t.push(e),this.$emit("input",t)):(t=[e],this.$emit("input",t),this.$refs.dropdown.hide(),this.$emit("toggle")),this.clearAndFocusSearch()},unassign(){this.$emit("input",[]),this.$refs.dropdown.hide()},unselect(e){const t=this.value.filter((function(t){return t.username!==e}));this.$emit("input",t),this.clearAndFocusSearch()},focusSearch(){this.$refs.search.focusInput()},showDropdown(){this.$refs.dropdown.show()},showDivider(e){return e.length>0&&this.isSearchEmpty},moveCurrentUserAndAuthorToStart(e=[]){var t=this;let i=[...e];const n=i.find((function(e){var i;return e.id===(null===(i=t.issuableAuthor)||void 0===i?void 0:i.id)}));n&&(i=[n,...i.filter((function(e){return e.id!==n.id}))]);const s=i.find((function(e){return e.username===t.currentUser.username}));return s&&(s.canMerge=this.currentUser.canMerge,i=[s,...i.filter((function(e){return e.id!==s.id}))]),i},setSearchKey(e){this.search=e.trim()},tooltipText(e){return this.isMergeRequest?e.canMerge?"":Object(p.a)("Cannot merge"):""},clearAndFocusSearch(){this.search="",this.focusSearch()}}},k=i("tBpV"),w=Object(k.a)(y,(function(){var e=this,t=e._self._c;return t("gl-dropdown",{ref:"dropdown",attrs:{text:e.text},on:{toggle:function(t){return e.$emit("toggle")},shown:e.focusSearch},scopedSlots:e._u([{key:"header",fn:function(){return[t("p",{staticClass:"gl-mb-4 gl-mt-2 gl-text-center gl-font-bold"},[e._v(e._s(e.headerText))]),e._v(" "),t("gl-dropdown-divider"),e._v(" "),t("gl-search-box-by-type",{ref:"search",attrs:{value:e.search,"data-testid":"user-search-input"},on:{input:e.debouncedSearchKeyUpdate}})]},proxy:!0},{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},[e._v(" "),t("gl-dropdown-form",{staticClass:"gl-relative gl-min-h-7"},[e.isLoading?t("gl-loading-icon",{staticClass:"gl-absolute gl-left-0 gl-right-0 gl-top-0",attrs:{"data-testid":"loading-participants",size:"md"}}):[e.shouldShowParticipants?[e.isSearchEmpty?t("gl-dropdown-item",{attrs:{"is-checked":e.selectedIsEmpty,"is-check-centered":"","data-testid":"unassign"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.unassign.apply(null,arguments)}}},[t("span",{staticClass:"gl-font-bold",class:e.selectedIsEmpty?"gl-pl-0":"gl-pl-6"},[e._v(e._s(e.$options.i18n.unassigned))])]):e._e()]:e._e(),e._v(" "),e.showDivider(e.selectedFiltered)?t("gl-dropdown-divider"):e._e(),e._v(" "),e._l(e.selectedFiltered,(function(i){return t("gl-dropdown-item",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],key:i.id,attrs:{title:e.tooltipText(i),boundary:"viewport","is-checked":"","is-check-centered":"","data-testid":"selected-participant"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.unselect(i.username)}}},[t("sidebar-participant",{attrs:{user:i,"issuable-type":e.issuableType,selected:""}})],1)})),e._v(" "),e.showCurrentUser?[t("gl-dropdown-divider"),e._v(" "),t("gl-dropdown-item",{attrs:{"data-testid":"current-user"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.selectAssignee(e.currentUser)}}},[t("sidebar-participant",{staticClass:"!gl-pl-6",attrs:{user:e.currentUser,"issuable-type":e.issuableType}})],1)]:e._e(),e._v(" "),e.showAuthor?t("gl-dropdown-item",{attrs:{"data-testid":"issuable-author"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.selectAssignee(e.issuableAuthor)}}},[t("sidebar-participant",{staticClass:"!gl-pl-6",attrs:{user:e.issuableAuthor,"issuable-type":e.issuableType}})],1):e._e(),e._v(" "),e._l(e.unselectedFiltered,(function(i){return t("gl-dropdown-item",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],key:i.id,attrs:{title:e.tooltipText(i),boundary:"viewport","data-testid":"unselected-participant"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.selectAssignee(i)}}},[t("sidebar-participant",{staticClass:"!gl-pl-6",attrs:{user:i,"issuable-type":e.issuableType}})],1)})),e._v(" "),e.noUsersFound?t("gl-dropdown-item",{staticClass:"!gl-pl-6",attrs:{"data-testid":"empty-results"}},[e._v("\n        "+e._s(e.__("No matching results"))+"\n      ")]):e._e()]],2)],1)}),[],!1,null,null,null);t.a=w.exports},Kq6u:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("EmJ/"),s=i.n(n);class a{constructor(e={}){this.cfg={callback:e.callback,startingInterval:e.startingInterval,maxInterval:e.maxInterval,hiddenInterval:e.hiddenInterval,incrementByFactorOf:e.incrementByFactorOf,lazyStart:e.lazyStart,immediateExecution:e.immediateExecution},this.state={intervalId:null,currentInterval:this.cfg.startingInterval,pagevisibile:!0},this.initInterval()}start(){var e=this;const{cfg:t,state:i}=this;t.immediateExecution&&!this.isLoading&&(t.immediateExecution=!1,this.triggerCallback()),i.intervalId=window.setInterval((function(){e.isLoading||(e.triggerCallback(),e.getCurrentInterval()!==t.maxInterval&&(e.incrementInterval(),e.resume()))}),this.getCurrentInterval())}cancel(){this.setCurrentInterval(this.cfg.startingInterval),this.stopTimer()}onVisibilityHidden(){this.cfg.hiddenInterval?(this.setCurrentInterval(this.cfg.hiddenInterval),this.resume()):this.cancel()}resume(){this.stopTimer(),this.start()}onVisibilityVisible(){this.cancel(),this.start()}destroy(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("blur",this.onWindowVisibilityChange),window.removeEventListener("focus",this.onWindowVisibilityChange),this.cancel(),s()(document).off("visibilitychange").off("beforeunload")}initInterval(){const{cfg:e}=this;e.lazyStart||this.start(),this.initVisibilityChangeHandling(),this.initPageUnloadHandling()}triggerCallback(){var e=this;this.isLoading=!0,this.cfg.callback().then((function(){e.isLoading=!1})).catch((function(t){throw e.isLoading=!1,t}))}onWindowVisibilityChange(e){this.state.pagevisibile="focus"===e.type,this.handleVisibilityChange()}onVisibilityChange(e){this.state.pagevisibile="visible"===e.target.visibilityState,this.handleVisibilityChange()}initVisibilityChangeHandling(){document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this)),window.addEventListener("blur",this.onWindowVisibilityChange.bind(this)),window.addEventListener("focus",this.onWindowVisibilityChange.bind(this))}initPageUnloadHandling(){var e=this;s()(document).on("beforeunload",(function(){return e.cancel()}))}handleVisibilityChange(){(this.isPageVisible()?this.onVisibilityVisible:this.onVisibilityHidden).apply(this)}getCurrentInterval(){return this.state.currentInterval}setCurrentInterval(e){this.state.currentInterval=e}incrementInterval(){const{cfg:e}=this,t=this.getCurrentInterval();if(e.hiddenInterval&&!this.isPageVisible())return;let i=t*e.incrementByFactorOf;i>e.maxInterval&&(i=e.maxInterval),this.setCurrentInterval(i)}isPageVisible(){return this.state.pagevisibile}stopTimer(){const{state:e}=this;e.intervalId=window.clearInterval(e.intervalId)}}},"Kuu+":function(e,t,i){"use strict";i.d(t,"e",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"n",(function(){return o})),i.d(t,"l",(function(){return l})),i.d(t,"b",(function(){return d})),i.d(t,"j",(function(){return c})),i.d(t,"a",(function(){return u})),i.d(t,"m",(function(){return p})),i.d(t,"k",(function(){return h})),i.d(t,"i",(function(){return m})),i.d(t,"h",(function(){return f})),i.d(t,"g",(function(){return g})),i.d(t,"f",(function(){return v}));var n=i("/lV4");Object(n.g)("MergeRequest|Can't fetch the diff needed to update this view. Please reload this page.");const s=Object(n.g)("MergeRequest|Can't fetch the single file diff for the discussion. Please reload this page."),a={optionsDropdownTitle:Object(n.a)("Options"),fileReviewLabel:Object(n.a)("Viewed"),fileReviewTooltip:Object(n.a)("Collapses this file (only for you) until itâs changed again.")},r={tooLarge:Object(n.g)("MRDiffFile|Changes are too large to be shown."),blobView:Object(n.g)("MRDiffFile|View file @ %{commitSha}"),editInFork:Object(n.a)("You're not allowed to %{tag_start}edit%{tag_end} files in this project directly. Please fork this project, make your changes there, and submit a merge request."),fork:Object(n.a)("Fork"),cancel:Object(n.a)("Cancel"),autoCollapsed:Object(n.a)("Files with large changes are collapsed by default."),autoCollapsedGenerated:Object(n.a)("Generated files are collapsed by default. To change this behavior, edit the %{tagStart}.gitattributes%{tagEnd} file. %{linkStart}Learn more.%{linkEnd}"),expand:Object(n.a)("Expand file")},o=Object(n.a)("Start another thread"),l={whitespace:Object(n.a)("Show whitespace changes"),fileByFile:Object(n.a)("Show one file at a time"),preferences:Object(n.a)("Preferences")},d={both_modified:Object(n.a)("Conflict: This file was modified in both the source and target branches."),modified_source_removed_target:Object(n.a)("Conflict: This file was modified in the source branch, but removed in the target branch."),modified_target_removed_source:Object(n.a)("Conflict: This file was removed in the source branch, but modified in the target branch."),renamed_same_file:Object(n.a)("Conflict: This file was renamed differently in the source and target branches."),removed_source_renamed_target:Object(n.a)("Conflict: This file was removed in the source branch, but renamed in the target branch."),removed_target_renamed_source:Object(n.a)("Conflict: This file was renamed in the source branch, but removed in the target branch."),both_added:Object(n.a)("Conflict: This file was added both in the source and target branches, but with different contents.")},c=Object(n.a)("Hide comments"),u=(Object(n.a)("New code quality findings"),Object(n.a)("New Security findings"),Object(n.a)("Building your merge requestâ¦ This page will update when the build is complete.")),p=Object(n.a)("Something went wrong on our end. Please try again!"),h=Object(n.g)("MergeRequests|Comment could not be submitted: %{reason}."),m=Object(n.g)("MergeRequest|Error loading full diff. Please try again."),f=Object(n.g)("MergeRequest|Error dismissing suggestion popover. Please try again."),g=Object(n.a)("Some changes are not shown."),v=Object(n.a)("Some files cannot be displayed due to their file path encoding.")},L3r5:function(e,t,i){"use strict";i.r(t);var n=i("Yyc1"),s=i("wP8z"),a=i("LkaW"),r=i("FkSe"),o=i("iN9h"),l=i("jlnU"),d=i("3twG"),c=i("/lV4"),u=i("W4cT"),p=i("n7CP"),h=i("CqXh"),m=i("bj3K"),f=i.n(m),g=i("qoeT"),v={i18n:{noMatchesFound:Object(c.a)("No matches found"),toggleButtonLabel:Object(c.a)("Toggle project select")},components:{GlDropdown:n.a,GlDropdownItem:s.a,GlDropdownText:a.a,GlLoadingIcon:r.a,GlSearchBoxByType:o.a,LocalStorageSync:h.a},props:{resourceType:{type:String,required:!1,default:g.c,validator:function(e){return g.b.includes(e)}},query:{type:Object,required:!1,default:function(){return f.a}},groupId:{type:String,required:!1,default:""},queryVariables:{type:Object,required:!1,default:function(){return{}}},extractProjects:{type:Function,required:!1,default:function(e){var t;return null==e||null===(t=e.projects)||void 0===t?void 0:t.nodes}},withLocalStorage:{type:Boolean,required:!1,default:!1}},data:()=>({projects:[],search:"",selectedProject:{},shouldSkipQuery:!0}),apollo:{projects:{query(){return this.query},variables(){return{search:this.search,...this.queryVariables}},update(e){return this.extractProjects(e)||[]},error(e){Object(l.createAlert)({message:Object(c.a)("An error occurred while loading projects."),captureError:!0,error:e})},skip(){return this.shouldSkipQuery},debounce:u.a}},computed:{localStorageKey(){return`group-${this.groupId}-new-${this.resourceType}-recent-project`},resourceOptions(){return g.a[this.resourceType]},defaultDropdownText(){return Object(c.h)(Object(c.a)("Select project to create %{type}"),{type:this.resourceOptions.label})},dropdownHref(){return this.hasSelectedProject?Object(d.A)(this.selectedProject.webUrl,d.a,this.resourceOptions.path):void 0},dropdownText(){return this.hasSelectedProject?Object(c.h)(Object(c.a)("New %{type} in %{project}"),{type:this.resourceOptions.label,project:this.selectedProject.name}):this.defaultDropdownText},hasSelectedProject(){return this.selectedProject.webUrl},showNoSearchResultsText(){return!this.projects.length&&this.search},canUseLocalStorage(){return this.withLocalStorage&&p.a.canUseLocalStorage()},selectedProjectForLocalStorage(){const{webUrl:e,name:t}=this.selectedProject;return{webUrl:e,name:t}}},methods:{handleDropdownClick(){this.dropdownHref||this.$refs.dropdown.show()},handleDropdownShown(){this.shouldSkipQuery&&(this.shouldSkipQuery=!1),this.$refs.search.focusInput()},selectProject(e){this.selectedProject=e},initFromLocalStorage(e){let t=e.webUrl||e.url;t=t.endsWith(this.resourceOptions.path)?t.slice(0,t.length-this.resourceOptions.path.length):t;const i=d.a+"/";t=t.endsWith(i)?t.slice(0,t.length-i.length):t,this.selectedProject={webUrl:t,name:e.name}}}},b=i("tBpV"),y=Object(b.a)(v,(function(){var e=this,t=e._self._c;return t("local-storage-sync",{attrs:{"storage-key":e.localStorageKey,value:e.selectedProjectForLocalStorage},on:{input:e.initFromLocalStorage}},[t("gl-dropdown",{ref:"dropdown",staticClass:"!gl-flex !gl-w-auto",attrs:{right:"",split:"","split-href":e.dropdownHref,text:e.dropdownText,"toggle-text":e.$options.i18n.toggleButtonLabel,variant:"confirm","data-testid":"new-resource-dropdown","toggle-class":"!gl-m-0 !gl-w-auto !gl-grow-0"},on:{click:e.handleDropdownClick,shown:e.handleDropdownShown}},[t("gl-search-box-by-type",{ref:"search",model:{value:e.search,callback:function(t){e.search="string"==typeof t?t.trim():t},expression:"search"}}),e._v(" "),e.$apollo.queries.projects.loading?t("gl-loading-icon"):[e._l(e.projects,(function(i){return t("gl-dropdown-item",{key:i.id,on:{click:function(t){return e.selectProject(i)}}},[e._v("\n        "+e._s(i.nameWithNamespace||i.name)+"\n      ")])})),e._v(" "),e.showNoSearchResultsText?t("gl-dropdown-text",[e._v("\n        "+e._s(e.$options.i18n.noMatchesFound)+"\n      ")]):e._e()]],2)],1)}),[],!1,null,null,null);t.default=y.exports},LK1c:function(e,t,i){var n=i("xJuT"),s=i("/NDV");e.exports=function(e,t){return e&&n(t,s(t),e)}},LL4O:function(e,t,i){"use strict";var n=i("s1D3"),s=i("30su"),a=i("A5dm"),r=i("DZUU"),o=i("Mp8J"),l=i("rK/1"),d=i("9dZE"),c={components:{ClipboardButton:l.a,FileIcon:d.a,GlIcon:n.a,GlSprintf:s.a,GlTruncate:a.a},directives:{GlTooltip:r.a,SafeHtml:o.a},props:{lines:{type:Array,required:!0},filePath:{type:String,required:!1,default:""},errorFn:{type:String,required:!1,default:""},errorLine:{type:Number,required:!1,default:0},errorColumn:{type:Number,required:!1,default:0},expanded:{type:Boolean,required:!1,default:!1}},data(){return{isExpanded:this.expanded}},computed:{hasCode(){return Boolean(this.lines.length)},collapseIcon(){return this.isExpanded?"chevron-down":"chevron-right"}},methods:{isHighlighted(e){return e===this.errorLine},toggle(){this.isExpanded=!this.isExpanded},lineNum:e=>e[0],lineCode:e=>e[1]},userColorScheme:window.gon.user_color_scheme},u=i("tBpV"),p={components:{StackTraceEntry:Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"file-holder"},[t("div",{ref:"header",staticClass:"file-title file-title-flex-parent"},[t("div",{staticClass:"file-header-content align-content-center overflow-hidden gl-flex gl-flex-wrap"},[e.hasCode?t("div",{staticClass:"cursor-pointer gl-inline-block",on:{click:function(t){return e.toggle()}}},[t("gl-icon",{staticClass:"gl-mr-2",attrs:{name:e.collapseIcon,size:16}})],1):e._e(),e._v(" "),e.filePath?[t("file-icon",{attrs:{"file-name":e.filePath,size:16,"aria-hidden":"true","css-classes":"gl-mr-2"}}),e._v(" "),t("strong",{staticClass:"file-title-name overflow-hidden limited-width gl-inline-block"},[t("gl-truncate",{attrs:{"with-tooltip":"",text:e.filePath,position:"middle"}})],1),e._v(" "),t("clipboard-button",{attrs:{title:e.__("Copy file path"),text:e.filePath,category:"tertiary",size:"small","css-class":"gl-mr-1"}})]:e._e(),e._v(" "),e.errorFn?t("gl-sprintf",{attrs:{message:e.__("%{spanStart}in%{spanEnd} %{errorFn}")},scopedSlots:e._u([{key:"span",fn:function({content:i}){return[t("span",{staticClass:"gl-text-subtle"},[e._v(e._s(i)+"Â ")])]}},{key:"errorFn",fn:function(){return[t("strong",[e._v(e._s(e.errorFn)+"Â ")])]},proxy:!0}],null,!1,2697789849)}):e._e(),e._v(" "),t("gl-sprintf",{attrs:{message:e.__("%{spanStart}at line%{spanEnd} %{errorLine}%{errorColumn}")},scopedSlots:e._u([{key:"span",fn:function({content:i}){return[t("span",{staticClass:"gl-text-subtle"},[e._v(e._s(i)+"Â ")])]}},{key:"errorLine",fn:function(){return[t("strong",[e._v(e._s(e.errorLine))])]},proxy:!0},{key:"errorColumn",fn:function(){return[e.errorColumn?t("strong",[e._v(":"+e._s(e.errorColumn))]):e._e()]},proxy:!0}])})],2)]),e._v(" "),e.isExpanded?t("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorScheme},[t("tbody",[e._l(e.lines,(function(i,n){return[t("tr",{key:"stacktrace-line-"+n,staticClass:"line_holder"},[t("td",{staticClass:"diff-line-num",class:{old:e.isHighlighted(e.lineNum(i))}},[e._v("\n            "+e._s(e.lineNum(i))+"\n          ")]),e._v(" "),t("td",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.lineCode(i),expression:"lineCode(line)"}],staticClass:"line_content",class:{old:e.isHighlighted(e.lineNum(i))}})])]}))],2)]):e._e()])}),[],!1,null,null,null).exports},props:{entries:{type:Array,required:!0}},methods:{isFirstEntry:e=>0===e}},h=Object(u.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"stacktrace"},e._l(e.entries,(function(i,n){return t("stack-trace-entry",{key:"stacktrace-entry-"+n,attrs:{lines:i.context,"file-path":i.filename||i.abs_path,"error-line":i.lineNo,"error-fn":i.function,"error-column":i.colNo,expanded:e.isFirstEntry(n)}})})),1)}),[],!1,null,null,null);t.a=h.exports},LPAU:function(e,t,i){"use strict";var n,s=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),r=[];function o(e){for(var t=-1,i=0;i<r.length;i++)if(r[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},n=[],s=0;s<e.length;s++){var a=e[s],l=t.base?a[0]+t.base:a[0],d=i[l]||0,c="".concat(l," ").concat(d);i[l]=d+1;var u=o(c),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:c,updater:g(p,t),references:1}),n.push(c)}return n}function d(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var s=i.nc;s&&(n.nonce=s)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=a(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,i,n){var s=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,s);else{var a=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function h(e,t,i){var n=i.css,s=i.media,a=i.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var m=null,f=0;function g(e,t){var i,n,s;if(t.singleton){var a=f++;i=m||(m=d(t)),n=p.bind(null,i,a,!1),s=p.bind(null,i,a,!0)}else i=d(t),n=h.bind(null,i,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=s());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var s=o(i[n]);r[s].references--}for(var a=l(e,t),d=0;d<i.length;d++){var c=o(i[d]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}i=a}}}},LX6e:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateMergeRequestLocked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergeRequestSetLockedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussionLocked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:188}};i.loc.source={body:"mutation updateMergeRequestLocked($input: MergeRequestSetLockedInput!) {\n  mergeRequestSetLocked(input: $input) {\n    mergeRequest {\n      id\n      discussionLocked\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateMergeRequestLocked=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateMergeRequestLocked")},LZrd:function(e,t,i){"use strict";var n=i("4lAS"),s=i("HyJ2"),a=i("z1xw"),r=i("b9Gi"),o=i("jlnU"),l=i("AxUD"),d=i("/lV4"),c=i("sHIo"),u=i("ygVz"),p=i("H3X6"),h=i("d6eQ"),m=i("pgS/"),f=i("hvPU");const g=u.b.mixin();var v={components:{GlButton:n.a,TodoButton:f.a,GlAnimatedTodoIcon:s.a},directives:{GlTooltip:a.a},mixins:[Object(c.a)(),g],inject:{isClassicSidebar:{default:!1}},props:{issuableId:{type:String,required:!0},issuableIid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({todoId:null,loading:!1}),apollo:{todoId:{query(){return h.o[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.issuableIid)}},skip(){return!this.issuableIid},update(e){var t;return null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t||null===(t=t.currentUserTodos.nodes[0])||void 0===t?void 0:t.id},result({data:e}){var t,i,n;if(!e)return;const s=null!==(t=null===(i=e.workspace)||void 0===i||null===(i=i.issuable)||void 0===i||null===(i=i.currentUserTodos)||void 0===i?void 0:i.nodes)&&void 0!==t?t:[];this.todoId=null===(n=s[0])||void 0===n?void 0:n.id,this.$emit("todoUpdated",s.length>0)},error(){Object(o.createAlert)({message:Object(d.h)(Object(d.a)("Something went wrong while setting %{issuableType} to-do item."),{issuableType:this.issuableType})})},subscribeToMore:{document(){return h.o[this.issuableType].subscription},variables(){return{issuableId:this.issuableId}},skip(){return!h.o[this.issuableType].subscription}}}},computed:{isMergeRequest(){return this.issuableType===l.q},todoIdQuery(){return h.o[this.issuableType].query},todoIdQueryVariables(){return{fullPath:this.fullPath,iid:String(this.issuableIid)}},isLoading(){var e;return(null===(e=this.$apollo.queries)||void 0===e||null===(e=e.todoId)||void 0===e?void 0:e.loading)||this.loading},hasTodo(){return Boolean(this.todoId)},todoMutationType(){return this.hasTodo?p.v.markDone:p.v.create},tootltipTitle(){return Object(m.b)(this.hasTodo)},isNotificationsTodosButtons(){return this.glFeatures.notificationsTodosButtons}},methods:{toggleTodo(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:h.n[this.todoMutationType],variables:{input:{targetId:this.hasTodo?void 0:this.issuableId,id:this.hasTodo?this.todoId:void 0}},update:function(t,{data:{todoMutation:{todo:i}}}){const n={query:e.todoIdQuery,variables:e.todoIdQueryVariables},s=t.readQuery(n),a=Object(r.b)(s,(function(t){t.workspace.issuable.currentUserTodos.nodes=e.hasTodo?[]:[i]}));t.writeQuery({data:a,...n})}}).then((function({data:{todoMutation:{errors:t}}}){t.length&&Object(o.createAlert)({message:t[0]}),e.track("click_todo",{label:"right_sidebar",property:e.hasTodo})})).catch((function(){Object(o.createAlert)({message:Object(d.h)(Object(d.a)("Something went wrong while setting %{issuableType} to-do item."),{issuableType:e.issuableType})})})).finally((function(){e.loading=!1}))}}},b=i("tBpV"),y=Object(b.a)(v,(function(){var e=this,t=e._self._c;return t("div",{class:{"inline-block":!e.isMergeRequest},attrs:{"data-testid":"sidebar-todo"}},[e.isNotificationsTodosButtons?t("todo-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"hide-collapsed",attrs:{title:e.tootltipTitle,"issuable-type":e.issuableType,"issuable-id":e.issuableId,"is-todo":e.hasTodo,disabled:e.isLoading,"is-icon-button":!0},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTodo.apply(null,arguments)}}},[t("gl-animated-todo-icon",{class:{"!gl-text-blue-500":e.hasTodo},attrs:{"is-on":e.hasTodo}})],1):t("todo-button",{staticClass:"hide-collapsed",attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"is-todo":e.hasTodo,loading:e.isLoading,size:e.isMergeRequest?"medium":"small"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTodo.apply(null,arguments)}}}),e._v(" "),e.isClassicSidebar&&!e.isMergeRequest?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-container !gl-rounded-none !gl-shadow-none",class:{"!gl-text-blue-500":e.hasTodo},attrs:{title:e.tootltipTitle,category:"tertiary",type:"reset"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTodo.apply(null,arguments)}}},[t("gl-animated-todo-icon",{attrs:{"is-on":e.hasTodo}})],1):e._e()],1)}),[],!1,null,null,null);t.a=y.exports},LhZf:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemTodoCreate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TodoCreateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"todoMutation"},name:{kind:"Name",value:"todoCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"todo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:155}};i.loc.source={body:"mutation workItemTodoCreate($input: TodoCreateInput!) {\n  todoMutation: todoCreate(input: $input) {\n    todo {\n      id\n      state\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.workItemTodoCreate=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"workItemTodoCreate")},Lio7:function(e,t,i){"use strict";var n=i("4lAS"),s=i("FkSe"),a={components:{GlButton:n.a,GlLoadingIcon:s.a},props:{fetchNextPageInProgress:{type:Boolean,required:!0}}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-flex"},[e.fetchNextPageInProgress?t("gl-loading-icon",{staticClass:"gl-ml-4 gl-py-2",attrs:{size:"md"}}):t("gl-button",{attrs:{category:"tertiary",variant:"confirm"},on:{click:function(t){return e.$emit("fetch-next-page",t)}}},[e._v("\n    "+e._s(e.s__("WorkItem|Load more")))])],1)}),[],!1,null,null,null);t.a=o.exports},LjxR:function(e,t,i){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DesignNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Author"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imported"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"awardEmoji"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"diffRefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignDiffRefs"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignNotePermissions"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"discussion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:583}};n.loc.source={body:'#import "./diff_refs.fragment.graphql"\n#import "~/graphql_shared/fragments/author.fragment.graphql"\n#import "./note_permissions.fragment.graphql"\n\nfragment DesignNote on Note {\n  id\n  author {\n    ...Author\n  }\n  body\n  bodyHtml\n  createdAt\n  resolved\n  imported\n  awardEmoji {\n    nodes {\n      name\n      user {\n        id\n        name\n      }\n    }\n  }\n  position {\n    diffRefs {\n      ...DesignDiffRefs\n    }\n    x\n    y\n    height\n    width\n  }\n  userPermissions {\n    ...DesignNotePermissions\n  }\n  discussion {\n    id\n    notes {\n      nodes {\n        id\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("SqVG").definitions)),n.definitions=n.definitions.concat(a(i("5JsC").definitions)),n.definitions=n.definitions.concat(a(i("4ncF").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.DesignNote=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"DesignNote")},LkaW:function(e,t,i){"use strict";var n=i("9k56"),s=i("lgrP"),a=i("3hkr"),r=i("jIK5"),o=i("VuSA"),l=i("hII5");const d=Object(l.c)({tag:Object(l.b)(r.r,"p"),textClass:Object(l.b)(r.e),variant:Object(l.b)(r.r)},a.l),c=Object(n.c)({name:a.l,functional:!0,props:d,render(e,t){let{props:i,data:n,children:a}=t;const{tag:r,textClass:l,variant:d}=i;return e("li",Object(s.a)(Object(o.j)(n,["attrs"]),{attrs:{role:"presentation"}}),[e(r,{staticClass:"b-dropdown-text",class:[l,{["text-"+d]:d}],props:i,attrs:n.attrs||{},ref:"text"},a)])}});var u=i("Pyw5");const p={name:"GlDropdownText",components:{BDropdownText:c},inheritAttrs:!1};const h=i.n(u)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-text",this._g(this._b({staticClass:"gl-dropdown-text"},"b-dropdown-text",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,p,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},LlB7:function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l}));i("lFMf"),i("gOHk"),i("c9hT");var n=i("pIt4");const s=/^(\/?(.+\/)+(.+)\/-\/merge_requests\/(\d+)).*$/i,a=/([a-f0-9]{40})/g;function r({count:e,badge:t=document.querySelector(".js-diffs-tab .gl-badge")}={}){t&&(t.textContent=e||n.Gb)}function o({endpoint:e}={}){let t,i,n,a,r,o;const l=s.exec(e);return l&&([,t,i,n,a]=l,({diffId:r,startSha:o}=function({endpoint:e}={}){const t=new URL(e,"https://gitlab.com"),i=Object.fromEntries(t.searchParams.entries()),{start_sha:n,diff_id:s}=i;return{diffId:s,startSha:n}}({endpoint:e})),i=i.replace(/\/$/,"")),{mrPath:t,namespace:i,project:n,id:a,diffId:r,startSha:o}}function l({input:e=""}={}){const t=e.match(a);return null==t?void 0:t[0]}},Lysa:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createWorkItemDesignNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateNoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignNote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:198}};n.loc.source={body:'#import "./fragments/design_note.fragment.graphql"\n\nmutation createWorkItemDesignNote($input: CreateNoteInput!) {\n  createNote(input: $input) {\n    note {\n      ...DesignNote\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("LjxR").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.createWorkItemDesignNote=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"createWorkItemDesignNote")},M76R:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("oTzT"),s=i("S8CU");const a=["TD","TH","TR"],r=e=>{if(!e||!e.target)return!1;const t=e.target;if(t.disabled||-1!==a.indexOf(t.tagName))return!1;if(Object(n.e)(".dropdown-menu",t))return!0;const i="LABEL"===t.tagName?t:Object(n.e)("label",t);if(i){const e=Object(n.h)(i,"for"),t=e?Object(n.j)(e):Object(n.C)("input, select, textarea",i);if(t&&!t.disabled)return!0}return Object(n.v)(t,s.a)}},MBvX:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DesignTodoItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Design"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserTodos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"EnumValue",value:"pending"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};i.loc.source={body:"fragment DesignTodoItem on Design {\n  id\n  image\n  currentUserTodos(state: pending) {\n    nodes {\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.DesignTodoItem=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"DesignTodoItem")},MS9k:function(e,t,i){"use strict";var n=i("s1D3"),s=i("z1xw"),a=i("JtyA"),r={components:{GlIcon:n.a},directives:{GlTooltip:s.a},props:{workItemType:{type:String,required:!1,default:""},showText:{type:Boolean,required:!1,default:!1},workItemIconName:{type:String,required:!1,default:""},showTooltipOnHover:{type:Boolean,required:!1,default:!1},iconVariant:{type:String,required:!1,default:"default"},iconClass:{type:String,required:!1,default:""}},computed:{workItemTypeUppercase(){return this.workItemType.toUpperCase().split(" ").join("_")},iconName(){var e;return"issue-type-epic"===this.workItemIconName?"epic":this.workItemIconName||(null===(e=a.cc[this.workItemTypeUppercase])||void 0===e?void 0:e.icon)||"issue-type-issue"},workItemTypeName(){var e;return null===(e=a.cc[this.workItemTypeUppercase])||void 0===e?void 0:e.name},workItemTooltipTitle(){return this.showTooltipOnHover?this.workItemTypeName:""}}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("span",[t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:e.showTooltipOnHover,expression:"showTooltipOnHover",modifiers:{hover:!0}}],class:e.iconClass,attrs:{name:e.iconName,title:e.workItemTooltipTitle,variant:e.iconVariant}}),e._v(" "),e.workItemTypeName?t("span",{class:{"gl-sr-only":!e.showText}},[e._v(e._s(e.workItemTypeName))]):e._e()],1)}),[],!1,null,null,null);t.a=l.exports},McpM:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"moveIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"moveIssueInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueMoveInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueMove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"moveIssueInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:150}};i.loc.source={body:"mutation moveIssue($moveIssueInput: IssueMoveInput!) {\n  issueMove(input: $moveIssueInput) {\n    issue {\n      id\n      webUrl\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.moveIssue=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"moveIssue")},Mi8i:function(e,t,i){"use strict";var n=i("wP8z"),s=i("Pyw5"),a=i.n(s);const r={name:"GlFilteredSearchSuggestion",components:{GlDropdownItem:n.a},inject:["filteredSearchSuggestionListInstance"],inheritAttrs:!1,props:{value:{required:!0,validator:()=>!0}},computed:{isActive(){return this.filteredSearchSuggestionListInstance.activeItem===this}},watch:{isActive(e){e&&window.requestAnimationFrame(()=>{var e,t;null===(e=this.$refs.item)||void 0===e||null===(t=e.$el)||void 0===t||t.scrollIntoView({block:"nearest",inline:"end"})})}},created(){this.filteredSearchSuggestionListInstance.register(this)},beforeDestroy(){this.filteredSearchSuggestionListInstance.unregister(this)},methods:{emitValue(){this.filteredSearchSuggestionListInstance.$emit("suggestion",this.value)}}};const o=a()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-dropdown-item",e._b({ref:"item",staticClass:"gl-filtered-search-suggestion",class:{"gl-filtered-search-suggestion-active":e.isActive},attrs:{"data-testid":"filtered-search-suggestion",tabindex:"-1",href:"#"},nativeOn:{mousedown:function(t){return t.preventDefault(),e.emitValue.apply(null,arguments)}}},"gl-dropdown-item",e.$attrs,!1),[e._t("default")],2)},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},MkVi:function(e,t,i){"use strict";var n=i("Lzak"),s=i("/lV4"),a=i("AxUD");const r={[a.n]:{[a.i]:{icon:"issue-open-m",text:Object(s.a)("Open"),variant:"success"},[a.d]:{icon:"issue-close",text:Object(s.a)("Closed"),variant:"info"}},[a.p]:{[a.i]:{icon:"issue-open-m",text:Object(s.a)("Open"),variant:"success"},[a.d]:{icon:"issue-close",text:Object(s.a)("Closed"),variant:"info"},[a.g]:{icon:"issue-open-m",text:Object(s.a)("Open"),variant:"success"}},[a.q]:{[a.i]:{icon:"merge-request",text:Object(s.a)("Open"),variant:"success"},[a.d]:{icon:"merge-request-close",text:Object(s.a)("Closed"),variant:"danger"},[a.h]:{icon:"merge",text:Object(s.a)("Merged"),variant:"info"},[a.g]:{icon:"merge-request",text:Object(s.a)("Open"),variant:"success"}}};var o={components:{GlBadge:n.a},props:{issuableType:{type:String,required:!1,default:""},state:{type:String,required:!1,default:null}},computed:{badgeProperties(){return r[this.issuableType][this.state]}}},l=i("tBpV"),d=Object(l.a)(o,(function(){return(0,this._self._c)("gl-badge",{staticClass:"gl-shrink-0",attrs:{variant:this.badgeProperties.variant,icon:this.badgeProperties.icon,"aria-label":this.badgeProperties.text}},[this._v("\n  "+this._s(this.badgeProperties.text)+"\n")])}),[],!1,null,null,null);t.a=d.exports},Mq5L:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i("3hkr"),s=i("CU79"),a=i("n6Wd"),r=i("oTzT"),o=i("ZdEn"),l=i("gZSI"),d=i("VuSA"),c=i("J6+d"),u=i("h4pE");const p=Object(o.d)(n.H,s.L),h="__bv_modal_directive__",m=e=>{let{modifiers:t={},arg:i,value:n}=e;return Object(l.m)(n)?n:Object(l.m)(i)?i:Object(d.h)(t).reverse()[0]},f=e=>e&&Object(r.v)(e,".dropdown-menu > li, li.nav-item")&&Object(r.C)("a, button",e)||e,g=e=>{e&&"BUTTON"!==e.tagName&&(Object(r.o)(e,"role")||Object(r.E)(e,"role","button"),"A"===e.tagName||Object(r.o)(e,"tabindex")||Object(r.E)(e,"tabindex","0"))},v=e=>{const t=e[h]||{},i=t.trigger,n=t.handler;i&&n&&(Object(o.a)(i,"click",n,s.R),Object(o.a)(i,"keydown",n,s.R),Object(o.a)(e,"click",n,s.R),Object(o.a)(e,"keydown",n,s.R)),delete e[h]},b=(e,t,i)=>{const n=e[h]||{},l=m(t),d=f(e);l===n.target&&d===n.trigger||(v(e),((e,t,i)=>{const n=m(t),l=f(e);if(n&&l){const d=e=>{const s=e.currentTarget;if(!Object(r.r)(s)){const r=e.type,o=e.keyCode;"click"!==r&&("keydown"!==r||o!==a.c&&o!==a.h)||Object(c.a)(Object(u.a)(i,t)).$emit(p,n,s)}};e[h]={handler:d,target:n,trigger:l},g(l),Object(o.b)(l,"click",d,s.R),"BUTTON"!==l.tagName&&"button"===Object(r.h)(l,"role")&&Object(o.b)(l,"keydown",d,s.R)}})(e,t,i)),g(d)},y={inserted:b,updated:()=>{},componentUpdated:b,unbind:v}},"MrC/":function(e,t,i){!function(e){var t,i=Object.defineProperty,n=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=Math.pow,d=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var i in t||(t={}))r.call(t,i)&&d(e,i,t[i]);if(a)for(var i of a(t))o.call(t,i)&&d(e,i,t[i]);return e},u=(e,t)=>n(e,s(t)),p=(e,t,i)=>new Promise((n,s)=>{var a=e=>{try{o(i.next(e))}catch(e){s(e)}},r=e=>{try{o(i.throw(e))}catch(e){s(e)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,r);o((i=i.apply(e,t)).next())});function h(e,t){return e[13]=1,e[14]=t>>8,e[15]=255&t,e[16]=t>>8,e[17]=255&t,e}const m="p".charCodeAt(0),f="H".charCodeAt(0),g="Y".charCodeAt(0),v="s".charCodeAt(0);let b;function y(e){let t=-1;b||(b=function(){const e=new Int32Array(256);for(let t=0;t<256;t++){let i=t;for(let e=0;e<8;e++)i=1&i?3988292384^i>>>1:i>>>1;e[t]=i}return e}());for(let i=0;i<e.length;i++)t=b[255&(t^e[i])]^t>>>8;return-1^t}function k(e,t,i=!1){const n=new Uint8Array(13);t*=39.3701,n[0]=m,n[1]=f,n[2]=g,n[3]=v,n[4]=t>>>24,n[5]=t>>>16,n[6]=t>>>8,n[7]=255&t,n[8]=n[4],n[9]=n[5],n[10]=n[6],n[11]=n[7],n[12]=1;const s=y(n),a=new Uint8Array(4);if(a[0]=s>>>24,a[1]=s>>>16,a[2]=s>>>8,a[3]=255&s,i){const t=function(e){for(let t=e.length-1;t>=4;t--)if(9===e[t-4]&&e[t-3]===m&&e[t-2]===f&&e[t-1]===g&&e[t]===v)return t-3;return 0}(e);return e.set(n,t),e.set(a,t+13),e}{const t=new Uint8Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=9;const i=new Uint8Array(54);return i.set(e,0),i.set(t,33),i.set(n,37),i.set(a,50),i}}const w="[modern-screenshot]",S="undefined"!=typeof window,_=S&&"Worker"in window,I=S&&"atob"in window,T=S&&"btoa"in window,O=S?null==(t=window.navigator)?void 0:t.userAgent:"",C=O.includes("Chrome"),x=O.includes("AppleWebKit")&&!C,j=O.includes("Firefox"),E=e=>1===e.nodeType,D=e=>"object"==typeof e.className,N=e=>"image"===e.tagName,A=e=>E(e)&&void 0!==e.style&&!D(e),P=e=>8===e.nodeType,F=e=>"IMG"===e.tagName,L=e=>"VIDEO"===e.tagName,R=e=>"TEXTAREA"===e.tagName,q=e=>"SLOT"===e.tagName,$=(...e)=>console.warn(w,...e),B=e=>{var t;const i=null==(t=null==e?void 0:e.createElement)?void 0:t.call(e,"canvas");return i&&(i.height=i.width=1),i&&"toDataURL"in i&&Boolean(i.toDataURL("image/webp").includes("image/webp"))},M=e=>e.startsWith("data:");function V(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(S&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!S)return e;const i=U().implementation.createHTMLDocument(),n=i.createElement("base"),s=i.createElement("a");return i.head.appendChild(n),i.body.appendChild(s),t&&(n.href=t),s.href=e,s.href}function U(e){var t;return null!=(t=e&&E(e)?null==e?void 0:e.ownerDocument:e)?t:window.document}const G="http://www.w3.org/2000/svg";function W(e,t,i){const n=U(i).createElementNS(G,"svg");return n.setAttributeNS(null,"width",e.toString()),n.setAttributeNS(null,"height",t.toString()),n.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),n}function H(e,t){let i=(new XMLSerializer).serializeToString(e);return t&&(i=i.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/gu,"")),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(i)}function z(e,t="image/png",i=1){return p(this,null,(function*(){try{return yield new Promise((n,s)=>{e.toBlob(e=>{e?n(e):s(new Error("Blob is null"))},t,i)})}catch(n){if(I)return $("Failed canvas to blob",{type:t,quality:i},n),function(e){var t,i;const[n,s]=e.split(","),a=null!=(i=null==(t=n.match(/data:(.+);/))?void 0:t[1])?i:void 0,r=window.atob(s),o=r.length,l=new Uint8Array(o);for(let e=0;e<o;e+=1)l[e]=r.charCodeAt(e);return new Blob([l],{type:a})}(e.toDataURL(t,i));throw n}}))}function K(e,t){return new Promise((i,n)=>{const s=new FileReader;s.onload=()=>i(s.result),s.onerror=()=>n(s.error),s.onabort=()=>n(new Error("Failed read blob to "+t)),"dataUrl"===t?s.readAsDataURL(e):"arrayBuffer"===t&&s.readAsArrayBuffer(e)})}const Q=e=>K(e,"dataUrl");function Y(e,t){const i=U(t).createElement("img");return i.decoding="sync",i.loading="eager",i.src=e,i}function J(e,t){return new Promise(i=>{const{timeout:n,ownerDocument:s,onError:a}=null!=t?t:{},r="string"==typeof e?Y(e,U(s)):e;let o=null,l=null;function d(){i(r),o&&clearTimeout(o),null==l||l()}if(n&&(o=setTimeout(d,n)),L(r)){const e=r.currentSrc||r.src;if(!e)return r.poster?J(r.poster,t).then(i):d();if(r.readyState>=2)return d();const n=d,s=t=>{$("Failed video load",e,t),null==a||a(t),d()};l=()=>{r.removeEventListener("loadeddata",n),r.removeEventListener("error",s)},r.addEventListener("loadeddata",n,{once:!0}),r.addEventListener("error",s,{once:!0})}else{const e=N(r)?r.href.baseVal:r.currentSrc||r.src;if(!e)return d();const t=()=>p(this,null,(function*(){if(F(r)&&"decode"in r)try{yield r.decode()}catch(t){$("Failed to decode image, trying to render anyway",r.dataset.originalSrc||e,t)}d()})),i=t=>{$("Failed image load",r.dataset.originalSrc||e,t),d()};if(F(r)&&r.complete)return t();l=()=>{r.removeEventListener("load",t),r.removeEventListener("error",i)},r.addEventListener("load",t,{once:!0}),r.addEventListener("error",i,{once:!0})}})}function X(e,t){return p(this,null,(function*(){A(e)&&(F(e)||L(e)?yield J(e,{timeout:t}):yield Promise.all(["img","video"].flatMap(i=>Array.from(e.querySelectorAll(i)).map(e=>J(e,{timeout:t})))))}))}const Z=function(){let e=0;return()=>(e+=1,`u${("0000"+(Math.random()*l(36,4)<<0).toString(36)).slice(-4)}${e}`)}();function ee(e){return null==e?void 0:e.split(",").map(e=>e.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}function te(e){return{time:t=>e&&(e=>console.time(`${w} ${e}`))(t),timeEnd:t=>e&&(e=>console.timeEnd(`${w} ${e}`))(t),warn:(...t)=>e&&$(...t)}}function ie(e){return{cache:e?"no-cache":"force-cache"}}function ne(e,t){return p(this,null,(function*(){return(e=>e&&"__CONTEXT__"in e)(e)?e:se(e,u(c({},t),{autoDestruct:!0}))}))}function se(e,t){return p(this,null,(function*(){var i,n,s,a,r;const{scale:o=1,workerUrl:l,workerNumber:d=1}=t||{},h=Boolean(null==t?void 0:t.debug),m=null==(i=null==t?void 0:t.features)||i,f=null!=(n=e.ownerDocument)?n:S?window.document:void 0,g=null!=(a=null==(s=e.ownerDocument)?void 0:s.defaultView)?a:S?window:void 0,v=new Map,b=u(c({width:0,height:0,quality:1,type:"image/png",scale:o,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:h,fetch:c({requestInit:ie(null==(r=null==t?void 0:t.fetch)?void 0:r.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1},null==t?void 0:t.fetch),fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:d,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1},t),{__CONTEXT__:!0,log:te(h),node:e,ownerDocument:f,ownerWindow:g,dpi:1===o?null:96*o,svgStyleElement:ae(f),svgDefsElement:null==f?void 0:f.createElementNS(G,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...new Array(_&&l&&d?d:0)].map(()=>{try{const e=new Worker(l);return e.onmessage=e=>p(this,null,(function*(){var t,i,n,s;const{url:a,result:r}=e.data;r?null==(i=null==(t=v.get(a))?void 0:t.resolve)||i.call(t,r):null==(s=null==(n=v.get(a))?void 0:n.reject)||s.call(n,new Error("Error receiving message from worker: "+a))})),e.onmessageerror=e=>{var t,i;const{url:n}=e.data;null==(i=null==(t=v.get(n))?void 0:t.reject)||i.call(t,new Error("Error receiving message from worker: "+n))},e}catch(e){return $("Failed to new Worker",e),null}}).filter(Boolean),fontFamilies:new Set,fontCssTexts:new Map,acceptOfImage:[B(f)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")+";q=0.8",requests:v,drawImageCount:0,tasks:[],features:m,isEnable:e=>{var t,i;return"restoreScrollPosition"===e?"boolean"!=typeof m&&null!=(t=m[e])&&t:"boolean"==typeof m?m:null==(i=m[e])||i}});b.log.time("wait until load"),yield X(e,b.timeout),b.log.timeEnd("wait until load");const{width:y,height:k}=function(e,t){let{width:i,height:n}=t;if(E(e)&&(!i||!n)){const t=e.getBoundingClientRect();i=i||t.width||Number(e.getAttribute("width"))||0,n=n||t.height||Number(e.getAttribute("height"))||0}return{width:i,height:n}}(e,b);return b.width=y,b.height=k,b}))}function ae(e){if(!e)return;const t=e.createElement("style"),i=t.ownerDocument.createTextNode("\n.______background-clip--text {\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n");return t.appendChild(i),t}function re(e,t){return p(this,null,(function*(){const{log:i,timeout:n,drawImageCount:s,drawImageInterval:a}=t;i.time("image to canvas");const r=yield J(e,{timeout:n}),{canvas:o,context2d:l}=function(e,t){const{width:i,height:n,scale:s,backgroundColor:a,maximumCanvasSize:r}=t,o=e.createElement("canvas");o.width=Math.floor(i*s),o.height=Math.floor(n*s),o.style.width=i+"px",o.style.height=n+"px",r&&(o.width>r||o.height>r)&&(o.width>r&&o.height>r?o.width>o.height?(o.height*=r/o.width,o.width=r):(o.width*=r/o.height,o.height=r):o.width>r?(o.height*=r/o.width,o.width=r):(o.width*=r/o.height,o.height=r));const l=o.getContext("2d");return l&&a&&(l.fillStyle=a,l.fillRect(0,0,o.width,o.height)),{canvas:o,context2d:l}}(e.ownerDocument,t),d=()=>{try{null==l||l.drawImage(r,0,0,o.width,o.height)}catch(e){$("Failed to drawImage",e)}};if(d(),t.isEnable("fixSvgXmlDecode"))for(let e=0;e<s;e++)yield new Promise(t=>{setTimeout(()=>{d(),t()},e+a)});return t.drawImageCount=0,i.timeEnd("image to canvas"),o}))}const oe=["width","height","-webkit-text-fill-color"],le=["stroke","fill"];function de(e,t,i){var n;const{defaultComputedStyles:s,ownerDocument:a}=i,r=e.nodeName.toLowerCase(),o=D(e)&&"svg"!==r,l=o?le.map(t=>[t,e.getAttribute(t)]).filter(([,e])=>null!==e):[],d=[o&&"svg",r,l.map((e,t)=>`${e}=${t}`).join(","),t].filter(Boolean).join(":");if(s.has(d))return s.get(d);let c=i.sandbox;if(!c)try{a&&(c=a.createElement("iframe"),c.id="__SANDBOX__-"+Z(),c.width="0",c.height="0",c.style.visibility="hidden",c.style.position="fixed",a.body.appendChild(c),null==(n=c.contentWindow)||n.document.write('<!DOCTYPE html><meta charset="UTF-8"><title></title><body>'),i.sandbox=c)}catch(e){$("Failed to create iframe sandbox",e)}if(!c)return new Map;const u=c.contentWindow;if(!u)return new Map;const p=u.document;let h,m;o?(h=p.createElementNS(G,"svg"),m=h.ownerDocument.createElementNS(h.namespaceURI,r),l.forEach(([e,t])=>{m.setAttributeNS(null,e,t)}),h.appendChild(m)):h=m=p.createElement(r),m.textContent=" ",p.body.appendChild(h);const f=u.getComputedStyle(m,t),g=new Map;for(let e=f.length,t=0;t<e;t++){const e=f.item(t);oe.includes(e)||g.set(e,f.getPropertyValue(e))}return p.body.removeChild(h),s.set(d,g),g}function ce(e,t,i){var n;const s=new Map,a=[],r=new Map;if(i)for(const e of i)o(e);else for(let t=e.length,i=0;i<t;i++)o(e.item(i));for(let e=a.length,t=0;t<e;t++)null==(n=r.get(a[t]))||n.forEach((e,t)=>s.set(t,e));function o(i){const n=e.getPropertyValue(i),o=e.getPropertyPriority(i),l=i.lastIndexOf("-"),d=l>-1?i.substring(0,l):void 0;if(d){let e=r.get(d);e||(e=new Map,r.set(d,e)),e.set(i,[n,o])}t.get(i)===n&&!o||(d?a.push(d):s.set(i,[n,o]))}return s}const ue=[":before",":after"],pe=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function he(e){if(e.ownerDocument)try{const t=e.toDataURL();if("data:,"!==t)return Y(t,e.ownerDocument)}catch(e){}const t=e.cloneNode(!1),i=e.getContext("2d"),n=t.getContext("2d");try{return i&&n&&n.putImageData(i.getImageData(0,0,e.width,e.height),0,0),t}catch(e){$("Failed to clone canvas",e)}return t}function me(e,t){return(e=>"CANVAS"===e.tagName)(e)?he(e):(e=>"IFRAME"===e.tagName)(e)?function(e,t){var i;try{if(null!=(i=null==e?void 0:e.contentDocument)&&i.body)return ye(e.contentDocument.body,t)}catch(e){$("Failed to clone iframe",e)}return e.cloneNode(!1)}(e,t):F(e)?function(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager"),t}(e):L(e)?function(e){return p(this,null,(function*(){if(e.ownerDocument&&!e.currentSrc&&e.poster)return Y(e.poster,e.ownerDocument);const t=e.cloneNode(!1);t.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc);const i=t.ownerDocument;if(i){let n=!0;if(yield J(t,{onError:()=>n=!1}),!n)return e.poster?Y(e.poster,e.ownerDocument):t;t.currentTime=e.currentTime,yield new Promise(e=>{t.addEventListener("seeked",e,{once:!0})});const s=i.createElement("canvas");s.width=e.offsetWidth,s.height=e.offsetHeight;try{const e=s.getContext("2d");e&&e.drawImage(t,0,0,s.width,s.height)}catch(i){return $("Failed to clone video",i),e.poster?Y(e.poster,e.ownerDocument):t}return he(s)}return t}))}(e):e.cloneNode(!1)}const fe=new Set(["symbol"]);function ge(e,t,i,n){return p(this,null,(function*(){if(E(i)&&((e=>"STYLE"===e.tagName)(i)||(e=>"SCRIPT"===e.tagName)(i))||n.filter&&!n.filter(i))return;fe.has(t.nodeName)||fe.has(i.nodeName)?n.currentParentNodeStyle=void 0:n.currentParentNodeStyle=n.currentNodeStyle;const s=yield ye(i,n);n.isEnable("restoreScrollPosition")&&function(e,t){if(!A(e)||!A(t))return;const{scrollTop:i,scrollLeft:n}=e;if(!i&&!n)return;const{transform:s}=t.style,a=new DOMMatrix(s),{a:r,b:o,c:l,d:d}=a;a.a=1,a.b=0,a.c=0,a.d=1,a.translateSelf(-n,-i),a.a=r,a.b=o,a.c=l,a.d=d,t.style.transform=a.toString()}(e,s),t.appendChild(s)}))}function ve(e,t,i){return p(this,null,(function*(){var n,s;for(let a=null!=(s=E(e)?null==(n=e.shadowRoot)?void 0:n.firstChild:void 0)?s:e.firstChild;a;a=a.nextSibling)if(!P(a))if(E(a)&&q(a)&&"function"==typeof a.assignedNodes){const n=a.assignedNodes();for(let s=0;s<n.length;s++)yield ge(e,t,n[s],i)}else yield ge(e,t,a,i)}))}const be=/^[\w-:]+$/;function ye(e,t,i=!1){return p(this,null,(function*(){var n,s,a,r;const{ownerDocument:o,ownerWindow:l,fontFamilies:d}=t;if(o&&(e=>3===e.nodeType)(e))return o.createTextNode(e.data);if(o&&l&&E(e)&&(A(e)||D(e))){const o=yield me(e,t);if(t.isEnable("removeAbnormalAttributes")){const e=o.getAttributeNames();for(let t=e.length,i=0;i<t;i++){const t=e[i];be.test(t)||o.removeAttribute(t)}}const l=t.currentNodeStyle=function(e,t,i,n){var s,a,r,o;const{ownerWindow:l,includeStyleProperties:d,currentParentNodeStyle:c}=n,u=t.style,p=l.getComputedStyle(e),h=de(e,null,n);null==c||c.forEach((e,t)=>{h.delete(t)});const m=ce(p,h,d);return m.delete("transition-property"),m.delete("all"),m.delete("d"),m.delete("content"),i&&(m.delete("margin-top"),m.delete("margin-right"),m.delete("margin-bottom"),m.delete("margin-left"),m.delete("margin-block-start"),m.delete("margin-block-end"),m.delete("margin-inline-start"),m.delete("margin-inline-end"),m.set("box-sizing",["border-box",""])),"text"===(null==(s=m.get("background-clip"))?void 0:s[0])&&t.classList.add("______background-clip--text"),C&&(m.has("font-kerning")||m.set("font-kerning",["normal",""]),("hidden"===(null==(a=m.get("overflow-x"))?void 0:a[0])||"hidden"===(null==(r=m.get("overflow-y"))?void 0:r[0]))&&"ellipsis"===(null==(o=m.get("text-overflow"))?void 0:o[0])&&e.scrollWidth===e.clientWidth&&m.set("text-overflow",["clip",""])),m.forEach(([e,t],i)=>{u.setProperty(i,e,t)}),m}(e,o,i,t);i&&function(e,t){const{backgroundColor:i,width:n,height:s,style:a}=t,r=e.style;if(i&&r.setProperty("background-color",i,"important"),n&&r.setProperty("width",n+"px","important"),s&&r.setProperty("height",s+"px","important"),a)for(const e in a)r[e]=a[e]}(o,t);let c=!1;if(t.isEnable("copyScrollbar")){const t=[null==(n=l.get("overflow-x"))?void 0:n[0],null==(s=l.get("overflow-y"))?void 0:s[1]];c=t.includes("scroll")||(t.includes("auto")||t.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}return function(e,t,i,n){const{ownerWindow:s,svgStyleElement:a,svgStyles:r,currentNodeStyle:o}=n;function l(i){var a;const l=s.getComputedStyle(e,i);let d=l.getPropertyValue("content");if(!d||"none"===d)return;d=d.replace(/(')|(")|(counter\(.+\))/g,"");const c=[Z()],u=de(e,i,n);null==o||o.forEach((e,t)=>{u.delete(t)});const p=ce(l,u,n.includeStyleProperties);p.delete("content"),p.delete("-webkit-locale"),"text"===(null==(a=p.get("background-clip"))?void 0:a[0])&&t.classList.add("______background-clip--text");const h=[`content: '${d}';`];if(p.forEach(([e,t],i)=>{h.push(`${i}: ${e}${t?" !important":""};`)}),1===h.length)return;try{t.className=[t.className,...c].join(" ")}catch(e){return}const m=h.join("\n  ");let f=r.get(m);f||(f=[],r.set(m,f)),f.push(`.${c[0]}:${i}`)}a&&s&&(ue.forEach(l),i&&pe.forEach(l))}(e,o,c,t),function(e,t){R(e)&&(t.innerHTML=e.value),(R(e)||(e=>"INPUT"===e.tagName)(e)||(e=>"SELECT"===e.tagName)(e))&&t.setAttribute("value",e.value)}(e,o),null==(r=ee(null==(a=l.get("font-family"))?void 0:a[0]))||r.forEach(e=>d.add(e)),L(e)||(yield ve(e,o,t)),o}const c=e.cloneNode(!1);return yield ve(e,c,t),c}))}function ke(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch(e){}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[]}function we(e){const t=e,{url:i,timeout:n,responseType:s}=t,l=((e,t)=>{var i={};for(var n in e)r.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&a)for(var n of a(e))t.indexOf(n)<0&&o.call(e,n)&&(i[n]=e[n]);return i})(t,["url","timeout","responseType"]),d=new AbortController,u=n?setTimeout(()=>d.abort(),n):void 0;return fetch(i,c({signal:d.signal},l)).then(e=>{if(!e.ok)throw new Error("Failed fetch, not 2xx response",{cause:e});switch(s){case"dataUrl":return e.blob().then(Q);case"text":default:return e.text()}}).finally(()=>clearTimeout(u))}function Se(e,t){const{url:i,requestType:n="text",responseType:s="text",imageDom:a}=t;let r=i;const{timeout:o,acceptOfImage:l,requests:d,fetchFn:u,fetch:{requestInit:h,bypassingCache:m,placeholderImage:f},workers:g}=e;"image"===n&&(x||j)&&e.drawImageCount++;let v=d.get(i);if(!v){m&&m instanceof RegExp&&m.test(r)&&(r+=(/\?/.test(r)?"&":"?")+(new Date).getTime());const e=c({url:r,timeout:o,responseType:s,headers:"image"===n?{accept:l}:void 0},h);v={type:n,resolve:void 0,reject:void 0,response:null},v.response=(()=>p(this,null,(function*(){if(u&&"image"===n){const e=yield u(i);if(e)return e}return!x&&i.startsWith("http")&&g.length?new Promise((t,n)=>{g[d.size&g.length-1].postMessage(c({rawUrl:i},e)),v.resolve=t,v.reject=n}):we(e)})))().catch(e=>{if(d.delete(i),"image"===n&&f)return $("Failed to fetch image base64, trying to use placeholder image",r),"string"==typeof f?f:f(a);throw e}),d.set(i,v)}return v.response}function _e(e,t,i,n){return p(this,null,(function*(){if(!Ie(e))return e;for(const[s,a]of function(e,t){const i=[];return e.replace(Te,(e,n,s)=>(i.push([s,V(s,t)]),e)),i.filter(([e])=>!M(e))}(e,t))try{const t=yield Se(i,{url:a,requestType:n?"image":"text",responseType:"dataUrl"});e=e.replace(Oe(s),`$1${t}$3`)}catch(e){$("Failed to fetch css data url",s,e)}return e}))}function Ie(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const Te=/url\((['"]?)([^'"]+?)\1\)/g;function Oe(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Ce(e,t){return p(this,null,(function*(){const{ownerDocument:e,svgStyleElement:i,fontFamilies:n,fontCssTexts:s,tasks:a,font:r}=t;if(e&&i&&n.size)if(r&&r.cssText){const n=Ne(r.cssText,t);i.appendChild(e.createTextNode(n+"\n"))}else{const r=Array.from(e.styleSheets).filter(e=>{try{return"cssRules"in e&&Boolean(e.cssRules.length)}catch(t){return $("Error while reading CSS rules from "+e.href,t),!1}});yield Promise.all(r.flatMap(e=>Array.from(e.cssRules).map((i,n)=>p(this,null,(function*(){if((e=>"CSSImportRule"===e.constructor.name)(i)){let s=n+1;const a=i.href;let r="";try{r=yield Se(t,{url:a,requestType:"text",responseType:"text"})}catch(e){$("Error fetch remote css import from "+a,e)}const o=r.replace(Te,(e,t,i)=>e.replace(i,V(i,a)));for(const t of function(e){if(null==e)return[];const t=[];let i=e.replace(xe,"");for(;;){const e=je.exec(i);if(!e)break;t.push(e[0])}i=i.replace(je,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=n.exec(i);if(e)s.lastIndex=n.lastIndex;else{if(e=s.exec(i),!e)break;n.lastIndex=s.lastIndex}t.push(e[0])}return t}(o))try{e.insertRule(t,t.startsWith("@import")?s+=1:e.cssRules.length)}catch(e){$("Error inserting rule from remote css import",{rule:t,error:e})}}}))))),r.flatMap(e=>Array.from(e.cssRules)).filter(e=>{var t;return(e=>"CSSFontFaceRule"===e.constructor.name)(e)&&Ie(e.style.getPropertyValue("src"))&&(null==(t=ee(e.style.getPropertyValue("font-family")))?void 0:t.some(e=>n.has(e)))}).forEach(n=>{const r=n,o=s.get(r.cssText);o?i.appendChild(e.createTextNode(o+"\n")):a.push(_e(r.cssText,r.parentStyleSheet?r.parentStyleSheet.href:null,t).then(n=>{n=Ne(n,t),s.set(r.cssText,n),i.appendChild(e.createTextNode(n+"\n"))}))})}}))}const xe=/(\/\*[\s\S]*?\*\/)/gi,je=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi,Ee=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,De=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ne(e,t){const{font:i}=t,n=i?null==i?void 0:i.preferredFormat:void 0;return n?e.replace(De,e=>{for(;;){const[t,,i]=Ee.exec(e)||[];if(!i)return"";if(i===n)return`src: ${t};`}}):e}const Ae=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function Pe(e,t){const{tasks:i}=t;E(e)&&((F(e)||N(e))&&i.push(...function(e,t){if(F(e)){const i=e.currentSrc||e.src;if(!M(i))return[Se(t,{url:i,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(t=>{t&&(e.srcset="",e.dataset.originalSrc=i,e.src=t||"")})];(x||j)&&t.drawImageCount++}else if(D(e)&&!M(e.href.baseVal)){const i=e.href.baseVal;return[Se(t,{url:i,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(t=>{t&&(e.dataset.originalSrc=i,e.href.baseVal=t||"")})]}return[]}(e,t)),(e=>"use"===e.tagName)(e)&&i.push(...function(e,t){var i;const{ownerDocument:n,svgDefsElement:s}=t,a=null!=(i=e.getAttribute("href"))?i:e.getAttribute("xlink:href");if(!a)return[];const[r,o]=a.split("#");if(o){const i="#"+o,a=null==n?void 0:n.querySelector("svg "+i);if(r&&e.setAttribute("href",i),null!=s&&s.querySelector(i))return[];if(a)return null==s||s.appendChild(a.cloneNode(!0)),[];if(r)return[Se(t,{url:r,responseType:"text"}).then(e=>{null==s||s.insertAdjacentHTML("beforeend",e)})]}return[]}(e,t))),A(e)&&i.push(...function(e,t){return Ae.map(i=>{const n=e.getPropertyValue(i);return n&&"none"!==n?((x||j)&&t.drawImageCount++,_e(n,null,t,!0).then(t=>{!t||n===t||e.setProperty(i,t,e.getPropertyPriority(i))})):null}).filter(Boolean)}(e.style,t)),e.childNodes.forEach(e=>{Pe(e,t)})}function Fe(e,t){return p(this,null,(function*(){const i=yield ne(e,t);if(E(i.node)&&D(i.node))return i.node;const{ownerDocument:n,log:s,tasks:a,svgStyleElement:r,svgDefsElement:o,svgStyles:l,font:d,progress:c,autoDestruct:u,onCloneNode:h,onEmbedNode:m,onCreateForeignObjectSvg:f}=i;s.time("clone node");const g=yield ye(i.node,i,!0);if(r&&n){let e="";l.forEach((t,i)=>{e+=`${t.join(",\n")} {\n  ${i}\n}\n`}),r.appendChild(n.createTextNode(e))}s.timeEnd("clone node"),null==h||h(g),!1!==d&&E(g)&&(s.time("embed web font"),yield Ce(0,i),s.timeEnd("embed web font")),s.time("embed node"),Pe(g,i);const v=a.length;let b=0;null==c||c(b,v),yield Promise.all([...Array(4)].map(()=>p(this,null,(function*(){for(;;){const e=a.pop();if(!e)break;try{yield e}catch(e){$("Failed to run task",e)}null==c||c(++b,v)}})))),s.timeEnd("embed node"),null==m||m(g);const y=function(e,t){const{width:i,height:n}=t,s=W(i,n,e.ownerDocument),a=s.ownerDocument.createElementNS(s.namespaceURI,"foreignObject");return a.setAttributeNS(null,"x","0%"),a.setAttributeNS(null,"y","0%"),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.append(e),s.appendChild(a),s}(g,i);return o&&y.insertBefore(o,y.children[0]),r&&y.insertBefore(r,y.children[0]),u&&ke(i),null==f||f(y),y}))}function Le(e,t){return p(this,null,(function*(){var i;const n=yield ne(e,t),s=yield Fe(n),a=H(s,n.isEnable("removeControlCharacter"));n.autoDestruct||(n.svgStyleElement=ae(n.ownerDocument),n.svgDefsElement=null==(i=n.ownerDocument)?void 0:i.createElementNS(G,"defs"),n.svgStyles.clear());const r=Y(a,s.ownerDocument);return yield re(r,n)}))}function Re(e,t){return p(this,null,(function*(){const i=yield ne(e,t),{log:n,quality:s,type:a,dpi:r}=i,o=yield Le(i);n.time("canvas to data url");let l=o.toDataURL(a,s);if(["image/png","image/jpeg"].includes(a)&&r&&I&&T){const[e,t]=l.split(",");let i=0,n=!1;if("image/png"===a){const e=function(e){let t=e.indexOf("AAlwSFlz");return-1===t&&(t=e.indexOf("AAAJcEhZ")),-1===t&&(t=e.indexOf("AAAACXBI")),t}(t);e>=0?(i=4*Math.ceil((e+28)/3),n=!0):i=44}else"image/jpeg"===a&&(i=24);const s=t.substring(0,i),o=t.substring(i),d=window.atob(s),c=new Uint8Array(d.length);for(let e=0;e<c.length;e++)c[e]=d.charCodeAt(e);const u="image/png"===a?k(c,r,n):h(c,r);l=[e,",",window.btoa(String.fromCharCode(...u)),o].join("")}return n.timeEnd("canvas to data url"),l}))}function qe(e,t){return p(this,null,(function*(){const i=yield ne(e,t),{width:n,height:s,ownerDocument:a}=i,r=yield Re(i),o=W(n,s,a),l=o.ownerDocument.createElementNS(o.namespaceURI,"image");return l.setAttributeNS(null,"href",r),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"width","100%"),o.appendChild(l),H(o,i.isEnable("removeControlCharacter"))}))}e.createContext=se,e.destroyContext=ke,e.domToBlob=function(e,t){return p(this,null,(function*(){const i=yield ne(e,t),{log:n,type:s,quality:a,dpi:r}=i,o=yield Le(i);n.time("canvas to blob");const l=yield z(o,s,a);if(["image/png","image/jpeg"].includes(s)&&r){const e=yield(e=>K(e,"arrayBuffer"))(l.slice(0,33));let t=new Uint8Array(e);return"image/png"===s?t=k(t,r):"image/jpeg"===s&&(t=h(t,r)),n.timeEnd("canvas to blob"),new Blob([t,l.slice(33)],{type:s})}return n.timeEnd("canvas to blob"),l}))},e.domToCanvas=Le,e.domToDataUrl=Re,e.domToForeignObjectSvg=Fe,e.domToImage=function(e,t){return p(this,null,(function*(){const i=yield ne(e,t),{ownerDocument:n,width:s,height:a,scale:r,type:o}=i,l=Y("image/svg+xml"===o?yield qe(i):yield Re(i),n);return l.width=Math.floor(s*r),l.height=Math.floor(a*r),l.style.width=s+"px",l.style.height=a+"px",l}))},e.domToJpeg=function(e,t){return p(this,null,(function*(){return Re(yield ne(e,u(c({},t),{type:"image/jpeg"})))}))},e.domToPixel=function(e,t){return p(this,null,(function*(){const i=yield ne(e,t),n=yield Le(i);return n.getContext("2d").getImageData(0,0,n.width,n.height).data}))},e.domToPng=function(e,t){return p(this,null,(function*(){return Re(yield ne(e,u(c({},t),{type:"image/png"})))}))},e.domToSvg=qe,e.domToWebp=function(e,t){return p(this,null,(function*(){return Re(yield ne(e,u(c({},t),{type:"image/webp"})))}))},e.loadMedia=J,e.waitUntilLoad=X,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}(t)},N8jz:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"archiveDesign"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filenames"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"designManagementDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"filenames"},value:{kind:"Variable",name:{kind:"Name",value:"filenames"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VersionListItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:288}};n.loc.source={body:'#import "./fragments/version.fragment.graphql"\n\nmutation archiveDesign($filenames: [String!]!, $projectPath: ID!, $iid: ID!) {\n  designManagementDelete(input: { projectPath: $projectPath, iid: $iid, filenames: $filenames }) {\n    version {\n      ...VersionListItem\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("HIeB").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.archiveDesign=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"archiveDesign")},NIN2:function(e,t,i){"use strict";var n=i("Bo17"),s=i("XiQx"),a=i("AxUD"),r=i("JtyA"),o=i("j/BY");const l=[a.o,a.p,r.Ac,r.Cc];var d={components:{GlDisclosureDropdown:n.a,GlDisclosureDropdownItem:s.b},inject:["id","issuableType"],computed:{showConvertToTaskItem(){return l.includes(this.issuableType)}},methods:{convertToTask(){o.a.$emit("convert-task-list-item",this.eventPayload())},deleteTaskListItem(){o.a.$emit("delete-task-list-item",this.eventPayload())},eventPayload(){return{id:this.id,sourcepos:this.$el.closest("li").dataset.sourcepos}}}},c=i("tBpV"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("gl-disclosure-dropdown",{staticClass:"task-list-item-actions-wrapper",attrs:{category:"tertiary",icon:"ellipsis_v","no-caret":"",placement:"bottom-end","text-sr-only":"","toggle-class":"task-list-item-actions gl-opacity-0 !gl-p-2","toggle-text":e.s__("WorkItem|Task actions")}},[e.showConvertToTaskItem?t("gl-disclosure-dropdown-item",{staticClass:"!gl-ml-2",attrs:{"data-testid":"convert"},on:{action:e.convertToTask},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v("\n      "+e._s(e.s__("WorkItem|Convert to child item"))+"\n    ")]},proxy:!0}],null,!1,3516708547)}):e._e(),e._v(" "),t("gl-disclosure-dropdown-item",{staticClass:"!gl-ml-2",attrs:{"data-testid":"delete"},on:{action:e.deleteTaskListItem},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("span",{staticClass:"gl-text-red-500"},[e._v(e._s(e.__("Delete")))])]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=u.exports},NY9D:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("3UXl"),i("iyoE");const n=function({rawMarkdown:e,sourcepos:t,checkboxChecked:i}){const[n]=t.split("-");let[s]=n.split(":");return s=Number(s)-1,e.split("\n").map((function(e,t){return s===t?i?e.replace(/\[ \]/,"[x]"):e.replace(/\[[x~]\]/i,"[ ]"):e})).join("\n")}},NbhA:function(e,t,i){"use strict";var n=i("Bk2k"),s=i.n(n),a=(i("RFHG"),i("z6RN"),i("xuo1"),i("3UXl"),i("iyoE"),i("aFm2"),i("R9qC"),i("4lAS")),r=i("z1xw"),o=i("Mp8J"),l=i("YH60"),d=i("/lV4"),c=i("sHIo"),u=i("tDP3"),p=i("5yoc");var h={components:{GlButton:a.a,EmojiPicker:l.default},directives:{GlTooltip:r.a,SafeHtml:o.a},mixins:[Object(c.a)()],props:{awards:{type:Array,required:!0},canAwardEmoji:{type:Boolean,required:!0},currentUserId:{type:Number,required:!1,default:-1},defaultAwards:{type:Array,required:!1,default:function(){return[]}},selectedClass:{type:String,required:!1,default:"selected"}},data:()=>({isMenuOpen:!1}),computed:{groupedDefaultAwards(){return this.defaultAwards.reduce((function(e,t){return Object.assign(e,{[t]:[]})}),{})},groupedAwards(){var e=this;const{thumbsup:t,thumbsdown:i,...n}={...this.groupedDefaultAwards,...s()(this.awards,(function(e){return e.name}))};return[...t?[this.createAwardList(p.i,t)]:[],...i?[this.createAwardList(p.h,i)]:[],...Object.entries(n).map((function([t,i]){return e.createAwardList(t,i)}))]},isAuthoredByMe(){return this.noteAuthorId===this.currentUserId}},mounted(){this.virtualScrollerItem=this.$el.closest(".vue-recycle-scroller__item-view")},methods:{getAwardClassBindings(e){return{[this.selectedClass]:this.hasReactionByCurrentUser(e),disabled:-1===this.currentUserId}},hasReactionByCurrentUser(e){var t=this;return-1!==this.currentUserId&&e.some((function(e){return e.user.id===t.currentUserId}))},createAwardList(e,t){return{name:e,list:t,title:this.getAwardListTitle(t,e),classes:this.getAwardClassBindings(t),html:Object(u.glEmojiTag)(e)}},getAwardListTitle(e,t){var i=this;if(!e.length)return"";const n=e;if(n.length>10&&this.hasReactionByCurrentUser(n)){const e=n.findIndex((function(e){return e.user.id===i.currentUserId}));if(e>9){const t=n[e];n.splice(e,1),n.splice(9,0,t)}}const s=n.map((function({user:e},t){return e.id===i.currentUserId?function(e){return 0===e?Object(d.a)("You"):Object(d.a)("you")}(t):e.name})).slice(0,10),a=n.slice(10,n.length);let r="";return a.length?r=Object(d.h)(Object(d.a)("%{listToShow}, and %{awardsListLength} more"),{listToShow:s.join(", "),awardsListLength:a.length},!1):s.length>1?(r=s.slice(0,s.length-1).join(", "),r+=s.length>2?",":"",r+=Object(d.h)(Object(d.a)(" and %{sliced}"),{sliced:s.slice(-1)},!1)):r=s.join(Object(d.a)(" and ")),r+Object(d.h)(Object(d.a)(" reacted with :%{name}:"),{name:t})},handleAward(e){this.canAwardEmoji&&(this.$emit("award",e),document.activeElement&&document.activeElement.blur())},setIsMenuOpen(e){this.isMenuOpen=e,this.virtualScrollerItem&&(this.virtualScrollerItem.style.zIndex=this.isMenuOpen?1:null)}},safeHtmlConfig:{ADD_TAGS:["gl-emoji"]}},m=i("tBpV"),f=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"awards js-awards-block"},[e._l(e.groupedAwards,(function(i){return t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],key:i.name,staticClass:"gl-my-2 gl-mr-3",class:i.classes,attrs:{title:i.title,"data-emoji-name":i.name,"data-testid":"award-button"},on:{click:function(t){return e.handleAward(i.name)}},scopedSlots:e._u([{key:"emoji",fn:function(){return[t("span",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:i.html,expression:"awardList.html",arg:e.$options.safeHtmlConfig}],staticClass:"award-emoji-block",attrs:{"data-testid":"award-html"}})]},proxy:!0}],null,!0)},[e._v(" "),t("span",{staticClass:"js-counter"},[e._v(e._s(i.list.length))])])})),e._v(" "),e.canAwardEmoji?t("div",{staticClass:"award-menu-holder gl-my-2"},[t("emoji-picker",{attrs:{right:!1,"data-testid":"emoji-picker"},on:{click:e.handleAward,shown:function(t){return e.setIsMenuOpen(!0)},hidden:function(t){return e.setIsMenuOpen(!1)}}})],1):e._e()],2)}),[],!1,null,null,null);t.a=f.exports},O1VG:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("9k56"),s=i("3hkr"),a=i("hII5"),r=i("u7gu");const o=Object(a.c)(r.c,s.s),l=Object(n.c)({name:s.s,mixins:[r.b],inject:{getBvGroup:{from:"getBvRadioGroup",default:()=>()=>null}},props:o,computed:{bvGroup(){return this.getBvGroup()}}})},OLW6:function(e,t,i){"use strict";var n=i("4lAS"),s=i("z1xw"),a=i("/lV4"),r={i18n:{buttonText:Object(a.a)("Reply to comment")},name:"ReplyButton",components:{GlButton:n.a},directives:{GlTooltip:s.a}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this;return(0,e._self._c)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"data-track-action":"click_button","data-track-label":"reply_comment_button",category:"tertiary",icon:"reply",title:e.$options.i18n.buttonText,"aria-label":e.$options.i18n.buttonText},on:{click:function(t){return e.$emit("startReplying")}}})}),[],!1,null,null,null);t.a=l.exports},OQy4:function(e,t,i){"use strict";var n=i("O1VG"),s=i("Pyw5"),a=i.n(s);const{model:r}=n.a.options;const o={name:"GlFormRadio",components:{BFormRadio:n.a},inheritAttrs:!1,model:{prop:r.prop,event:r.event},props:{checked:{type:[String,Number,Boolean,Object],required:!1,default:!1}}};const l=a()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-form-radio",e._b({staticClass:"gl-form-radio",attrs:{checked:e.checked},on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}},"b-form-radio",e.$attrs,!1),[e._t("default"),e._v(" "),e.$scopedSlots.help?i("p",{staticClass:"help-text"},[e._t("help")],2):e._e()],2)},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},Ocj7:function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"updateLockedAttribute",(function(){return V})),i.d(n,"expandDiscussion",(function(){return U})),i.d(n,"collapseDiscussion",(function(){return G})),i.d(n,"setNotesData",(function(){return W})),i.d(n,"setNoteableData",(function(){return H})),i.d(n,"setConfidentiality",(function(){return z})),i.d(n,"setUserData",(function(){return K})),i.d(n,"setLastFetchedAt",(function(){return Q})),i.d(n,"setInitialNotes",(function(){return Y})),i.d(n,"setTargetNoteHash",(function(){return J})),i.d(n,"setNotesFetchedState",(function(){return X})),i.d(n,"toggleDiscussion",(function(){return Z})),i.d(n,"toggleAllDiscussions",(function(){return ee})),i.d(n,"fetchDiscussions",(function(){return te})),i.d(n,"fetchNotes",(function(){return ie})),i.d(n,"initPolling",(function(){return ne})),i.d(n,"fetchDiscussionsBatch",(function(){return se})),i.d(n,"updateDiscussion",(function(){return ae})),i.d(n,"setDiscussionSortDirection",(function(){return re})),i.d(n,"setTimelineView",(function(){return oe})),i.d(n,"setSelectedCommentPosition",(function(){return le})),i.d(n,"setSelectedCommentPositionHover",(function(){return de})),i.d(n,"removeNote",(function(){return ce})),i.d(n,"deleteNote",(function(){return ue})),i.d(n,"updateNote",(function(){return pe})),i.d(n,"updateOrCreateNotes",(function(){return he})),i.d(n,"promoteCommentToTimelineEvent",(function(){return me})),i.d(n,"replyToDiscussion",(function(){return fe})),i.d(n,"createNewNote",(function(){return ge})),i.d(n,"removePlaceholderNotes",(function(){return ve})),i.d(n,"resolveDiscussion",(function(){return be})),i.d(n,"toggleResolveNote",(function(){return ye})),i.d(n,"closeIssuable",(function(){return ke})),i.d(n,"reopenIssuable",(function(){return we})),i.d(n,"toggleStateButtonLoading",(function(){return Se})),i.d(n,"emitStateChangedEvent",(function(){return _e})),i.d(n,"toggleIssueLocalState",(function(){return Ie})),i.d(n,"saveNote",(function(){return Te})),i.d(n,"setFetchingState",(function(){return Oe})),i.d(n,"fetchUpdatedNotes",(function(){return Ce})),i.d(n,"toggleAward",(function(){return xe})),i.d(n,"toggleAwardRequest",(function(){return je})),i.d(n,"fetchDiscussionDiffLines",(function(){return Ee})),i.d(n,"updateMergeRequestWidget",(function(){return De})),i.d(n,"setLoadingState",(function(){return Ne})),i.d(n,"filterDiscussion",(function(){return Ae})),i.d(n,"setCommentsDisabled",(function(){return Pe})),i.d(n,"startTaskList",(function(){return Fe})),i.d(n,"updateResolvableDiscussionsCounts",(function(){return Le})),i.d(n,"submitSuggestion",(function(){return Re})),i.d(n,"submitSuggestionBatch",(function(){return qe})),i.d(n,"addSuggestionInfoToBatch",(function(){return $e})),i.d(n,"removeSuggestionInfoFromBatch",(function(){return Be})),i.d(n,"convertToDiscussion",(function(){return Me})),i.d(n,"removeConvertedDiscussion",(function(){return Ve})),i.d(n,"setCurrentDiscussionId",(function(){return Ue})),i.d(n,"fetchDescriptionVersion",(function(){return Ge})),i.d(n,"requestDescriptionVersion",(function(){return We})),i.d(n,"receiveDescriptionVersion",(function(){return He})),i.d(n,"receiveDescriptionVersionError",(function(){return ze})),i.d(n,"softDeleteDescriptionVersion",(function(){return Ke})),i.d(n,"requestDeleteDescriptionVersion",(function(){return Qe})),i.d(n,"receiveDeleteDescriptionVersion",(function(){return Ye})),i.d(n,"receiveDeleteDescriptionVersionError",(function(){return Je})),i.d(n,"updateAssignees",(function(){return Xe})),i.d(n,"updateDiscussionPosition",(function(){return Ze})),i.d(n,"updateMergeRequestFilters",(function(){return et}));var s={};i.r(s),i.d(s,"discussions",(function(){return lt})),i.d(s,"convertedDisscussionIds",(function(){return dt})),i.d(s,"targetNoteHash",(function(){return ct})),i.d(s,"getNotesData",(function(){return ut})),i.d(s,"isNotesFetched",(function(){return pt})),i.d(s,"sortDirection",(function(){return ht})),i.d(s,"persistSortOrder",(function(){return mt})),i.d(s,"timelineEnabled",(function(){return ft})),i.d(s,"isFetching",(function(){return gt})),i.d(s,"isLoading",(function(){return vt})),i.d(s,"getNotesDataByProp",(function(){return bt})),i.d(s,"getNoteableData",(function(){return yt})),i.d(s,"getNoteableDataByProp",(function(){return kt})),i.d(s,"getBlockedByIssues",(function(){return wt})),i.d(s,"userCanReply",(function(){return St})),i.d(s,"openState",(function(){return _t})),i.d(s,"getUserData",(function(){return It})),i.d(s,"getUserDataByProp",(function(){return Tt})),i.d(s,"descriptionVersions",(function(){return Ot})),i.d(s,"canUserAddIncidentTimelineEvents",(function(){return Ct})),i.d(s,"notesById",(function(){return xt})),i.d(s,"noteableType",(function(){return jt})),i.d(s,"getCurrentUserLastNote",(function(){return Nt})),i.d(s,"getDiscussionLastNote",(function(){return At})),i.d(s,"unresolvedDiscussionsCount",(function(){return Pt})),i.d(s,"resolvableDiscussionsCount",(function(){return Ft})),i.d(s,"showJumpToNextDiscussion",(function(){return Lt})),i.d(s,"isDiscussionResolved",(function(){return Rt})),i.d(s,"allResolvableDiscussions",(function(){return qt})),i.d(s,"resolvedDiscussionsById",(function(){return $t})),i.d(s,"unresolvedDiscussionsIdsByDate",(function(){return Bt})),i.d(s,"unresolvedDiscussionsIdsByDiff",(function(){return Mt})),i.d(s,"resolvedDiscussionCount",(function(){return Vt})),i.d(s,"discussionTabCounter",(function(){return Ut})),i.d(s,"unresolvedDiscussionsIdsOrdered",(function(){return Gt})),i.d(s,"isLastUnresolvedDiscussion",(function(){return Wt})),i.d(s,"findUnresolvedDiscussionIdNeighbor",(function(){return Ht})),i.d(s,"nextUnresolvedDiscussionId",(function(){return zt})),i.d(s,"previousUnresolvedDiscussionId",(function(){return Kt})),i.d(s,"firstUnresolvedDiscussionId",(function(){return Qt})),i.d(s,"getDiscussion",(function(){return Yt})),i.d(s,"commentsDisabled",(function(){return Jt})),i.d(s,"suggestionsCount",(function(){return Xt})),i.d(s,"hasDrafts",(function(){return Zt})),i.d(s,"getSuggestionsFilePaths",(function(){return ei})),i.d(s,"getFetchDiscussionsConfig",(function(){return ti})),i.d(s,"allDiscussionsExpanded",(function(){return ii}));var a=i("Tmea"),r=i.n(a),o=(i("UezY"),i("z6RN"),i("hG7+"),i("B++/"),i("47t/"),i("ZzK0"),i("BzOf"),i("aFm2"),i("R9qC"),i("3UXl"),i("iyoE"),i("EmJ/")),l=i.n(o),d=i("ewH8"),c=i("XtiI"),u=i("qPgm"),p=i("jlnU"),h=i("bpeo"),m=i("AxUD"),f=i("2ibD"),g=i("/lV4"),v=i("udiD"),b=i("dR/i"),y=i("HzGH"),k=i.n(y),w=i("LX6e"),S=i.n(w),_=i("/ode"),I=i("NmEs"),T=i("3twG"),O=i("Or2z"),C=i("QBXl"),x=i("SqD0"),j=i("FxFN"),E=i("4wgn"),D=i("J7NB"),N=i("35TA"),A=i.n(N),P=i("7KAB");var F=i("04nr"),L=i("5v28"),R=i("Gs6c");const q=function(e,t){return e.filter((function(e){return e.id===t}))[0]},$=function(e){let t=Object(g.a)("Applying command");const i=(R.a.get(gl.GfmAutoComplete.dataSources.commands)||[]).filter((function(t){return new RegExp("/"+t.name).test(e)}));if(i&&i.length)if(i.length>1)t=Object(g.a)("Applying multiple commands");else{const e=i[0].description.toLowerCase();t=Object(g.h)(Object(g.a)("Applying command to %{commandDescription}"),{commandDescription:e})}return t},B=function(e){return e.map((function(e){return{...Object(F.s)(e)}}))},M=Object(L.b)({},{fetchPolicy:L.c.NO_CACHE}),V=function({commit:e,getters:t},{locked:i,fullPath:n}){const{iid:s,targetType:a}=t.getNoteableData;return M.mutate({mutation:a===m.p?k.a:S.a,variables:{input:{projectPath:n,iid:String(s),locked:i}}}).then((function({data:t}){const i=a===m.p?t.issueSetLocked.issue.discussionLocked:t.mergeRequestSetLocked.mergeRequest.discussionLocked;e("SET_ISSUABLE_LOCK",i)}))},U=function({commit:e,dispatch:t},i){i.discussionId&&t("diffs/renderFileForDiscussionId",i.discussionId,{root:!0}),e("EXPAND_DISCUSSION",i)},G=function({commit:e},t){return e("COLLAPSE_DISCUSSION",t)},W=function({commit:e},t){return e("SET_NOTES_DATA",t)},H=function({commit:e},t){return e("SET_NOTEABLE_DATA",t)},z=function({commit:e},t){return e("SET_ISSUE_CONFIDENTIAL",t)},K=function({commit:e},t){return e("SET_USER_DATA",t)},Q=function({commit:e},t){return e("SET_LAST_FETCHED_AT",t)},Y=function({commit:e},t){return e("ADD_OR_UPDATE_DISCUSSIONS",t)},J=function({commit:e},t){return e("SET_TARGET_NOTE_HASH",t)},X=function({commit:e},t){return e("SET_NOTES_FETCHED_STATE",t)},Z=function({commit:e},t){return e("TOGGLE_DISCUSSION",t)},ee=function({commit:e,getters:t}){e("SET_EXPAND_ALL_DISCUSSIONS",!t.allDiscussionsExpanded)},te=function({commit:e,dispatch:t,getters:i},{path:n,filter:s,persistFilter:a}){let r=void 0!==s?{params:{notes_filter:s,persist_filter:a}}:null;return i.noteableType===P.MERGE_REQUEST_NOTEABLE_TYPE&&(r={params:{notes_filter:0,persist_filter:!1}}),i.noteableType===P.ISSUE_NOTEABLE_TYPE||i.noteableType===P.MERGE_REQUEST_NOTEABLE_TYPE?t("fetchDiscussionsBatch",{path:n,config:r,perPage:20}):f.a.get(n,r).then((function({data:i}){e("ADD_OR_UPDATE_DISCUSSIONS",i),e("SET_FETCHING_DISCUSSIONS",!1),t("updateResolvableDiscussionsCounts")}))},ie=function({dispatch:e,getters:t}){return t.isFetching?null:(e("setFetchingState",!0),e("fetchDiscussions",t.getFetchDiscussionsConfig).then((function(){return e("initPolling")})).then((function(){e("setLoadingState",!1),e("setNotesFetchedState",!0),D.a.$emit("fetchedNotesData"),e("setFetchingState",!1)})).catch((function(){e("setLoadingState",!1),e("setNotesFetchedState",!0),Object(p.createAlert)({message:Object(g.a)("Something went wrong while fetching comments. Please try again.")})})))},ne=function({state:e,dispatch:t,getters:i,commit:n}){if(e.isPollingInitialized)return;t("setLastFetchedAt",i.getNotesDataByProp("lastFetchedAt"));const s=r()((function(){t("fetchUpdatedNotes")}),P.FETCH_UPDATED_NOTES_DEBOUNCE_TIMEOUT);c.a.subscriptions.create({channel:"Noteable::NotesChannel",project_id:e.notesData.projectId,group_id:e.notesData.groupId,noteable_type:e.notesData.noteableType,noteable_id:e.notesData.noteableId},{connected(){t("fetchUpdatedNotes")},received(e){"updated"===e.event&&s()}}),n("SET_IS_POLLING_INITIALIZED",!0)},se=function({commit:e,dispatch:t},{path:i,config:n,cursor:s,perPage:a}){const r={...null==n?void 0:n.params,per_page:a};return s&&(r.cursor=s),f.a.get(i,{params:r}).then((function({data:s,headers:r}){if(e("ADD_OR_UPDATE_DISCUSSIONS",s),r&&r["x-next-page-cursor"]){var o;const e={...n};return null!=n&&null!==(o=n.params)&&void 0!==o&&o.persist_filter&&(delete e.params.notes_filter,delete e.params.persist_filter),t("fetchDiscussionsBatch",{path:i,config:e,cursor:r["x-next-page-cursor"],perPage:Math.min(Math.round(1.5*a),100)})}e("SET_DONE_FETCHING_BATCH_DISCUSSIONS",!0),e("SET_FETCHING_DISCUSSIONS",!1),t("updateResolvableDiscussionsCounts")}))},ae=function({commit:e,state:t},i){return null==i?null:(e("UPDATE_DISCUSSION",i),q(t.discussions,i.id))},re=function({commit:e},{direction:t,persist:i=!0}){e("SET_DISCUSSIONS_SORT",{direction:t,persist:i})},oe=function({commit:e},t){e("SET_TIMELINE_VIEW",t)},le=function({commit:e},t){e("SET_SELECTED_COMMENT_POSITION",t)},de=function({commit:e},t){e("SET_SELECTED_COMMENT_POSITION_HOVER",t)},ce=function({commit:e,dispatch:t,state:i},n){const s=i.discussions.find((function({id:e}){return e===n.discussion_id}));e("DELETE_NOTE",n),t("updateMergeRequestWidget"),t("updateResolvableDiscussionsCounts"),Object(I.y)()&&t("diffs/removeDiscussionsFromDiff",s)},ue=function({dispatch:e},t){return f.a.delete(t.path).then((function(){e("removeNote",t)}))},pe=function({commit:e,dispatch:t},{endpoint:i,note:n}){return f.a.put(i,n).then((function({data:i}){e("UPDATE_NOTE",i),t("startTaskList")}))},he=function({commit:e,state:t,getters:i,dispatch:n},s){const{notesById:a}=i;s.forEach((function(i){if(a[i.id])e("UPDATE_NOTE",i);else if(i.type===P.DISCUSSION_NOTE||i.type===P.DIFF_NOTE){q(t.discussions,i.discussion_id)?e("ADD_NEW_REPLY_TO_DISCUSSION",i):i.type!==P.DIFF_NOTE||i.base_discussion?e("ADD_NEW_NOTE",i):(s=t.currentlyFetchingDiscussions)?(!0!==s&&clearTimeout(t.currentlyFetchingDiscussions),e("SET_FETCHING_DISCUSSIONS",setTimeout((function(){n("fetchDiscussions",{path:t.notesData.discussionsPath})}),P.DISCUSSION_FETCH_TIMEOUT))):(e("SET_FETCHING_DISCUSSIONS",!0),n("fetchDiscussions",{path:t.notesData.discussionsPath}))}else e("ADD_NEW_NOTE",i);var s}))},me=function({commit:e},{noteId:t,addError:i,addGenericError:n}){return e("SET_PROMOTE_COMMENT_TO_TIMELINE_PROGRESS",!0),M.mutate({mutation:A.a,variables:{input:{noteId:Object(j.c)(E.z,t)}}}).then((function({data:e={}}){var t;const n=null===(t=e.timelineEventPromoteFromNote)||void 0===t?void 0:t.errors;if(n.length){const e=Object(g.h)(i,{error:n.join(". ")});throw new Error(e)}D.a.$emit("comment-promoted-to-timeline-event"),Object(v.default)(Object(g.a)("Comment added to the timeline."))})).catch((function(e){const t=e.message||n;let i=!1,s=null;t===n&&(i=!0,s=e),Object(p.createAlert)({message:t,captureError:i,error:s})})).finally((function(){e("SET_PROMOTE_COMMENT_TO_TIMELINE_PROGRESS",!1)}))},fe=function({commit:e,state:t,getters:i,dispatch:n},{endpoint:s,data:a}){return f.a.post(s,a).then((function({data:s}){return s.discussion?(e("UPDATE_DISCUSSION",s.discussion),he({commit:e,state:t,getters:i,dispatch:n},s.discussion.notes),n("updateMergeRequestWidget"),n("startTaskList"),n("updateResolvableDiscussionsCounts")):e("ADD_NEW_REPLY_TO_DISCUSSION",s),s}))},ge=function({commit:e,dispatch:t},{endpoint:i,data:n}){return f.a.post(i,n).then((function({data:i}){return i.errors||(e("ADD_NEW_NOTE",i),t("updateMergeRequestWidget"),t("startTaskList"),t("updateResolvableDiscussionsCounts")),i}))},ve=function({commit:e}){return e("REMOVE_PLACEHOLDER_NOTES")},be=function({state:e,dispatch:t,getters:i},{discussionId:n}){const s=q(e.discussions,n),a=i.isDiscussionResolved(n);return s?a?Promise.resolve():t("toggleResolveNote",{endpoint:s.resolve_path,isResolved:a,discussion:!0}):Promise.reject()},ye=function({commit:e,dispatch:t},{endpoint:i,isResolved:n,discussion:s}){const a=n?P.UNRESOLVE_NOTE_METHOD_NAME:P.RESOLVE_NOTE_METHOD_NAME,r=s?"UPDATE_DISCUSSION":"UPDATE_NOTE";return f.a[a](i).then((function({data:i}){e(r,i),t("updateResolvableDiscussionsCounts"),t("updateMergeRequestWidget")}))},ke=function({commit:e,dispatch:t,state:i}){return t("toggleStateButtonLoading",!0),f.a.put(i.notesData.closePath).then((function({data:i}){e("CLOSE_ISSUE"),t("emitStateChangedEvent",i),t("toggleStateButtonLoading",!1)}))},we=function({commit:e,dispatch:t,state:i}){return t("toggleStateButtonLoading",!0),f.a.put(i.notesData.reopenPath).then((function({data:i}){e("REOPEN_ISSUE"),t("emitStateChangedEvent",i),t("toggleStateButtonLoading",!1)}))},Se=function({commit:e},t){return e("TOGGLE_STATE_BUTTON_LOADING",t)},_e=function({getters:e},t){const i=new CustomEvent(h.a,{detail:{data:t,isClosed:e.openState===m.d}});document.dispatchEvent(i)},Ie=function({commit:e},t){t===m.d?e("CLOSE_ISSUE"):t===m.j&&e("REOPEN_ISSUE")},Te=function({commit:e,dispatch:t},i){const n=i.data.draft_note||i.data["note[note]"]||i.data.note.note;let s=n;const a=function(e){return/^\/\w+.*$/gm.test(e)}(s),r=i.data.in_reply_to_discussion_id;let o;const d={...i};!0===d.isDraft?(o=r?"batchComments/addDraftToDiscussion":"batchComments/createNewDraft",!d.draft_note&&i.note&&(d.draft_note=d.note,delete d.note)):o=r?"replyToDiscussion":"createNewNote",e("REMOVE_PLACEHOLDER_NOTES"),a&&(s=function(e){return e.replace(/^\/\w+.*$/gm,"").trim()}(s)),s.length&&e("SHOW_PLACEHOLDER_NOTE",{noteBody:s,replyId:r}),a&&e("SHOW_PLACEHOLDER_NOTE",{isSystemNote:!0,noteBody:$(n),replyId:r});return t(o,d,{root:!0}).then((function(e){const{quick_actions_status:{messages:n=null,command_names:s=[]}={}}=e;return(null==s?void 0:s.indexOf("submit_review"))>=0&&t("batchComments/clearDrafts"),a&&n&&(b.a.setConfidentiality&&n.some((function(e){return e.includes("Made this issue confidential")}))&&b.a.setConfidentiality(),l()(".js-gfm-input").trigger("clear-commands-cache.atwho"),Object(p.createAlert)({message:n||Object(g.a)("Commands applied"),variant:p.VARIANT_INFO,parent:i.flashContainer})),e})).then((function(e){const{commands_changes:t}=e,{emoji_award:n}=t||{};if(!n)return e;const s=l()(".js-awards-block").eq(0);return Object(_.a)().then((function(e){e.addAwardToEmojiBar(s,n),e.scrollToAwards()})).catch((function(){Object(p.createAlert)({message:Object(g.a)("Something went wrong while adding your award. Please try again."),parent:i.flashContainer})})).then((function(){return e}))})).then((function(e){const{commands_changes:t}=e,{spend_time:i,time_estimate:n}=t||{};return null==i&&null==n||O.a.$emit("timeTrackingUpdated",{commands_changes:t}),e})).then((function(t){return e("REMOVE_PLACEHOLDER_NOTES"),t}))},Oe=function({commit:e},t){return e("SET_NOTES_FETCHING_STATE",t)},Ce=function({commit:e,state:t,getters:i,dispatch:n}){const{endpoint:s,options:a}=function(e){return{endpoint:e.notesData.notesPath,options:{headers:{"X-Last-Fetched-At":e.lastFetchedAt?""+e.lastFetchedAt:void 0}}}}(t);return f.a.get(s,a).then((function({data:i}){!async function(e,t,i,n,s){var a;i.isResolvingDiscussion||(null!==(a=e.notes)&&void 0!==a&&a.length&&(await s("updateOrCreateNotes",e.notes),s("startTaskList"),s("updateResolvableDiscussionsCounts")),t("SET_LAST_FETCHED_AT",e.last_fetched_at))}(i,e,t,0,n)})).catch((function(){}))},xe=function({commit:e,getters:t},{awardName:i,noteId:n}){e("TOGGLE_AWARD",{awardName:i,note:t.notesById[n]})},je=function({dispatch:e},t){const{endpoint:i,awardName:n}=t;return f.a.post(i,{name:n}).then((function(){e("toggleAward",t)}))},Ee=function({commit:e},t){return f.a.get(t.truncated_diff_lines_path).then((function({data:i}){e("SET_DISCUSSION_DIFF_LINES",{discussionId:t.id,diffLines:i.truncated_diff_lines})}))},De=function(){x.a.$emit("mr.discussion.updated")},Ne=function({commit:e},t){e("SET_NOTES_LOADING_STATE",t)},Ae=function({commit:e,dispatch:t},{path:i,filter:n,persistFilter:s}){e("CLEAR_DISCUSSIONS"),t("setLoadingState",!0),t("fetchDiscussions",{path:i,filter:n,persistFilter:s}).then((function(){t("setLoadingState",!1),t("setNotesFetchedState",!0)})).catch((function(){t("setLoadingState",!1),t("setNotesFetchedState",!0),Object(p.createAlert)({message:Object(g.a)("Something went wrong while fetching comments. Please try again.")})}))},Pe=function({commit:e},t){e("DISABLE_COMMENTS",t)},Fe=function({dispatch:e}){return d.default.nextTick((function(){return new C.a({dataType:"note",fieldName:"note",selector:".notes .is-editable",onSuccess:function(){return e("startTaskList")}})}))},Le=function({commit:e}){return e("UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS")},Re=function({commit:e,dispatch:t},{discussionId:i,suggestionId:n,flashContainer:s,message:a}){return e("SET_RESOLVING_DISCUSSION",!0),u.b.applySuggestion(n,a).then((function(){return t("resolveDiscussion",{discussionId:i}).catch((function(){}))})).catch((function(e){var t;const i=Object(g.a)("Something went wrong while applying the suggestion. Please try again."),n=(null===(t=e.response.data)||void 0===t?void 0:t.message)||i;Object(p.createAlert)({message:n,parent:s})})).finally((function(){e("SET_RESOLVING_DISCUSSION",!1)}))},qe=function({commit:e,dispatch:t,state:i},{message:n,flashContainer:s}){const a=i.batchSuggestionsInfo.map((function({suggestionId:e}){return e}));return e("SET_APPLYING_BATCH_STATE",!0),e("SET_RESOLVING_DISCUSSION",!0),u.b.applySuggestionBatch(a,n).then((function(){return Promise.all(i.batchSuggestionsInfo.map((function(e){const{discussionId:i}=e;return t("resolveDiscussion",{discussionId:i}).catch((function(){}))})))})).then((function(){return e("CLEAR_SUGGESTION_BATCH")})).catch((function(e){var t;const i=Object(g.a)("Something went wrong while applying the batch of suggestions. Please try again."),n=(null===(t=e.response.data)||void 0===t?void 0:t.message)||i;Object(p.createAlert)({message:n,parent:s})})).finally((function(){e("SET_APPLYING_BATCH_STATE",!1),e("SET_RESOLVING_DISCUSSION",!1)}))},$e=function({commit:e},{suggestionId:t,noteId:i,discussionId:n}){return e("ADD_SUGGESTION_TO_BATCH",{suggestionId:t,noteId:i,discussionId:n})},Be=function({commit:e},t){return e("REMOVE_SUGGESTION_FROM_BATCH",t)},Me=function({commit:e},t){return e("CONVERT_TO_DISCUSSION",t)},Ve=function({commit:e},t){return e("REMOVE_CONVERTED_DISCUSSION",t)},Ue=function({commit:e},t){return e("SET_CURRENT_DISCUSSION_ID",t)},Ge=function({dispatch:e},{endpoint:t,startingVersion:i,versionId:n}){let s=t;return i&&(s=Object(T.B)({start_version_id:i},s)),e("requestDescriptionVersion"),f.a.get(s).then((function(t){e("receiveDescriptionVersion",{descriptionVersion:t.data,versionId:n})})).catch((function(t){e("receiveDescriptionVersionError",t),Object(p.createAlert)({message:Object(g.a)("Something went wrong while fetching description changes. Please try again.")})}))},We=function({commit:e}){e("REQUEST_DESCRIPTION_VERSION")},He=function({commit:e},t){e("RECEIVE_DESCRIPTION_VERSION",t)},ze=function({commit:e},t){e("RECEIVE_DESCRIPTION_VERSION_ERROR",t)},Ke=function({dispatch:e},{endpoint:t,startingVersion:i,versionId:n}){let s=t;return i&&(s=Object(T.B)({start_version_id:i},s)),e("requestDeleteDescriptionVersion"),f.a.delete(s).then((function(){e("receiveDeleteDescriptionVersion",n)})).catch((function(t){throw e("receiveDeleteDescriptionVersionError",t),Object(p.createAlert)({message:Object(g.a)("Something went wrong while deleting description changes. Please try again.")}),new Error}))},Qe=function({commit:e}){e("REQUEST_DELETE_DESCRIPTION_VERSION")},Ye=function({commit:e},t){e("RECEIVE_DELETE_DESCRIPTION_VERSION",{[t]:Object(g.a)("Deleted")})},Je=function({commit:e},t){e("RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR",t)},Xe=function({commit:e},t){e("UPDATE_ASSIGNEES",t)},Ze=function({commit:e},t){e("UPDATE_DISCUSSION_POSITION",t)},et=function({commit:e},t){return e("SET_MERGE_REQUEST_FILTERS",t)};var tt=i("OksX"),it=i.n(tt),nt=i("HCER"),st=i.n(nt),at=(i("RFHG"),i("xuo1"),i("v2fZ"),i("LdIe"),i("PTOk"),i("Gtn5")),rt=i("WSFO");const ot=function(e){let t=null,i=-1;return e.slice(0).reduce((function(e,n){const s=n.notes[0];if(function(e){return e.system&&e.note===P.DESCRIPTION_TYPE}(s))if(t){if(t){(function(e,t){const i=new Date(e.created_at),n=(new Date(t.created_at)-i)/1e3/60;return Math.ceil(n)})(t,s)>P.TIME_DIFFERENCE_VALUE||s.author.id!==t.author.id||t.description_version_deleted?(t=s,i=e.length):(s.start_description_version_id=t.description_version_id,e.splice(i,1),i=e.length)}}else t=s,i=e.length;return e.push(n),e}),[])},lt=function(e,t,i){let n=it()(e.discussions);return"merge_request"===e.noteableData.targetType&&(n=n.reduce((function(t,i){return function(e,t){if(e.length===P.MR_FILTER_OPTIONS)return!1;if(0===e.length)return!0;const i=t.notes[0],n=P.MR_FILTER_OPTIONS.filter((function({value:t}){return!e.includes(t)}));for(let e=0,c=n.length;e<c;e+=1){var s,a,r,o,l,d;const c=n[e];if(null!==(s=c.systemNoteIcons)&&void 0!==s&&s.includes(i.system_note_icon_name)||null!==(a=c.noteType)&&void 0!==a&&a.includes(i.type)&&(null===(r=i.author)||void 0===r||!r.bot)||i.system&&null!==(o=c.noteText)&&void 0!==o&&o.some((function(e){return i.note.includes(e)}))||c.individualNote===t.individual_note&&!i.system&&(null===(l=i.author)||void 0===l||!l.bot)||c.bot&&null!==(d=i.author)&&void 0!==d&&d.bot)return!0}return!1}(e.mergeRequestFilters,i)||t.push(i),t}),[])),e.isTimelineEnabled&&(n=n.reduce((function(e,t){const i=t.notes.map((function(e){return{...t,id:e.id,created_at:e.created_at,individual_note:!0,notes:[e]}}));return e.concat(i)}),[]).sort((function(e,t){return new Date(e.created_at)-new Date(t.created_at)}))),n=ot(n),n=n.concat(function(e){return e.batchComments?e.batchComments.drafts.filter((function(e){return!e.file_path&&!e.discussion_id})).map((function(e){return{...e,individual_note:!0}})).sort((function(e,t){return e.id-t.id})):[]}(i)),e.discussionSortOrder===P.DESC&&(n=n.reverse()),n},dt=function(e){return e.convertedDisscussionIds},ct=function(e){return e.targetNoteHash},ut=function(e){return e.notesData},pt=function(e){return e.isNotesFetched},ht=function(e){return e.discussionSortOrder},mt=function(e){return e.persistSortOrder},ft=function(e){return e.isTimelineEnabled},gt=function(e){return e.isFetching},vt=function(e){return e.isLoading},bt=function(e){return function(t){return e.notesData[t]}},yt=function(e){return e.noteableData},kt=function(e){return function(t){return e.noteableData[t]}},wt=function(e){return e.noteableData.blocked_by_issues},St=function(e){return Boolean(e.noteableData.current_user.can_create_note)},_t=function(e){return Object(I.y)()?rt.a.state:e.noteableData.state},It=function(e){return e.userData||{}},Tt=function(e){return function(t){return e.userData&&e.userData[t]}},Ot=function(e){return e.descriptionVersions},Ct=function(e){var t;return Boolean((null===(t=e.userData)||void 0===t?void 0:t.can_add_timeline_events)&&e.noteableData.type===P.NOTEABLE_TYPE_MAPPING.Incident)},xt=function(e){return e.discussions.reduce((function(e,t){return t.notes.every((function(t){return Object.assign(e,{[t.id]:t})})),e}),{})},jt=function(e){const{ISSUE_NOTEABLE_TYPE:t,MERGE_REQUEST_NOTEABLE_TYPE:i,EPIC_NOTEABLE_TYPE:n}=P;return e.noteableData.noteableType===n?n:e.noteableData.merge_params?i:t},Et=function(e){return e.slice(0).reverse()},Dt=function(e,t){return!e.system&&t.userData&&e.author&&e.author.id===t.userData.id},Nt=function(e){return st()(Et(e.discussions).map((function(e){return Et(e.notes)}))).find((function(t){return Dt(t,e)}))},At=function(e){return function(t){return Et(t.notes).find((function(t){return Dt(t,e)}))}},Pt=function(e){return e.unresolvedDiscussionsCount},Ft=function(e){return e.resolvableDiscussionsCount},Lt=function(e,t){return function(e="discussion"){return("discussion"!==e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate).length>1}},Rt=function(e,t){return function(e){return void 0!==t.resolvedDiscussionsById[e]}},qt=function(e){return e.discussions.filter((function(e){return!e.individual_note&&e.resolvable}))},$t=function(e){const t={};return e.discussions.filter((function(e){return e.resolvable})).forEach((function(e){if(e.notes){e.notes.filter((function(e){return e.resolvable})).every((function(e){return e.resolved}))&&(t[e.id]=e)}})),t},Bt=function(e,t){return t.allResolvableDiscussions.filter((function(e){return!e.resolved})).sort((function(e,t){const i=new Date(e.notes[0].created_at),n=new Date(t.notes[0].created_at);return i<n?-1:i===n?0:1})).map((function(e){return e.id}))},Mt=function(e,t,i){const n=i.diffs.diffFiles;return t.allResolvableDiscussions.filter((function(e){return!e.resolved&&e.active})).sort((function(e,t){let i=0;if(!e.diff_file||!t.diff_file)return i;const s=n.find((function(t){return Object(at.h)({fileA:t,fileB:e.diff_file,mode:"mr"})})),a=n.find((function(e){return Object(at.h)({fileA:e,fileB:t.diff_file,mode:"mr"})}));s&&a&&(i=s.order-a.order);const r=[e.position.new_line,e.position.old_line],o=[t.position.new_line,t.position.old_line];return i<0||0===i&&Math.max(r[0],r[1])<Math.max(o[0],o[1])?-1:1})).map((function(e){return e.id}))},Vt=function(e,t){const i=t.resolvedDiscussionsById;return Object.keys(i).length},Ut=function(e){return e.discussions.reduce((function(e,t){return e+t.notes.filter((function(e){return!e.system&&!e.placeholder})).length}),0)},Gt=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate}},Wt=function(e,t){return function(e,i){const n=t.unresolvedDiscussionsIdsOrdered(i);return n[n.length-1]===e}},Ht=function(e,t){return function({discussionId:e,diffOrder:i,step:n}){const s=t.unresolvedDiscussionsIdsOrdered(i),a=t.unresolvedDiscussionsIdsOrdered(!1),r=s.length?s:a,o=r.indexOf(e)+n;return o<0&&n<0?r[r.length-1]:o===r.length&&n>0?r[0]:r[o]}},zt=function(e,t){return function(e,i){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:i,step:1})}},Kt=function(e,t){return function(e,i){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:i,step:-1})}},Qt=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff[0]:t.unresolvedDiscussionsIdsByDate[0]}},Yt=function(e){return function(t){return e.discussions.find((function(e){return e.id===t}))}},Jt=function(e){return e.commentsDisabled},Xt=function(e,t){return Object.values(t.notesById).filter((function(e){var t;return null===(t=e.suggestions)||void 0===t?void 0:t.length})).length},Zt=function(e,t,i,n){return Boolean(n["batchComments/hasDrafts"])},ei=function(e){return function(){return e.batchSuggestionsInfo.reduce((function(t,i){var n;const s=e.discussions.find((function(e){return e.id===i.discussionId}));return-1===t.indexOf(null==s||null===(n=s.diff_file)||void 0===n?void 0:n.file_path)&&t.push(s.diff_file.file_path),t}),[])}},ti=function(e,t){const i={path:t.getNotesDataByProp("discussionsPath")},n=t.getNotesDataByProp("notesFilter")||P.DISCUSSION_FILTERS_DEFAULT_VALUE;return Object(T.i)(P.NOTE_UNDERSCORE)&&n!==P.DISCUSSION_FILTERS_DEFAULT_VALUE?{...i,filter:P.DISCUSSION_FILTERS_DEFAULT_VALUE,persistFilter:!1}:i},ii=function(e){return e.discussions.every((function(e){return e.expanded}))};var ni=i("VNnR"),si=i.n(ni),ai=i("WelT"),ri={ADD_NEW_NOTE(e,t){const i=t.discussion?t.discussion.notes[0]:t,{discussion_id:n,type:s}=i,[a]=e.discussions.filter((function(e){return e.id===i.discussion_id})),r=s===P.DISCUSSION_NOTE||s===P.DIFF_NOTE;if(!a){let s=t.discussion||i.base_discussion;s||(s={expanded:!0,id:n,individual_note:!r,reply_id:n},r&&Object(I.y)()&&(s.resolvable=i.resolvable,s.resolved=!1,s.active=!0,s.resolve_path=i.resolve_path,s.resolve_with_issue_path=i.resolve_with_issue_path,s.diff_discussion=!1)),s.truncated_diff_lines&&(s.truncated_diff_lines=B(s.truncated_diff_lines)),delete i.base_discussion,s.notes=[i],e.discussions.push(s)}},ADD_NEW_REPLY_TO_DISCUSSION(e,t){const i=q(e.discussions,t.discussion_id),n=i&&q(i.notes,t.id);i&&!n&&i.notes.push(t)},DELETE_NOTE(e,t){const i=q(e.discussions,t.discussion_id);if(i.individual_note)e.discussions.splice(e.discussions.indexOf(i),1);else{const n=q(i.notes,t.id);i.notes.splice(i.notes.indexOf(n),1),i.notes.length||e.discussions.splice(e.discussions.indexOf(i),1)}},EXPAND_DISCUSSION(e,{discussionId:t}){const i=q(e.discussions,t);Object.assign(i,{expanded:!0})},COLLAPSE_DISCUSSION(e,{discussionId:t}){const i=q(e.discussions,t);Object.assign(i,{expanded:!1})},REMOVE_PLACEHOLDER_NOTES(e){const{discussions:t}=e;for(let e=t.length-1;e>=0;e-=1){const i=t[e],n=i.notes;if(n.length>1)for(let e=n.length-1;e>=0;e-=1)n[e].isPlaceholderNote&&n.splice(e,1);else i.isPlaceholderNote&&t.splice(e,1)}},SET_NOTES_DATA(e,t){Object.assign(e,{notesData:t})},SET_NOTEABLE_DATA(e,t){Object.assign(e,{noteableData:t})},SET_ISSUE_CONFIDENTIAL(e,t){e.noteableData.confidential=t},SET_ISSUABLE_LOCK(e,t){e.noteableData.discussion_locked=t},SET_USER_DATA(e,t){Object.assign(e,{userData:t})},CLEAR_DISCUSSIONS(e){e.discussions=[]},ADD_OR_UPDATE_DISCUSSIONS(e,t){t.forEach((function(t){const i={...t},n={};if(i.diff_file&&(n.file_hash=i.diff_file.file_hash,n.truncated_diff_lines=B(i.truncated_diff_lines||[])),i.individual_note&&i.notes.length>1)i.notes.forEach((function(t){const s={...i,...n,notes:[t]},a=e.discussions.find((function(e){return e.id===i.id&&e.notes[0].id===t.id}));a?e.discussions.splice(e.discussions.indexOf(a),1,s):e.discussions.push(s)}));else{const t=q(e.discussions,i.id);t?e.discussions.splice(e.discussions.indexOf(t),1,{...i,...n,expanded:t.expanded}):e.discussions.push({...i,...n})}}))},SET_LAST_FETCHED_AT(e,t){Object.assign(e,{lastFetchedAt:t})},SET_TARGET_NOTE_HASH(e,t){Object.assign(e,{targetNoteHash:t})},SHOW_PLACEHOLDER_NOTE(e,t){let i=e.discussions;const n=q(i,t.replyId);n&&(i=n.notes),i.push({id:Object(ai.a)()[0],individual_note:!0,isPlaceholderNote:!0,placeholderType:t.isSystemNote?P.SYSTEM_NOTE:P.NOTE,notes:[{body:t.noteBody}]})},TOGGLE_AWARD(e,t){const{awardName:i,note:n}=t,{id:s,name:a,username:r}=e.userData,o=n.award_emoji.filter((function(e){return""+e.name==""+t.awardName&&e.user.id===s}));o.length?n.award_emoji.splice(n.award_emoji.indexOf(o[0]),1):n.award_emoji.push({name:i,user:{id:s,name:a,username:r}})},TOGGLE_DISCUSSION(e,{discussionId:t,forceExpanded:i=null}){const n=q(e.discussions,t);Object.assign(n,{expanded:null===i?!n.expanded:i})},SET_EXPAND_DISCUSSIONS(e,{discussionIds:t,expanded:i}){null!=t&&t.length&&t.forEach((function(t){const n=q(e.discussions,t);Object.assign(n,{expanded:i})}))},SET_EXPAND_ALL_DISCUSSIONS(e,t){e.discussions.forEach((function(e){Object.assign(e,{expanded:t})}))},SET_RESOLVING_DISCUSSION(e,t){e.isResolvingDiscussion=t},UPDATE_NOTE(e,t){const i=q(e.discussions,t.discussion_id);if(delete t.base_discussion,i.individual_note)t.type===P.DISCUSSION_NOTE&&(i.individual_note=!1),i.notes.splice(0,1,t);else{const e=q(i.notes,t.id);si()(e,t)||i.notes.splice(i.notes.indexOf(e),1,t)}t.resolvable&&t.id===i.notes[0].id&&Object.assign(i,{resolvable:t.resolvable,resolved:t.resolved,resolved_at:t.resolved_at,resolved_by:t.resolved_by,resolved_by_push:t.resolved_by_push})},APPLY_SUGGESTION(e,{noteId:t,discussionId:i,suggestionId:n}){const s=q(e.discussions,i),a=q(s.notes,t);a.suggestions=a.suggestions.map((function(e){return{...e,applied:e.applied||e.id===n,appliable:!1}}))},SET_APPLYING_BATCH_STATE(e,t){e.batchSuggestionsInfo.forEach((function(i){const{discussionId:n,noteId:s,suggestionId:a}=i,r=q(e.discussions,n),o=q(r.notes,s);o.suggestions=o.suggestions.map((function(e){return{...e,is_applying_batch:e.id===a&&t}}))}))},ADD_SUGGESTION_TO_BATCH(e,{noteId:t,discussionId:i,suggestionId:n}){e.batchSuggestionsInfo.push({suggestionId:n,noteId:t,discussionId:i})},REMOVE_SUGGESTION_FROM_BATCH(e,t){const i=e.batchSuggestionsInfo.findIndex((function({suggestionId:e}){return e===t}));-1!==i&&e.batchSuggestionsInfo.splice(i,1)},CLEAR_SUGGESTION_BATCH(e){e.batchSuggestionsInfo.splice(0,e.batchSuggestionsInfo.length)},UPDATE_DISCUSSION(e,t){const i=t,n=e.discussions.find((function(e){return e.id===i.id}));i.expanded=!0,Object.assign(n,{...i})},UPDATE_DISCUSSION_POSITION(e,{discussionId:t,position:i}){const n=e.discussions.find((function(e){return e.id===t}));n&&Object.assign(n.position,{...i})},CLOSE_ISSUE(e){Object.assign(e.noteableData,{state:m.d})},REOPEN_ISSUE(e){Object.assign(e.noteableData,{state:m.j})},TOGGLE_STATE_BUTTON_LOADING(e,t){Object.assign(e,{isToggleStateButtonLoading:t})},SET_NOTES_FETCHED_STATE(e,t){Object.assign(e,{isNotesFetched:t})},SET_NOTES_LOADING_STATE(e,t){e.isLoading=t},SET_NOTES_FETCHING_STATE(e,t){e.isFetching=t},SET_DISCUSSION_DIFF_LINES(e,{discussionId:t,diffLines:i}){q(e.discussions,t).truncated_diff_lines=B(i)},SET_DISCUSSIONS_SORT(e,{direction:t,persist:i}){e.discussionSortOrder=t,e.persistSortOrder=i},SET_TIMELINE_VIEW(e,t){e.isTimelineEnabled=t},SET_SELECTED_COMMENT_POSITION(e,t){e.selectedCommentPosition=t},SET_SELECTED_COMMENT_POSITION_HOVER(e,t){e.selectedCommentPositionHover=t},DISABLE_COMMENTS(e,t){e.commentsDisabled=t},UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS(e){e.resolvableDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable})).length,e.unresolvedDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable&&e.notes.some((function(e){return e.resolvable&&!e.resolved}))})).length},CONVERT_TO_DISCUSSION(e,t){const i=[...e.convertedDisscussionIds,t];Object.assign(e,{convertedDisscussionIds:i})},REMOVE_CONVERTED_DISCUSSION(e,t){const i=[...e.convertedDisscussionIds];i.splice(i.indexOf(t),1),Object.assign(e,{convertedDisscussionIds:i})},SET_CURRENT_DISCUSSION_ID(e,t){e.currentDiscussionId=t},REQUEST_DESCRIPTION_VERSION(e){e.isLoadingDescriptionVersion=!0},RECEIVE_DESCRIPTION_VERSION(e,{descriptionVersion:t,versionId:i}){const n={...e.descriptionVersions,[i]:t};Object.assign(e,{descriptionVersions:n,isLoadingDescriptionVersion:!1})},RECEIVE_DESCRIPTION_VERSION_ERROR(e){e.isLoadingDescriptionVersion=!1},REQUEST_DELETE_DESCRIPTION_VERSION(e){e.isLoadingDescriptionVersion=!0},RECEIVE_DELETE_DESCRIPTION_VERSION(e,t){e.isLoadingDescriptionVersion=!1,Object.assign(e.descriptionVersions,t)},RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR(e){e.isLoadingDescriptionVersion=!1},UPDATE_ASSIGNEES(e,t){e.noteableData.assignees=t},SET_FETCHING_DISCUSSIONS(e,t){e.currentlyFetchingDiscussions=t},SET_DONE_FETCHING_BATCH_DISCUSSIONS(e,t){e.doneFetchingBatchDiscussions=t},SET_PROMOTE_COMMENT_TO_TIMELINE_PROGRESS(e,t){e.isPromoteCommentToTimelineEventInProgress=t},SET_IS_POLLING_INITIALIZED(e,t){e.isPollingInitialized=t},SET_MERGE_REQUEST_FILTERS(e,t){e.mergeRequestFilters=t}};var oi=function(){return{discussions:[],discussionSortOrder:P.ASC,persistSortOrder:!0,convertedDisscussionIds:[],targetNoteHash:null,lastFetchedAt:null,currentDiscussionId:null,batchSuggestionsInfo:[],currentlyFetchingDiscussions:!1,doneFetchingBatchDiscussions:!1,selectedCommentPosition:null,selectedCommentPositionHover:null,isToggleStateButtonLoading:!1,isNotesFetched:!1,isLoading:!0,isLoadingDescriptionVersion:!1,isPromoteCommentToTimelineEventInProgress:!1,notesData:{markdownDocsPath:""},userData:{},noteableData:{discussion_locked:!1,confidential:!1,current_user:{},preview_note_path:"path/to/preview"},isResolvingDiscussion:!1,commentsDisabled:!1,resolvableDiscussionsCount:0,unresolvedDiscussionsCount:0,descriptionVersions:{},isTimelineEnabled:!1,isFetching:!1,isPollingInitialized:!1,mergeRequestFilters:P.MR_FILTER_OPTIONS.map((function(e){return e.value}))}};t.a=function(){return{state:oi(),actions:n,getters:s,mutations:ri}}},OgyL:function(e,t,i){"use strict";var n=i("tBpV"),s=Object(n.a)({},(function(){var e=this._self._c;return e("li",{staticClass:"timeline-entry"},[e("div",{staticClass:"timeline-entry-inner"},[this._t("default")],2)])}),[],!1,null,null,null);t.a=s.exports},OksX:function(e,t,i){var n=i("/eF7");e.exports=function(e){return n(e,4)}},OlVo:function(e,t,i){"use strict";i("v2fZ");var n=i("z1xw"),s=i("KnFb"),a=i("MV2A"),r=i("N50s"),o=i("4lAS"),l=i("/lV4"),d=i("UjDh"),c=i.n(d),u=i("sHIo"),p=i("AxUD"),h=i("JtyA"),m=i("7F3p"),f=i("3twG"),g=i("FxFN"),v=i("J6Lq"),b={name:"WorkItemDrawer",directives:{GlTooltip:n.a,GlOutside:s.a},components:{GlLink:a.a,GlDrawer:r.a,GlButton:o.a,WorkItemDetail:function(){return Promise.all([i.e(29),i.e(72),i.e(61),i.e(92),i.e(854)]).then(i.bind(null,"aX2V"))}},mixins:[Object(u.a)()],inject:["fullPath","isGroup"],inheritAttrs:!1,props:{open:{type:Boolean,required:!0},activeItem:{type:Object,required:!1,default:function(){return{}}},issuableType:{type:String,required:!1,default:p.p},clickOutsideExcludeSelector:{type:String,required:!1,default:null}},data(){return{copyTooltipText:this.$options.i18n.copyTooltipText}},computed:{activeItemFullPath(){return Object(v.y)(this.activeItem,this.fullPath,this.issuableType)},modalIsGroup(){return this.issuableType.toLowerCase()===p.n},headerReference(){return`${this.activeItemFullPath.substring(this.activeItemFullPath.lastIndexOf("/")+1)}#${this.activeItem.iid}`},issueAsWorkItem(){return!this.isGroup&&this.glFeatures.workItemsViewPreference&&gon.current_user_use_work_items_view}},watch:{activeItem:{deep:!0,immediate:!0,handler(e){var t=this;null!=e&&e.iid&&(this.setDrawerParams(),this.$nextTick((function(){t.focusOnHeaderLink()})))}},open:{immediate:!0,handler(e){var t=this;e&&this.$nextTick((function(){t.focusOnHeaderLink()}))}}},methods:{async deleteWorkItem({workItemId:e}){try{var t;const{data:i}=await this.$apollo.mutate({mutation:c.a,variables:{input:{id:e}}});if(null!==(t=i.workItemDelete.errors)&&void 0!==t&&t.length)throw new Error(i.workItemDelete.errors[0]);this.$emit("workItemDeleted",{id:e})}catch(e){this.$emit("deleteWorkItemError"),m.b(e)}},redirectToWorkItem(e){const t=this.activeItem;if(e.metaKey||e.ctrlKey)return;e.preventDefault();!this.preventRouterNav&&this.$router&&Object(v.b)({fullPath:this.fullPath,webUrl:t.webUrl,isGroup:this.isGroup,issueAsWorkItem:this.issueAsWorkItem})?this.$router.push({name:"workItem",params:{iid:t.iid}}):Object(f.R)(t.webUrl)},handleCopyToClipboard(){var e=this;this.copyTooltipText=this.$options.i18n.copiedTooltipText,setTimeout((function(){e.copyTooltipText=e.$options.i18n.copyTooltipText}),2e3)},setDrawerParams(){const e=Object(v.z)(this.activeItem,this.fullPath,this.issuableType);Object(f.O)({url:Object(f.L)({[h.g]:e})})},handleClose(e){var t;(Object(f.O)({url:Object(f.I)([h.g])}),e)||(null===(t=document.getElementById(`listItem-${this.activeItemFullPath}/${Object(g.e)(this.activeItem.id)}`))||void 0===t||t.focus());this.$emit("close")},handleClickOutside(e){for(const t of this.$options.defaultExcludedSelectors){const i=document.querySelectorAll(t);for(const t of i)if(t.contains(e.target))return}if(this.clickOutsideExcludeSelector){const t=document.querySelectorAll(this.clickOutsideExcludeSelector);for(const i of t)if(i.contains(e.target))return}this.handleClose(!0)},focusOnHeaderLink(){var e;null===(e=this.$refs)||void 0===e||null===(e=e.workItemUrl)||void 0===e||null===(e=e.$el)||void 0===e||e.focus()}},i18n:{copyTooltipText:Object(l.a)("Copy item URL"),copiedTooltipText:Object(l.a)("Copied"),openTooltipText:Object(l.a)("Open in full page")},defaultExcludedSelectors:["#confirmationModal","#create-timelog-modal","#set-time-estimate-modal",'[id^="insert-comment-template-modal"]',".pika-single",".atwho-container",".item-title",".tippy-content .gl-new-dropdown-panel","#blocked-by-issues-modal","#open-children-warning-modal","#create-work-item-modal","#work-item-confirm-delete",".work-item-link-child",".modal-content","#create-merge-request-modal"]},y=i("tBpV"),k=Object(y.a)(b,(function(){var e=this,t=e._self._c;return t("gl-drawer",{directives:[{name:"gl-outside",rawName:"v-gl-outside",value:e.handleClickOutside,expression:"handleClickOutside"}],staticClass:"gl-w-full gl-leading-reset lg:gl-w-[480px] xl:gl-w-[768px] min-[1440px]:gl-w-[912px]",attrs:{open:e.open,"z-index":200,"data-testid":"work-item-drawer","header-sticky":"","header-height":"calc(var(--top-bar-height) + var(--performance-bar-height))"},on:{close:e.handleClose},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"gl-text gl-flex gl-w-full gl-items-center gl-gap-x-2 xl:gl-px-4"},[t("gl-link",{ref:"workItemUrl",staticClass:"gl-text-sm gl-font-bold gl-text-default",attrs:{"data-testid":"work-item-drawer-ref-link",href:e.activeItem.webUrl},on:{click:e.redirectToWorkItem}},[e._v("\n        "+e._s(e.headerReference)+"\n      ")]),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-text-subtle",attrs:{"data-testid":"work-item-drawer-copy-button",title:e.copyTooltipText,category:"tertiary",icon:"link",size:"small","aria-label":e.$options.i18n.copyTooltipText,"data-clipboard-text":e.activeItem.webUrl},on:{click:e.handleCopyToClipboard}}),e._v(" "),t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-text-subtle",attrs:{"data-testid":"work-item-drawer-link-button",href:e.activeItem.webUrl,title:e.$options.i18n.openTooltipText,category:"tertiary",icon:"maximize",size:"small","aria-label":e.$options.i18n.openTooltipText},on:{click:e.redirectToWorkItem}})],1)]},proxy:!0},{key:"default",fn:function(){return[t("work-item-detail",e._g({key:e.activeItem.iid,staticClass:"work-item-drawer !gl-pt-0 xl:!gl-px-6",attrs:{"work-item-iid":e.activeItem.iid,"modal-work-item-full-path":e.activeItemFullPath,"modal-is-group":e.modalIsGroup,"is-drawer":""},on:{deleteWorkItem:e.deleteWorkItem,workItemTypeChanged:function(t){return e.$emit("workItemTypeChanged",t)}}},e.$listeners))]},proxy:!0}])})}),[],!1,null,null,null);t.a=k.exports},OlWj:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alertManagementAlert"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"monitoringTool"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hosts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:399}};i.loc.source={body:"query getAlert($iid: String!, $fullPath: ID!) {\n  project(fullPath: $fullPath) {\n    id\n    issue(iid: $iid) {\n      id\n      alertManagementAlert {\n        id\n        iid\n        title\n        detailsUrl\n        severity\n        status\n        startedAt\n        eventCount\n        monitoringTool\n        service\n        description\n        endedAt\n        hosts\n        details\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getAlert=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"getAlert")},OmYI:function(e,t,i){var n,s;n=[i("EmJ/")],void 0===(s=function(e){return function(e){var t,i,n;i={ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},t={beforeSave:function(e){return s.arrayToDefaultHash(e)},matcher:function(e,t,i,n){var s,a,r;return e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i&&(e="(?:^|\\s)"+e),s=decodeURI("%C3%80"),a=decodeURI("%C3%BF"),(r=new RegExp(e+"([A-Za-z"+s+"-"+a+"0-9_"+(n?" ":"")+"'.+-]*)$|"+e+"([^\\x00-\\xff]*)$","gi").exec(t))?r[2]||r[1]:null},filter:function(e,t,i){var n,s,a,r;for(n=[],s=0,r=t.length;s<r;s++)a=t[s],~new String(a[i]).toLowerCase().indexOf(e.toLowerCase())&&n.push(a);return n},remoteFilter:null,sorter:function(e,t,i){var n,s,a,r;if(!e)return t;for(n=[],s=0,r=t.length;s<r;s++)(a=t[s]).atwho_order=new String(a[i]).toLowerCase().indexOf(e.toLowerCase()),a.atwho_order>-1&&n.push(a);return n.sort((function(e,t){return e.atwho_order-t.atwho_order}))},tplEval:function(e,t){var i;i=e;try{return"string"!=typeof e&&(i=e(t)),i.replace(/\$\{([^\}]*)\}/g,(function(e,i,n){return t[i]}))}catch(e){return""}},highlighter:function(e,t){var i;return t?(i=new RegExp(">\\s*([^<]*?)("+t.replace("+","\\+")+")([^<]*)\\s*<","ig"),e.replace(i,(function(e,t,i,n){return"> "+t+"<strong>"+i+"</strong>"+n+" <"}))):e},beforeInsert:function(e,t,i){return e},beforeReposition:function(e){return e},afterMatchFailed:function(e,t){}},n=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=e(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var i;return null!=(i=this.$el)&&i.remove(),e(t.body).append(this.$el=e("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,i){var n;if(null==i&&(i=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(t){if(n=t,this.iframe=null,e.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+n)}}return this.createContainer((this.iframeAsRoot=i)?this.document:document)},t.prototype.controller=function(e){var t,i,n,s;if(this.aliasMaps[e])i=this.controllers[this.aliasMaps[e]];else for(n in s=this.controllers)if(t=s[n],n===e){i=t;break}return i||this.controllers[this.currentFlag]},t.prototype.setContextFor=function(e){return this.currentFlag=e,this},t.prototype.reg=function(e,t){var i,n;return n=(i=this.controllers)[e]||(i[e]=this.$inputor.is("[contentEditable]")?new o(this,e):new r(this,e)),t.alias&&(this.aliasMaps[t.alias]=e),n.init(t),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",(e=this,function(t){var i;return null!=(i=e.controller())&&i.view.hide(),e.isComposing=!0,null})).on("compositionend",function(e){return function(t){return e.isComposing=!1,setTimeout((function(t){return e.dispatch(t)})),null}}(this)).on("keyup.atwhoInner",function(e){return function(t){return e.onKeyup(t)}}(this)).on("keydown.atwhoInner",function(e){return function(t){return e.onKeydown(t)}}(this)).on("blur.atwhoInner",function(e){return function(t){var i;if(i=e.controller())return i.expectedQueryCBId=null,i.view.hide(t,i.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(e){return function(t){return e.dispatch(t)}}(this)).on("scroll.atwhoInner",function(e){return function(){var t;return t=e.$inputor.scrollTop(),function(i){var n,s;return n=i.target.scrollTop,t!==n&&null!=(s=e.controller())&&s.view.hide(i),t=n,!0}}}(this)());var e},t.prototype.shutdown=function(){var e,t;for(e in t=this.controllers)t[e].destroy(),delete this.controllers[e];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(e){var t,i,n,s;if(void 0!==e){for(t in s=[],n=this.controllers)i=n[t],s.push(i.lookUp(e));return s}},t.prototype.onKeyup=function(t){var n;switch(t.keyCode){case i.ESC:t.preventDefault(),null!=(n=this.controller())&&n.view.hide();break;case i.DOWN:case i.UP:case i.CTRL:case i.ENTER:e.noop();break;case i.P:case i.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var n,s;if((s=null!=(n=this.controller())?n.view:void 0)&&s.visible())switch(t.keyCode){case i.ESC:t.preventDefault(),s.hide(t);break;case i.UP:t.preventDefault(),s.prev();break;case i.DOWN:t.preventDefault(),s.next();break;case i.P:if(!t.ctrlKey)return;t.preventDefault(),s.prev();break;case i.N:if(!t.ctrlKey)return;t.preventDefault(),s.next();break;case i.TAB:case i.ENTER:case i.SPACE:if(!s.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===i.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===i.TAB)return;s.highlighted()?(t.preventDefault(),s.choose(t)):s.hide(t);break;default:e.noop()}},t}();var s,a=[].slice;s=function(){function i(t,i){this.app=t,this.at=i,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=e("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new l(this),this.view=new d(this)}return i.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},i.prototype.init=function(t){return this.setting=e.extend({},this.setting||e.fn.atwho.default,t),this.view.init(),this.model.reload(this.setting.data)},i.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},i.prototype.callDefault=function(){var i,n,s;s=arguments[0],i=2<=arguments.length?a.call(arguments,1):[];try{return t[s].apply(this,i)}catch(t){return n=t,e.error(n+" Or maybe At.js doesn't have function "+s)}},i.prototype.trigger=function(e,t){var i,n;return null==t&&(t=[]),t.push(this),n=(i=this.getOpt("alias"))?e+"-"+i+".atwho":e+".atwho",this.$inputor.trigger(n,t)},i.prototype.callbacks=function(e){return this.getOpt("callbacks")[e]||t[e]},i.prototype.getOpt=function(e,t){try{return this.setting[e]}catch(e){return null}},i.prototype.insertContentFor=function(t){var i,n;return n=this.getOpt("insertTpl"),i=e.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,n,i,"onInsert")},i.prototype.renderView=function(e){var t;return t=this.getOpt("searchKey"),e=this.callbacks("sorter").call(this,this.query.text,e,t),this.view.render(e.slice(0,this.getOpt("limit")))},i.arrayToDefaultHash=function(t){var i,n,s,a;if(!e.isArray(t))return t;for(a=[],i=0,s=t.length;i<s;i++)n=t[i],e.isPlainObject(n)?a.push(n):a.push({name:n});return a},i.prototype.lookUp=function(e){var t,i;if((!e||"click"!==e.type||this.getOpt("lookUpOnClick"))&&(!this.getOpt("suspendOnComposing")||!this.app.isComposing))return(t=this.catchQuery(e))?(this.app.setContextFor(this.at),(i=this.getOpt("delay"))?this._delayLookUp(t,i):this._lookUp(t),t):(this.expectedQueryCBId=null,t)},i.prototype._delayLookUp=function(e,t){var i,n,s;return i=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=i),0<(n=t-(i-this.previousCallTime))&&n<t?(this.previousCallTime=i,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout((s=this,function(){return s.previousCallTime=0,s.delayedCallTimeout=null,s._lookUp(e)}),t)):(this._stopDelayedCall(),this.previousCallTime!==i&&(this.previousCallTime=0),this._lookUp(e))},i.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},i.prototype._generateQueryCBId=function(){return{}},i.prototype._lookUp=function(t){var i;return i=function(e,t){if(e===this.expectedQueryCBId)return t&&t.length>0?this.renderView(this.constructor.arrayToDefaultHash(t)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,e.proxy(i,this,this.expectedQueryCBId))},i}();var r,o,l,d,c,u=function(e,t){for(var i in t)p.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty;r=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return u(i,t),i.prototype.catchQuery=function(){var e,t,i,n,s,a,r;if(t=this.$inputor.val(),e=this.$inputor.caret("pos",{iframe:this.app.iframe}),r=t.slice(0,e),!((n="string"==typeof(s=this.callbacks("matcher").call(this,this.at,r,this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))))&&s.length<this.getOpt("minLen",0)))return n&&s.length<=this.getOpt("maxLen",20)?(i=(a=e-s.length)+s.length,this.pos=a,s={text:s,headPos:a,endPos:i},this.trigger("matched",[this.at,s.text])):(s=null,this.view.hide()),this.query=s},i.prototype.rect=function(){var t,i,n;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(i=e(this.app.iframe).offset(),t.left+=i.left,t.top+=i.top),n=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+n}},i.prototype.insert=function(e,t){var i,n,s,a,r;return r=""+(s=(n=(i=this.$inputor).val()).slice(0,Math.max(this.query.headPos-this.at.length,0)))+(e+=a=""===(a=this.getOpt("suffix"))?a:a||" ")+n.slice(this.query.endPos||0),i.val(r),i.caret("pos",s.length+e.length,{iframe:this.app.iframe}),i.is(":focus")||i.focus(),i.change()},i}(s),u=function(e,t){for(var i in t)p.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty,o=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype._getRange=function(){var e;if((e=this.app.window.getSelection()).rangeCount>0)return e.getRangeAt(0)},n.prototype._setRange=function(t,i,n){if(null==n&&(n=this._getRange()),n&&i)return i=e(i)[0],"after"===t?(n.setEndAfter(i),n.setStartAfter(i)):(n.setEndBefore(i),n.setStartBefore(i)),n.collapse(!1),this._clearRange(n)},n.prototype._clearRange=function(e){var t;if(null==e&&(e=this._getRange()),t=this.app.window.getSelection(),null==this.ctrl_a_pressed)return t.removeAllRanges(),t.addRange(e)},n.prototype._movingEvent=function(e){var t;return"click"===e.type||(t=e.which)===i.RIGHT||t===i.LEFT||t===i.UP||t===i.DOWN},n.prototype._unwrap=function(t){var i;return(i=(t=e(t).unwrap().get(0)).nextSibling)&&i.nodeValue&&(t.nodeValue+=i.nodeValue,e(i).remove()),t},n.prototype.catchQuery=function(t){var n,s,a,r,o,l,d,c,u,p,h,m;if((m=this._getRange())&&m.collapsed){if(t.which===i.ENTER)return(s=e(m.startContainer).closest(".atwho-query")).contents().unwrap(),s.is(":empty")&&s.remove(),(s=e(".atwho-query",this.app.document)).text(s.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(e(m.startContainer).is(this.$inputor))return void this._clearRange();t.which===i.BACKSPACE&&m.startContainer.nodeType===document.ELEMENT_NODE&&(u=m.startOffset-1)>=0?((a=m.cloneRange()).setStart(m.startContainer,u),e(a.cloneContents()).contents().last().is(".atwho-inserted")&&(o=e(m.startContainer).contents().get(u),this._setRange("after",e(o).contents().last()))):t.which===i.LEFT&&m.startContainer.nodeType===document.TEXT_NODE&&(n=e(m.startContainer.previousSibling)).is(".atwho-inserted")&&0===m.startOffset&&this._setRange("after",n.contents().last())}if(e(m.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(s=e(".atwho-query",this.app.document)).length>0&&s.is(":empty")&&0===s.text().length&&s.remove(),this._movingEvent(t)||s.removeClass("atwho-inserted"),s.length>0)switch(t.which){case i.LEFT:return this._setRange("before",s.get(0),m),void s.removeClass("atwho-query");case i.RIGHT:return this._setRange("after",s.get(0).nextSibling,m),void s.removeClass("atwho-query")}if(s.length>0&&(h=s.attr("data-atwho-at-query"))&&(s.empty().html(h).attr("data-atwho-at-query",null),this._setRange("after",s.get(0),m)),(a=m.cloneRange()).setStart(m.startContainer,0),l="string"==typeof(c=this.callbacks("matcher").call(this,this.at,a.toString(),this.getOpt("startWithSpace"),this.getOpt("acceptSpaceBar"))),0===s.length&&l&&(r=m.startOffset-this.at.length-c.length)>=0&&(m.setStart(m.startContainer,r),s=e("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),m.surroundContents(s.get(0)),(d=s.contents().last().get(0))&&(/firefox/i.test(navigator.userAgent)?(m.setStart(d,d.length),m.setEnd(d,d.length),this._clearRange(m)):this._setRange("after",d,m))),!(l&&c.length<this.getOpt("minLen",0)))return l&&c.length<=this.getOpt("maxLen",20)?(p={text:c,el:s},this.trigger("matched",[this.at,p.text]),this.query=p):(this.view.hide(),this.query={el:s},s.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&s.hasClass("atwho-inserted")?s.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,s)&&this._setRange("after",this._unwrap(s.text(s.text()).contents().first()))),null)}},n.prototype.rect=function(){var t,i;if((i=this.query.el.offset())&&this.query.el[0].getClientRects().length)return this.app.iframe&&!this.app.iframeAsRoot&&(t=e(this.app.iframe).offset(),i.left+=t.left-this.$inputor.scrollLeft(),i.top+=t.top-this.$inputor.scrollTop()),i.bottom=i.top+this.query.el.height(),i},n.prototype.insert=function(e,t){var i,n,s,a,r;return this.$inputor.is(":focus")||this.$inputor.focus(),(n=this.getOpt("functionOverrides")).insert?n.insert.call(this,e,t):(a=""===(a=this.getOpt("suffix"))?a:a||"Â ",i=t.data("item-data"),this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(e).attr("data-atwho-at-query",""+i["atwho-at"]+this.query.text).attr("contenteditable","false"),(s=this._getRange())&&(this.query.el.length&&s.setEndAfter(this.query.el[0]),s.collapse(!1),s.insertNode(r=this.app.document.createTextNode(""+a)),this._setRange("after",r,s)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change())},n}(s),l=function(){function e(e){this.context=e,this.at=this.context.at,this.storage=this.context.$inputor}return e.prototype.destroy=function(){return this.storage.data(this.at,null)},e.prototype.saved=function(){return this.fetch()>0},e.prototype.query=function(e,t){var i,n,s;return n=this.fetch(),s=this.context.getOpt("searchKey"),n=this.context.callbacks("filter").call(this.context,e,n,s)||[],i=this.context.callbacks("remoteFilter"),n.length>0||!i&&0===n.length?t(n):i.call(this.context,e,t)},e.prototype.fetch=function(){return this.storage.data(this.at)||[]},e.prototype.save=function(e){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,e||[]))},e.prototype.load=function(e){if(!this.saved()&&e)return this._load(e)},e.prototype.reload=function(e){return this._load(e)},e.prototype._load=function(e){if("string"==typeof e)throw new Error("@gitlab/at.js removed support for $.ajax");return this.save(e)},e}(),d=function(){function t(t){this.context=t,this.$el=e("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.$elUl=this.$el.children(),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var e,t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),(e=this.context.getOpt("headerTpl"))&&1===this.$el.children().length&&this.$el.prepend(e),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t,i,n,s;return t=this.$el.find("ul"),i=0,n=0,t.on("mousemove.atwho-view","li",(function(s){var a;if((i!==s.clientX||n!==s.clientY)&&(i=s.clientX,n=s.clientY,!(a=e(s.currentTarget)).hasClass("cur")))return t.find(".cur").removeClass("cur"),a.addClass("cur")})).on("click.atwho-view","li",(s=this,function(i){return t.find(".cur").removeClass("cur"),e(i.currentTarget).addClass("cur"),s.choose(i),i.preventDefault()}))},t.prototype.visible=function(){return e.expr.filters.visible(this.$el[0])},t.prototype.highlighted=function(){return this.$el.find(".cur").length>0},t.prototype.choose=function(e){var t,i;if((t=this.$el.find(".cur")).length&&(i=this.context.insertContentFor(t),this.context._stopDelayedCall(),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,i,t,e),t),this.context.trigger("inserted",[t,e]),this.hide(e)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},t.prototype.reposition=function(t){var i,n,s,a;return i=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-e(i).scrollTop()>e(i).height()&&(t.bottom=t.top-this.$el.height()),t.left>(s=e(i).width()-this.$el.width()-5)&&(t.left=s),n={left:t.left,top:t.bottom},null!=(a=this.context.callbacks("beforeReposition"))&&a.call(this.context,n),this.$el.offset(n),this.context.trigger("reposition",[n])},t.prototype.next=function(){var e,t,i;return(e=this.$el.find(".cur").removeClass("cur").next()).length||(e=this.$el.find("li:first")),e.addClass("cur"),i=(t=e[0]).offsetTop+t.offsetHeight+(t.nextSibling?t.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,i-this.$el.height()))},t.prototype.prev=function(){var e,t,i;return(t=this.$el.find(".cur").removeClass("cur").prev()).length||(t=this.$el.find("li:last")),t.addClass("cur"),e=(i=t[0]).offsetTop+i.offsetHeight+(i.nextSibling?i.nextSibling.offsetHeight:0),this.scrollTop(Math.max(0,e-this.$el.height()))},t.prototype.scrollTop=function(e){return this.$elUl.scrollTop(e)},t.prototype.show=function(){var e;if(!this.stopShowing)return this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(e=this.context.rect())?this.reposition(e):void 0;this.stopShowing=!1},t.prototype.hide=function(e,t){var i,n;if(this.visible())return isNaN(t)?(this.$el.hide(),this.context.trigger("hidden",[e])):(n=this,i=function(){return n.hide()},clearTimeout(this.timeoutID),this.timeoutID=setTimeout(i,t))},t.prototype.render=function(t){var i,n,s,a,r,o,l;if(e.isArray(t)&&t.length>0){for(this.$el.find("ul").empty(),n=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),s=0,r=t.length;s<r;s++)a=t[s],a=e.extend({},a,{"atwho-at":this.context.at}),o=this.context.callbacks("tplEval").call(this.context,l,a,"onDisplay"),(i=e(this.context.callbacks("highlighter").call(this.context,o,this.context.query.text))).data("item-data",a),n.append(i);return this.show(),this.context.getOpt("highlightFirst")?n.find("li:first").addClass("cur"):void 0}this.hide()},t}(),c={load:function(e,t){var i;if(i=this.controller(e))return i.model.load(t)},isSelecting:function(){var e;return!!(null!=(e=this.controller())?e.view.visible():void 0)},hide:function(){var e;return null!=(e=this.controller())?e.view.hide():void 0},reposition:function(){var e;if(e=this.controller())return e.view.reposition(e.rect())},setIframe:function(e,t){return this.setupRootElement(e,t),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},e.fn.atwho=function(t){var i,s;return i=arguments,s=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each((function(){var a,r;return(r=(a=e(this)).data("atwho"))||a.data("atwho",r=new n(this)),"object"!=typeof t&&t?c[t]&&r?s=c[t].apply(r,Array.prototype.slice.call(i,1)):e.error("Method "+t+" does not exist on jQuery.atwho"):r.reg(t.at,t)})),null!=s?s:this},e.fn.atwho.default={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",headerTpl:null,callbacks:t,functionOverrides:{},searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,acceptSpaceBar:!1,highlightFirst:!0,limit:5,maxLen:20,minLen:0,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150,suspendOnComposing:!0,lookUpOnClick:!0},e.fn.atwho.debug=!1}(e)}.apply(t,n))||(e.exports=s)},OsT7:function(e,t,i){"use strict";i("aFm2"),i("z6RN"),i("R9qC"),i("UezY"),i("hG7+");var n=i("4lAS"),s=i("30su"),a=i("MV2A"),r=i("SeSR"),o=i("yi8e"),l=i("3twG"),d=i("/lV4"),c=i("QUS0"),u=i("JTix"),p=i("B3Hj"),h=i("J7NB"),m=i("IsdW"),f=i("G/dv"),g=i("Rcnk"),v=i("STGD"),b=i("UK5N"),y={i18n:g.a,name:"NoteForm",components:{MarkdownEditor:u.a,CommentFieldLayout:b.a,GlButton:n.a,GlSprintf:s.a,GlLink:a.a,GlFormCheckbox:r.a,CommentTemperature:function(){return Promise.resolve().then(i.bind(null,"4b03"))}},mixins:[m.a,f.a,Object(c.a)()],props:{noteBody:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:""},saveButtonTitle:{type:String,required:!1,default:Object(d.a)("Save comment")},discussion:{type:Object,required:!1,default:function(){return{}}},lineCode:{type:String,required:!1,default:""},resolveDiscussion:{type:Boolean,required:!1,default:!1},line:{type:Object,required:!1,default:null},lines:{type:Array,required:!1,default:function(){return[]}},note:{type:Object,required:!1,default:null},diffFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},autosaveKey:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1},autofocus:{type:Boolean,required:!1,default:!0},restoreFromAutosave:{type:Boolean,required:!1,default:!1}},data(){return{updatedNoteBody:this.noteBody,conflictWhileEditing:!1,isSubmitting:!1,isMeasuringCommentTemperature:!1,isResolving:this.resolveDiscussion,isUnresolving:!this.resolveDiscussion,onSaveHandler:null,resolveAsThread:!0,isSubmittingWithKeydown:!1,formFieldProps:{id:"note_note",name:"note[note]","aria-label":Object(d.a)("Reply to comment"),placeholder:this.$options.i18n.bodyPlaceholder,class:"note-textarea js-gfm-input js-note-text markdown-area js-vue-issue-note-form","data-testid":"reply-field"}}},computed:{...Object(o.d)(["getDiscussionLastNote","getNoteableData","getNoteableDataByProp","getNotesDataByProp","getUserDataByProp"]),...Object(o.f)({withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}}),...Object(o.d)("batchComments",["hasDrafts"]),autocompleteDataSources(){var e;return null===(e=gl.GfmAutoComplete)||void 0===e?void 0:e.dataSources},showBatchCommentsActions(){return this.withBatchComments&&""===this.noteId&&!this.discussion.for_commit},showResolveDiscussionToggle(){var e,t;return!(null===(e=this.discussion)||void 0===e||!e.notes)&&((null===(t=this.discussion)||void 0===t?void 0:t.notes.filter((function(e){return e.resolvable})).some((function(e){var t;return null===(t=e.current_user)||void 0===t?void 0:t.can_resolve_discussion})))||this.isDraft)},noteHash(){return this.noteId?"#note_"+this.noteId:"#"},noteableType(){return this.getNoteableData.noteableType},diffParams(){return this.diffFile?{filePath:this.diffFile.file_path,refs:this.diffFile.diff_refs}:this.note&&this.note.position?{filePath:this.note.position.new_path,refs:this.note.position}:this.discussion&&this.discussion.diff_file?{filePath:this.discussion.diff_file.file_path,refs:this.discussion.diff_file.diff_refs}:null},markdownPreviewPath(){const e=this.getNoteableDataByProp("preview_note_path"),t=this.line&&this.diffParams,i=t?{preview_suggestions:t,line:this.line.new_line,file_path:this.diffParams.filePath,base_sha:this.diffParams.refs.base_sha,start_sha:this.diffParams.refs.start_sha,head_sha:this.diffParams.refs.head_sha}:{};return Object(l.B)(i,e)},markdownDocsPath(){return this.getNotesDataByProp("markdownDocsPath")},currentUserId(){return this.getUserDataByProp("id")},isDisabled(){return!this.updatedNoteBody.length||this.isSubmitting},isInternalNote(){return this.discussionNote.internal||this.discussion.confidential},discussionNote(){return(this.discussion.id?this.getDiscussionLastNote(this.discussion):this.note)||{}},canSuggest(){return this.getNoteableData.can_receive_suggestion&&this.line&&this.line.can_receive_suggestion},changedCommentText:()=>({text:Object(d.a)("This comment changed after you started editing it. Review the %{startTag}updated comment%{endTag} to ensure information is not lost."),placeholder:{link:["startTag","endTag"]}}),codeSuggestionsConfig(){return{canSuggest:this.canSuggest,line:this.line,lines:this.lines,showPopover:this.showSuggestPopover,diffFile:this.diffFile}},shouldDisableField(){return this.isSubmitting&&!this.isMeasuringCommentTemperature},shouldMeasureNoteTemperature(){return!Object(v.b)(this.updatedNoteBody)&&this.glAbilities.measureCommentTemperature}},watch:{noteBody(){this.updatedNoteBody===this.noteBody?this.updatedNoteBody=this.noteBody:this.conflictWhileEditing=!0}},mounted(){this.updatePlaceholder()},methods:{...Object(o.c)(["toggleResolveNote"]),shouldToggleResolved(e){return this.showResolveDiscussionToggle&&e!==this.newResolvedState()},newResolvedState(){return this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving},editMyLastNote(){if(""===this.updatedNoteBody){const e=this.getDiscussionLastNote(this.discussion);e&&h.a.$emit("enterEditMode",{noteId:e.id})}},cancelHandler(e=!1){var t;null!==(t=this.$refs.markdownEditor.$el.querySelector("textarea"))&&void 0!==t&&t.classList.contains("at-who-active")||this.$emit("cancelForm",e,this.noteBody!==this.updatedNoteBody)},updatePlaceholder(){var e;this.formFieldProps.placeholder=null!==(e=this.discussionNote)&&void 0!==e&&e.internal?this.$options.i18n.bodyPlaceholderInternal:this.$options.i18n.bodyPlaceholder},onInput(e){this.updatedNoteBody=e},append(e){this.$refs.markdownEditor.append(e)},handleKeySubmit(e=!1){this.showBatchCommentsActions&&!e?this.handleAddToReview():(this.isSubmittingWithKeydown=!0,this.handleUpdate()),this.isMeasuringCommentTemperature||(this.updatedNoteBody="")},runCommentTemperatureMeasurement(e){this.isMeasuringCommentTemperature=!0,this.$refs.commentTemperature.measureCommentTemperature(),this.onSaveHandler=this[e].bind(this,{shouldMeasureTemperature:!1})},handleUpdate({shouldMeasureTemperature:e=!0}={}){var t=this;const i=this.discussionResolved;this.isSubmitting=!0,e&&this.shouldMeasureNoteTemperature?this.runCommentTemperatureMeasurement("handleUpdate"):(this.isMeasuringCommentTemperature=!1,Object(p.c)(this.$refs.markdownEditor.isContentEditorActive,this.noteableType+"_note"),this.$emit("handleFormUpdate",this.updatedNoteBody,this.$refs.editNoteForm,(function(){t.isSubmitting=!1,t.shouldToggleResolved(i)&&t.resolveHandler(i)}),this.discussionResolved?!this.isUnresolving:this.isResolving))},handleAddToReview({shouldMeasureTemperature:e=!0}={}){var t=this;const i=this.hasDrafts?"noteFormAddToReview":"noteFormStartReview",n=this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving;this.isSubmitting=!0,e&&this.shouldMeasureNoteTemperature?this.runCommentTemperatureMeasurement("handleAddToReview"):(this.isMeasuringCommentTemperature=!1,h.a.$emit(i,{name:i}),this.$emit("handleFormUpdateAddToReview",this.updatedNoteBody,n,this.$refs.editNoteForm,(function(){t.isSubmitting=!1})))},hasEmailParticipants(){var e;return null===(e=this.getNoteableData.issue_email_participants)||void 0===e?void 0:e.length}}},k=i("tBpV"),w=Object(k.a)(y,(function(){var e=this,t=e._self._c;return t("div",{ref:"editNoteForm",staticClass:"note-edit-form current-note-edit-form js-discussion-note-form"},[e.conflictWhileEditing?t("div",{staticClass:"js-conflict-edit-warning alert alert-danger"},[t("gl-sprintf",{attrs:{message:e.changedCommentText.text,placeholders:e.changedCommentText.placeholder},scopedSlots:e._u([{key:"link",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.noteHash,target:"_blank"}},[e._v(e._s(i))])]}}],null,!1,2525184110)})],1):e._e(),e._v(" "),t("div",{staticClass:"flash-container"}),e._v(" "),t("form",{staticClass:"edit-note common-note-form js-quick-submit gfm-form",attrs:{"data-line-code":e.lineCode}},[t("comment-field-layout",{attrs:{"is-internal-note":e.discussionNote.internal,note:e.updatedNoteBody,"noteable-data":e.getNoteableData}},[t("markdown-editor",{ref:"markdownEditor",attrs:{value:e.updatedNoteBody,"render-markdown-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"code-suggestions-config":e.codeSuggestionsConfig,"add-spacing-classes":!1,"help-page-path":e.helpPagePath,note:e.discussionNote,"noteable-type":e.noteableType,"form-field-props":e.formFieldProps,"autosave-key":e.autosaveKey,"autocomplete-data-sources":e.autocompleteDataSources,disabled:e.shouldDisableField,"supports-quick-actions":"",autofocus:e.autofocus,"restore-from-autosave":e.restoreFromAutosave},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey&&t.metaKey?void e.handleKeySubmit(e.forceUpdate=!0):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey&&t.ctrlKey?void e.handleKeySubmit(e.forceUpdate=!0):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?t.ctrlKey||t.shiftKey||t.altKey?null:e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.editMyLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.cancelHandler(!0)}],input:e.onInput,handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}}})],1),e._v(" "),e.glAbilities.measureCommentTemperature?t("comment-temperature",{ref:"commentTemperature",attrs:{"item-id":e.getNoteableData.id,"item-type":e.getNoteableData.noteableType,"user-id":e.currentUserId},on:{save:function(t){return e.onSaveHandler()}},model:{value:e.updatedNoteBody,callback:function(t){e.updatedNoteBody=t},expression:"updatedNoteBody"}}):e._e(),e._v(" "),t("div",{staticClass:"note-form-actions gl-font-size-0"},[e.showResolveDiscussionToggle?[t("label",[e.discussionResolved?[t("gl-form-checkbox",{staticClass:"js-unresolve-checkbox",model:{value:e.isUnresolving,callback:function(t){e.isUnresolving=t},expression:"isUnresolving"}},[e._v("\n              "+e._s(e.__("Unresolve thread"))+"\n            ")])]:[t("gl-form-checkbox",{staticClass:"js-resolve-checkbox",model:{value:e.isResolving,callback:function(t){e.isResolving=t},expression:"isResolving"}},[e._v("\n              "+e._s(e.__("Resolve thread"))+"\n            ")])]],2)]:e._e(),e._v(" "),e.showBatchCommentsActions?[t("div",{staticClass:"-gl-mb-3 gl-flex gl-flex-wrap"},[t("gl-button",{staticClass:"gl-mb-3 sm:gl-mr-3",attrs:{disabled:e.isDisabled,category:"primary",variant:"confirm","data-testid":"start-review-button"},on:{click:e.handleAddToReview}},[e.hasDrafts?[e._v(e._s(e.__("Add to review")))]:[e._v(e._s(e.__("Start a review")))]],2),e._v(" "),t("gl-button",{staticClass:"js-comment-button gl-mb-3 sm:gl-mr-3",attrs:{disabled:e.isDisabled,category:"secondary",variant:"confirm","data-testid":"comment-now-button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.__("Add comment now"))+"\n          ")]),e._v(" "),t("gl-button",{staticClass:"note-edit-cancel js-close-discussion-note-form gl-mb-3",attrs:{category:"secondary",variant:"default","data-testid":"cancelBatchCommentsEnabled"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])],1)]:[t("div",{staticClass:"gl-display-sm-flex gl-font-size-0 gl-flex-wrap"},[t("gl-button",{staticClass:"js-vue-issue-save js-comment-button gl-mb-3 sm:gl-mb-0 sm:gl-mr-3",attrs:{disabled:e.isDisabled,category:"primary",variant:"confirm","data-testid":"reply-comment-button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.saveButtonTitle)+"\n          ")]),e._v(" "),t("gl-button",{staticClass:"note-edit-cancel js-close-discussion-note-form",attrs:{category:"secondary",variant:"default","data-testid":"cancel"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])],1)]],2)],1)])}),[],!1,null,null,null);t.a=w.exports},PDyB:function(e,t,i){"use strict";var n=i("ewH8");t.a=n.default.observable({selectedProject:{}})},"PF+b":function(e,t,i){"use strict";var n=i("17OG"),s=i.n(n),a=i("wCL9"),r=i.n(a),o=i("Yyc1"),l=i("wP8z"),d=i("LkaW"),c=i("koWC"),u=i("iN9h"),p=i("FkSe"),h=i("AxUD"),m=i("/lV4"),f=i("H3X6"),g=i("d6eQ"),v=i("jlnU"),b=i("GuNs"),y=i("JtyA"),k={noAttributeId:f.s,i18n:{expired:Object(m.a)("(expired)")},components:{GlDropdown:o.a,GlDropdownItem:l.a,GlDropdownText:d.a,GlDropdownDivider:c.a,GlSearchBoxByType:u.a,GlLoadingIcon:p.a},inject:{issuableAttributesQueries:{default:g.f},issuableAttributesState:{default:f.c},widgetTitleText:{default:{[f.d.Milestone]:Object(m.a)("Milestone"),expired:Object(m.a)("(expired)"),none:Object(m.a)("None")}}},props:{attrWorkspacePath:{required:!0,type:String},currentAttribute:{type:Object,required:!1,default:function(){return{}}},issuableAttribute:{type:String,required:!0},issuableType:{type:String,required:!0,validator:e=>[h.p,h.q].includes(e)},workspaceType:{type:String,required:!1,default:h.u,validator:e=>[h.t,h.u].includes(e)},showWorkItemEpics:{type:Boolean,required:!1,default:!1}},data:()=>({attributesList:[],searchTerm:"",skipQuery:!0}),apollo:{attributesList:{query(){if(this.isEpic&&this.showWorkItemEpics)return this.issuableAttributesQueries[f.d.Parent].list[this.issuableType].query;const{list:e}=this.issuableAttributeQuery,{query:t}=e[this.issuableType];return t[this.workspaceType]||t},variables(){if(!this.isEpic)return{fullPath:this.attrWorkspacePath,title:this.searchTerm,state:this.issuableAttributesState[this.issuableAttribute]};const e={fullPath:this.attrWorkspacePath,state:this.issuableAttributesState[this.issuableAttribute],sort:f.p};if(this.showWorkItemEpics&&(e.types=[y.rc]),f.r.test(this.searchTerm)){const t=this.searchTerm.match(f.r);e.iidStartsWith=t.groups.iid}else""!==this.searchTerm&&(e.in="TITLE",e.title=this.searchTerm);return e},update:function(e){var t,i;return null!==(t=null==e||null===(i=e.workspace)||void 0===i||null===(i=i.attributes)||void 0===i?void 0:i.nodes)&&void 0!==t?t:[]},error(e){Object(v.createAlert)({message:this.i18n.listFetchError,captureError:!0,error:e})},skip(){return!!(this.isEpic&&this.searchTerm.startsWith(b.a.Epic)&&this.searchTerm.length<2)||this.skipQuery},debounce:250}},computed:{attributeTypeTitle(){return this.widgetTitleText[this.issuableAttribute]},dropdownText(){var e;return this.currentAttribute?null===(e=this.currentAttribute)||void 0===e?void 0:e.title:this.attributeTypeTitle},emptyPropsList(){return 0===this.attributesList.length},i18n(){const e=f.f[f.e[this.issuableAttribute]];return Object(f.q)(e,this.issuableType)},isEpic(){return this.issuableAttribute===h.n},issuableAttributeQuery(){return this.issuableAttributesQueries[this.issuableAttribute]},formatIssuableAttribute(){return{kebab:r()(this.issuableAttribute),snake:s()(this.issuableAttribute)}}},methods:{isAttributeChecked(e){var t,i;return e===(null===(t=this.currentAttribute)||void 0===t?void 0:t.id)||!(null!==(i=this.currentAttribute)&&void 0!==i&&i.id)&&!e},isAttributeOverdue(e){return this.issuableAttribute===f.d.Milestone&&(null==e?void 0:e.expired)},handleShow(){this.skipQuery=!1},setFocus(){var e;null===(e=this.$refs)||void 0===e||null===(e=e.search)||void 0===e||e.focusInput()},show(){this.$refs.dropdown.show()},updateAttribute(e){this.$emit("change",e)}}},w=i("tBpV"),S=Object(w.a)(k,(function(){var e=this,t=e._self._c;return t("gl-dropdown",{ref:"dropdown",attrs:{block:"","header-text":e.i18n.assignAttribute,lazy:"",text:e.dropdownText,"toggle-class":"gl-m-0"},on:{show:e.handleShow,shown:e.setFocus},scopedSlots:e._u([{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},[t("gl-search-box-by-type",{ref:"search",attrs:{placeholder:e.__("Search")},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),e._v(" "),t("gl-dropdown-item",{attrs:{"data-testid":`no-${e.formatIssuableAttribute.kebab}-item`,"is-check-item":"","is-checked":e.isAttributeChecked(e.$options.noAttributeId)},on:{click:function(t){return e.$emit("change",{id:e.$options.noAttributeId})}}},[e._v("\n    "+e._s(e.i18n.noAttribute)+"\n  ")]),e._v(" "),t("gl-dropdown-divider"),e._v(" "),e.$apollo.queries.attributesList.loading?t("gl-loading-icon",{staticClass:"gl-py-4",attrs:{size:"sm","data-testid":"loading-icon-dropdown"}}):[e.emptyPropsList?t("gl-dropdown-text",[e._v("\n      "+e._s(e.i18n.noAttributesFound)+"\n    ")]):e._t("list",(function(){return e._l(e.attributesList,(function(i){return t("gl-dropdown-item",{key:i.id,attrs:{"is-check-item":"","is-checked":e.isAttributeChecked(i.id),"data-testid":e.formatIssuableAttribute.kebab+"-items"},on:{click:function(t){return e.updateAttribute(i)}}},[e._v("\n        "+e._s(i.title)+"\n        "),e.isAttributeOverdue(i)?[e._v(e._s(e.$options.i18n.expired))]:e._e()],2)}))}),{attributesList:e.attributesList,isAttributeChecked:e.isAttributeChecked,updateAttribute:e.updateAttribute})]],2)}),[],!1,null,null,null);t.a=S.exports},PFaH:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i("RFHG"),i("z6RN"),i("xuo1");var n=i("/lV4");const s=function(e,{onlyCommas:t=!1}={}){return 0===e.length?"":1===e.length?Object(n.h)(Object(n.g)("nounSeries|%{item}"),{item:e[0]},!1):2!==e.length||t?e.reduce((function(i,s,a){return a!==e.length-1||t?Object(n.h)(Object(n.g)("nounSeries|%{item}, %{nextItem}"),{item:i,nextItem:s},!1):Object(n.h)(Object(n.g)("nounSeries|%{item}, and %{lastItem}"),{item:i,lastItem:s},!1)})):Object(n.h)(Object(n.g)("nounSeries|%{firstItem} and %{lastItem}"),{firstItem:e[0],lastItem:e[1]},!1)}},PTFM:function(e,t,i){"use strict";var n=i("Lzak"),s=i("z1xw"),a=i("yi8e"),r=i("Mp8J"),o=i("ZlTH"),l=i("YRPa"),d=i("4UiK"),c={components:{NoteableNote:o.a,GlBadge:n.a},directives:{SafeHtml:r.a,GlTooltip:s.a},props:{draft:{type:Object,required:!0},line:{type:Object,required:!1,default:null},autosaveKey:{type:String,required:!1,default:""}},data(){return{restoreFromAutosave:Boolean(this.draft.isEditing)}},computed:{...Object(a.f)("batchComments",["isPublishing"]),...Object(a.d)("batchComments",["isPublishingDraft"]),draftCommands(){return this.draft.references.commands},autosaveDraftKey(){return this.autosaveKey?`${this.autosaveKey}/draft-note-${this.draft.id}`:null}},mounted(){window.location.hash&&window.location.hash==="#note_"+this.draft.id&&this.scrollToDraft(this.draft)},methods:{...Object(a.c)("batchComments",["deleteDraft","updateDraft","publishSingleDraft","scrollToDraft","toggleResolveDiscussion"]),...Object(a.e)("batchComments",{setDraftEditing:l.l}),...Object(a.c)(["setSelectedCommentPositionHover"]),update(e){this.updateDraft(e)},publishNow(){this.publishSingleDraft(this.draft.id)},handleEditing(){this.setDraftEditing({draftId:this.draft.id,isEditing:!0})},handleNotEditing(){this.restoreFromAutosave=!1,this.clearDraft(),this.setDraftEditing({draftId:this.draft.id,isEditing:!1})},handleMouseEnter(e){e.position&&this.setSelectedCommentPositionHover(e.position.line_range)},handleMouseLeave(e){e.position&&this.setSelectedCommentPositionHover()},clearDraft(){this.autosaveDraftKey&&Object(d.a)(this.autosaveDraftKey)}},safeHtmlConfig:{ADD_TAGS:["use","gl-emoji","copy-code"]}},u=i("tBpV"),p=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("noteable-note",{staticClass:"draft-note !gl-mb-0",attrs:{note:e.draft,line:e.line,"discussion-root":!0,"autosave-key":e.autosaveDraftKey,"restore-from-autosave":e.restoreFromAutosave},on:{handleEdit:e.handleEditing,cancelForm:e.handleNotEditing,updateSuccess:e.handleNotEditing,handleDeleteNote:e.deleteDraft,handleUpdateNote:e.update,toggleResolveStatus:function(t){return e.toggleResolveDiscussion(e.draft.id)}},nativeOn:{mouseenter:function(t){return e.handleMouseEnter(e.draft)},mouseleave:function(t){return e.handleMouseLeave(e.draft)}},scopedSlots:e._u([{key:"note-header-info",fn:function(){return[t("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-2",attrs:{variant:"warning",title:e.__("Pending comments are hidden until you submit your review.")}},[e._v("\n      "+e._s(e.__("Pending"))+"\n    ")])]},proxy:!0},e.draft.isEditing?null:{key:"after-note-body",fn:function(){return[e.draftCommands?t("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.draftCommands,expression:"draftCommands",arg:e.$options.safeHtmlConfig}],staticClass:"draft-note-referenced-commands gl-mb-2 gl-ml-3 gl-text-sm gl-text-subtle"}):e._e()]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.a=p.exports},PxiM:function(e,t,i){(function(t){(function(){var n,s,a,r,o,l,d,c;a=i("zgIB"),r=i("rxWs"),c=i("AUvv"),l=i("jP5H"),n=i("dsXv"),d=null,s="win32"===(null!=t?t.platform:void 0)?"\\":"/",e.exports={filter:function(e,t,i){return null==i&&(i={}),(null!=t?t.length:void 0)&&(null!=e?e.length:void 0)?(i=o(i,t),a(e,t,i)):[]},score:function(e,t,i){return null==i&&(i={}),(null!=e?e.length:void 0)&&(null!=t?t.length:void 0)?(i=o(i,t)).usePathScoring?l.score(e,t,i):c.score(e,t,i):0},match:function(e,t,i){var n;return null==i&&(i={}),e&&t?e===t?function(){n=[];for(var t=0,i=e.length;0<=i?t<i:t>i;0<=i?t++:t--)n.push(t);return n}.apply(this):(i=o(i,t),r.match(e,t,i)):[]},wrap:function(e,t,i){return null==i&&(i={}),e&&t?(i=o(i,t),r.wrap(e,t,i)):[]},prepareQuery:function(e,t){return null==t&&(t={}),(t=o(t,e)).preparedQuery}},o=function(e,t){return null==e.allowErrors&&(e.allowErrors=!1),null==e.usePathScoring&&(e.usePathScoring=!0),null==e.useExtensionBonus&&(e.useExtensionBonus=!1),null==e.pathSeparator&&(e.pathSeparator=s),null==e.optCharRegEx&&(e.optCharRegEx=null),null==e.wrap&&(e.wrap=null),null==e.preparedQuery&&(e.preparedQuery=d&&d.query===t?d:d=new n(t,e)),e}}).call(this)}).call(this,i("TzVV"))},QUS0:function(e,t,i){"use strict";t.a=function(){return{inject:{glAbilities:{from:"glAbilities",default:function(){return{}}}}}}},QZyC:function(e,t,i){"use strict";var n=i("s1D3"),s=i("eadt"),a={components:{GlIcon:n.a,TooltipOnTruncate:s.a},props:{severity:{type:Object,required:!0,validator(e){const{value:t,label:i,icon:n}=e;return t&&i&&n}},iconSize:{type:Number,required:!1,default:12},iconOnly:{type:Boolean,required:!1,default:!1}}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"incident-severity gl-justify-content-between gl-inline-flex gl-max-w-full gl-items-center"},[t("gl-icon",{class:["icon-"+e.severity.icon,{"gl-mr-3 gl-shrink-0":!e.iconOnly}],attrs:{size:e.iconSize,name:"severity-"+e.severity.icon}}),e._v(" "),e.iconOnly?e._e():t("tooltip-on-truncate",{staticClass:"gl-truncate",attrs:{title:e.severity.label}},[e._v("\n    "+e._s(e.severity.label)+"\n  ")])],1)}),[],!1,null,null,null);t.a=o.exports},QheY:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return p})),i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return m}));i("ZzK0"),i("z6RN"),i("BzOf"),i("v2fZ"),i("3UXl"),i("iyoE"),i("B++/"),i("47t/");var n=i("AxUD"),s=i("0AwG"),a=i("/lV4");const r=function(e){const[t,i]=e.split(s.b),[n]=t.split(s.a),[a]=i.split(s.a);return[n-1,a-1]},o=function(e,t){const i=e.split(s.c),[n]=r(t.dataset.sourcepos);return function(e){const t=[];return Array.from(e.children).forEach((function(e){const[i,n]=r(e.dataset.sourcepos);for(let e=i;e<=n;e+=1)t.push(e)})),t}(t).map((function(e){return i[e]})).forEach((function(e,t){i[n+t]=e})),i.join(s.c)},l=/^\s*[-*]\s+\[.]\s+/,d=/^\s*[0-9]\.\s+\[.]\s+/,c=/^\s*`.*`\s*$/,u=/^\s*!?\[.*\)\s*$/,p=function(e,t){const i=e.split(s.c),[n,a]=r(t),o=i[n],c=o.length-o.trimStart().length,u=o.replace(l,"").replace(d,""),p=[];let h=0,m=1,f=!1;for(let e=n+1;e<=a;e+=1)if(f)i[e]=i[e].slice(h);else if(g=i[e],l.test(g)||d.test(g)){f=!0;const t=i[e];h=t.length-t.trimStart().length-c,i[e]=i[e].slice(h)}else p.push(i[e].trimStart()),m+=1;var g;return i.splice(n,m),{newDescription:i.join(s.c),taskDescription:p.join(s.c)||void 0,taskTitle:u}},h=function(e,t){if(c.test(e)||u.test(e))return{title:Object(a.a)("Untitled"),description:t?e.concat(s.c,s.c,t):e};return e.length>n.l?{title:e.slice(0,n.l),description:t?e.slice(n.l).concat(s.c,s.c,t):e.slice(n.l)}:{title:e,description:t}},m=function(e,t){const i=Array.from(t.children),n=i.find((function(e){return"P"===e.tagName})),s=i.find((function(e){return e.classList.contains("task-list")}));n?n.append(e):s?s.insertAdjacentElement("beforebegin",e):t.append(e)}},QvGs:function(e,t,i){"use strict";i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return h}));i("UezY"),i("z6RN"),i("hG7+"),i("byxs"),i("v2fZ");var n=i("7F3p"),s=i("n7CP"),a=i("3cHC"),r=i("2ibD"),o=i("SNRI");const l=function(e){return e.sort((function(e,t){return e.frequency!==t.frequency?t.frequency-e.frequency:e.lastAccessedOn!==t.lastAccessedOn?t.lastAccessedOn-e.lastAccessedOn:0}))},d=function(e,t){if(!Array.isArray(e))return[];const i=e.filter((function(e){return e.frequency>=a.f.ELIGIBLE_FREQUENCY}));return l(i),i.slice(0,t)},c=function(e,{lastAccessedOn:t,frequency:i=0}={},s,o){const l=Date.now(),d=!t||Math.abs(l-t)/a.e>1;return d&&Object(r.a)({url:o,method:"POST",data:{type:s,id:e.id}}).catch((function(e){n.b(e)})),{...e,frequency:d?i+1:i,lastAccessedOn:d?l:t}},u=function(e,t,i){if(!s.a.canUseLocalStorage())return!1;const n=`${e}/frequent-${t.namespace}`,r=localStorage.getItem(n),o=r?JSON.parse(r):[],d=o.findIndex((function(e){return e.id===t.item.id}));if(d>-1)o[d]=c(t.item,o[d],t.namespace,i);else{const e=c(t.item,o[d],t.namespace,i);o.length===a.f.MAX_COUNT&&(l(o),o.pop()),o.push(e)}return localStorage.setItem(n,JSON.stringify(o))},p=function(e){return e?"page":null},h=function(e){return function(e){return"number"==typeof e}(e)?Object(o.h)(e):null}},QwBj:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"f",(function(){return s})),i.d(t,"e",(function(){return a})),i.d(t,"i",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"c",(function(){return d})),i.d(t,"g",(function(){return c})),i.d(t,"j",(function(){return u})),i.d(t,"h",(function(){return p})),i.d(t,"k",(function(){return h}));const n=0,s=200,a=204,r=401,o=403,l=404,d=410,c=413,u=422,p=429,h=[s,201,202,203,a,205,206,207,208,226]},R0j4:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("jsvc"),s=i.n(n);const{sanitize:a}=s.a,r={RETURN_DOM_FRAGMENT:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,FORBID_ATTR:["data-remote","data-url","data-type","data-method","data-disable-with","data-disabled","data-disable","data-turbo"],FORBID_TAGS:["style","mstyle","form"]},o=(e,t)=>{if(t.oldValue!==t.value){var i;const n={...r,...null!==(i=t.arg)&&void 0!==i?i:{}};e.textContent="",e.appendChild(a(t.value,n))}},l={bind:o,update:o,unbind:e=>{e.textContent=""}}},R76v:function(e,t,i){"use strict";var n=i("Bo17"),s=i("XiQx"),a=i("j00k"),r=i("z1xw"),o=i("/lV4"),l=i("ygVz"),d=i("J6Lq"),c=i("JtyA"),u={i18n:{moreActions:Object(o.g)("WorkItem|More actions"),showLabels:Object(o.g)("WorkItem|Show labels"),showClosed:Object(o.g)("WorkItem|Show closed items")},components:{GlDisclosureDropdown:n.a,GlDisclosureDropdownItem:s.b,GlToggle:a.a},directives:{GlTooltip:r.a},mixins:[l.a.mixin()],props:{workItemIid:{type:String,required:!0},fullPath:{type:String,required:!0},workItemType:{type:String,required:!0},showLabels:{type:Boolean,required:!1,default:!0},showClosed:{type:Boolean,required:!1,default:!0},showViewRoadmapAction:{type:Boolean,required:!1,default:!1}},data:()=>({isDropdownVisible:!1}),computed:{tooltipText(){return this.isDropdownVisible?"":this.$options.i18n.moreActions},workItemRoadmapPathHref(){return Object(d.G)(this.fullPath,this.workItemIid)},viewOnARoadmap(){return{text:Object(o.g)("WorkItem|View on a roadmap"),href:this.workItemRoadmapPathHref,extraAttrs:{"data-testid":"view-roadmap"}}},shouldShowViewRoadmapAction(){return this.workItemType.toUpperCase()===c.rc&&this.showViewRoadmapAction}},methods:{showDropdown(){this.isDropdownVisible=!0},hideDropdown(){this.isDropdownVisible=!1}}},p=i("tBpV"),h=Object(p.a)(u,(function(){var e=this,t=e._self._c;return t("div",[t("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipText,expression:"tooltipText"}],ref:"workItemsMoreActions",attrs:{icon:"ellipsis_v","text-sr-only":"","toggle-text":e.$options.i18n.moreActions,size:"small",category:"tertiary","no-caret":"",placement:"bottom-end","auto-close":!1},on:{shown:e.showDropdown,hidden:e.hideDropdown}},[t("gl-disclosure-dropdown-item",{staticClass:"work-item-dropdown-toggle",on:{action:function(t){return e.$emit("toggle-show-labels")}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("gl-toggle",{staticClass:"gl-justify-between",attrs:{value:e.showLabels,label:e.$options.i18n.showLabels,"label-position":"left"}})]},proxy:!0}])}),e._v(" "),t("gl-disclosure-dropdown-item",{staticClass:"work-item-dropdown-toggle",on:{action:function(t){return e.$emit("toggle-show-closed")}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("gl-toggle",{staticClass:"gl-justify-between",attrs:{value:e.showClosed,label:e.$options.i18n.showClosed,"label-position":"left"}})]},proxy:!0}])}),e._v(" "),e.shouldShowViewRoadmapAction?t("gl-disclosure-dropdown-item",{attrs:{item:e.viewOnARoadmap},on:{action:function(t){return e.trackEvent("view_epic_on_roadmap")}}}):e._e()],1)],1)}),[],!1,null,null,null);t.a=h.exports},Rcnk:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r}));var n=i("/lV4");const s={GENERIC_UNSUBMITTABLE_NETWORK:Object(n.a)("Your comment could not be submitted! Please check your network connection and try again."),error:Object(n.a)("Comment could not be submitted: %{reason}."),note:Object(n.a)("Note"),comment:Object(n.a)("Comment"),wiki:Object(n.a)("Wiki"),internalComment:Object(n.a)("Add internal note"),issue:Object(n.a)("issue"),startThread:Object(n.a)("Start thread"),startInternalThread:Object(n.a)("Start internal thread"),mergeRequest:Object(n.a)("merge request"),epic:Object(n.a)("epic"),bodyPlaceholder:Object(n.a)("Write a comment or drag your files hereâ¦"),bodyPlaceholderInternal:Object(n.a)("Write an internal note or drag your files hereâ¦"),internal:Object(n.g)("Notes|Make this an internal note"),internalVisibility:Object(n.g)("Notes|Internal notes are only visible to members with the role of Planner or higher"),discussionThatNeedsResolution:Object(n.a)("Discuss a specific suggestion or question that needs to be resolved."),internalDiscussionThatNeedsResolution:Object(n.a)("Discuss a specific suggestion or question internally that needs to be resolved."),discussion:Object(n.a)("Discuss a specific suggestion or question."),internalDiscussion:Object(n.a)("Discuss a specific suggestion or question internally."),actionButtonWithNote:Object(n.a)("%{actionText} & %{openOrClose} %{noteable}"),actionButton:{withNote:{reopen:Object(n.a)("%{actionText} & reopen %{noteable}"),close:Object(n.a)("%{actionText} & close %{noteable}")},withoutNote:{reopen:Object(n.a)("Reopen %{noteable}"),close:Object(n.a)("Close %{noteable}")}},submitButton:{startThread:Object(n.a)("Start thread"),startInternalThread:Object(n.a)("Start internal thread"),comment:Object(n.a)("Comment"),internalComment:Object(n.a)("Add internal note"),commentHelp:Object(n.a)("Add a general comment to this %{noteableDisplayName}."),internalCommentHelp:Object(n.a)("Add a confidential internal note to this %{noteableDisplayName}.")},addToReviewButton:{saveThread:Object(n.a)("Add thread to review"),saveComment:Object(n.a)("Add comment to review")},addToReview:Object(n.a)("Add to review"),startReview:Object(n.a)("Start review"),addCommentNow:Object(n.a)("Add comment now"),addThreadNow:Object(n.a)("Add thread now")},a={actionWithAuthor:Object(n.a)("%{actionText} %{actionDetail} %{timeago} by %{author}"),actionWithoutAuthor:Object(n.a)("%{actionText} %{actionDetail}")},r={error:Object(n.a)("Comment could not be updated: %{reason}."),defaultError:Object(n.a)("Something went wrong while editing your comment. Please try again.")}},RqH1:function(e,t,i){"use strict";var n=i("o4PY"),s=i.n(n),a=i("F6ad"),r=i("l5WF"),o=i("4wRe"),l=i("1cpz"),d=i("/lV4"),c=i("Qhxq"),u=i("7HFU"),p={name:"WorkItemAbuseModal",csrf:c.a,i18n:{title:Object(d.a)("Report abuse to administrator"),label:Object(d.g)("ReportAbuse|Why are you reporting this user?")},modal:{id:s()("work-item-abuse-modal-"),actionPrimary:{text:Object(d.a)("Next"),attributes:{variant:"confirm"}},actionSecondary:{text:Object(d.a)("Cancel"),attributes:{variant:"default"}}},CATEGORY_OPTIONS:u.a,components:{GlForm:a.a,GlFormGroup:r.a,GlFormRadioGroup:o.a,GlModal:l.a},inject:{reportAbusePath:{default:""}},props:{reportedUserId:{type:Number,required:!0},reportedFromUrl:{type:String,required:!1,default:""},showModal:{type:Boolean,required:!0}},data:()=>({selectedOption:u.a[0].value}),methods:{closeModal(){this.$emit("close-modal")},submitForm(){this.$refs.form.$el.submit()}}},h=i("tBpV"),m=Object(h.a)(p,(function(){var e=this,t=e._self._c;return t("gl-modal",{attrs:{size:"sm",visible:e.showModal,"modal-id":e.$options.modal.id,title:e.$options.i18n.title,"action-primary":e.$options.modal.actionPrimary,"action-secondary":e.$options.modal.actionSecondary},on:{primary:e.submitForm,hide:e.closeModal}},[t("gl-form",{ref:"form",attrs:{action:e.reportAbusePath,method:"post"}},[t("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"user_id","data-testid":"input-user-id"},domProps:{value:e.reportedUserId}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"abuse_report[reported_from_url]","data-testid":"input-referer"},domProps:{value:e.reportedFromUrl}}),e._v(" "),t("gl-form-group",{attrs:{label:e.$options.i18n.label}},[t("gl-form-radio-group",{attrs:{options:e.$options.CATEGORY_OPTIONS,name:"abuse_report[category]"},model:{value:e.selectedOption,callback:function(t){e.selectedOption=t},expression:"selectedOption"}})],1)],1)],1)}),[],!1,null,null,null);t.a=m.exports},S8CU:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"e",(function(){return r}));const n="_cellVariants",s="_rowVariant",a="_showDetails",r=[n,s,a].reduce((e,t)=>({...e,[t]:!0}),{}),o=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(",")},S9bi:function(e,t,i){var n=i("QFSp");e.exports=function(e){return n(e)?e:[]}},SGlG:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return a}));var n=i("9k56"),s=i("BBKf");const a={},r=Object(n.c)({methods:{renderColgroup(){const{computedFields:e}=this,t=this.$createElement;let i=t();return this.hasNormalizedSlot(s.w)&&(i=t("colgroup",{key:"colgroup"},[this.normalizeSlot(s.w,{columns:e.length,fields:e})])),i}}})},SN6w:function(e,t,i){"use strict";var n=i("l9Jy"),s=i.n(n),a=i("VNnR"),r=i.n(a),o=i("e67P"),l=i("Qog8"),d=i("5Hgz"),c=i("FzbX"),u=i("Pyw5"),p=i.n(u);const h=[{value:"=",description:"is",default:!0},{value:"!=",description:"is not"}];const m={name:"GlFilteredSearchToken",__v_skip:!0,components:{GlToken:o.a,GlFilteredSearchTokenSegment:d.a},inheritAttrs:!1,props:{availableTokens:{type:Array,required:!1,default:()=>[]},config:{type:Object,required:!1,default:()=>({})},active:{type:Boolean,required:!1,default:!1},multiSelectValues:{type:Array,required:!1,default:()=>[]},value:{type:Object,required:!1,default:()=>({operator:"",data:""})},showFriendlyText:{type:Boolean,required:!1,default:!1},cursorPosition:{type:String,required:!1,default:"end",validator:e=>["start","end"].includes(e)},viewOnly:{type:Boolean,required:!1,default:!1},dataSegmentInputAttributes:{type:Object,required:!1,default:()=>({})}},data(){return{activeSegment:null,tokenValue:s()(this.value),intendedCursorPosition:this.cursorPosition}},computed:{operators(){return this.config.operators||h},tokenEmpty(){var e;return 0===(null===(e=this.tokenValue.data)||void 0===e?void 0:e.length)},hasDataOrDataSegmentIsCurrentlyActive(){return!this.tokenEmpty||this.isSegmentActive("DATA")},availableTokensWithSelf(){return[this.config,...this.availableTokens.filter(e=>e!==this.config)].map(c.n)},operatorDescription(){const e=this.operators.find(e=>e.value===this.tokenValue.operator);return this.showFriendlyText?null==e?void 0:e.description:null==e?void 0:e.value},eventListeners(){return this.viewOnly?{}:{mousedown:this.stopMousedownOnCloseButton,close:this.destroyByClose}}},segments:{SEGMENT_TITLE:"TYPE",SEGMENT_DATA:"DATA",SEGMENT_OPERATOR:"OPERATOR"},watch:{tokenValue:{deep:!0,handler(e){this.$emit("input",e)}},value:{handler(e,t){r()(null==e?void 0:e.data,null==t?void 0:t.data)&&(null==e?void 0:e.operator)===(null==t?void 0:t.operator)||(this.tokenValue=s()(e))}},active:{immediate:!0,handler(e){e?(this.intendedCursorPosition=this.cursorPosition,this.activeSegment||this.activateSegment(this.tokenEmpty?"OPERATOR":"DATA")):(this.activeSegment=null,this.config.multiSelect&&this.$emit("input",{...this.tokenValue,data:this.multiSelectValues||""}),this.tokenEmpty&&0===this.multiSelectValues.length&&this.$emit("destroy"))}}},created(){if(!("operator"in this.tokenValue))if(1===this.operators.length){const e=this.operators[0].value;this.$emit("input",{...this.tokenValue,operator:e}),this.activeSegment="DATA"}else this.$emit("input",{...this.tokenValue,operator:""})},methods:{activateSegment(e){this.viewOnly||(this.activeSegment=e,this.active||this.$emit("activate"))},getAdditionalSegmentClasses(e){return this.viewOnly?"gl-cursor-text":{"gl-cursor-pointer":!this.isSegmentActive(e)}},isSegmentActive(e){return this.active&&this.activeSegment===e},replaceWithTermIfEmpty(){""===this.tokenValue.operator&&this.tokenEmpty&&this.$emit("replace",Object(c.d)(this.config.title))},replaceToken(e){const t=this.availableTokens.find(t=>{let{type:i}=t;return i===e});if(t!==this.config){if(t){const e=this.config.dataType&&this.config.dataType===t.dataType;this.$emit("replace",{type:t.type,value:e?this.tokenValue:{data:""}})}}else this.$nextTick(()=>{this.$emit("deactivate")})},handleOperatorKeydown(e,t){let{inputValue:i,suggestedValue:n,applySuggestion:s}=t;const{key:a}=e;if(" "===a||"Spacebar"===a)return void s(n);const r=`${i}${a}`;1!==a.length||this.operators.find(e=>{let{value:t}=e;return t.startsWith(r)})||(this.tokenEmpty?s(n):e.preventDefault())},activateDataSegment(){this.config.multiSelect&&this.$emit("input",{...this.tokenValue,data:""}),this.activateSegment(this.$options.segments.SEGMENT_DATA)},activatePreviousOperatorSegment(){this.activateSegment(this.$options.segments.SEGMENT_OPERATOR),this.intendedCursorPosition="end"},activatePreviousTitleSegment(){this.activateSegment(this.$options.segments.SEGMENT_TITLE),this.intendedCursorPosition="end"},activateNextDataSegment(){this.activateDataSegment(),this.intendedCursorPosition="start"},activateNextOperatorSegment(){this.activateSegment(this.$options.segments.SEGMENT_OPERATOR),this.intendedCursorPosition="start"},handleComplete(e){this.$emit("complete",e)},stopMousedownOnCloseButton(e){e.target.closest(c.c)&&Object(l.k)(e)},destroyByClose(){this.$emit("destroy")}}};const f=p()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-filtered-search-token",class:{"gl-filtered-search-token-active":e.active,"gl-filtered-search-token-hover":!e.viewOnly,"gl-cursor-default":e.viewOnly},attrs:{"data-testid":"filtered-search-token"}},[i("gl-filtered-search-token-segment",{key:"title-segment",attrs:{value:e.config.title,active:e.isSegmentActive(e.$options.segments.SEGMENT_TITLE),"cursor-position":e.intendedCursorPosition,options:e.availableTokensWithSelf,"view-only":e.viewOnly},on:{activate:function(t){return e.activateSegment(e.$options.segments.SEGMENT_TITLE)},deactivate:function(t){return e.$emit("deactivate")},complete:e.replaceToken,backspace:function(t){return e.$emit("destroy")},submit:function(t){return e.$emit("submit")},previous:function(t){return e.$emit("previous")},next:e.activateNextOperatorSegment},scopedSlots:e._u([{key:"view",fn:function(t){var n=t.inputValue;return[i("gl-token",{staticClass:"gl-filtered-search-token-type",class:e.getAdditionalSegmentClasses(e.$options.segments.SEGMENT_TITLE),attrs:{"view-only":""}},[e._v("\n        "+e._s(n)+"\n      ")])]}}])}),e._v(" "),i("gl-filtered-search-token-segment",{key:"operator-segment",attrs:{active:e.isSegmentActive(e.$options.segments.SEGMENT_OPERATOR),"cursor-position":e.intendedCursorPosition,options:e.operators,"option-text-field":"value","custom-input-keydown-handler":e.handleOperatorKeydown,"view-only":e.viewOnly},on:{activate:function(t){return e.activateSegment(e.$options.segments.SEGMENT_OPERATOR)},backspace:e.replaceWithTermIfEmpty,complete:function(t){return e.activateSegment(e.$options.segments.SEGMENT_DATA)},deactivate:function(t){return e.$emit("deactivate")},previous:e.activatePreviousTitleSegment,next:e.activateNextDataSegment},scopedSlots:e._u([{key:"view",fn:function(){return[i("gl-token",{staticClass:"gl-filtered-search-token-operator",class:e.getAdditionalSegmentClasses(e.$options.segments.SEGMENT_OPERATOR),attrs:{variant:"search-value","view-only":""}},[e._v("\n        "+e._s(e.operatorDescription)+"\n      ")])]},proxy:!0},{key:"option",fn:function(t){var n=t.option;return[i("div",{staticClass:"gl-flex"},[e._v("\n        "+e._s(e.showFriendlyText?n.description:n.value)+"\n        "),n.description?i("span",{staticClass:"gl-filtered-search-token-operator-description"},[e._v("\n          "+e._s(e.showFriendlyText?n.value:n.description)+"\n        ")]):e._e()])]}}]),model:{value:e.tokenValue.operator,callback:function(t){e.$set(e.tokenValue,"operator",t)},expression:"tokenValue.operator"}}),e._v(" "),e.hasDataOrDataSegmentIsCurrentlyActive?i("gl-filtered-search-token-segment",{key:"data-segment",attrs:{active:e.isSegmentActive(e.$options.segments.SEGMENT_DATA),"cursor-position":e.intendedCursorPosition,"multi-select":e.config.multiSelect,options:e.config.options,"view-only":e.viewOnly,"search-input-attributes":e.dataSegmentInputAttributes},on:{activate:e.activateDataSegment,backspace:function(t){return e.activateSegment(e.$options.segments.SEGMENT_OPERATOR)},complete:e.handleComplete,select:function(t){return e.$emit("select",t)},submit:function(t){return e.$emit("submit")},deactivate:function(t){return e.$emit("deactivate")},split:function(t){return e.$emit("split",t)},previous:e.activatePreviousOperatorSegment,next:function(t){return e.$emit("next")}},scopedSlots:e._u([{key:"before-input",fn:function(t){return[e._t("before-data-segment-input",null,null,t)]}},{key:"suggestions",fn:function(){return[e._t("suggestions")]},proxy:!0},{key:"view",fn:function(t){var n=t.inputValue;return[e._t("view-token",(function(){return[i("gl-token",e._g({staticClass:"gl-filtered-search-token-data",class:e.getAdditionalSegmentClasses(e.$options.segments.SEGMENT_DATA),attrs:{variant:"search-value","view-only":e.viewOnly}},e.eventListeners),[i("span",{staticClass:"gl-filtered-search-token-data-content"},[e._t("view",(function(){return[e._v(e._s(n))]}),null,{inputValue:n})],2)])]}),null,{inputValue:n,listeners:e.eventListeners,cssClasses:Object.assign({},{"gl-filtered-search-token-data":!0},e.getAdditionalSegmentClasses(e.$options.segments.SEGMENT_DATA))})]}}],null,!0),model:{value:e.tokenValue.data,callback:function(t){e.$set(e.tokenValue,"data",t)},expression:"tokenValue.data"}}):e._e()],1)},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=f},SQMQ:function(e,t,i){var n=i("X/Qz"),s=i("voGz"),a=i("uLMv"),r=i("XCkn"),o=i("ltZm"),l=i("0Zrb"),d=i("/t47"),c=i("NDsS"),u=i("rhmX"),p=/\w*$/;e.exports=function(e,t){var i=30,h="...";if(r(t)){var m="separator"in t?t.separator:m;i="length"in t?c(t.length):i,h="omission"in t?n(t.omission):h}var f=(e=u(e)).length;if(a(e)){var g=d(e);f=g.length}if(i>=f)return e;var v=i-l(h);if(v<1)return h;var b=g?s(g,0,v).join(""):e.slice(0,v);if(void 0===m)return b+h;if(g&&(v+=b.length-v),o(m)){if(e.slice(v).search(m)){var y,k=b;for(m.global||(m=RegExp(m.source,u(p.exec(m))+"g")),m.lastIndex=0;y=m.exec(k);)var w=y.index;b=b.slice(0,void 0===w?v:w)}}else if(e.indexOf(n(m),v)!=v){var S=b.lastIndexOf(m);S>-1&&(b=b.slice(0,S))}return b+h}},STGD:function(e,t,i){"use strict";i.d(t,"d",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"a",(function(){return h})),i.d(t,"e",(function(){return m})),i.d(t,"b",(function(){return f}));i("UezY"),i("z6RN"),i("hG7+");var n=i("Idki"),s=i("xRYP"),a=i.n(s),r=i("D+x4"),o=i("0AwG"),l=i("QwBj"),d=i("/lV4"),c=i("Rcnk");const u=function(e){return{category:"Incident Management",action:"toggle_incident_comments_into_timeline_view",label:"Status",property:e}};n.marked.use(a()());const p=function(e){return Object(r.b)(Object(n.marked)(e),o.v)},h=function(e,t){const i=null==e?void 0:e.errors;if(t===l.j){var n;if(null!==(n=e.quick_actions_status)&&void 0!==n&&null!==(n=n.error_messages)&&void 0!==n&&n.length)return e.quick_actions_status.error_messages;if(i)return[Object(d.h)(c.a.error,{reason:i.toLowerCase()},!1)]}return[c.a.GENERIC_UNSUBMITTABLE_NETWORK]},m=function(e){var t;const i=null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.errors;return i?Object(d.h)(c.c.error,{reason:i.toLowerCase()},!1):c.c.defaultError},f=function(e){const t=null==e?void 0:e.split("\n").filter((function(e){return""!==e.trim()})).join("\n");return(null==t?void 0:t.startsWith("/"))||!1}},Smdt:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"namespaceWorkItemTypes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"IssueType"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"namespace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemTypes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemTypeFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:290}};n.loc.source={body:'#import "ee_else_ce/work_items/graphql/work_item_type.fragment.graphql"\n\nquery namespaceWorkItemTypes($fullPath: ID!, $name: IssueType) {\n  workspace: namespace(fullPath: $fullPath) {\n    id\n    workItemTypes(name: $name) {\n      nodes {\n        ...WorkItemTypeFragment\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("FcHL").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.namespaceWorkItemTypes=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"namespaceWorkItemTypes")},SnPb:function(e,t,i){"use strict";i.d(t,"a",(function(){return j})),i.d(t,"b",(function(){return E}));var n=i("9k56"),s=i("CU79"),a=i("n6Wd"),r=i("jIK5"),o=i("BBKf"),l=i("ZdEn"),d=i("Xhk9"),c=i("I3xC"),u=i("gZSI"),p=i("o0f2"),h=i("hII5"),m=i("idLb"),f=i("TnX6"),g=i("3hkr"),v=i("g+RJ"),b=i("GeBT"),y=i("aBA8");const k=Object(h.c)({headVariant:Object(h.b)(r.r)},g.W),w=Object(n.c)({name:g.W,mixins:[v.a,b.a,y.a],provide(){return{getBvTableRowGroup:()=>this}},inject:{getBvTable:{default:()=>()=>({})}},inheritAttrs:!1,props:k,computed:{bvTable(){return this.getBvTable()},isThead:()=>!0,isDark(){return this.bvTable.dark},isStacked(){return this.bvTable.isStacked},isResponsive(){return this.bvTable.isResponsive},isStickyHeader(){return!this.isStacked&&this.bvTable.stickyHeader},hasStickyHeader(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant(){return this.bvTable.tableVariant},theadClasses(){return[this.headVariant?"thead-"+this.headVariant:null]},theadAttrs(){return{role:"rowgroup",...this.bvAttrs}}},render(e){return e("thead",{class:this.theadClasses,attrs:this.theadAttrs,on:this.bvListeners},this.normalizeSlot())}});var S=i("5Jof"),_=i("mIkX"),I=i("YUwJ"),T=i("M76R"),O=i("2mBx");const C=e=>`head(${e||""})`,x=e=>`foot(${e||""})`,j={headRowVariant:Object(h.b)(r.r),headVariant:Object(h.b)(r.r),theadClass:Object(h.b)(r.e),theadTrClass:Object(h.b)(r.e)},E=Object(n.c)({props:j,methods:{fieldClasses:e=>[e.class?e.class:"",e.thClass?e.thClass:""],headClicked(e,t,i){this.stopIfBusy&&this.stopIfBusy(e)||Object(T.a)(e)||Object(O.a)(this.$el)||(Object(l.f)(e),this.$emit(s.r,t.key,t,e,i))},renderThead(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{computedFields:t,isSortable:i,isSelectable:n,headVariant:r,footVariant:l,headRowVariant:h,footRowVariant:g}=Object(m.a)(this),v=this.$createElement;if(this.isStackedAlways||0===t.length)return v();const b=i||this.hasListener(s.r),y=n?this.selectAllRows:p.a,k=n?this.clearSelected:p.a,T=t.map((t,n)=>{const{label:s,labelHtml:r,variant:o,stickyColumn:l,key:u}=t;let p=null;t.label.trim()||t.headerTitle||(p=Object(f.d)(t.key));const h={};b&&(h.click=i=>{this.headClicked(i,t,e)},h.keydown=i=>{const n=i.keyCode;n!==a.c&&n!==a.h||this.headClicked(i,t,e)});const m=i?this.sortTheadThAttrs(u,t,e):{},g=i?this.sortTheadThClasses(u,t,e):null,w=i?this.sortTheadThLabel(u,t,e):null,S={class:[{"gl-relative":w},this.fieldClasses(t),g],props:{variant:o,stickyColumn:l},style:t.thStyle||{},attrs:{tabindex:b&&t.sortable?"0":null,abbr:t.headerAbbr||null,title:t.headerTitle||null,"aria-colindex":n+1,"aria-label":p,...this.getThValues(null,u,t.thAttr,e?"foot":"head",{}),...m},on:h,key:u};let _=[C(u),C(u.toLowerCase()),C()];e&&(_=[x(u),x(u.toLowerCase()),x(),..._]);const T={label:s,column:u,field:t,isFoot:e,selectAllRows:y,clearSelected:k},O=this.normalizeSlot(_,T)||v("div",{domProps:Object(d.a)(r,s)}),j=w?v("span",{staticClass:"gl-sr-only"},` (${w})`):null;return v(I.a,S,[O,j].filter(c.a))}).filter(c.a),O=[];if(e)O.push(v(_.a,{class:this.tfootTrClass,props:{variant:Object(u.o)(g)?h:g}},T));else{const e={columns:t.length,fields:t,selectAllRows:y,clearSelected:k};O.push(this.normalizeSlot(o.z,e)||v()),O.push(v(_.a,{class:this.theadTrClass,props:{variant:h}},T))}return v(e?S.a:w,{class:(e?this.tfootClass:this.theadClass)||null,props:e?{footVariant:l||r||null}:{headVariant:r||null},key:e?"bv-tfoot":"bv-thead"},O)}}})},SqD0:function(e,t,i){"use strict";var n=i("7xOh");t.a=Object(n.a)()},SqVG:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DesignDiffRefs"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DiffRefs"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"baseSha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startSha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headSha"},arguments:[],directives:[]}]}}],loc:{start:0,end:71}};i.loc.source={body:"fragment DesignDiffRefs on DiffRefs {\n  baseSha\n  startSha\n  headSha\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.DesignDiffRefs=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"DesignDiffRefs")},T5wd:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"promoteToEpic"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PromoteToEpicInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"promoteToEpic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"epic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144}};i.loc.source={body:"mutation promoteToEpic($input: PromoteToEpicInput!) {\n  promoteToEpic(input: $input) {\n    epic {\n      id\n      webPath\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.promoteToEpic=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"promoteToEpic")},T9Fk:function(e,t,i){(function(e){var n,s,a,r,o;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r=this,o=function(e,t){"object"===l(t)&&"function"==typeof t.default&&(t=t.default);var i=function(e,t,i){var n;return function(){var s=this,a=arguments,r=function(){n=null,i||e.apply(s,a)},o=i&&!n;clearTimeout(n),n=setTimeout(r,t),o&&e.apply(s,a)}};return t.component(e,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"==typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(e,t){this.pagemode||(t&&this.removeScrollListener(t),e&&this.addScrollListener(e))}},created:function(){var e=this.start>=this.remain?this.start:0,t=this.remain+(this.bench||this.remain),i=Object.create(null);i.direction="",i.scrollTop=0,i.start=e,i.end=e+t-1,i.keeps=t,i.total=0,i.offsetAll=0,i.paddingTop=0,i.paddingBottom=0,i.varCache={},i.varAverSize=0,i.varLastCalcIndex=0,this.delta=i},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var e=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(e):e*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var e=this.delta;e.keeps=this.remain+(this.bench||this.remain);var t="start"===this.changeProp?this.start:e.start,i=this.getZone(t);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var n="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(i.isLast?e.total:i.start):i.isLast&&e.total-t<=this.remain?e.total*this.size:t*this.size;this.$nextTick(this.setScrollTop.bind(this,n))}(this.changeProp||e.end!==i.end||t!==i.start)&&(this.changeProp="",e.end=i.end,e.start=i.start,this.forceRender())},methods:{addScrollListener:function(e){this.scrollHandler=this.debounce?i(this.onScroll.bind(this),this.debounce):this.onScroll,e.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(e){e.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(e){var t,i=this.delta,n=this.$refs.vsl;if(this.pagemode)t=-this.$el.getBoundingClientRect().top;else if(this.scrollelement){var s=this.scrollelement.getBoundingClientRect(),a=this.$el.getBoundingClientRect();t=s.top-a.top}else t=n&&(n.$el||n).scrollTop||0;i.direction=t>i.scrollTop?"D":"U",i.scrollTop=t,i.total>i.keeps?this.updateZone(t):i.end=i.total-1;var r=i.offsetAll;if(this.onscroll){var o=Object.create(null);o.offset=t,o.offsetAll=r,o.start=i.start,o.end=i.end,this.onscroll(e,o)}!t&&i.total&&this.fireEvent("totop"),t>=r&&this.fireEvent("tobottom")},updateZone:function(e){var t=this.delta,i=this.variable?this.getVarOvers(e):Math.floor(e/this.size);"U"===t.direction&&(i=i-this.remain+1);var n=this.getZone(i),s=this.bench||this.remain,a=1===Math.abs(i-t.start-s);!a&&i-t.start<=s&&!n.isLast&&i>t.start||(a||n.start!==t.start||n.end!==t.end)&&(t.end=n.end,t.start=n.start,this.forceRender())},getZone:function(e){var t,i,n=this.delta;e=parseInt(e,10),e=Math.max(0,e);var s=n.total-n.keeps,a=e<=n.total&&e>=s||e>n.total;return i=(t=a?Math.max(0,s):e)+n.keeps-1,n.total&&i>n.total&&(i=n.total-1),{end:i,start:t,isLast:a}},forceRender:function(){var e=this;window.requestAnimationFrame((function(){e.$forceUpdate()}))},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(e){for(var t=0,i=0,n=0,s=this.delta,a=s.total;t<=a;){if(i=t+Math.floor((a-t)/2),n=this.getVarOffset(i),s.varAverSize||(s.varAverSize=Math.floor(n/i)),n===e)return i;n<e?t=i+1:n>e&&(a=i-1)}return t>0?--t:0},getVarOffset:function(e,t){var i=this.delta,n=i.varCache[e];if(!t&&n)return n.offset;for(var s=0,a=0;a<e;a++){var r=this.getVarSize(a,t);i.varCache[a]={size:r,offset:s},s+=r}return i.varLastCalcIndex=Math.max(i.varLastCalcIndex,e-1),i.varLastCalcIndex=Math.min(i.varLastCalcIndex,i.total-1),s},getVarSize:function(e,t){var i=this.delta.varCache[e];if(!t&&i)return i.size;if("function"==typeof this.variable)return this.variable(e)||0;var n=this.item?this.$children[e]?this.$children[e].$vnode:null:this.$slots.default[e],s=n&&n.data&&n.data.style;if(s&&s.height){var a=s.height.match(/^(.*)px$/);return a&&+a[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var e=this.delta,t=e.total-1;return e.total-e.end<=e.keeps||e.varLastCalcIndex===t?this.getVarOffset(t)-this.getVarOffset(e.end):(e.total-e.end)*(e.varAverSize||this.size)},getVarAllHeight:function(){var e=this.delta;return e.total-e.end<=e.keeps||e.varLastCalcIndex===e.total-1?this.getVarOffset(e.total):this.getVarOffset(e.start)+(e.total-e.end)*(e.varAverSize||this.size)},updateVariable:function(e){this.getVarOffset(e,!0)},fireEvent:function(e){this[e]&&this[e]()},setScrollTop:function(e){if(this.pagemode)window.scrollTo(0,e);else if(this.scrollelement)this.scrollelement.scrollTo(0,e);else{var t=this.$refs.vsl;t&&((t.$el||t).scrollTop=e)}},filter:function(e){var t,i,n,s=this.delta,a=this.$slots.default||[];this.item||this.$scopedSlots.item?(s.total=this.itemcount,s.keeps>s.total&&(s.end=s.total-1)):(a.length||(s.start=0),s.total=a.length);var r=s.total>s.keeps;this.variable?(n=this.getVarAllHeight(),t=r?this.getVarPaddingTop():0,i=r?this.getVarPaddingBottom():0):(n=this.size*s.total,t=this.size*(r?s.start:0),i=this.size*(r?s.total-s.keeps:0)-t),i<this.size&&(i=0),s.paddingTop=t,s.paddingBottom=i,s.offsetAll=n-this.size*this.remain;for(var o=[],l=s.start;l<s.total&&l<=Math.ceil(s.end);l++){var d=null;d=this.$scopedSlots.item?this.$scopedSlots.item(l):this.item?e(this.item,this.itemprops(l)):a[l],o.push(d)}return o}},render:function(e){var t=this.debounce,n=this.filter(e),s=this.delta,a=s.paddingTop,r=s.paddingBottom,o=this.istable,l=o?"div":this.wtag,d=o?"div":this.rtag;o&&(n=[e("table",[e("tbody",n)])]);var c=e(l,{style:Object.assign({display:"block","padding-top":a+"px","padding-bottom":r+"px"},this.wstyle),class:this.wclass,attrs:{role:"group"}},n);return this.pagemode||this.scrollelement?c:e(d,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"initial",height:this.size*this.remain+"px"},on:{"&scroll":t?i(this.onScroll.bind(this),t):this.onScroll}},[c])}})},"object"===l(t)&&"object"===l(e)?e.exports=o("VirtualList",i("ewH8")):(s=[i("ewH8")],n=o.bind(r,"VirtualList"),void 0===(a="function"==typeof n?n.apply(t,s):n)||(e.exports=a))}).call(this,i("Fs+f")(e))},TD9T:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("VpDa"),s=i.n(n),a=i("DVFT"),r=i("udiD"),o=i("/lV4"),l=i("i3lA"),d=i("d08M");class c{constructor(e){var t=this;this.branchInMemoryButton=document.createElement("button"),this.branchClipboardInstance=new s.a(this.branchInMemoryButton),this.branchClipboardInstance.on("success",(function(){Object(r.default)(Object(o.g)("GlobalShortcuts|Copied source branch name to clipboard."))})),this.branchClipboardInstance.on("error",(function(){Object(r.default)(Object(o.g)("GlobalShortcuts|Unable to copy the source branch name at this time."))})),this.refInMemoryButton=document.createElement("button"),this.refClipboardInstance=new s.a(this.refInMemoryButton),this.refClipboardInstance.on("success",(function(){Object(r.default)(Object(o.g)("GlobalShortcuts|Copied reference to clipboard."))})),this.refClipboardInstance.on("error",(function(){Object(r.default)(Object(o.g)("GlobalShortcuts|Unable to copy the reference at this time."))})),e.addAll([[d.L,function(){return c.openSidebarDropdown("assignee")}],[d.M,function(){return c.openSidebarDropdown("milestone")}],[d.G,function(){return c.openSidebarDropdown("labels")}],[d.J,c.editIssue],[d.U,function(){return t.copyBranchName()}],[d.I,function(){return t.copyIssuableRef()}]])}static editIssue(){return document.querySelector(".js-issuable-edit").click(),!1}static openSidebarDropdown(e){return l.a.instance.openDropdown(e),setTimeout((function(){(document.querySelector(`.block.${e} .shortcut-sidebar-dropdown-toggle`)||document.querySelector(`.block.${e} .edit-link`)).click()}),a.a),!1}async copyBranchName(){const e=document.querySelector(".js-source-branch-copy"),t=null==e?void 0:e.dataset.clipboardText;t&&(this.branchInMemoryButton.dataset.clipboardText=t,this.branchInMemoryButton.dispatchEvent(new CustomEvent("click")))}async copyIssuableRef(){const e=document.querySelector(".js-copy-reference"),t=null==e?void 0:e.dataset.clipboardText;t&&(this.refInMemoryButton.dataset.clipboardText=t,this.refInMemoryButton.dispatchEvent(new CustomEvent("click")))}}},TGUZ:function(e,t,i){var n=i("TTsI"),s=i("4ips"),a=i("nHTl"),r=i("Opi0"),o=i("QFSp"),l=i("gAdM"),d=r((function(e,t){var i=l(t);return o(i)&&(i=void 0),o(e)?n(e,s(t,1,o,!0),a(i,2)):[]}));e.exports=d},TNeE:function(e,t,i){"use strict";var n=i("Lzak"),s=i("FkSe"),a=i("z1xw"),r=i("yi8e"),o=i("FxFN"),l=i("HZAj"),d=i("/lV4"),c=i("AuBS"),u=i("Fsq/"),p={components:{ImportedBadge:c.a,TimeAgoTooltip:u.a,GlBadge:n.a,GlLoadingIcon:s.a},directives:{GlTooltip:a.a},props:{author:{type:Object,required:!1,default:function(){return{}}},createdAt:{type:String,required:!1,default:null},actionText:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:null},noteableType:{type:String,required:!1,default:""},showSpinner:{type:Boolean,required:!1,default:!0},isInternalNote:{type:Boolean,required:!1,default:!1},isImported:{type:Boolean,required:!1,default:!1},isSystemNote:{type:Boolean,required:!1,default:!1},noteUrl:{type:String,required:!1,default:""},emailParticipant:{type:String,required:!1,default:""}},data:()=>({isUsernameLinkHovered:!1}),computed:{authorId(){return Object(o.e)(this.author.id)},authorHref(){return this.author.path||this.author.webUrl},noteTimestampLink(){if(this.noteUrl)return this.noteUrl;if(this.noteId){let{noteId:e}=this;return Object(o.f)(e)&&(e=Object(o.e)(e)),"#note_"+e}},hasAuthor(){return this.author&&Object.keys(this.author).length},isServiceDeskEmailParticipant(){return!this.isInternalNote&&"support-bot"===this.author.username&&this.emailParticipant},authorLinkClasses(){return{hover:this.isUsernameLinkHovered,"text-underline":this.isUsernameLinkHovered,"author-name-link":!0,"js-user-link":!0,"gl-overflow-hidden":!0,"gl-break-words":!0}},authorName(){return this.isServiceDeskEmailParticipant?this.emailParticipant:this.author.name},internalNoteTooltip:()=>Object(d.g)("Notes|This internal note will always remain confidential"),importableType(){return this.isSystemNote?l.c:l.d}},methods:{...Object(r.c)(["setTargetNoteHash"]),updateTargetNoteHash(){this.$store&&this.setTargetNoteHash(this.noteTimestampLink)},handleUsernameMouseEnter(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseenter")),this.isUsernameLinkHovered=!0},handleUsernameMouseLeave(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseleave")),this.isUsernameLinkHovered=!1}}},h=i("tBpV"),m=Object(h.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"note-header-info"},[e.hasAuthor?[e.emailParticipant?t("span",{staticClass:"note-header-author-name gl-font-bold",attrs:{"data-testid":"author-name"},domProps:{textContent:e._s(e.authorName)}}):t("a",{ref:"authorNameLink",class:e.authorLinkClasses,attrs:{href:e.authorHref,"data-user-id":e.authorId,"data-username":e.author.username}},[t("span",{staticClass:"note-header-author-name gl-font-bold",attrs:{"data-testid":"author-name"},domProps:{textContent:e._s(e.authorName)}})]),e._v(" "),e.isSystemNote||e.emailParticipant?e._e():t("span",{staticClass:"text-nowrap author-username gl-truncate"},[t("a",{ref:"authorUsernameLink",staticClass:"author-username-link",attrs:{href:e.authorHref},on:{mouseenter:e.handleUsernameMouseEnter,mouseleave:e.handleUsernameMouseLeave}},[t("span",{staticClass:"note-headline-light gl-hidden md:gl-inline"},[e._v("@"+e._s(e.author.username))])]),e._v(" "),e._t("note-header-info")],2),e._v(" "),e.emailParticipant?t("span",{staticClass:"note-headline-light"},[e._v(e._s(e.__("(external participant)")))]):e._e()]:t("span",[e._v(e._s(e.__("A deleted user")))]),e._v(" "),t("span",{staticClass:"note-headline-light note-headline-meta"},[t("span",{staticClass:"system-note-message",attrs:{"data-testid":"system-note-content"}},[e._t("default")],2),e._v(" "),e.createdAt?[t("span",{ref:"actionText",staticClass:"system-note-separator"},[e.actionText?[e._v(e._s(e.actionText))]:e._e()],2),e._v(" "),e.noteTimestampLink?t("a",{ref:"noteTimestampLink",staticClass:"note-timestamp system-note-separator",attrs:{href:e.noteTimestampLink},on:{click:e.updateTargetNoteHash}},[t("time-ago-tooltip",{attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})],1):t("time-ago-tooltip",{ref:"noteTimestamp",attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})]:e._e(),e._v(" "),e.isImported?[e.isSystemNote?t("span",[e._v("Â·")]):e._e(),e._v(" "),t("imported-badge",{attrs:{"text-only":e.isSystemNote,"importable-type":e.importableType}})]:e._e(),e._v(" "),e.isInternalNote?t("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],staticClass:"gl-ml-2",attrs:{"data-testid":"internal-note-indicator",variant:"warning",title:e.internalNoteTooltip}},[e._v("\n      "+e._s(e.__("Internal note"))+"\n    ")]):e._e(),e._v(" "),e._t("extra-controls"),e._v(" "),e.showSpinner?t("gl-loading-icon",{ref:"spinner",staticClass:"editing-spinner",attrs:{size:"sm",label:e.__("Comment is being updated")}}):e._e()],2)],2)}),[],!1,null,null,null);t.a=m.exports},TTlA:function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return u}));var n=i("9k56"),s=i("jIK5"),a=i("oJ9E"),r=i("Xhk9"),o=i("gZSI"),l=i("VuSA"),d=i("hII5"),c=i("ojJK");const u=Object(d.c)({disabledField:Object(d.b)(s.r,"disabled"),htmlField:Object(d.b)(s.r,"html"),options:Object(d.b)(s.d,[]),textField:Object(d.b)(s.r,"text"),valueField:Object(d.b)(s.r,"value")},"formOptionControls"),p=Object(n.c)({props:u,computed:{formOptions(){return this.normalizeOptions(this.options)}},methods:{normalizeOption(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(o.j)(e)){const i=Object(a.a)(e,this.valueField),n=Object(a.a)(e,this.textField);return{value:Object(o.n)(i)?t||n:i,text:Object(r.b)(String(Object(o.n)(n)?t:n)),html:Object(a.a)(e,this.htmlField),disabled:Boolean(Object(a.a)(e,this.disabledField))}}return{value:t||e,text:Object(r.b)(String(e)),disabled:!1}},normalizeOptions(e){return Object(o.a)(e)?e.map(e=>this.normalizeOption(e)):Object(o.j)(e)?(Object(c.a)('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),Object(l.h)(e).map(t=>this.normalizeOption(e[t]||{},t))):[]}}})},TTsI:function(e,t,i){var n=i("4O6w"),s=i("QPeP"),a=i("GY8p"),r=i("90g9"),o=i("wJPF"),l=i("5PFN");e.exports=function(e,t,i,d){var c=-1,u=s,p=!0,h=e.length,m=[],f=t.length;if(!h)return m;i&&(t=r(t,o(i))),d?(u=a,p=!1):t.length>=200&&(u=l,p=!1,t=new n(t));e:for(;++c<h;){var g=e[c],v=null==i?g:i(g);if(g=d||0!==g?g:0,p&&v==v){for(var b=f;b--;)if(t[b]===v)continue e;m.push(g)}else u(t,v,d)||m.push(g)}return m}},U29U:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=(e,t)=>e.map((e,t)=>[t,e]).sort(function(e,t){return this(e[1],t[1])||e[0]-t[0]}.bind(t)).map(e=>e[1])},U4xk:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issuableDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};i.loc.source={body:"query issuableDetails($id: IssueID!) {\n  issue(id: $id) {\n    id\n    confidential\n    milestone {\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issuableDetails=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issuableDetails")},UK5N:function(e,t,i){"use strict";i("3UXl"),i("iyoE");var n=i("/lV4"),s=i("s1D3"),a=i("MV2A"),r=i("30su");const o={Issue:Object(n.a)("issue"),Epic:Object(n.a)("epic"),MergeRequest:Object(n.a)("merge request"),Task:Object(n.a)("task"),KeyResult:Object(n.a)("key result"),Objective:Object(n.a)("objective")};var l={components:{GlIcon:s.a,GlLink:a.a,GlSprintf:r.a},props:{isLocked:{type:Boolean,default:!1,required:!1},isConfidential:{type:Boolean,default:!1,required:!1},noteableType:{type:String,required:!1,default:"Issue"},lockedNoteableDocsPath:{type:String,required:!1,default:""},confidentialNoteableDocsPath:{type:String,required:!1,default:""}},computed:{warningIcon(){return this.isConfidential?"eye-slash":this.isLocked?"lock":""},isLockedAndConfidential(){return this.isConfidential&&this.isLocked},noteableTypeText(){return o[this.noteableType]},confidentialContextText(){return Object(n.h)(Object(n.a)("This is a confidential %{noteableTypeText}."),{noteableTypeText:this.noteableTypeText})},lockedContextText(){return Object(n.h)(Object(n.a)("The discussion in this %{noteableTypeText} is locked."),{noteableTypeText:this.noteableTypeText})}}},d=i("tBpV"),c=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"issuable-note-warning",attrs:{"data-testid":"issuable-note-warning"}},[e.isLockedAndConfidential?e._e():t("gl-icon",{staticClass:"icon gl-inline-block",attrs:{name:e.warningIcon,size:16}}),e._v(" "),e.isLockedAndConfidential?t("span",{ref:"lockedAndConfidential"},[t("span",[t("gl-sprintf",{attrs:{message:e.__("This %{noteableTypeText} is %{confidentialLinkStart}confidential%{confidentialLinkEnd} and its %{lockedLinkStart}discussion is locked%{lockedLinkEnd}.")},scopedSlots:e._u([{key:"noteableTypeText",fn:function(){return[e._v(e._s(e.noteableTypeText))]},proxy:!0},{key:"confidentialLink",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.confidentialNoteableDocsPath,target:"_blank"}},[e._v(e._s(i))])]}},{key:"lockedLink",fn:function({content:i}){return[t("gl-link",{attrs:{href:e.lockedNoteableDocsPath,target:"_blank"}},[e._v(e._s(i))])]}}],null,!1,21387600)})],1),e._v("\n    "+e._s(e.__("People without permission will never get a notification and won't be able to comment."))+"\n  ")]):e.isConfidential?t("span",{ref:"confidential"},[e._v("\n    "+e._s(e.confidentialContextText)+"\n    "+e._s(e.__("People without permission will never get a notification."))+"\n    "),t("gl-link",{attrs:{href:e.confidentialNoteableDocsPath,target:"_blank"}},[e._v(e._s(e.__("Learn more.")))])],1):e.isLocked?t("span",{ref:"locked"},[e._v("\n    "+e._s(e.lockedContextText)+"\n    "+e._s(e.__("Only project members can comment."))+"\n    "),t("gl-link",{attrs:{href:e.lockedNoteableDocsPath,target:"_blank"}},[e._v(e._s(e.__("Learn more.")))])],1):e._e()],1)}),[],!1,null,null,null).exports,u=i("4lAS"),p=i("PFaH"),h={components:{GlSprintf:r.a,GlButton:u.a},props:{emails:{type:Array,required:!0},numberOfLessParticipants:{type:Number,required:!1,default:3}},data:()=>({isShowingMoreParticipants:!1}),computed:{title(){return this.moreParticipantsAvailable?Object(p.a)(this.lessParticipants,{onlyCommas:!0}):Object(p.a)(this.emails)},lessParticipants(){return this.emails.slice(0,this.numberOfLessParticipants)},moreLabel(){return Object(n.h)(Object(n.g)("EmailParticipantsWarning|and %{moreCount} more"),{moreCount:this.emails.length-this.numberOfLessParticipants})},moreParticipantsAvailable(){return!this.isShowingMoreParticipants&&this.emails.length>this.numberOfLessParticipants},message(){return this.moreParticipantsAvailable?Object(n.g)("EmailParticipantsWarning|%{emails}, %{andMore} will be notified of your comment."):Object(n.g)("EmailParticipantsWarning|%{emails} will be notified of your comment.")}},methods:{showMoreParticipants(){this.isShowingMoreParticipants=!0}}},m=Object(d.a)(h,(function(){var e=this,t=e._self._c;return t("div",[t("gl-sprintf",{attrs:{message:e.message},scopedSlots:e._u([{key:"andMore",fn:function(){return[t("gl-button",{staticClass:"gl-align-baseline",attrs:{variant:"link"},on:{click:e.showMoreParticipants}},[e._v("\n        "+e._s(e.moreLabel)+"\n      ")])]},proxy:!0},{key:"emails",fn:function(){return[t("span",[e._v(e._s(e.title))])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports;const f=/!?\[.*?\]\(\/uploads\/[0-9a-f]{32}\/.*?\)/;var g={i18n:{attachmentWarning:Object(n.g)("Notes|Attachments are sent by email. Attachments over 10 MB are sent as links to your GitLab instance, and only accessible to project members."),confidentialAttachmentWarning:Object(n.g)("Notes|Uploaded files will be accessible to anyone with the file URL. Use caution when sharing file URLs.")},components:{EmailParticipantsWarning:m,NoteableWarning:c},props:{isInternalNote:{type:Boolean,required:!1,default:!1},note:{type:String,required:!1,default:""},noteableData:{type:Object,required:!0},noteableType:{type:String,required:!1,default:"Issue"},withAlertContainer:{type:Boolean,required:!1,default:!1}},computed:{containsLink(){return f.test(this.note)},isLocked(){return Boolean(this.noteableData.discussion_locked)},isConfidential(){return Boolean(this.noteableData.confidential)},hasWarningAbove(){return this.isConfidential||this.isLocked},hasWarningBelow(){return this.showConfidentialAttachmentWarning||this.showAttachmentWarning||this.showEmailParticipantsWarning},emailParticipants(){var e;return(null===(e=this.noteableData.issue_email_participants)||void 0===e?void 0:e.map((function({email:e}){return e})))||[]},showEmailParticipantsWarning(){return this.emailParticipants.length&&!this.isInternalNote},showAttachmentWarning(){return this.showEmailParticipantsWarning&&this.containsLink},showConfidentialAttachmentWarning(){return(this.isConfidential||this.isInternalNote)&&this.containsLink}}},v=Object(d.a)(g,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"comment-warning-wrapper"},[e.withAlertContainer?t("div",{staticClass:"error-alert",attrs:{"data-testid":"comment-field-alert-container"}}):e._e(),e._v(" "),e.hasWarningAbove?t("noteable-warning",{staticClass:"-gl-mb-3 gl-rounded-lg gl-rounded-b-none gl-pb-5 gl-pt-4",attrs:{"is-locked":e.isLocked,"is-confidential":e.isConfidential,"noteable-type":e.noteableType,"locked-noteable-docs-path":e.noteableData.locked_discussion_docs_path,"confidential-noteable-docs-path":e.noteableData.confidential_issues_docs_path}}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.hasWarningBelow?t("div",{staticClass:"-gl-mt-3 gl-rounded-lg gl-rounded-t-none gl-bg-orange-50 gl-pb-1 gl-pt-4 gl-text-orange-600"},[e.showConfidentialAttachmentWarning?t("div",{staticClass:"gl-border-b gl-border-b-white gl-px-4 gl-py-2 last:gl-border-none"},[e._v("\n      "+e._s(e.$options.i18n.confidentialAttachmentWarning)+"\n    ")]):e._e(),e._v(" "),e.showAttachmentWarning?t("div",{staticClass:"gl-border-b gl-border-b-white gl-px-4 gl-py-2 last:gl-border-none"},[e._v("\n      "+e._s(e.$options.i18n.attachmentWarning)+"\n    ")]):e._e(),e._v(" "),e.showEmailParticipantsWarning?t("email-participants-warning",{staticClass:"gl-px-4 gl-py-2",attrs:{emails:e.emailParticipants}}):e._e()],1):e._e()],2)}),[],!1,null,null,null);t.a=v.exports},UKdF:function(e,t,i){"use strict";var n=i("o4PY"),s=i.n(n),a=i("Pyw5");const r={name:"GlAccordion",provide(){const e=s()("accordion-set-");return{defaultHeaderLevel:()=>this.headerLevel,accordionSetId:()=>this.autoCollapse&&e}},props:{autoCollapse:{type:Boolean,required:!1,default:!1},headerLevel:{type:Number,required:!0,validator:e=>e>0&&e<=6}}};const o=i.n(a)()({render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._t("default")],2)},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},UNxS:function(e,t,i){"use strict";var n=i("Lzak"),s=i("s1D3"),a=i("z1xw"),r=i("5c3i"),o={components:{GlBadge:n.a,GlIcon:s.a},directives:{GlTooltip:a.a},props:{workspaceType:{type:String,required:!0},issuableType:{type:String,required:!0},hideTextInSmallScreens:{type:Boolean,required:!1,default:!1}},computed:{confidentialTooltip(){return Object(r.m)(this.workspaceType,this.issuableType)},confidentialTextClass(){return{"gl-sr-only sm:gl-not-sr-only":this.hideTextInSmallScreens,"!gl-ml-2":!0}}}},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this._self._c;return e("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-shrink-0",attrs:{title:this.confidentialTooltip,variant:"warning"}},[e("gl-icon",{attrs:{name:"eye-slash",size:16}}),this._v(" "),e("span",{class:this.confidentialTextClass,attrs:{"data-testid":"confidential-badge-text"}},[this._v(this._s(this.__("Confidential")))])],1)}),[],!1,null,null,null);t.a=d.exports},UfBS:function(e,t,i){"use strict";t.a=i.p+"empty-search-md.2566c760.svg"},UgQf:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"f",(function(){return p})),i.d(t,"d",(function(){return h})),i.d(t,"g",(function(){return m})),i.d(t,"c",(function(){return f})),i.d(t,"e",(function(){return g})),i.d(t,"b",(function(){return v}));var n=i("TGUZ"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("B++/"),i("z6RN"),i("47t/"),i("UezY"),i("hG7+"),i("aFm2"),i("R9qC"),i("b9Gi")),r=i("jlnU"),o=i("J6Lq"),l=i("enyH"),d=i("FYTc");const c=function({errors:e=[]}){return null==e?void 0:e.length},u=function(e,t){throw Object(r.createAlert)({message:t}),new Error(e.errors)},p=function(e,t,i){c(t)?u(t,t.errors[0]):function(e,t,i){const n=e.readQuery(i);n&&e.writeQuery({...i,data:Object(a.a)(n,(function(e){const i=Object(o.e)(e.workItem.widgets),n=i.designCollection.designs.nodes,a=s()(t.designs,n,"filename"),r=n.map((function(e){return t.designs.find((function(t){return t.filename===e.filename}))||e})).concat(a);let l;const d=t.designs.find((function(e){return e.versions}));if(d){const e=d.versions.nodes;e&&e.length&&(l=[e[0]])}const c={__typename:"DesignCollection",copyState:"READY",designs:{__typename:"DesignConnection",nodes:r},versions:{__typename:"DesignVersionConnection",nodes:[...l||[],...i.designCollection.versions.nodes]}};i.designCollection=c}))})}(e,t,i)},h=function(e,t,i,n){c(t)?u(t,Object(d.v)(n.length)):(function(e,t,i){const n=e.readQuery(t);if(!n)return;const s=Object(a.a)(n,(function(e){const t=Object(l.b)(n).designCollection.designs.nodes.filter((function(e){return!i.includes(e.filename)}));Object(l.b)(e).designCollection.designs.nodes=[...t]}));e.writeQuery({...t,data:s})}(e,i,n),function(e,t,i){if(!i)return;const n=e.readQuery(t),s=Object(a.a)(n,(function(e){Object(o.e)(e.workItem.widgets).designCollection.versions.nodes=[i,...Object(l.b)(e).designCollection.versions.nodes]}));e.writeQuery({...t,data:s})}(e,i,t.version))},m=function({store:e,todos:t,query:i}){const n=e.readQuery(i);if(!n)return;const s=Object(a.a)(n,(function(e){e.designManagement.designAtVersion.design.currentUserTodos.nodes=t}));e.writeQuery({...i,data:s})},f=function(e,t,i,n){c(t)?u(t,d.c):function(e,t,i,n){const s=e.readQuery({query:i,variables:n});if(!s)return;const r={__typename:d.o,id:t.note.discussion.id,replyId:t.note.discussion.replyId,resolvable:!0,resolved:!1,resolvedAt:null,resolvedBy:null,notes:{__typename:"NoteConnection",nodes:[t.note]}},o=Object(a.a)(s,(function(e){const i=e.designManagement.designAtVersion.design;i.notesCount+=1,i.discussions.nodes=[...i.discussions.nodes,r],i.issue.participants.nodes.some((function(e){return e.username===t.note.author.username}))||(i.issue.participants.nodes=[...i.issue.participants.nodes,{__typename:d.p,...t.note.author}])}));e.writeQuery({query:i,variables:n,data:o})}(e,t,i,n)},g=function(e,t,i,n){c(t)?u(t,d.r):function(e,t,i,n){const s=e.readQuery({query:i,variables:n}),r=Object(a.a)(s,(function(e){const i=e.designManagement.designAtVersion.design,n=Object(l.c)(i.discussions,t.note.discussion.id);n.notes={...n.notes,nodes:[t.note,...n.notes.nodes.slice(1)]}}));e.writeQuery({query:i,variables:n,data:r})}(e,t,i,n)},v=function(e,t,i){c(t)?Object(r.createAlert)({message:t.errors[0]}):function(e,t,i){const n=e.readQuery(i),s=Object(a.a)(n,(function(e){Object(o.e)(e.workItem.widgets).designCollection.designs.nodes=t.designCollection.designs.nodes}));e.writeQuery({...i,data:s})}(e,t,i)}},UjDh:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteWorkItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemDeleteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107}};i.loc.source={body:"mutation deleteWorkItem($input: WorkItemDeleteInput!) {\n  workItemDelete(input: $input) {\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.deleteWorkItem=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"deleteWorkItem")},UqDg:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a}));const n="is-dragging",s=100,a={animation:200,forceFallback:!0,fallbackClass:n,fallbackOnBody:!0,ghostClass:"is-ghost",fallbackTolerance:1}},UqQf:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isProject"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isProject"}}}]},{kind:"Directive",name:{kind:"Name",value:"persist"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"searchTerm"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"includeAncestorGroups"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"includeDescendantGroups"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__persist"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__persist"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isProject"}}}]},{kind:"Directive",name:{kind:"Name",value:"persist"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"searchTerm"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"includeAncestorGroups"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__persist"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__persist"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:587}};n.loc.source={body:'#import "./label.fragment.graphql"\n\nquery searchLabels($fullPath: ID!, $search: String, $isProject: Boolean = false) {\n  group(fullPath: $fullPath) @skip(if: $isProject) @persist {\n    id\n    labels(searchTerm: $search, includeAncestorGroups: true, includeDescendantGroups: true) {\n      __persist\n      nodes {\n        __persist\n        ...Label\n      }\n    }\n  }\n  project(fullPath: $fullPath) @include(if: $isProject) @persist {\n    id\n    labels(searchTerm: $search, includeAncestorGroups: true) {\n      __persist\n      nodes {\n        __persist\n        ...Label\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("dHdD").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.searchLabels=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"searchLabels")},VDDM:function(e,t,i){"use strict";var n=i("dsWN"),s=i("1cpz"),a=i("/lV4"),r=i("df6S"),o=i("UjDh"),l=i.n(o),d=i("JtyA"),c={WORK_ITEM_DETAIL_MODAL_ID:"work-item-detail-modal",i18n:{errorMessage:Object(a.g)("WorkItem|Something went wrong when deleting the task. Please try again."),modalTitle:Object(a.g)("WorkItem|Work item")},components:{GlAlert:n.a,GlModal:s.a,WorkItemDetail:function(){return Promise.all([i.e(29),i.e(92),i.e(91),i.e(253),i.e(856)]).then(i.bind(null,"aX2V"))}},provide:{[d.P]:!0},props:{parentId:{type:String,required:!1,default:null},workItemId:{type:String,required:!1,default:null},workItemIid:{type:String,required:!1,default:null},workItemFullPath:{type:String,required:!1,default:""}},emits:["workItemDeleted","close","update-modal"],data:()=>({error:void 0,updatedWorkItemIid:null,updatedWorkItemId:null,isModalShown:!1}),computed:{displayedWorkItemIid(){return this.updatedWorkItemIid||this.workItemIid},displayedWorkItemId(){return this.updatedWorkItemId||this.workItemId}},methods:{deleteWorkItem(){var e=this;this.$apollo.mutate({mutation:l.a,variables:{input:{id:this.workItemId}},update:function(t){return Object(r.d)({cache:t,id:e.parentId,workItem:{id:e.workItemId}})}}).then((function({data:t}){var i;if(null!==(i=t.workItemDelete.errors)&&void 0!==i&&i.length)throw new Error(t.workItemDelete.errors[0]);e.$emit("workItemDeleted",e.workItemId),e.hide()})).catch((function(t){e.setErrorMessage(t.message)}))},closeModal(){this.updatedWorkItemIid=null,this.updatedWorkItemId=null,this.error="",this.isModalShown=!1,this.$emit("close")},hide(){this.$refs.modal.hide()},setErrorMessage(e){this.error=e||this.$options.i18n.errorMessage},show(){this.$refs.modal.show()},updateModal(e,t){this.updatedWorkItemIid=t.iid,this.updatedWorkItemId=t.id,this.$emit("update-modal",e,t)},onModalShow(){this.isModalShown=!0},openReportAbuseModal(e){this.$emit("openReportAbuse",e)}}},u=i("LPAU"),p=i.n(u),h=i("eTzY"),m=i.n(h),f={insert:"head",singleton:!1},g=(p()(m.a,f),m.a.locals,i("tBpV")),v=Object(g.a)(c,(function(){var e=this,t=e._self._c;return t("gl-modal",{ref:"modal",attrs:{static:"","hide-footer":"",size:"lg","modal-id":e.$options.WORK_ITEM_DETAIL_MODAL_ID,"header-class":"gl-p-0 !gl-pb-2",scrollable:"",title:e.$options.i18n.modalTitle,"data-testid":e.$options.WORK_ITEM_DETAIL_MODAL_ID},on:{hide:e.closeModal,shown:e.onModalShow}},[e.error?t("gl-alert",{attrs:{variant:"danger"},on:{dismiss:function(t){e.error=!1}}},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e(),e._v(" "),t("work-item-detail",{staticClass:"gl-isolate -gl-mt-3 gl-bg-inherit gl-p-5",attrs:{"is-modal":"","work-item-id":e.displayedWorkItemId,"work-item-iid":e.displayedWorkItemIid,"modal-work-item-full-path":e.workItemFullPath},on:{close:e.hide,deleteWorkItem:e.deleteWorkItem,"update-modal":e.updateModal,openReportAbuse:e.openReportAbuseModal}})],1)}),[],!1,null,null,null);t.a=v.exports},VNgF:function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var s=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[i].concat(a).concat([s]).join("\n")}var r;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var a=this[s][0];null!=a&&(n[a]=!0)}for(s=0;s<e.length;s++){var r=e[s];null!=r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},VXIO:function(e,t,i){"use strict";var n=i("4lAS"),s=i("N50s"),a=i("F6ad"),r=i("l5WF"),o=i("4wRe"),l=i("1OWu"),d=i("/lV4"),c=i("Qhxq"),u=i("7HFU"),p={name:"AbuseCategorySelector",csrf:c.a,components:{GlButton:n.a,GlDrawer:s.a,GlForm:a.a,GlFormGroup:r.a,GlFormRadioGroup:o.a},inject:{reportAbusePath:{default:""}},props:{reportedUserId:{type:Number,required:!0},reportedFromUrl:{type:String,required:!1,default:""},showDrawer:{type:Boolean,required:!0}},i18n:{title:Object(d.a)("Report abuse to administrator"),close:Object(d.a)("Close"),label:Object(d.g)("ReportAbuse|Why are you reporting this user?"),next:Object(d.a)("Next")},CATEGORY_OPTIONS:u.a,data:()=>({selected:"",mounted:!1}),computed:{getDrawerHeaderHeight(){return this.showDrawer?Object(l.d)():"0"}},mounted(){this.mounted=!0},methods:{closeDrawer(){this.$emit("close-drawer")}}},h=i("tBpV"),m=Object(h.a)(p,(function(){var e=this,t=e._self._c;return t("gl-drawer",{attrs:{"header-height":e.getDrawerHeaderHeight,"z-index":300,open:e.showDrawer&&e.mounted},on:{close:e.closeDrawer},scopedSlots:e._u([{key:"title",fn:function(){return[t("h2",{staticClass:"gl-mb-0 gl-mt-0 gl-text-size-h2 gl-leading-24",attrs:{"data-testid":"category-drawer-title"}},[e._v("\n      "+e._s(e.$options.i18n.title)+"\n    ")])]},proxy:!0},{key:"default",fn:function(){return[t("gl-form",{staticClass:"gl-text-left",attrs:{action:e.reportAbusePath,method:"post"}},[t("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"user_id","data-testid":"input-user-id"},domProps:{value:e.reportedUserId}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"abuse_report[reported_from_url]","data-testid":"input-referer"},domProps:{value:e.reportedFromUrl}}),e._v(" "),t("gl-form-group",{attrs:{label:e.$options.i18n.label,"label-class":"gl-text-default"}},[t("gl-form-radio-group",{attrs:{options:e.$options.CATEGORY_OPTIONS,name:"abuse_report[category]",required:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),t("gl-button",{attrs:{type:"submit",variant:"confirm","data-testid":"submit-form-button"}},[e._v("\n        "+e._s(e.$options.i18n.next)+"\n      ")])],1)]},proxy:!0}])})}),[],!1,null,null,null);t.a=m.exports},VYh0:function(e,t,i){var n=i("aCzx"),s=n?n.prototype:void 0,a=s?s.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},VcEk:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getDesignDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DesignManagementDesignAtVersionID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"designManagement"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"designAtVersion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageV432x230"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"design"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserTodos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"EnumValue",value:"pending"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"diffRefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignDiffRefs"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"discussions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"replyId"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ResolvedStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignNote"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Author"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createDesign"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updateDesign"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VersionListItem"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1299}};n.loc.source={body:'#import "./fragments/discussion_resolved_status.fragment.graphql"\n#import "~/graphql_shared/fragments/author.fragment.graphql"\n#import "./fragments/design_note.fragment.graphql"\n#import "./fragments/version.fragment.graphql"\n#import "./fragments/diff_refs.fragment.graphql"\n\nquery getDesignDetails($id: DesignManagementDesignAtVersionID!) {\n  designManagement {\n    designAtVersion(id: $id) {\n      id\n      event\n      image\n      imageV432x230\n      design {\n        id\n        filename\n        notesCount\n        description\n        descriptionHtml\n        fullPath\n        currentUserTodos(state: pending) {\n          nodes {\n            id\n          }\n        }\n        diffRefs {\n          ...DesignDiffRefs\n        }\n        discussions {\n          nodes {\n            id\n            replyId\n            ...ResolvedStatus\n            notes {\n              nodes {\n                ...DesignNote\n              }\n            }\n          }\n        }\n        issue {\n          id\n          title\n          webPath\n          webUrl\n          participants {\n            nodes {\n              ...Author\n            }\n          }\n          userPermissions {\n            createDesign\n            updateDesign\n          }\n        }\n      }\n      version {\n        ...VersionListItem\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("J6s1").definitions)),n.definitions=n.definitions.concat(a(i("5JsC").definitions)),n.definitions=n.definitions.concat(a(i("LjxR").definitions)),n.definitions=n.definitions.concat(a(i("HIeB").definitions)),n.definitions=n.definitions.concat(a(i("SqVG").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.getDesignDetails=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"getDesignDetails")},VeDt:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"snakeCaseNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NoteID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"note"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"avatar_url"},name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"web_url"},name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"web_path"},name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"body_html"},name:{kind:"Name",value:"bodyHtml"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"created_at"},name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"last_edited_at"},name:{kind:"Name",value:"lastEditedAt"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"last_edited_by"},name:{kind:"Name",value:"lastEditedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"avatar_url"},name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"web_url"},name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"web_path"},name:{kind:"Name",value:"webPath"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:449}};i.loc.source={body:"query snakeCaseNote($id: NoteID!) {\n  note(id: $id) {\n    id\n    author {\n      id\n      avatar_url: avatarUrl\n      name\n      username\n      web_url: webUrl\n      web_path: webPath\n    }\n    body_html: bodyHtml\n    created_at: createdAt\n    last_edited_at: lastEditedAt\n    last_edited_by: lastEditedBy {\n      id\n      avatar_url: avatarUrl\n      name\n      username\n      web_url: webUrl\n      web_path: webPath\n    }\n    internal\n    url\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.snakeCaseNote=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"snakeCaseNote")},Vjau:function(e,t,i){"use strict";var n=i("s1D3"),s=i("/lV4"),a={name:"DesignNotePin",components:{GlIcon:n.a},props:{position:{type:Object,required:!1,default:null},label:{type:Number,required:!1,default:null},isResolved:{type:Boolean,required:!1,default:!1},isInactive:{type:Boolean,required:!1,default:!1},isOnImage:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"md",validator:function(e){return["sm","md"].includes(e)}},ariaLabel:{type:String,required:!1,default:null}},computed:{isNewNote(){return null===this.label},pinLabel(){return this.ariaLabel?this.ariaLabel:this.isNewNote?Object(s.a)("Comment form position"):Object(s.h)(Object(s.a)("Comment '%{label}' position"),{label:this.label})}}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this,t=e._self._c;return t("button",{staticClass:"gl-flex gl-items-center gl-justify-center gl-text-sm",class:{"comment-indicator gl-border-0 gl-bg-transparent":e.isNewNote,"js-image-badge design-note-pin":!e.isNewNote,resolved:e.isResolved,inactive:e.isInactive,draft:e.isDraft,"on-image":e.isOnImage,"gl-absolute":e.position,small:"sm"===e.size},style:e.position,attrs:{"aria-label":e.pinLabel,type:"button"},on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseup:function(t){return e.$emit("mouseup",t)},click:function(t){return e.$emit("click",t)}}},[e.isNewNote?t("gl-icon",{staticClass:"gl-rounded-full gl-border-2 gl-border-solid gl-border-white gl-bg-white",attrs:{name:"image-comment-dark",size:24}}):[e._v("\n    "+e._s(e.label)+"\n  ")]],2)}),[],!1,null,null,null);t.a=o.exports},W7Ty:function(e,t,i){var n=i("sjqF"),s=i("nHTl"),a=i("NDsS"),r=Math.max,o=Math.min;e.exports=function(e,t,i){var l=null==e?0:e.length;if(!l)return-1;var d=l-1;return void 0!==i&&(d=a(i),d=i<0?r(l+d,0):o(d,l-1)),n(e,s(t,3),d,!0)}},WSFO:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("ewH8"),s=i("yi8e"),a=i("z7iI"),r=i("q/7U"),o=i("MkVi"),l=i("AxUD"),d=i("5v28"),c=i("UNxS"),u=i("AuBS");const p=n.default.observable({state:"",updateStatus:null});var h={TYPE_ISSUE:l.p,TYPE_MERGE_REQUEST:l.q,WORKSPACE_PROJECT:l.u,components:{ConfidentialityBadge:c.a,LockedBadge:r.a,HiddenBadge:a.a,ImportedBadge:u.a,StatusBadge:o.a},inject:{query:{default:null},projectPath:{default:null},hidden:{default:!1},iid:{default:null}},props:{initialState:{type:String,required:!1,default:null},isImported:{type:Boolean,required:!1,default:!1}},data(){return this.iid?(!p.state&&this.initialState&&(p.state=this.initialState),p):{state:this.initialState}},computed:{...Object(s.d)(["getNoteableData"]),isLocked(){return this.getNoteableData.discussion_locked},isConfidential(){return this.getNoteableData.confidential}},created(){p.updateStatus||(p.updateStatus=this.fetchState)},beforeDestroy(){p.updateStatus&&this.query&&(p.updateStatus=null)},methods:{async fetchState(){var e;const{data:t}=await this.$apollo.query({query:this.query,variables:{projectPath:this.projectPath,iid:this.iid},fetchPolicy:d.c.NO_CACHE});p.state=null==t||null===(e=t.workspace)||void 0===e||null===(e=e.issuable)||void 0===e?void 0:e.state}}},m=i("tBpV"),f=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"gl-contents"},[t("status-badge",{staticClass:"gl-mr-2 gl-self-center",attrs:{"issuable-type":e.$options.TYPE_MERGE_REQUEST,state:e.state}}),e._v(" "),e.isConfidential?t("confidentiality-badge",{staticClass:"gl-mr-2 gl-self-center",attrs:{"issuable-type":e.$options.TYPE_ISSUE,"workspace-type":e.$options.WORKSPACE_PROJECT}}):e._e(),e._v(" "),e.isLocked?t("locked-badge",{staticClass:"gl-mr-2 gl-self-center",attrs:{"issuable-type":e.$options.TYPE_MERGE_REQUEST}}):e._e(),e._v(" "),e.hidden?t("hidden-badge",{staticClass:"gl-mr-2 gl-self-center",attrs:{"issuable-type":e.$options.TYPE_MERGE_REQUEST}}):e._e(),e._v(" "),e.isImported?t("imported-badge",{staticClass:"gl-mr-2 gl-self-center",attrs:{"importable-type":e.$options.TYPE_MERGE_REQUEST}}):e._e()],1)}),[],!1,null,null,null);t.b=f.exports},X80m:function(e,t,i){"use strict";i.d(t,"a",(function(){return v})),i.d(t,"b",(function(){return g}));var n=i("9k56"),s=i("3hkr"),a=i("jIK5"),r=i("oTzT"),o=i("gZSI"),l=i("KZ4l"),d=i("hII5"),c=i("TnX6"),u=i("g+RJ"),p=i("GeBT"),h=i("aBA8");const m=e=>(e=Object(l.b)(e,0))>0?e:null,f=e=>Object(o.o)(e)||m(e)>0,g=Object(d.c)({colspan:Object(d.b)(a.m,null,f),rowspan:Object(d.b)(a.m,null,f),stackedHeading:Object(d.b)(a.r),stickyColumn:Object(d.b)(a.g,!1),variant:Object(d.b)(a.r)},s.P),v=Object(n.c)({name:s.P,mixins:[u.a,p.a,h.a],inject:{getBvTableTr:{default:()=>()=>({})}},inheritAttrs:!1,props:g,computed:{bvTableTr(){return this.getBvTableTr()},tag:()=>"td",inTbody(){return this.bvTableTr.inTbody},inThead(){return this.bvTableTr.inThead},inTfoot(){return this.bvTableTr.inTfoot},isDark(){return this.bvTableTr.isDark},isStacked(){return this.bvTableTr.isStacked},isStackedCell(){return this.inTbody&&this.isStacked},isResponsive(){return this.bvTableTr.isResponsive},isStickyHeader(){return this.bvTableTr.isStickyHeader},hasStickyHeader(){return this.bvTableTr.hasStickyHeader},isStickyColumn(){return!this.isStacked&&(this.isResponsive||this.hasStickyHeader)&&this.stickyColumn},rowVariant(){return this.bvTableTr.variant},headVariant(){return this.bvTableTr.headVariant},footVariant(){return this.bvTableTr.footVariant},tableVariant(){return this.bvTableTr.tableVariant},computedColspan(){return m(this.colspan)},computedRowspan(){return m(this.rowspan)},cellClasses(){let{variant:e,headVariant:t,isStickyColumn:i}=this;return(!e&&this.isStickyHeader&&!t||!e&&i&&this.inTfoot&&!this.footVariant||!e&&i&&this.inThead&&!t||!e&&i&&this.inTbody)&&(e=this.rowVariant||this.tableVariant||"b-table-default"),[e?`${this.isDark?"bg":"table"}-${e}`:null,i?"b-table-sticky-column":null]},cellAttrs(){const{stackedHeading:e}=this,t=this.inThead||this.inTfoot,i=this.computedColspan,n=this.computedRowspan;let s="cell",a=null;return t?(s="columnheader",a=i>0?"colspan":"col"):Object(r.t)(this.tag,"th")&&(s="rowheader",a=n>0?"rowgroup":"row"),{colspan:i,rowspan:n,role:s,scope:a,...this.bvAttrs,"data-label":this.isStackedCell&&!Object(o.o)(e)?Object(c.e)(e):null}}},render(e){const t=[this.normalizeSlot()];return e(this.tag,{class:this.cellClasses,attrs:this.cellAttrs,on:this.bvListeners},[this.isStackedCell?e("div",[t]):t])}})},XHA1:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issuableLabelsUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableLabelsUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Label"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:392}};n.loc.source={body:'#import "~/graphql_shared/fragments/label.fragment.graphql"\n\nsubscription issuableLabelsUpdated($issuableId: IssuableID!) {\n  issuableLabelsUpdated(issuableId: $issuableId) {\n    ... on Issue {\n      id\n      labels {\n        nodes {\n          ...Label\n        }\n      }\n    }\n    ... on MergeRequest {\n      id\n      labels {\n        nodes {\n          ...Label\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("30z/").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.issuableLabelsUpdated=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"issuableLabelsUpdated")},Xa9V:function(e,t,i){"use strict";var n=i("G3fq"),s=i.n(n),a=i("s1D3"),r=i("Lzak"),o=i("4lAS"),l=i("1fc5"),d=i("Yyc1"),c=i("wP8z"),u=i("koWC"),p=i("SeSR"),h=i("FkSe"),m=i("z1xw"),f=i("yi8e"),g=i("Mp8J"),v=i("NmEs"),b=i("0AwG"),y=i("/lV4"),k=i("rK/1"),w=i("sHIo"),S=i("4XBy"),_=i("pIt4"),I=i("Kuu+"),T=i("Gtn5"),O=i("i3g2"),C=i("l+kv"),x={components:{ClipboardButton:k.a,GlIcon:a.a,DiffStats:C.a,GlBadge:r.a,GlButton:o.a,GlButtonGroup:l.a,GlDropdown:d.a,GlDropdownItem:c.a,GlDropdownDivider:u.a,GlFormCheckbox:p.a,GlLoadingIcon:h.a},directives:{GlTooltip:m.a,SafeHtml:g.a},mixins:[Object(w.a)()],i18n:{...I.d,compareButtonLabel:Object(y.a)("Compare submodule commit revisions"),fileModeTooltip:Object(y.a)("File permissions")},props:{discussionPath:{type:String,required:!1,default:""},diffFile:{type:Object,required:!0},collapsible:{type:Boolean,required:!1,default:!1},addMergeRequestButtons:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},canCurrentUserFork:{type:Boolean,required:!0},viewDiffsFileByFile:{type:Boolean,required:!1,default:!1},showLocalFileReviews:{type:Boolean,required:!1,default:!1},reviewed:{type:Boolean,required:!1,default:!1}},computed:{...Object(f.f)("diffs",["latestDiff"]),...Object(f.d)("diffs",["diffHasExpandedDiscussions","diffHasDiscussions"]),...Object(f.d)(["getNoteableData"]),diffContentIDSelector(){return Object(S.c)(this.diffFile)},diffUrl(){return Object(S.b)(this.diffFile)},titleLink(){return this.diffFile.submodule?this.diffFile.submodule_tree_url||this.diffFile.submodule_link:this.discussionPath?this.discussionPath:this.diffUrl},submoduleDiffCompareLinkText(){if(this.diffFile.submodule_compare){const e=s()(Object(b.E)(this.diffFile.submodule_compare.old_sha)),t=s()(Object(b.E)(this.diffFile.submodule_compare.new_sha));return Object(y.h)(Object(y.a)("Compare %{oldCommitId}...%{newCommitId}"),{oldCommitId:`<span class="commit-sha">${e}</span>`,newCommitId:`<span class="commit-sha">${t}</span>`},!1)}return null},filePath(){return this.diffFile.submodule?`${this.diffFile.file_path} @ ${Object(b.E)(this.diffFile.blob.id)}`:this.diffFile.deleted_file?Object(y.h)(Object(y.a)("%{filePath} deleted"),{filePath:this.diffFile.file_path},!1):this.diffFile.file_path},isUsingLfs(){return this.diffFile.stored_externally&&"lfs"===this.diffFile.external_storage},isCollapsed(){return Object(T.e)(this.diffFile,{fileByFile:this.viewDiffsFileByFile})},collapseIcon(){return this.expanded?"chevron-down":"chevron-right"},viewFileButtonText(){const e=s()(Object(b.E)(this.diffFile.content_sha));return Object(y.h)(Object(y.g)("MergeRequests|View file @ %{commitId}"),{commitId:e},!1)},viewReplacedFileButtonText(){const e=s()(Object(b.E)(this.diffFile.diff_refs.base_sha));return Object(y.h)(Object(y.g)("MergeRequests|View replaced file @ %{commitId}"),{commitId:e})},gfmCopyText(){return`\`${this.diffFile.file_path}\``},isFileRenamed(){return this.diffFile.renamed_file},isModeChanged(){return this.diffFile.mode_changed},expandDiffToFullFileTitle(){return this.diffFile.isShowingFullFile?Object(y.g)("MRDiff|Show changes only"):Object(y.g)("MRDiff|Show full file")},showEditButton(){var e;return(null===(e=this.diffFile.blob)||void 0===e?void 0:e.readable_text)&&!this.diffFile.deleted_file&&(this.diffFile.edit_path||this.diffFile.ide_edit_path)},isReviewable(){return Object(O.d)(this.diffFile)},externalUrlLabel(){return Object(y.h)(Object(y.a)("View on %{url}"),{url:this.diffFile.formatted_external_url})},labelToggleFile(){return this.expanded?Object(y.a)("Hide file contents"):Object(y.a)("Show file contents")},showCommentButton(){return this.getNoteableData.current_user.can_create_note}},methods:{...Object(f.c)("diffs",["toggleFileDiscussionWrappers","toggleFullDiff","setCurrentFileHash","reviewFile","setFileCollapsedByUser","setFileForcedOpen","toggleFileCommentForm"]),handleToggleFile(){this.setFileForcedOpen({filePath:this.diffFile.file_path,forced:!1}),this.$emit("toggleFile")},showForkMessage(e){this.canCurrentUserFork&&!this.diffFile.can_modify_blob&&(e.preventDefault(),this.$emit("showForkMessage"))},handleFileNameClick(e){if(!(this.diffFile.submodule_tree_url||this.diffFile.submodule_link||this.discussionPath)){e.preventDefault();const t=this.diffContentIDSelector;Object(v.M)(document.querySelector(t)),window.location.hash=t,this.viewDiffsFileByFile||this.setCurrentFileHash(this.diffFile.file_hash)}},toggleReview(e){document.activeElement.blur();const t=this.isCollapsed&&Object(T.a)(this.diffFile)===_.n,i=this.expanded,n=!i,s=e;this.reviewFile({file:this.diffFile,reviewed:s}),s&&t&&this.setFileCollapsedByUser({filePath:this.diffFile.file_path,collapsed:!0}),(i&&s||n&&!s)&&(this.setFileForcedOpen({filePath:this.diffFile.file_path,forced:!1}),this.$emit("toggleFile"))}}},j=i("tBpV"),E=Object(j.a)(x,(function(){var e=this,t=e._self._c;return t("div",{ref:"header",staticClass:"js-file-title file-title file-title-flex-parent",attrs:{"data-testid":"file-title-container","data-qa-file-name":e.filePath},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleToggleFile.apply(null,arguments)}}},[t("div",{staticClass:"file-header-content"},[e.collapsible?t("gl-button",{ref:"collapseButton",staticClass:"gl-mr-2",attrs:{category:"tertiary",size:"small",icon:e.collapseIcon,"aria-label":e.labelToggleFile},on:{click:function(t){return t.stopPropagation(),e.handleToggleFile.apply(null,arguments)}}}):e._e(),e._v(" "),t("a",{staticClass:"gl-mr-2 gl-break-all !gl-no-underline",attrs:{"v-once":!e.viewDiffsFileByFile,href:e.titleLink,"data-testid":"file-title"},on:{click:e.handleFileNameClick}},[e.isFileRenamed?t("span",[t("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"safe-html",rawName:"v-safe-html",value:e.diffFile.old_path_html,expression:"diffFile.old_path_html"}],staticClass:"file-title-name",attrs:{title:e.diffFile.old_path}}),e._v("\n        â\n        "),t("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"safe-html",rawName:"v-safe-html",value:e.diffFile.new_path_html,expression:"diffFile.new_path_html"}],staticClass:"file-title-name",attrs:{title:e.diffFile.new_path}})]):t("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.filePath,"data-container":"body","data-testid":"file-name-content"}},[e._v("\n        "+e._s(e.filePath)+"\n      ")])]),e._v(" "),t("clipboard-button",{attrs:{title:e.__("Copy file path"),text:e.diffFile.file_path,gfm:e.gfmCopyText,size:"small","data-testid":"diff-file-copy-clipboard",category:"tertiary","data-track-action":"click_copy_file_button","data-track-label":"diff_copy_file_path_button","data-track-property":"diff_copy_file"}}),e._v(" "),e.isModeChanged?t("small",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus",modifiers:{hover:!0,focus:!0}}],ref:"fileMode",staticClass:"gl-mr-2 gl-text-subtle",attrs:{title:e.$options.i18n.fileModeTooltip}},[e._v("\n      "+e._s(e.diffFile.a_mode)+" â "+e._s(e.diffFile.b_mode)+"\n    ")]):e._e(),e._v(" "),e.isUsingLfs?t("gl-badge",{staticClass:"gl-mr-2",attrs:{variant:"neutral","data-testid":"label-lfs"}},[e._v(e._s(e.__("LFS")))]):e._e()],1),e._v(" "),!e.diffFile.submodule&&e.addMergeRequestButtons?t("div",{staticClass:"file-actions gl-ml-auto gl-flex gl-items-center gl-self-start"},[t("diff-stats",{attrs:{"diff-file":e.diffFile,"added-lines":e.diffFile.added_lines,"removed-lines":e.diffFile.removed_lines}}),e._v(" "),e.isReviewable&&e.showLocalFileReviews?t("gl-form-checkbox",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus.left",modifiers:{hover:!0,focus:!0,left:!0}}],staticClass:"-gl-mb-3 gl-mr-5 gl-flex gl-items-center",attrs:{"data-testid":"fileReviewCheckbox",title:e.$options.i18n.fileReviewTooltip,checked:e.reviewed},on:{change:e.toggleReview}},[e._v("\n      "+e._s(e.$options.i18n.fileReviewLabel)+"\n    ")]):e._e(),e._v(" "),e.showCommentButton?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus",modifiers:{hover:!0,focus:!0}}],staticClass:"btn-icon gl-mr-3",attrs:{title:e.__("Comment on this file"),"aria-label":e.__("Comment on this file"),icon:"comment",category:"tertiary",size:"small","data-testid":"comment-files-button"},on:{click:function(t){return e.toggleFileCommentForm(e.diffFile.file_path)}}}):e._e(),e._v(" "),t("gl-button-group",{staticClass:"!gl-pt-0"},[e.diffFile.external_url?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus",modifiers:{hover:!0,focus:!0}}],ref:"externalLink",attrs:{href:e.diffFile.external_url,title:e.externalUrlLabel,"aria-label":e.externalUrlLabel,target:"_blank","data-track-action":"click_toggle_external_button","data-track-label":"diff_toggle_external_button","data-track-property":"diff_toggle_external",icon:"external-link"}}):e._e(),e._v(" "),t("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus",value:e.$options.i18n.optionsDropdownTitle,expression:"$options.i18n.optionsDropdownTitle",modifiers:{hover:!0,focus:!0}}],staticClass:"!gl-pt-0",attrs:{size:"small",category:"tertiary",right:"","toggle-class":"btn-icon js-diff-more-actions","data-testid":"options-dropdown-button",lazy:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("gl-icon",{staticClass:"mr-0",attrs:{name:"ellipsis_v"}}),e._v(" "),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$options.i18n.optionsDropdownTitle))])]},proxy:!0}],null,!1,1529039611)},[e._v(" "),t("gl-dropdown-item",{ref:"viewButton",attrs:{href:e.diffFile.view_path,target:"_blank"}},[e._v("\n          "+e._s(e.viewFileButtonText)+"\n        ")]),e._v(" "),e.showEditButton?[e.diffFile.edit_path?t("gl-dropdown-item",{ref:"editButton",staticClass:"js-edit-blob",attrs:{href:e.diffFile.edit_path},on:{click:e.showForkMessage}},[e._v("\n            "+e._s(e.__("Edit in single-file editor"))+"\n          ")]):e._e(),e._v(" "),e.diffFile.edit_path?t("gl-dropdown-item",{ref:"ideEditButton",staticClass:"js-ide-edit-blob",attrs:{href:e.diffFile.ide_edit_path,"data-testid":"edit-in-ide-button",target:"_blank"}},[e._v("\n            "+e._s(e.__("Open in Web IDE"))+"\n          ")]):e._e(),e._v(" "),e.diffFile.replaced_view_path?t("gl-dropdown-item",{ref:"replacedFileButton",attrs:{href:e.diffFile.replaced_view_path,target:"_blank"}},[e._v("\n            "+e._s(e.viewReplacedFileButtonText)+"\n          ")]):e._e()]:e._e(),e._v(" "),e.isCollapsed?e._e():[!e.diffFile.is_fully_expanded||e.diffHasDiscussions(e.diffFile)?t("gl-dropdown-divider"):e._e(),e._v(" "),e.diffHasDiscussions(e.diffFile)?t("gl-dropdown-item",{ref:"toggleDiscussionsButton",attrs:{"data-testid":"toggle-comments-button"},on:{click:function(t){return e.toggleFileDiscussionWrappers(e.diffFile)}}},[e.diffHasExpandedDiscussions(e.diffFile)?[e._v("\n              "+e._s(e.__("Hide comments on this file"))+"\n            ")]:[e._v("\n              "+e._s(e.__("Show comments on this file"))+"\n            ")]],2):e._e(),e._v(" "),e.diffFile.is_fully_expanded?e._e():t("gl-dropdown-item",{ref:"expandDiffToFullFileButton",attrs:{disabled:e.diffFile.isLoadingFullFile},on:{click:function(t){return e.toggleFullDiff(e.diffFile.file_path)}}},[e.diffFile.isLoadingFullFile?t("gl-loading-icon",{attrs:{size:"sm",inline:""}}):e._e(),e._v("\n            "+e._s(e.expandDiffToFullFileTitle)+"\n          ")],1)]],2)],1)],1):e._e(),e._v(" "),e.diffFile.submodule_compare?t("div",{staticClass:"file-actions gl-hidden gl-flex-wrap gl-items-center sm:gl-flex"},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}},{name:"safe-html",rawName:"v-safe-html",value:e.submoduleDiffCompareLinkText,expression:"submoduleDiffCompareLinkText"}],staticClass:"submodule-compare gl-inline-block",attrs:{title:e.$options.i18n.compareButtonLabel,"aria-label":e.$options.i18n.compareButtonLabel,href:e.diffFile.submodule_compare.url}})],1):e._e()])}),[],!1,null,null,null);t.a=E.exports},XoYy:function(e,t,i){"use strict";var n=i("XiQx"),s=i("Mq5L"),a=i("AxUD"),r=i("/lV4"),o=i("1cpz"),l=i("30su"),d=i("s1D3"),c={actionCancel:{text:Object(r.a)("Cancel")},i18n:{exportText:Object(r.a)("The CSV export will be created in the background. Once finished, it will be sent to %{email} in an attachment.")},components:{GlModal:o.a,GlSprintf:l.a,GlIcon:d.a},inject:{issuableType:{default:a.p},email:{default:""}},props:{exportCsvPath:{type:String,required:!0},issuableCount:{type:Number,required:!0},modalId:{type:String,required:!0}},computed:{actionPrimary(){return{text:this.exportText,attributes:{href:this.exportCsvPath,variant:"confirm","data-method":"post","data-testid":"export-issues-button","data-track-action":"click_button","data-track-label":this.dataTrackLabel}}},isIssue(){return this.issuableType===a.p},dataTrackLabel(){return this.isIssue?"export_issues_csv":"export_merge-requests_csv"},exportText(){return this.isIssue?Object(r.a)("Export issues"):Object(r.a)("Export merge requests")},issuableCountText(){return this.isIssue?Object(r.f)("1 issue selected","%d issues selected",this.issuableCount):Object(r.f)("1 merge request selected","%d merge requests selected",this.issuableCount)}}},u=i("tBpV"),p=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("gl-modal",{attrs:{"modal-id":e.modalId,"action-primary":e.actionPrimary,"action-cancel":e.$options.actionCancel,"body-class":"!gl-p-0",title:e.exportText,"data-testid":"export-issuable-modal"}},[t("div",{staticClass:"gl-items-center gl-justify-start gl-border-1 gl-border-subtle gl-p-4 gl-border-b-solid"},[t("gl-icon",{staticClass:"gl-color-green-400",attrs:{name:"check"}}),e._v(" "),t("strong",{staticClass:"gl-m-3"},[e._v(e._s(e.issuableCountText))])],1),e._v(" "),t("div",{staticClass:"modal-text gl-px-4 gl-py-5"},[t("gl-sprintf",{attrs:{message:e.$options.i18n.exportText},scopedSlots:e._u([{key:"email",fn:function(){return[t("strong",[e._v(e._s(e.email))])]},proxy:!0}])})],1)])}),[],!1,null,null,null).exports,h=i("l5WF"),m=i("Qhxq"),f={i18n:{maximumFileSizeText:Object(r.a)("The maximum file size allowed is %{size}."),importIssuesText:Object(r.a)("Import issues"),uploadCsvFileText:Object(r.a)("Upload CSV file"),mainText:Object(r.a)("Your issues will be imported in the background. Once finished, you'll get a confirmation email."),helpText:Object(r.a)("It must have a header row and at least two columns: the first column is the issue title and the second column is the issue description. The separator is automatically detected.")},actionPrimary:{text:Object(r.a)("Import issues")},actionCancel:{text:Object(r.a)("Cancel")},components:{GlModal:o.a,GlFormGroup:h.a},inject:{importCsvIssuesPath:{default:""},maxAttachmentSize:{default:0}},props:{modalId:{type:String,required:!0}},computed:{maxFileSizeText(){return Object(r.h)(this.$options.i18n.maximumFileSizeText,{size:this.maxAttachmentSize})}},methods:{submitForm(){this.$refs.form.submit()}},csrf:m.a},g=Object(u.a)(f,(function(){var e=this,t=e._self._c;return t("gl-modal",{attrs:{"modal-id":e.modalId,title:e.$options.i18n.importIssuesText,"action-primary":e.$options.actionPrimary,"action-cancel":e.$options.actionCancel},on:{primary:e.submitForm}},[t("form",{ref:"form",attrs:{action:e.importCsvIssuesPath,enctype:"multipart/form-data",method:"post"}},[t("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),t("p",[e._v(e._s(e.$options.i18n.mainText))]),e._v(" "),t("gl-form-group",{staticClass:"gl-truncate",attrs:{label:e.$options.i18n.uploadCsvFileText,"label-for":"file"}},[t("input",{attrs:{id:"file",type:"file",name:"file",accept:".csv,text/csv"}})]),e._v(" "),t("p",{staticClass:"gl-text-subtle"},[e._v("\n      "+e._s(e.$options.i18n.helpText)+"\n      "+e._s(e.maxFileSizeText)+"\n    ")])],1)])}),[],!1,null,null,null).exports,v={components:{GlDisclosureDropdownItem:n.b,CsvExportModal:p,CsvImportModal:g},directives:{GlModal:s.a},inject:{issuableType:{default:a.p},showExportButton:{default:!1},showImportButton:{default:!1},canEdit:{default:!1},projectImportJiraPath:{default:null}},props:{exportCsvPath:{type:String,required:!1,default:""},issuableCount:{type:Number,required:!1,default:void 0},trackImportClick:{type:Boolean,required:!1,default:null}},data(){return{dropdownItems:{exportAsCSV:{text:Object(r.a)("Export as CSV")},importCSV:{text:Object(r.a)("Import CSV")},importFromJIRA:{text:Object(r.a)("Import from Jira"),href:this.projectImportJiraPath}}}},computed:{exportModalId(){return this.issuableType+"-export-modal"},importModalId(){return this.issuableType+"-import-modal"}}},b=Object(u.a)(v,(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"gl-contents"},[e.showExportButton?t("gl-disclosure-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.exportModalId,expression:"exportModalId"}],attrs:{"data-testid":"export-as-csv-button",item:e.dropdownItems.exportAsCSV}}):e._e(),e._v(" "),e.showImportButton?t("gl-disclosure-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.importModalId,expression:"importModalId"}],attrs:{"data-testid":"import-from-csv-button",item:e.dropdownItems.importCSV}}):e._e(),e._v(" "),e.showImportButton&&e.canEdit?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"import-from-jira-link",item:e.dropdownItems.importFromJIRA}}):e._e(),e._v(" "),e.showExportButton?t("csv-export-modal",{attrs:{"modal-id":e.exportModalId,"export-csv-path":e.exportCsvPath,"issuable-count":e.issuableCount}}):e._e(),e._v(" "),e.showImportButton?t("csv-import-modal",{attrs:{"modal-id":e.importModalId}}):e._e()],1)}),[],!1,null,null,null);t.a=b.exports},YH60:function(e,t,i){"use strict";i.r(t);var n=i("W7Ty"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("UezY"),i("z6RN"),i("hG7+"),i("4lAS")),r=i("Bo17"),o=i("iN9h"),l=i("TU2v"),d=i("Pyw5"),c=i.n(d);const u={name:"GlAnimatedSmileIcon",extends:l.a};var p=c()({render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:this.iconStateClass,attrs:{"aria-label":this.ariaLabel,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{staticClass:"gl-animated-smile-eyes"},[t("circle",{attrs:{cy:"7",cx:"6",r:"0.5"}}),this._v(" "),t("circle",{attrs:{cy:"7",cx:"10",r:"0.5"}})]),this._v(" "),t("path",{staticClass:"gl-animated-smile-big-smile",attrs:{d:"M8 12C9.65685 12 11 10.6569 11 9H5C5 10.6569 6.34315 12 8 12Z",fill:"currentColor"}}),this._v(" "),t("path",{staticClass:"gl-animated-smile-slight-smile",attrs:{d:"M6.3 10C6.46667 10.3333 7 11 8 11C9 11 9.53333 10.3333 9.7 10",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}}),this._v(" "),t("circle",{attrs:{cx:"8",cy:"8",r:"7.25",stroke:"currentColor","stroke-width":"1.5"}})])},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0),h=i("z1xw"),m=i("T9Fk"),f=i.n(m),g=i("tDP3"),v=i("/lV4"),b=i("5yoc"),y=i("ehHk"),k=i("0AwG"),w={components:{GlButton:a.a},props:{emojis:{type:Array,required:!0},renderGroup:{type:Boolean,required:!0}},methods:{clickEmoji(e){this.$emit("emoji-click",e)}}},S=i("tBpV"),_=Object(S.a)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-mb-2 gl-flex gl-flex-wrap"},[e.renderGroup?e._l(e.emojis,(function(i){return t("gl-button",{key:i,staticClass:"emoji-picker-emoji",attrs:{type:"button",category:"tertiary","aria-label":i,"data-testid":"emoji-button","button-text-classes":"!gl-hidden"},on:{click:function(t){return e.clickEmoji(i)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.clickEmoji(i)}},scopedSlots:e._u([{key:"emoji",fn:function(){return[t("gl-emoji",{staticClass:"!gl-mr-0",attrs:{"data-name":i}})]},proxy:!0}],null,!0)})})):e._e()],2)}),[],!1,null,null,null).exports,I={components:{GlIntersectionObserver:y.a,EmojiGroup:_},props:{category:{type:String,required:!0},emojis:{type:Array,required:!0}},data:()=>({renderGroup:!1}),computed:{categoryTitle(){return Object(k.r)(this.category)}},methods:{categoryAppeared(){this.renderGroup=!0,this.$emit("appear",this.category)},onClick(e){this.$emit("click",{category:this.category,emoji:e})}}},T=Object(S.a)(I,(function(){var e=this,t=e._self._c;return t("gl-intersection-observer",{staticClass:"gl-h-full gl-px-4",on:{appear:e.categoryAppeared}},[t("div",{staticClass:"emoji-picker-category-header gl-top-0 gl-z-3 gl-w-full gl-py-3 gl-text-sm"},[t("b",[e._v(e._s(e.categoryTitle))])]),e._v(" "),e.emojis.length?e._l(e.emojis,(function(i,n){return t("emoji-group",{key:n,attrs:{emojis:i,"render-group":e.renderGroup},on:{"emoji-click":e.onClick}})})):t("p",[e._v("\n    "+e._s(e.s__("AwardEmoji|No emoji found."))+"\n  ")])],2)}),[],!1,null,null,null).exports,O=i("Am3t"),C=i.n(O),x=i("d+lS"),j=i.n(x),E=i("htNe"),D=i.n(E),N=(i("RFHG"),i("xuo1"),i("NmEs"));const A=function(e){return e*b.g+b.e},P=async function(){let e=localStorage.getItem(b.j);if(!e){const t=Object(N.j)(b.j);if(!t)return null;e=t,function(){const e=Object(N.j)(b.j);localStorage.setItem(b.j,e),Object(N.J)(b.j)}()}const t=[...(await Object(g.getEmojisForCategory)("custom")).map((function(e){return e.name})),...Object(g.getAllEmoji)().map((function(e){return e.n}))],i=C()(j()(e.split(",")).filter((function(e){return t.includes(e)})),9);return{frequently_used:{emojis:i,top:0,height:A(i.length)}}},F=D()((async function(){await Object(g.initEmojiMap)();const e=await Object(g.getEmojiCategoryMap)(),t=await P();let i=t?t.frequently_used.top+t.frequently_used.height:0;return Object.freeze(Object.keys(e).filter((function(t){return t!==b.k&&e[t].length})).reduce((function(t,n){const s=C()(e[n],b.f),a=A(s.length),r={...t,[n]:{emojis:s,height:a,top:i}};return i+=a,r}),t||{}))}));var L={props:{searchValue:{type:String,required:!0}},data:()=>({render:!1}),computed:{filteredCategories(){if(""!==this.searchValue){const e=C()(Object(g.searchEmoji)(this.searchValue).map((function({emoji:e}){return e.name})),b.f);return{search:{emojis:e,height:A(e.length)}}}return this.categories}},async mounted(){this.categories=await F(),this.render=!0}},R=Object(S.a)(L,(function(){var e=this._self._c;return this.render?e("div",[this._t("default",null,{filteredCategories:this.filteredCategories})],2):this._e()}),[],!1,null,null,null).exports,q={components:{GlButton:a.a,GlDisclosureDropdown:r.a,GlSearchBoxByType:o.a,GlAnimatedSmileIcon:p,VirtualList:f.a,Category:T,EmojiList:R},directives:{GlTooltip:h.a},inject:{newCustomEmojiPath:{default:""}},props:{toggleClass:{type:[Array,String,Object],required:!1,default:function(){return[]}},dropdownClass:{type:[Array,String,Object],required:!1,default:function(){return[]}},right:{type:Boolean,required:!1,default:!0}},data:()=>({isVisible:!1,isHovered:!1,isFocused:!1,currentCategory:0,searchValue:""}),computed:{categoryNames:()=>b.d.filter((function(e){return e===b.k?async function(){return null!==await P()}():"custom"!==e||!g.state.loading&&Object(g.getEmojiCategoryMap)().custom.length>0})).map((function(e){return{name:e,icon:b.c[e]}})),placement(){return this.right?"bottom-end":"bottom-start"},newCustomEmoji(){return{text:Object(v.a)("Create new emoji"),href:this.newCustomEmojiPath,extraAttrs:{"data-testid":"create-new-emoji"}}},smileIcon(){return this.isHovered||this.isFocused||this.isVisible}},methods:{categoryAppeared(e){this.currentCategory=e},async scrollToCategory(e){const t=await F(),{top:i}=t[e];this.$refs.virtualScoller.setScrollTop(i)},selectEmoji({category:e,emoji:t}){this.$emit("click",t),this.$refs.dropdown.close(),"custom"!==e&&function(e){const t=j()((localStorage.getItem(b.j)||Object(N.j)(b.j)||"").split(",").filter((function(e){return e})).concat(e));localStorage.setItem(b.j,t.join(","))}(t)},onSearchInput(){this.$refs.virtualScoller&&(this.$refs.virtualScoller.setScrollTop(0),this.$refs.virtualScoller.forceRender())},async onScroll(e,{offset:t}){const i=await F();this.currentCategory=s()(Object.values(i),(function({top:e}){return t>=e}))},onShow(){this.isVisible=!0,this.$emit("shown")},onHide(){this.isVisible=!1,this.currentCategory=0,this.searchValue="",this.$emit("hidden")},onButtonHovered(){this.isHovered=!0},onButtonHoverLeave(){this.isHovered=!1},onButtonFocused(){this.isFocused=!0},onButtonFocusLeave(){this.isFocused=!1}},i18n:{addReaction:Object(v.a)("Add reaction"),createEmoji:Object(v.a)("Create new emoji")}},$=Object(S.a)(q,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"emoji-picker"},[t("gl-disclosure-dropdown",{ref:"dropdown",class:e.dropdownClass,attrs:{placement:e.placement},on:{shown:e.onShow,hidden:e.onHide},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"add-reaction-button btn-icon gl-relative gl-h-full",class:[e.toggleClass,{"is-active":e.isVisible}],attrs:{title:e.$options.i18n.addReaction,"data-testid":"add-reaction-button"},on:{mouseover:e.onButtonHovered,mouseleave:e.onButtonHoverLeave,focusin:e.onButtonFocused,focusout:e.onButtonFocusLeave}},[e._t("button-content",(function(){return[t("gl-animated-smile-icon",{attrs:{"is-on":e.smileIcon}})]}))],2)]},proxy:!0},e.isVisible?{key:"header",fn:function(){return[t("gl-search-box-by-type",{ref:"searchValue",staticClass:"add-reaction-search gl-border-b-1 gl-border-b-dropdown gl-border-b-solid",attrs:{borderless:"",autofocus:"",debounce:"500","aria-label":e.__("Search for an emoji")},on:{input:e.onSearchInput},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})]},proxy:!0}:null,e.newCustomEmojiPath?{key:"footer",fn:function(){return[t("div",{staticClass:"gl-flex gl-flex-col gl-border-t-1 gl-border-t-dropdown !gl-p-2 !gl-pt-0 gl-border-t-solid"},[t("gl-button",{staticClass:"!gl-mt-2 !gl-justify-start",attrs:{href:e.newCustomEmojiPath,category:"tertiary",block:"","data-testid":"create-new-emoji"}},[e._v("\n          "+e._s(e.$options.i18n.createEmoji)+"\n        ")])],1)]},proxy:!0}:null],null,!0)},[e._v(" "),e._v(" "),e.isVisible?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchValue,expression:"!searchValue"}],staticClass:"gl-flex gl-border-b-1 gl-border-default gl-border-b-solid",attrs:{"data-testid":"category-buttons"}},e._l(e.categoryNames,(function(i,n){return t("gl-button",{key:i.name,staticClass:"emoji-picker-category-tab gl-grow !gl-rounded-none !gl-border-b-2 !gl-px-3 !gl-border-b-solid focus:!gl-shadow-none focus:!gl-outline focus:!gl-outline-2 focus:-gl-outline-offset-2 focus:!gl-outline-focus",class:{"emoji-picker-category-active":n===e.currentCategory},attrs:{category:"tertiary",icon:i.icon,"aria-label":i.name},on:{click:function(t){return e.scrollToCategory(i.name)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.scrollToCategory(i.name)}}})})),1):e._e(),e._v(" "),e.isVisible?t("emoji-list",{attrs:{"search-value":e.searchValue},scopedSlots:e._u([{key:"default",fn:function({filteredCategories:i}){return[t("virtual-list",{ref:"virtualScoller",attrs:{size:258,remain:1,bench:2,variable:"",onscroll:e.onScroll}},e._l(i,(function(i,n){return t("div",{key:n,style:{height:i.height+"px"}},[t("category",{attrs:{category:n,emojis:i.emojis},on:{click:e.selectEmoji}})],1)})),0)]}}],null,!1,3430614808)}):e._e()],1)],1)}),[],!1,null,null,null);t.default=$.exports},YRPa:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"k",(function(){return a})),i.d(t,"i",(function(){return r})),i.d(t,"f",(function(){return o})),i.d(t,"e",(function(){return l})),i.d(t,"j",(function(){return d})),i.d(t,"h",(function(){return c})),i.d(t,"g",(function(){return u})),i.d(t,"d",(function(){return p})),i.d(t,"n",(function(){return h})),i.d(t,"b",(function(){return m})),i.d(t,"m",(function(){return f})),i.d(t,"l",(function(){return g}));const n="ADD_NEW_DRAFT",s="DELETE_DRAFT",a="SET_BATCH_COMMENTS_DRAFTS",r="REQUEST_PUBLISH_DRAFT",o="RECEIVE_PUBLISH_DRAFT_SUCCESS",l="RECEIVE_PUBLISH_DRAFT_ERROR",d="REQUEST_PUBLISH_REVIEW",c="RECEIVE_PUBLISH_REVIEW_SUCCESS",u="RECEIVE_PUBLISH_REVIEW_ERROR",p="RECEIVE_DRAFT_UPDATE_SUCCESS",h="TOGGLE_RESOLVE_DISCUSSION",m="CLEAR_DRAFTS",f="SET_REVIEW_BAR_RENDERED",g="SET_DRAFT_EDITING"},YUwJ:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("9k56"),s=i("3hkr"),a=i("hII5"),r=i("X80m");const o=Object(a.c)(r.b,s.V),l=Object(n.c)({name:s.V,extends:r.a,props:o,computed:{tag:()=>"th"}})},Yp1f:function(e,t,i){"use strict";i.d(t,"a",(function(){return N}));var n=i("G3fq"),s=i.n(n),a=(i("B++/"),i("z6RN"),i("47t/"),i("UezY"),i("hG7+"),i("ZzK0"),i("BzOf"),i("v2fZ"),i("3UXl"),i("iyoE"),i("PxiM")),r=i.n(a),o=i("EmJ/"),l=i.n(o),d=i("u9fr"),c=i("3twG"),u=i("Tmea"),p=i.n(u);const h=[27,40];class m{constructor(e,t){var i=this;let n;this.input=e,this.options=t,this.clear=this.clear.bind(this),this.filterInputBlur=null==(n=this.options.filterInputBlur)||n;const s=this.input.parent(),a=s.find(".js-dropdown-input-clear"),r=p()((function(){return t.instance.dropdown.trigger("filtering.gl.dropdown"),s.parent().addClass("is-loading"),i.options.query(i.input.val(),(function(e){return t.instance.dropdown.trigger("done.filtering.gl.dropdown"),s.parent().removeClass("is-loading"),i.options.callback(e)}))}),500);a.on("click",this.clear),this.input.on("keydown",(function(e){13!==e.which||t.elIsInput||e.preventDefault()})).on("input",(function(){return""===i.input.val()||s.hasClass("has-value")?""===i.input.val()&&s.hasClass("has-value")&&s.removeClass("has-value"):s.addClass("has-value"),i.options.remote?r():i.filter(i.input.val())}))}static shouldBlur(e){return-1!==h.indexOf(e)}filter(e){var t=this;let i,n,s;this.options.onFilter&&this.options.onFilter(e);const a=this.options.data();if(null!=a&&!this.options.filterByText)return n=a,""!==e&&(Array.isArray(a)?n=r.a.filter(a,e,{key:this.options.keys}):Object(d.a)(a)&&(n={},Object.keys(a).forEach((function(o){i=a[o],s=r.a.filter(i,e,{key:t.options.keys}),s.length&&(n[o]=s.map((function(e){return e})))})))),this.options.callback(n);const o=this.options.elements();e?o.each((function(){const t=l()(this),i=r.a.match(t.text().trim(),e);t.is(".dropdown-header")||(i.length?t.show().removeClass("option-hidden"):t.hide().addClass("option-hidden"))})):o.show().removeClass("option-hidden"),o.parent().find(".dropdown-menu-empty-item").toggleClass("hidden",o.is(":visible"))}clear(e){""!==this.input.val()&&(e&&(e.preventDefault(),e.stopPropagation()),this.input.val("").trigger("input").focus())}}class f{constructor(e,t){var i=this;this.input=e,this.options=t,this.fieldName=this.options.fieldName||"field-name";this.input.parent().find(".js-dropdown-input-clear").on("click",(function(e){return e.preventDefault(),e.stopPropagation(),i.input.val("").trigger("input").focus()})),this.input.on("keydown",(function(e){13!==e.which||t.elIsInput||e.preventDefault()})).on("input",(function(e){let t=e.currentTarget.value||i.options.inputFieldName;t=t.split(" ").join("-").replace(/[^a-zA-Z0-9 -]/g,"").toLowerCase().replace(/(-)\1+/g,"-"),i.cb(i.options.fieldName,t,{},!0),i.input.closest(".dropdown").find(".dropdown-toggle-text").text(t)}))}onInput(e){this.cb=e}}var g=i("2ibD");class v{constructor(e,t){this.dataEndpoint=e,this.options=t}execute(){var e=this;return"string"==typeof this.dataEndpoint?this.fetchData():"function"==typeof this.dataEndpoint?(this.options.beforeSend&&this.options.beforeSend(),this.dataEndpoint("",(function(t){if(e.options.success&&e.options.success(t),e.options.beforeSend)return e.options.beforeSend()}))):void 0}fetchData(){var e=this;return this.options.beforeSend&&this.options.beforeSend(),g.a.get(this.dataEndpoint).then((function({data:t}){if(e.options.success)return e.options.success(t)}))}}i("RFHG"),i("xuo1"),i("eJ0a");var b=i("0AwG");const y={divider:e=>(e.classList.add("divider"),e),separator:e=>(e.classList.add("separator"),e),header:(e,t)=>(e.classList.add("dropdown-header"),e.innerHTML=t.content,e)};function k(e,t,i,n=""){let s;return s=null!=t[i]?t[i](e):null!=e[i]?e[i]:n,s}function w(e,t,i){return i.highlight?t.template?i.highlightTemplate(e,t.template):i.highlightText(e):e}function S(e,t,i){if(i.icon){const i=`<span>${e}</span>`;return t.icon?`${t.icon}${i}`:i}return e}function _(e,t){var i;if(!t.renderRow)return(i=t.id?t.id(e):e.id)?String(i).replace(/'/g,"\\'"):i}function I(e,t,i){const n=function(e,t){const i=k(e,t,"text");return[w,S].reduce((function(i,n){return n(i,e,t)}),i)}(t,i);return i.icon||i.highlight?e.innerHTML=n:e.textContent=n,e}function T(e,t,{options:i,group:n,index:s}){const a=function(e,t,i,n){const s=document.createElement("a");return s.href=k(e,i,"url","#"),i.icon&&s.classList.add("gl-flex","align-items-center"),i.trackSuggestionClickedLabel&&(s.dataset.trackAction="click_text",s.dataset.trackLabel=i.trackSuggestionClickedLabel,s.dataset.trackValue=n,s.dataset.trackProperty=Object(b.x)(e.category||"no-category")),s.classList.toggle("is-active",t),s}(t,function(e,t){const i=_(e,t);return t.parent?i?null!=t.parent.querySelector(`input[name='${t.fieldName}'][value='${i}']`):null==t.parent.querySelector(`input[name='${t.fieldName}']`):!e.id}(t,i),i,s);return I(a,t,i),n&&(a.dataset.group=n,a.dataset.index=s),e.appendChild(a),e}function O({data:e,...t}){const i=function(e,t){return y[e.type]||function({options:e,instance:t}){return e.renderRow&&function(i,n,s){return e.renderRow(n,t,s)}}(t)||T}(e,t),n=document.createElement("li");return function(e,{options:t}){const i=_(e,t);return t.hideRow&&t.hideRow(i)}(e,t)&&(n.style.display="none"),i(n,e,t)}let C=-1;const x=".dropdown-content li:not(.divider, .separator, .dropdown-header, .dropdown-menu-empty-item, .option-hidden)";let j=!1,E=null,D=null;class N{constructor(e,t){var i=this;let n,s;this.el=e,this.options=t,this.updateLabel=this.updateLabel.bind(this),this.opened=this.opened.bind(this),this.hide=this.hide.bind(this),this.hidden=this.hidden.bind(this),this.shouldPropagate=this.shouldPropagate.bind(this),j||(document.addEventListener("mousedown",(function({target:e}){E=e})),document.addEventListener("mouseup",(function({target:e}){D=e})),document.addEventListener("click",(function(){E=null,D=null})),j=!0),s=this,n=l()(this.el).data("target"),this.dropdown=null!=n?l()(n):l()(this.el).parent(),this.filterInput=this.options.filterInput||this.getElement(".dropdown-input .dropdown-input-field:not(.dropdown-no-filter)"),this.noFilterInput=this.options.noFilterInput||this.getElement(".dropdown-input .dropdown-input-field.dropdown-no-filter"),this.highlight=Boolean(this.options.highlight),this.icon=Boolean(this.options.icon),this.filterInputBlur=null==this.options.filterInputBlur||this.options.filterInputBlur,s=this,"string"==typeof this.filterInput&&(this.filterInput=this.getElement(this.filterInput));const a=this.options.search?this.options.search.fields:[];this.options.data&&("object"!=typeof this.options.data||this.options.data instanceof Function?this.remote=new v(this.options.data,{dataType:this.options.dataType,beforeSend:this.toggleLoading.bind(this),success:function(e){if(i.dropdown.trigger("done.remote.loading.gl.dropdown"),i.fullData=e,i.parseData(i.fullData),i.focusTextInput(),i.dropdown.find(".dropdown-menu-toggle").dropdown("update"),i.options.filterable&&i.filter&&i.filter.input&&i.filter.input.val()&&""!==i.filter.input.val().trim())return i.filter.input.trigger("input")},instance:this}):(this.fullData=this.options.data,C=-1,this.parseData(this.options.data),this.focusTextInput())),this.noFilterInput.length&&(this.plainInput=new f(this.noFilterInput,this.options),this.plainInput.onInput(this.addInput.bind(this))),this.options.filterable&&(this.filter=new m(this.filterInput,{elIsInput:l()(this.el).is("input"),filterInputBlur:this.filterInputBlur,filterByText:this.options.filterByText,onFilter:this.options.onFilter,remote:this.options.filterRemote,query:this.options.data,keys:a,instance:this,elements:function(){return n=".dropdown-content li:not(.divider, .separator, .dropdown-header, .dropdown-menu-empty-item)",i.dropdown.find(".dropdown-toggle-page").length&&(n=".dropdown-page-one "+n),l()(n,i.dropdown)},data:function(){return i.fullData},callback:function(e){i.parseData(e),""!==i.filterInput.val()&&(n=x,i.dropdown.find(".dropdown-toggle-page").length&&(n=".dropdown-page-one "+n),l()(i.el).is("input")?C=-1:(l()(n,i.dropdown).first().find("a").addClass("is-focused"),C=0))}})),this.dropdown.on("shown.bs.dropdown",this.opened),this.dropdown.on("hide.bs.dropdown",this.hide),this.dropdown.on("hidden.bs.dropdown",this.hidden),l()(this.el).on("update.label",this.updateLabel),this.dropdown.on("click",".dropdown-menu, .dropdown-menu-close",this.shouldPropagate),this.dropdown.on("keyup",(function(e){if(27===e.which)return l()(".dropdown-menu-close",i.dropdown).trigger("click")})),this.dropdown.on("blur","a",(function(e){let t,n;if(null!=e.relatedTarget&&(n=l()(e.relatedTarget),t=n.closest(".dropdown-menu"),0===t.length))return i.dropdown.removeClass("show")})),this.dropdown.find(".dropdown-toggle-page").length&&this.dropdown.find(".dropdown-toggle-page, .dropdown-menu-back").on("click",(function(e){return e.preventDefault(),e.stopPropagation(),i.togglePage()})),this.options.selectable&&(n=".dropdown-content a",this.dropdown.find(".dropdown-toggle-page").length&&(n=".dropdown-page-one .dropdown-content a"),this.dropdown.on("click",n,(function(e){const t=l()(e.currentTarget),n=s.rowClicked(t),a=n?n[0]:null,r=n?n[1]:null;i.options.clicked&&i.options.clicked.call(i,{selectedObj:a,$el:t,e:e,isMarking:r}),i.options.toggleLabel&&i.updateLabel(a,t,i),t.trigger("blur")})))}getElement(e){return this.dropdown.find(e)}toggleLoading(){const e=this.dropdown[0].querySelector(".dropdown-menu"),t=e.classList.contains("is-loading");this.dropdown.trigger(`toggle.${t?"off":"on"}.loading.gl.dropdown`),e.classList.toggle("is-loading")}togglePage(){const e=l()(".dropdown-menu",this.dropdown);return e.hasClass("is-page-two")&&this.remote&&this.remote.execute(),e.toggleClass("is-page-two"),this.dropdown.find('[class^="dropdown-page-"]:visible :text:visible:first').focus()}parseData(e){var t=this;let i,n;this.renderedData=e,this.options.filterable&&0===e.length?n=[this.noResults()]:Object(d.a)(e)?(n=[],Object.keys(e).forEach((function(s){i=e[s],n.push(t.renderItem({content:s,type:"header"},s)),t.renderData(i,s).map((function(e){return n.push(e)}))}))):n=this.renderData(e);const s=this.renderMenu(n);return this.appendMenu(s)}renderData(e,t){var i=this;return e.map((function(e,n){return i.renderItem(e,t||!1,n)}))}shouldPropagate(e){let t;if(this.options.multiSelect||!1===this.options.shouldPropagate)return t=l()(e.target),!(!(!t||t.hasClass("dropdown-menu-close")||t.hasClass("dropdown-menu-close-icon")||t.is("use")||t.data("isLink"))&&(e.stopPropagation(),t.closest("a").length))}filteredFullData(){return this.fullData.filter((function(e){return"object"==typeof e&&!Object.prototype.hasOwnProperty.call(e,"beforeDivider")&&!Object.prototype.hasOwnProperty.call(e,"header")}))}opened(e){this.resetRows(),this.addArrowKeyEvent();const t=this.dropdown.find(".dropdown-menu-toggle"),i=t.hasClass("js-filter-bulk-update"),n=t.hasClass("js-gl-dropdown-refresh-on-open"),s=t.hasClass("js-multiselect");this.fullData&&(n||i)&&this.parseData(this.fullData);const a=this.filterInput.val();this.fullData&&s&&this.options.processData&&0===a.length&&this.options.processData.call(this.options,a,this.filteredFullData(),this.parseData.bind(this));const r=l()(".dropdown-content",this.dropdown).html();return this.remote&&""===r?this.remote.execute():this.focusTextInput(),this.options.showMenuAbove&&this.positionMenuAbove(),this.options.opened&&(this.options.preserveContext?this.options.opened(e):this.options.opened.call(this,e)),this.dropdown.trigger("shown.gl.dropdown")}positionMenuAbove(){const e=this.dropdown.find(".dropdown-menu");e.addClass("dropdown-open-top"),e.css("top","initial"),e.css("bottom","100%")}hide(e){if(this.options.search&&E){const t=function(e,t){return Boolean(t.has(e).length)},i=this.dropdown.find(".dropdown-menu"),n=t(E,i),s=!t(D,i);n&&s&&e.preventDefault()}}hidden(e){this.resetRows(),this.removeArrowKeyEvent();const t=this.dropdown.find(".dropdown-input-field");return this.options.filterable&&t.blur(),this.dropdown.find(".dropdown-toggle-page").length&&l()(".dropdown-menu",this.dropdown).removeClass("is-page-two"),this.options.hidden&&this.options.hidden.call(this,e),this.dropdown.trigger("hidden.gl.dropdown")}renderMenu(e){return this.options.renderMenu?this.options.renderMenu(e):l()("<ul>").append(e)}appendMenu(e){return this.clearMenu().append(e)}clearMenu(){let e=".dropdown-content";return this.dropdown.find(".dropdown-toggle-page").length&&(e=this.options.containerSelector?this.options.containerSelector:".dropdown-page-one .dropdown-content"),l()(e,this.dropdown).empty()}renderItem(e,t,i){var n=this;let s;return this.dropdown&&this.dropdown[0]&&(s=this.dropdown[0].parentNode),O({instance:this,options:{...this.options,icon:this.icon,highlight:this.highlight,highlightText:function(e){return n.highlightTextMatches(e,n.filterInput.val())},highlightTemplate:this.highlightTemplate.bind(this),parent:s},data:e,group:t,index:i})}highlightTemplate(e,t){return`"<b>${s()(e)}</b>" ${t}`}highlightTextMatches(e,t){const i=r.a.match(e,t),{indexOf:n}=[];return e.split("").map((function(e,t){return-1!==n.call(i,t)?`<b>${e}</b>`:e})).join("")}noResults(){return'<li class="dropdown-menu-empty-item"><a>No matching results</a></li>'}rowClicked(e){let t,i,n,s,a;const{fieldName:r}=this.options,o=l()(this.el).is("input");if(this.renderedData&&(i=e.data("group"),i?(n=e.data("index"),this.selectedIndex=n,s=this.renderedData[i][n]):(n=e.closest("li").index(),this.selectedIndex=n,s=this.renderedData[n])),this.options.vue)return e.hasClass("is-active")?e.removeClass("is-active"):e.addClass("is-active"),[s];t=[];const d=this.options.id?this.options.id(s,e):s.id;return o?t=l()(this.el):null!=d&&(t=this.dropdown.parent().find(`input[name='${r}'][value='${d.toString().replace(/'/g,"\\'")}']`)),this.options.isSelectable&&!this.options.isSelectable(s,e)?[s]:(e.hasClass("is-active")&&0!==d?(a=!1,e.removeClass("is-active"),t&&t.length&&this.clearField(t,o)):e.hasClass("is-indeterminate")?(a=!0,e.addClass("is-active"),e.removeClass("is-indeterminate"),t&&t.length&&null==d&&this.clearField(t,o),t&&t.length||!r||this.addInput(r,d,s)):(a=!0,this.options.multiSelect&&!e.hasClass("dropdown-clear-active")||(this.dropdown.find(".is-active").removeClass("is-active"),o||this.dropdown.parent().find(`input[name='${r}']`).remove()),t&&t.length&&null==d&&this.clearField(t,o),e.addClass("is-active"),null!=d&&(t&&t.length||!r?t&&t.length&&t.val(d).trigger("change"):this.addInput(r,d,s))),[s,a])}focusTextInput(){if(this.options.filterable){const e=l()(window).scrollTop();this.dropdown.is(".show")&&!this.filterInput.is(":focus")&&this.filterInput.focus(),l()(window).scrollTop()<e&&l()(window).scrollTop(e)}}addInput(e,t,i,n){n&&l()(`input[name="${e}"]`).remove();const s=l()("<input>").attr("type","hidden").attr("name",e).val(t);null!=this.options.inputId&&s.attr("id",this.options.inputId),this.options.multiSelect&&Object.keys(i).forEach((function(e){s.attr("data-"+e,i[e])})),this.options.inputMeta&&s.attr("data-meta",i[this.options.inputMeta]),this.dropdown.before(s).trigger("change")}selectRowAtIndex(e){let t;t=void 0!==e?`${x}:eq(${e}) a`:".dropdown-content .is-focused",this.dropdown.find(".dropdown-toggle-page").length&&(t=".dropdown-page-one "+t);const i=l()(t,this.dropdown);if(i.length){const e=i.attr("href");e&&"#"!==e?Object(c.R)(e):i.trigger("click")}}addArrowKeyEvent(){var e=this;const t=[38,40];let i=x;return this.dropdown.find(".dropdown-toggle-page").length&&(i=".dropdown-page-one "+i),l()("body").on("keydown",(function(n){let s,a;const r=n.which;if(-1!==t.indexOf(r))return n.preventDefault(),n.stopImmediatePropagation(),a=C,s=l()(i,e.dropdown),40===r?C<s.length-1&&(C+=1):38===r&&C>0&&(C-=1),C!==a&&e.highlightRowAtIndex(s,C),!1;13===r&&-1!==C&&(n.preventDefault(),e.selectRowAtIndex())}))}removeArrowKeyEvent(){return l()("body").off("keydown")}resetRows(){C=-1,l()(".is-focused",this.dropdown).removeClass("is-focused")}highlightRowAtIndex(e,t){e||(e=l()(x,this.dropdown)),l()(".is-focused",this.dropdown).removeClass("is-focused");const i=e.eq(t);i.find("a:first-child").addClass("is-focused");const n=i.closest(".dropdown-content"),s=n.scrollTop(),a=n.outerHeight(),r=n.prop("offsetTop"),o=r+a,d=i.outerHeight(),c=i.prop("offsetTop"),u=c+d;if(t){if(t===e.length-1)n.scrollTop(n.prop("scrollHeight"));else if(u>o+s)n.scrollTop(u-o+5);else if(c<r+s)return n.scrollTop(c-r-5)}else n.scrollTop(0)}updateLabel(e=null,t=null,i=null){let n=this.options.toggleLabel(e,t,i);return this.options.updateLabel&&(n=this.options.updateLabel),l()(this.el).find(".dropdown-toggle-text").text(n)}clearField(e,t){return t?e.val(""):e.remove()}close(){this.dropdown.find(".dropdown-menu-toggle").dropdown("hide")}}},YqVM:function(e,t,i){var n=i("nHTl"),s=i("dA+0");e.exports=function(e,t){return e&&e.length?s(e,n(t,2)):[]}},Yy82:function(e,t,i){"use strict";var n=i("fG1K"),s=i.n(n),a=i("MV2A"),r=i("FkSe"),o=i("znvU"),l=i("0AwG"),d=i("3twG"),c=i("/lV4"),u=i("2+u0");const p=["iid","title","severity","status","startedAt","eventCount","monitoringTool","service","description","endedAt","details","hosts","environment"];var h={components:{GlLink:a.a,GlLoadingIcon:r.a,GlTable:o.a},props:{alert:{type:Object,required:!1,default:null},loading:{type:Boolean,required:!0},statuses:{type:Object,required:!1,default:function(){return u.a.OPERATIONS.STATUSES}}},fields:[{key:"fieldName",label:Object(c.g)("AlertManagement|Key"),formatter:function(e){return Object(l.f)(Object(l.i)(Object(l.z)(e)))}},{key:"value",thClass:"w-60p",label:Object(c.g)("AlertManagement|Value")}],computed:{items(){var e=this;return this.alert?s()(this.alert,(function(t,i,n){if(e.isAllowed(n)){let s;return s="environment"===n?null==i?void 0:i.name:"status"===n&&e.statuses[i]||i,[...t,{fieldName:n,value:s}]}return t}),[]):[]}},methods:{isAllowed:e=>p.includes(e),isValidLink:e=>"string"==typeof e&&Object(d.z)(e)}},m=i("tBpV"),f=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("gl-table",{staticClass:"alert-management-details-table",attrs:{busy:e.loading,"empty-text":e.s__("AlertManagement|No alert data to display."),items:e.items,fields:e.$options.fields,"show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[t("gl-loading-icon",{staticClass:"gl-mt-5",attrs:{size:"lg",color:"dark"}})]},proxy:!0},{key:"cell(value)",fn:function({item:{value:i}}){return[e.isValidLink(i)?t("gl-link",{attrs:{href:i,target:"_blank"}},[e._v("\n      "+e._s(i)+"\n    ")]):t("span",[e._v(e._s(i))])]}}])})}),[],!1,null,null,null);t.a=f.exports},Z0DX:function(e,t){e.exports=function(e){return null===e}},Z5en:function(e,t,i){"use strict";var n=i("1fc5"),s=i("4lAS"),a=i("crTv"),r=i("/lV4"),o=i("Rcnk"),l=i("7KAB"),d={name:"CommentTypeDropdown",i18n:{...o.a,toggleSrText:Object(r.a)("Comment type")},components:{GlButtonGroup:n.a,GlButton:s.a,GlCollapsibleListbox:a.a},model:{prop:"noteType",event:"change"},props:{disabled:{type:Boolean,required:!1,default:!1},trackingLabel:{type:String,required:!1,default:void 0},discussionsRequireResolution:{type:Boolean,required:!1,default:!1},isInternalNote:{type:Boolean,required:!1,default:!1},noteableDisplayName:{type:String,required:!0},noteType:{type:String,required:!0},isReviewDropdown:{type:Boolean,required:!1,default:!1}},computed:{isNoteTypeComment(){return this.noteType===l.COMMENT},isNoteTypeDiscussion(){return this.noteType===l.DISCUSSION},dropdownCommentButtonTitle(){const{comment:e,internalComment:t}=this.$options.i18n.submitButton;return this.isInternalNote?t:e},dropdownStartThreadButtonTitle(){const{startThread:e,startInternalThread:t}=this.$options.i18n.submitButton;return this.isInternalNote?t:e},commentButtonTitle(){const{comment:e,internalComment:t,startThread:i,startInternalThread:n}=this.$options.i18n,{saveThread:s,saveComment:a}=this.$options.i18n.addToReviewButton;return this.isInternalNote?this.noteType===l.COMMENT?t:n:this.isReviewDropdown?this.noteType===l.COMMENT?a:s:this.noteType===l.COMMENT?e:i},startDiscussionDescription(){const{discussionThatNeedsResolution:e,internalDiscussionThatNeedsResolution:t,discussion:i,internalDiscussion:n}=this.$options.i18n;return this.isInternalNote?this.discussionsRequireResolution?t:n:this.discussionsRequireResolution?e:i},commentDescription(){const{commentHelp:e,internalCommentHelp:t}=this.$options.i18n.submitButton;return Object(r.h)(this.isInternalNote?t:e,{noteableDisplayName:this.noteableDisplayName})},dropdownItems(){return[{text:this.dropdownCommentButtonTitle,description:this.commentDescription,value:l.COMMENT},{text:this.dropdownStartThreadButtonTitle,description:this.startDiscussionDescription,value:l.DISCUSSION,testid:"discussion-menu-item"}]}},methods:{handleClick(){this.$emit("click")},setNoteType(e){this.$emit("change",e)}}},c=i("tBpV"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("gl-button-group",{staticClass:"js-comment-button js-comment-submit-button comment-type-dropdown gl-mb-3 gl-w-full sm:gl-mb-0 sm:gl-w-auto",attrs:{"data-track-label":e.trackingLabel,"data-track-action":"click_button","data-testid":"comment-button"}},[t("gl-button",{attrs:{type:"submit",variant:"confirm",disabled:e.disabled},on:{click:e.handleClick}},[e._v("\n    "+e._s(e.commentButtonTitle)+"\n  ")]),e._v(" "),t("gl-collapsible-listbox",{attrs:{variant:"confirm","text-sr-only":"","toggle-text":e.$options.i18n.toggleSrText,disabled:e.disabled,items:e.dropdownItems,selected:e.noteType},on:{select:e.setNoteType},scopedSlots:e._u([{key:"list-item",fn:function({item:i}){return[t("div",{attrs:{"data-testid":i.testid}},[t("strong",[e._v(e._s(i.text))]),e._v(" "),t("p",{staticClass:"gl-m-0"},[e._v(e._s(i.description))])])]}}])})],1)}),[],!1,null,null,null);t.a=u.exports},ZHzM:function(e,t,i){"use strict";var n=i("mFhR"),s=i("z1xw"),a=i("FxFN"),r={name:"UserAvatarLinkNew",components:{UserAvatarImage:i("+kWK").a,GlAvatarLink:n.a},directives:{GlTooltip:s.a},props:{lazy:{type:Boolean,required:!1,default:!1},linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgCssWrapperClasses:{type:String,required:!1,default:""},imgSize:{type:[Number,Object],required:!0},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},popoverUserId:{type:[String,Number],required:!1,default:""},popoverUsername:{type:String,required:!1,default:""},username:{type:String,required:!1,default:""}},computed:{userId(){return Object(a.e)(this.popoverUserId)},shouldShowUsername(){return this.username.length>0},avatarTooltipText(){return this.popoverUserId||this.shouldShowUsername?"":this.tooltipText}}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("gl-avatar-link",{staticClass:"user-avatar-link js-user-link",attrs:{href:e.linkHref,"data-user-id":e.userId,"data-username":e.popoverUsername},on:{click:function(e){e.stopPropagation()}}},[t("user-avatar-image",{class:e.imgCssWrapperClasses,attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement,lazy:e.lazy}},[e._t("default")],2),e._v(" "),e.shouldShowUsername?t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-ml-1",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement,"data-testid":"user-avatar-link-username"}},[e._v("\n    "+e._s(e.username)+"\n  ")]):e._e(),e._v(" "),e._t("avatar-badge")],2)}),[],!1,null,null,null);t.a=l.exports},ZIW3:function(e,t,i){"use strict";var n=i("Tmea"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("UezY"),i("z6RN"),i("hG7+"),i("XHA1")),r=i.n(a),o=i("FxFN"),l=i("jlnU"),d=i("sHIo"),c=i("AxUD"),u=i("/lV4"),p=i("d08M"),h=i("wQDE"),m=i("D+x4"),f=i("d6eQ"),g=i("kMc5"),v=i("DVFT"),b=i("4lAS"),y=i("Yyc1"),k=i("wP8z"),w=i("MV2A"),S=i("GuZl"),_=i("LWzu"),I=i("FkSe"),T=i("ehHk"),O=i("PxiM"),C=i.n(O),x=i("+C8Q"),j={components:{GlDropdownItem:k.a,GlLoadingIcon:I.a,GlIntersectionObserver:T.a,LabelItem:x.a},model:{prop:"localSelectedLabels"},props:{allowMultiselect:{type:Boolean,required:!0},localSelectedLabels:{type:Array,required:!0},fullPath:{type:String,required:!0},searchKey:{type:String,required:!0},workspaceType:{type:String,required:!0}},data:()=>({labels:[],isVisible:!1}),apollo:{labels:{query(){return f.r[this.workspaceType].query},variables(){return{fullPath:this.fullPath,searchTerm:this.searchKey}},skip(){return 1===this.searchKey.length||!this.isVisible},update:function(e){var t;return(null===(t=e.workspace)||void 0===t||null===(t=t.labels)||void 0===t?void 0:t.nodes)||[]},error(){Object(l.createAlert)({message:Object(u.a)("Error fetching labels.")})}}},computed:{labelsFetchInProgress(){return this.$apollo.queries.labels.loading},localSelectedLabelsIds(){return this.localSelectedLabels.map((function(e){return Object(o.e)(e.id)}))},visibleLabels(){return this.searchKey?C.a.filter(this.labels,this.searchKey,{key:["title"]}):this.labels},showNoMatchingResultsMessage(){return Boolean(this.searchKey)&&0===this.visibleLabels.length},shouldHighlightFirstItem(){return""!==this.searchKey&&this.visibleLabels.length>0}},methods:{isLabelSelected(e){return this.localSelectedLabelsIds.includes(Object(o.e)(e.id))},scrollIntoViewIfNeeded(){const e=this.$refs.labelsListContainer.querySelector(".is-focused");if(e){const t=this.$refs.labelsListContainer.getBoundingClientRect(),i=e.getBoundingClientRect();i.bottom>t.bottom?this.$refs.labelsListContainer.scrollTop+=i.bottom-t.bottom:i.top<t.top&&(this.$refs.labelsListContainer.scrollTop-=t.top-i.top)}},updateSelectedLabels(e){let t;t=this.isLabelSelected(e)?this.localSelectedLabels.filter((function({id:t}){return t!==Object(o.e)(e.id)&&t!==e.id})):[...this.localSelectedLabels,e],this.$emit("input",t)},handleLabelClick(e){this.updateSelectedLabels(e),this.allowMultiselect||this.$emit("closeDropdown",this.localSelectedLabels)},onDropdownAppear(){this.isVisible=!0},selectFirstItem(){this.shouldHighlightFirstItem&&this.handleLabelClick(this.visibleLabels[0])},handleFocus(e,t){var i;0===t&&e.target.classList.contains("is-focused")&&(e.target.classList.remove("is-focused"),null!==(i=e.target.parentNode)&&void 0!==i&&null!==(i=i.nextElementSibling)&&void 0!==i&&i.querySelector("button")&&e.target.parentNode.nextElementSibling.querySelector("button").focus())}}},E=i("tBpV"),D=Object(E.a)(j,(function(){var e=this,t=e._self._c;return t("gl-intersection-observer",{on:{appear:e.onDropdownAppear}},[t("div",{staticClass:"js-labels-list"},[t("div",{ref:"labelsListContainer",attrs:{"data-testid":"dropdown-content"}},[e.labelsFetchInProgress?t("gl-loading-icon",{staticClass:"labels-fetch-loading gl-mb-3 gl-h-full gl-w-full gl-items-center",attrs:{size:"sm"}}):[e._l(e.visibleLabels,(function(i,n){return t("gl-dropdown-item",{key:i.id,attrs:{"is-checked":e.isLabelSelected(i),"is-check-item":"",active:e.shouldHighlightFirstItem&&0===n,"active-class":"is-focused","data-testid":"labels-list"},nativeOn:{"!focus":function(t){return e.handleFocus(t,n)},"!click":function(t){return t.stopPropagation(),e.handleLabelClick(i)}}},[t("label-item",{attrs:{label:i}})],1)})),e._v(" "),t("gl-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.showNoMatchingResultsMessage,expression:"showNoMatchingResultsMessage"}],staticClass:"gl-p-3 gl-text-center",attrs:{"data-testid":"no-results"}},[e._v("\n          "+e._s(e.__("No matching results"))+"\n        ")])]],2)])])}),[],!1,null,null,null).exports,N=i("50mh"),A=i("6UTF");const P=function(e){return e===v.e},F=function(e){return e===v.f},L=function(e){return e===v.d};var R={components:{DropdownContentsLabelsView:D,DropdownContentsCreateView:_.a,DropdownHeader:A.a,DropdownFooter:N.a,GlButton:b.a,GlDropdown:y.a,GlDropdownItem:k.a,GlLink:w.a},inject:{toggleAttrs:{default:function(){return{}}}},props:{labelsCreateTitle:{type:String,required:!0},selectedLabels:{type:Array,required:!0},allowMultiselect:{type:Boolean,required:!0},labelsListTitle:{type:String,required:!0},dropdownButtonText:{type:String,required:!0},footerCreateLabelTitle:{type:String,required:!0},footerManageLabelTitle:{type:String,required:!0},variant:{type:String,required:!0},isVisible:{type:Boolean,required:!1,default:!1},fullPath:{type:String,required:!0},workspaceType:{type:String,required:!0},attrWorkspacePath:{type:String,required:!0},labelCreateType:{type:String,required:!0}},data(){return{showDropdownContentsCreateView:!1,localSelectedLabels:[...this.selectedLabels],isDirty:!1,searchKey:""}},computed:{dropdownContentsView(){return this.showDropdownContentsCreateView?"dropdown-contents-create-view":"dropdown-contents-labels-view"},dropdownTitle(){return this.showDropdownContentsCreateView?this.labelsCreateTitle:this.labelsListTitle},buttonText(){return this.localSelectedLabels.length?this.localSelectedLabels.length>1?Object(u.h)(Object(u.g)("LabelSelect|%{firstLabelName} +%{remainingLabelCount} more"),{firstLabelName:this.localSelectedLabels[0].title,remainingLabelCount:this.localSelectedLabels.length-1}):this.localSelectedLabels[0].title:this.dropdownButtonText||Object(u.a)("Label")},showDropdownFooter(){return!this.showDropdownContentsCreateView&&!this.isStandalone},isStandalone(){return F(this.variant)},isSidebar(){return P(this.variant)}},watch:{localSelectedLabels:{handler(){this.isDirty=!0},deep:!0},isVisible(e){e?(this.$refs.dropdown.show(),this.isDirty=!1,this.localSelectedLabels=this.selectedLabels):(this.$refs.dropdown.hide(),this.setLabels())},selectedLabels(e){this.isDirty&&this.isSidebar||(this.localSelectedLabels=e)}},created(){this.debouncedSearchKeyUpdate=s()(this.setSearchKey,S.g)},beforeDestroy(){this.debouncedSearchKeyUpdate.cancel()},methods:{toggleDropdownContentsCreateView(){this.showDropdownContentsCreateView=!this.showDropdownContentsCreateView},toggleDropdownContent(){var e;this.toggleDropdownContentsCreateView(),null!==(e=this.$refs.dropdown)&&void 0!==e&&e.$refs.dropdown&&this.$refs.dropdown.$refs.dropdown.$_popper.scheduleUpdate()},setLabels(){this.isDirty&&this.$emit("setLabels",this.localSelectedLabels)},handleDropdownHide(){this.$emit("closeDropdown"),this.isSidebar||this.setLabels()},setSearchKey(e){this.searchKey=e},setFocus(){this.$refs.header.focusInput()},hideDropdown(){this.$refs.dropdown.hide()},showDropdown(){this.$refs.dropdown.show()},clearSearch(){this.allowMultiselect&&!this.isStandalone&&(this.searchKey="",this.setFocus())},selectFirstItem(){this.$refs.dropdownContentsView.selectFirstItem()},handleNewLabel(e){this.localSelectedLabels=[...this.localSelectedLabels,e],this.toggleDropdownContent(),this.clearSearch()}}},q=Object(E.a)(R,(function(){var e=this,t=e._self._c;return t("gl-dropdown",{ref:"dropdown",attrs:{text:e.buttonText,block:"","data-testid":"labels-select-dropdown-contents","toggle-attrs":e.toggleAttrs},on:{hide:e.handleDropdownHide,shown:e.setFocus},scopedSlots:e._u([{key:"header",fn:function(){return[t("dropdown-header",{ref:"header",attrs:{"search-key":e.searchKey,"labels-create-title":e.labelsCreateTitle,"labels-list-title":e.labelsListTitle,"show-dropdown-contents-create-view":e.showDropdownContentsCreateView,"is-standalone":e.isStandalone},on:{toggleDropdownContentsCreateView:e.toggleDropdownContent,closeDropdown:e.hideDropdown,input:e.debouncedSearchKeyUpdate,searchEnter:function(t){return t.preventDefault(),e.selectFirstItem.apply(null,arguments)}}})]},proxy:!0},{key:"default",fn:function(){return[t(e.dropdownContentsView,{ref:"dropdownContentsView",tag:"component",attrs:{"search-key":e.searchKey,"allow-multiselect":e.allowMultiselect,"full-path":e.fullPath,"workspace-type":e.workspaceType,"attr-workspace-path":e.attrWorkspacePath,"label-create-type":e.labelCreateType},on:{hideCreateView:e.toggleDropdownContent,labelCreated:e.handleNewLabel,input:e.clearSearch},model:{value:e.localSelectedLabels,callback:function(t){e.localSelectedLabels=t},expression:"localSelectedLabels"}})]},proxy:!0},{key:"footer",fn:function(){return[e.showDropdownFooter?t("dropdown-footer",{attrs:{"footer-create-label-title":e.footerCreateLabelTitle,"footer-manage-label-title":e.footerManageLabelTitle},on:{toggleDropdownContentsCreateView:e.toggleDropdownContent}}):e._e()]},proxy:!0}])})}),[],!1,null,null,null).exports,$=i("pEyj"),B=i("TKCn"),M=i.n(B),V=i("jl6Z"),U=i("NmEs"),G={components:{GlLabel:V.a},inject:["allowScopedLabels"],props:{disabled:{type:Boolean,required:!1,default:!1},selectedLabels:{type:Array,required:!0},allowLabelRemove:{type:Boolean,required:!0},supportsLockOnMerge:{type:Boolean,required:!1,default:!1},labelsFilterBasePath:{type:String,required:!0},labelsFilterParam:{type:String,required:!0}},computed:{sortedSelectedLabels(){return M()(this.selectedLabels,(function(e){return Object(U.E)(e)}))}},methods:{buildFilterUrl({title:e}){const{labelsFilterBasePath:t,labelsFilterParam:i}=this;return`${t}?${i}[]=${encodeURIComponent(e)}`},scopedLabel(e){return this.allowScopedLabels&&Object(U.E)(e)},isLabelLocked(e){return e.lock_on_merge&&this.supportsLockOnMerge},showCloseButton(e){return this.allowLabelRemove&&!this.isLabelLocked(e)},removeLabel(e){this.$emit("onLabelRemove",e)}}},W=Object(E.a)(G,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-mt-3",attrs:{"data-testid":"embedded-labels-list"}},e._l(e.sortedSelectedLabels,(function(i){return t("gl-label",{key:i.id,staticClass:"gl-mb-2 gl-mr-2",attrs:{"data-qa-label-name":i.title,title:i.title,description:i.description,"background-color":i.color,target:e.buildFilterUrl(i),scoped:e.scopedLabel(i),"show-close-button":e.showCloseButton(i),disabled:e.disabled,"tooltip-placement":"top"},on:{close:function(t){return e.removeLabel(i.id)}}})})),1)}),[],!1,null,null,null).exports,H={components:{DropdownValue:$.a,DropdownContents:q,EmbeddedLabelsList:W,SidebarEditableItem:g.a},mixins:[Object(d.a)()],inject:{allowLabelEdit:{default:!1}},props:{iid:{type:String,required:!1,default:""},fullPath:{type:String,required:!0},allowLabelRemove:{type:Boolean,required:!1,default:!1},allowMultiselect:{type:Boolean,required:!1,default:!1},showEmbeddedLabelsList:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:v.e},labelsFilterBasePath:{type:String,required:!1,default:""},labelsFilterParam:{type:String,required:!1,default:"label_name"},dropdownButtonText:{type:String,required:!1,default:Object(u.a)("Label")},labelsListTitle:{type:String,required:!1,default:Object(u.a)("Select labels")},labelsCreateTitle:{type:String,required:!1,default:Object(u.a)("Create group label")},footerCreateLabelTitle:{type:String,required:!1,default:Object(u.a)("Create group label")},footerManageLabelTitle:{type:String,required:!1,default:Object(u.a)("Manage group labels")},issuableType:{type:String,required:!0},issuableSupportsLockOnMerge:{type:Boolean,required:!1,default:!1},workspaceType:{type:String,required:!0},attrWorkspacePath:{type:String,required:!0},labelCreateType:{type:String,required:!0},selectedLabels:{type:Array,required:!1,default:function(){return[]}}},data:()=>({contentIsOnViewport:!0,issuable:null,labelsSelectInProgress:!1,oldIid:null,sidebarExpandedOnClick:!1}),computed:{isLoading(){return this.labelsSelectInProgress||this.$apollo.queries.issuable.loading},issuableLabelIds(){return this.issuableLabels.map((function(e){return e.id}))},issuableLabels(){var e;return""!==this.iid?(null===(e=this.issuable)||void 0===e?void 0:e.labels.nodes)||[]:this.selectedLabels||[]},issuableId(){var e;return null===(e=this.issuable)||void 0===e?void 0:e.id},isRealtimeEnabled(){return this.glFeatures.realtimeLabels},isLabelListEnabled(){return this.showEmbeddedLabelsList&&L(this.variant)},isLockOnMergeSupported(){var e;return this.issuableSupportsLockOnMerge||(null===(e=this.issuable)||void 0===e?void 0:e.supportsLockOnMerge)},labelShortcutDescription:()=>Object(h.b)()?null:p.G.description,labelShortcutKey:()=>Object(h.b)()?null:Object(p.Ab)(p.G)[0],labelTooltip(){const e=this.labelShortcutDescription,t=this.labelShortcutKey;return Object(h.b)()?null:Object(m.b)(`${e} <kbd class="flat gl-ml-1" aria-hidden=true>${t}</kbd>`)}},apollo:{issuable:{query(){return f.g[this.issuableType].issuableQuery},skip(){return!P(this.variant)||!this.iid},variables(){const e={iid:this.iid,fullPath:this.fullPath};return this.issuableType===c.s&&(e.types=["TEST_CASE"]),e},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},error(){Object(l.createAlert)({message:Object(u.a)("Error fetching labels.")})},subscribeToMore:{document:()=>r.a,variables(){return{issuableId:this.issuableId}},skip(){return!this.issuableId||!this.isDropdownVariantSidebar},updateQuery(e,{subscriptionData:{data:{issuableLabelsUpdated:t}}}){if(t){const{id:e,labels:{nodes:i}}=t;this.$emit("updateSelectedLabels",{id:e,labels:i})}}}}},watch:{iid(e,t){this.oldIid=t}},mounted(){document.addEventListener("toggleSidebarRevealLabelsDropdown",this.handleCollapsedValueClick)},beforeDestroy(){document.removeEventListener("toggleSidebarRevealLabelsDropdown",this.handleCollapsedValueClick)},methods:{handleDropdownClose(e){""!==this.iid?this.updateSelectedLabels(this.getUpdateVariables(e)):this.$emit("updateSelectedLabels",{labels:e}),this.collapseEditableItem()},collapseEditableItem(){var e;null===(e=this.$refs.editable)||void 0===e||e.collapse(),this.sidebarExpandedOnClick&&(this.sidebarExpandedOnClick=!1,this.$emit("toggleCollapse"))},handleCollapsedValueClick(){var e=this;this.sidebarExpandedOnClick=!0,this.$emit("toggleCollapse"),s()((function(){e.$refs.editable.toggle(),e.$refs.dropdownContents.showDropdown()}),v.a)()},getUpdateVariables(e){let t=[];t=e.map((function({id:e}){return e}));const i=this.oldIid||this.iid,n={iid:i,projectPath:this.fullPath,labelIds:t};switch(this.issuableType){case c.p:case c.s:return n;case c.q:return{...n,operationMode:o.g.replace};case c.n:return{iid:i,groupPath:this.fullPath,addLabelIds:t.map((function(e){return Object(o.e)(e)})),removeLabelIds:this.issuableLabelIds.filter((function(e){return!t.includes(e)})).map((function(e){return Object(o.e)(e)}))};default:return{}}},updateSelectedLabels(e){var t=this;this.labelsSelectInProgress=!0,this.$apollo.mutate({mutation:f.g[this.issuableType].mutation,variables:{input:e}}).then((function({data:e}){var i,n,s;if(null!==(i=e.updateIssuableLabels)&&void 0!==i&&null!==(i=i.errors)&&void 0!==i&&i.length)throw new Error;t.$emit("updateSelectedLabels",{id:null===(n=e.updateIssuableLabels)||void 0===n||null===(n=n.issuable)||void 0===n?void 0:n.id,labels:null===(s=e.updateIssuableLabels)||void 0===s||null===(s=s.issuable)||void 0===s||null===(s=s.labels)||void 0===s?void 0:s.nodes})})).catch((function(e){return Object(l.createAlert)({message:Object(u.a)("An error occurred while updating labels."),captureError:!0,error:e})})).finally((function(){t.labelsSelectInProgress=!1}))},getRemoveVariables(e){const t={iid:this.iid,projectPath:this.fullPath};switch(this.issuableType){case c.p:case c.s:return{...t,removeLabelIds:[e]};case c.q:return{...t,labelIds:[e],operationMode:o.g.remove};case c.n:return{iid:this.iid,removeLabelIds:[Object(o.e)(e)],groupPath:this.fullPath};default:return{}}},handleLabelRemove(e){""!==this.iid&&this.updateSelectedLabels(this.getRemoveVariables(e)),this.$emit("onLabelRemove",e)},isDropdownVariantSidebar:P,isDropdownVariantStandalone:F,isDropdownVariantEmbedded:L}},z=Object(E.a)(H,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"labels-select-wrapper gl-relative",class:{"is-standalone":e.isDropdownVariantStandalone(e.variant),"is-embedded":e.isDropdownVariantEmbedded(e.variant)},attrs:{"data-testid":"sidebar-labels"}},[e.isDropdownVariantSidebar(e.variant)?[t("sidebar-editable-item",{ref:"editable",attrs:{title:e.__("Labels"),"edit-tooltip":e.labelTooltip,"edit-aria-label":e.labelShortcutDescription,"edit-keyshortcuts":e.labelShortcutKey,loading:e.isLoading,"can-edit":e.allowLabelEdit},on:{open:function(t){e.oldIid=null}},scopedSlots:e._u([{key:"collapsed",fn:function(){return[t("dropdown-value",{staticClass:"gl-pt-2",attrs:{"disable-labels":e.labelsSelectInProgress,"selected-labels":e.issuableLabels,"allow-label-remove":e.allowLabelRemove,"supports-lock-on-merge":e.isLockOnMergeSupported,"labels-filter-base-path":e.labelsFilterBasePath,"labels-filter-param":e.labelsFilterParam},on:{onLabelRemove:e.handleLabelRemove,onCollapsedValueClick:e.handleCollapsedValueClick}},[e._t("default")],2)]},proxy:!0},{key:"default",fn:function({edit:i}){return[t("dropdown-value",{staticClass:"gl-mb-2",attrs:{"disable-labels":e.labelsSelectInProgress,"selected-labels":e.issuableLabels,"allow-label-remove":e.allowLabelRemove,"supports-lock-on-merge":e.isLockOnMergeSupported,"labels-filter-base-path":e.labelsFilterBasePath,"labels-filter-param":e.labelsFilterParam},on:{onLabelRemove:e.handleLabelRemove}},[e._t("default")],2),e._v(" "),t("dropdown-contents",{ref:"dropdownContents",staticClass:"gl-mt-3 gl-w-full",attrs:{"dropdown-button-text":e.dropdownButtonText,"allow-multiselect":e.allowMultiselect,"labels-list-title":e.labelsListTitle,"footer-create-label-title":e.footerCreateLabelTitle,"footer-manage-label-title":e.footerManageLabelTitle,"labels-create-title":e.labelsCreateTitle,"selected-labels":e.issuableLabels,variant:e.variant,"is-visible":i,"full-path":e.fullPath,"workspace-type":e.workspaceType,"attr-workspace-path":e.attrWorkspacePath,"label-create-type":e.labelCreateType},on:{setLabels:e.handleDropdownClose,closeDropdown:e.collapseEditableItem}})]}}],null,!0)})]:[t("dropdown-contents",{ref:"dropdownContents",staticClass:"issuable-form-select-holder",attrs:{"dropdown-button-text":e.dropdownButtonText,"allow-multiselect":e.allowMultiselect,"labels-list-title":e.labelsListTitle,"footer-create-label-title":e.footerCreateLabelTitle,"footer-manage-label-title":e.footerManageLabelTitle,"labels-create-title":e.labelsCreateTitle,"selected-labels":e.issuableLabels,variant:e.variant,"full-path":e.fullPath,"workspace-type":e.workspaceType,"attr-workspace-path":e.attrWorkspacePath,"label-create-type":e.labelCreateType},on:{setLabels:e.handleDropdownClose}}),e._v(" "),e.isLabelListEnabled?t("embedded-labels-list",{attrs:{disabled:e.labelsSelectInProgress,"selected-labels":e.issuableLabels,"allow-label-remove":e.allowLabelRemove,"supports-lock-on-merge":e.isLockOnMergeSupported,"labels-filter-base-path":e.labelsFilterBasePath,"labels-filter-param":e.labelsFilterParam},on:{onLabelRemove:e.handleLabelRemove}}):e._e()]],2)}),[],!1,null,null,null);t.a=z.exports},ZlTH:function(e,t,i){"use strict";var n=i("G3fq"),s=i.n(n),a=i("30su"),r=i("mFhR"),o=i("tbP8"),l=i("yi8e"),d=i("FxFN"),c=i("Mp8J"),u=i("ejAS"),p=i("pIt4"),h=i("jlnU"),m=i("QwBj"),f=i("HiWv"),g=i("0AwG"),v=i("OgyL"),b=i("/lV4"),y=i("EJYk"),k=i("e2M3"),w=i("J7NB"),S=i("byjy"),_=i("G/dv"),I=i("STGD"),T=i("z3Iu"),O=(i("aFm2"),i("z6RN"),i("R9qC"),i("UezY"),i("hG7+"),i("v2fZ"),i("3UXl"),i("iyoE"),i("4lAS")),C=i("Bo17"),x=i("XiQx"),j=i("fSQg"),E=i("z1xw"),D=i("qPgm"),N=i("CUaz"),A=i("AxUD"),P=i("AMrI"),F=i("sHIo"),L=i("VXIO"),R=i("OLW6"),q={i18n:{buttonText:Object(b.a)("Add comment to incident timeline"),addError:Object(b.a)("Error promoting the note to timeline event: %{error}"),addGenericError:Object(b.a)("Something went wrong while promoting the note to timeline event.")},components:{GlButton:O.a},directives:{GlTooltip:E.a},props:{noteId:{type:[String,Number],required:!0},isPromotionInProgress:{type:Boolean,required:!1,default:!1}},methods:{handleButtonClick(){this.$emit("click-promote-comment-to-event",{noteId:this.noteId,addError:this.$options.i18n.addError,addGenericError:this.$options.i18n.addGenericError})}}},$=i("tBpV"),B=Object($.a)(q,(function(){var e=this._self._c;return e("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:this.$options.i18n.buttonText}},[e("gl-button",{attrs:{category:"tertiary",icon:"clock","aria-label":this.$options.i18n.buttonText,disabled:this.isPromotionInProgress},on:{click:this.handleButtonClick}})],1)}),[],!1,null,null,null).exports,M={i18n:{editCommentLabel:Object(b.a)("Edit comment"),deleteCommentLabel:Object(b.a)("Delete comment"),moreActionsLabel:Object(b.a)("More actions"),reportAbuse:Object(b.a)("Report abuse")},name:"NoteActions",components:{AbuseCategorySelector:L.a,EmojiPicker:function(){return Promise.resolve().then(i.bind(null,"YH60"))},GlButton:O.a,GlDisclosureDropdown:C.a,GlDisclosureDropdownItem:x.b,GlDisclosureDropdownGroup:j.a,ReplyButton:R.a,TimelineEventButton:B,UserAccessRoleBadge:P.a},directives:{GlTooltip:E.a},mixins:[N.a,Object(F.a)()],props:{author:{type:Object,required:!0},authorId:{type:Number,required:!0},noteId:{type:[String,Number],required:!0},noteUrl:{type:String,required:!1,default:""},accessLevel:{type:String,required:!1,default:""},isAuthor:{type:Boolean,required:!1,default:!1},isContributor:{type:Boolean,required:!1,default:!1},noteableType:{type:String,required:!1,default:""},projectName:{type:String,required:!1,default:""},showReply:{type:Boolean,required:!0},canEdit:{type:Boolean,required:!1,default:!1},canAwardEmoji:{type:Boolean,required:!1,default:!1},canDelete:{type:Boolean,required:!1,default:!1},canResolve:{type:Boolean,required:!1,default:!1},resolvable:{type:Boolean,required:!1,default:!1},isResolved:{type:Boolean,required:!1,default:!1},isResolving:{type:Boolean,required:!1,default:!1},resolvedBy:{type:Object,required:!1,default:function(){return{}}},canReportAsAbuse:{type:Boolean,required:!0},awardPath:{type:String,required:!1,default:""}},data:()=>({isReportAbuseDrawerOpen:!1}),computed:{...Object(l.f)(["isPromoteCommentToTimelineEventInProgress"]),...Object(l.d)(["getUserDataByProp","getNoteableData","canUserAddIncidentTimelineEvents"]),shouldShowActionsDropdown(){return this.currentUserId},showDeleteAction(){return this.canDelete&&!this.canReportAsAbuse&&!this.noteUrl},currentUserId(){return this.getUserDataByProp("id")},isUserAssigned(){var e=this;return this.assignees&&this.assignees.some((function({id:t}){return t===e.author.id}))},displayAssignUserText(){return this.isUserAssigned?Object(b.a)("Unassign from commenting user"):Object(b.a)("Assign to commenting user")},targetType(){return this.getNoteableData.targetType},noteableDisplayName(){return Object(g.z)(this.noteableType).toLowerCase()},assignees(){return this.getNoteableData.assignees||[]},isIssue(){return this.targetType===A.p},canAssign(){var e;return(null===(e=this.getNoteableData.current_user)||void 0===e?void 0:e.can_set_issue_metadata)&&this.isIssue},displayAuthorBadgeText(){return Object(b.h)(Object(b.a)("This user is the author of this %{noteable}."),{noteable:this.noteableDisplayName})},displayMemberBadgeText(){return Object(b.h)(Object(b.a)("This user has the %{access} role in the %{name} project."),{access:this.accessLevel.toLowerCase(),name:this.projectName})},displayContributorBadgeText(){return Object(b.h)(Object(b.a)("This user has previously committed to the %{name} project."),{name:this.projectName})},resolveIcon(){return this.isResolving?null:this.isResolved?"check-circle-filled":"check-circle"}},methods:{...Object(l.c)(["toggleAwardRequest","promoteCommentToTimelineEvent"]),onEdit(){this.$emit("handleEdit")},onDelete(){this.$emit("handleDelete")},onResolve(){this.$emit("handleResolve")},onAbuse(){this.toggleReportAbuseDrawer(!0)},onCopyUrl(){this.$toast.show(Object(b.a)("Link copied to clipboard."))},handleAssigneeUpdate(e){this.$emit("updateAssignees",e)},assignUser(){var e=this;let{assignees:t}=this;const{project_id:i,iid:n}=this.getNoteableData;this.isUserAssigned?t=t.filter((function(t){return t.id!==e.author.id})):t.push({id:this.author.id}),this.targetType===A.p&&D.b.updateIssue(i,n,{assignee_ids:t.map((function(e){return e.id}))}).then((function(){return e.handleAssigneeUpdate(t)})).catch((function(){return Object(h.createAlert)({message:Object(b.a)("Something went wrong while updating assignees")})}))},setAwardEmoji(e){this.toggleAwardRequest({endpoint:this.awardPath,noteId:this.noteId,awardName:e})},toggleReportAbuseDrawer(e){this.isReportAbuseDrawerOpen=e}}},V=Object($.a)(M,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"note-actions"},[e.isAuthor?t("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3 gl-hidden sm:gl-block",attrs:{title:e.displayAuthorBadgeText}},[e._v("\n    "+e._s(e.__("Author"))+"\n  ")]):e._e(),e._v(" "),e.accessLevel?t("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3 gl-hidden sm:gl-block",attrs:{title:e.displayMemberBadgeText}},[e._v("\n    "+e._s(e.accessLevel)+"\n  ")]):e.isContributor?t("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-3 gl-hidden sm:gl-block",attrs:{title:e.displayContributorBadgeText}},[e._v("\n    "+e._s(e.__("Contributor"))+"\n  ")]):e._e(),e._v(" "),t("span",{staticClass:"note-actions__mobile-spacer"}),e._v(" "),e.canResolve?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"resolveButton",staticClass:"note-action-button",class:{"!gl-text-success":e.isResolved},attrs:{"data-testid":"resolve-line-button",category:"tertiary",title:e.resolveButtonTitle,"aria-label":e.resolveButtonTitle,icon:e.resolveIcon,loading:e.isResolving},on:{click:e.onResolve}}):e._e(),e._v(" "),e.canUserAddIncidentTimelineEvents?t("timeline-event-button",{attrs:{"note-id":e.noteId,"is-promotion-in-progress":e.isPromoteCommentToTimelineEventInProgress},on:{"click-promote-comment-to-event":e.promoteCommentToTimelineEvent}}):e._e(),e._v(" "),e.canAwardEmoji?t("emoji-picker",{attrs:{"toggle-class":"add-reaction-button btn-default-tertiary","data-testid":"note-emoji-button"},on:{click:e.setAwardEmoji}}):e._e(),e._v(" "),e.showReply?t("reply-button",{ref:"replyButton",staticClass:"js-reply-button",on:{startReplying:function(t){return e.$emit("startReplying")}}}):e._e(),e._v(" "),e.canEdit?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-edit",attrs:{title:e.$options.i18n.editCommentLabel,"aria-label":e.$options.i18n.editCommentLabel,icon:"pencil",category:"tertiary","data-testid":"note-edit-button"},on:{click:e.onEdit}}):e._e(),e._v(" "),e.showDeleteAction?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-delete",attrs:{title:e.$options.i18n.deleteCommentLabel,"aria-label":e.$options.i18n.deleteCommentLabel,icon:"remove",category:"tertiary"},on:{click:e.onDelete}}):e.shouldShowActionsDropdown?t("div",{staticClass:"more-actions dropdown"},[t("gl-disclosure-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button more-actions-toggle",attrs:{title:e.$options.i18n.moreActionsLabel,"toggle-text":e.$options.i18n.moreActionsLabel,"text-sr-only":"",icon:"ellipsis_v",category:"tertiary",placement:"bottom-end","no-caret":""}},[e.noteUrl?t("gl-disclosure-dropdown-item",{staticClass:"js-btn-copy-note-link",attrs:{"data-clipboard-text":e.noteUrl},on:{action:e.onCopyUrl},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v("\n          "+e._s(e.__("Copy link"))+"\n        ")]},proxy:!0}],null,!1,618784014)}):e._e(),e._v(" "),e.canAssign?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"assign-user"},on:{action:e.assignUser},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v("\n          "+e._s(e.displayAssignUserText)+"\n        ")]},proxy:!0}],null,!1,3812251101)}):e._e(),e._v(" "),e.canReportAsAbuse||e.canEdit?t("gl-disclosure-dropdown-group",{attrs:{bordered:""}},[e.canReportAsAbuse?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"report-abuse-button"},on:{action:e.onAbuse},scopedSlots:e._u([{key:"list-item",fn:function(){return[e._v("\n            "+e._s(e.$options.i18n.reportAbuse)+"\n          ")]},proxy:!0}],null,!1,3009725790)}):e._e(),e._v(" "),e.canEdit?t("gl-disclosure-dropdown-item",{staticClass:"js-note-delete",on:{action:e.onDelete},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("span",{staticClass:"gl-text-danger"},[e._v(e._s(e.__("Delete comment")))])]},proxy:!0}],null,!1,1412744113)}):e._e()],1):e._e()],1)],1):e._e(),e._v(" "),e.canReportAsAbuse&&e.isReportAbuseDrawerOpen?t("abuse-category-selector",{attrs:{"reported-user-id":e.authorId,"reported-from-url":e.noteUrl,"show-drawer":e.isReportAbuseDrawerOpen},on:{"close-drawer":function(t){return e.toggleReportAbuseDrawer(!1)}}}):e._e()],1)}),[],!1,null,null,null).exports,U=i("KAYR"),G={name:"NoteAttachment",components:{GlIcon:i("s1D3").a},props:{attachment:{type:Object,required:!0}}},W=Object($.a)(G,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"note-attachment"},[e.attachment.image?t("a",{ref:"attachmentImage",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[t("img",{staticClass:"note-image-attach col-lg-4",attrs:{src:e.attachment.url}})]):e._e(),e._v(" "),t("div",{staticClass:"attachment"},[e.attachment.url?t("a",{ref:"attachmentUrl",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[t("gl-icon",{attrs:{name:"paperclip"}}),e._v(" "+e._s(e.attachment.filename)+"\n    ")],1):e._e()])])}),[],!1,null,null,null).exports,H={components:{AwardsList:i("NbhA").a},props:{awards:{type:Array,required:!0},toggleAwardPath:{type:String,required:!0},noteAuthorId:{type:Number,required:!0},noteId:{type:String,required:!0},canAwardEmoji:{type:Boolean,required:!0}},computed:{...Object(l.d)(["getUserData"]),isAuthoredByMe(){return this.noteAuthorId===this.getUserData.id}},methods:{...Object(l.c)(["toggleAwardRequest"]),handleAward(e){const t={endpoint:this.toggleAwardPath,noteId:this.noteId,awardName:e};this.toggleAwardRequest(t).catch((function(){return Object(h.createAlert)({message:Object(b.a)("Something went wrong on our end.")})}))}}},z=Object($.a)(H,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"note-awards"},[t("awards-list",{attrs:{awards:e.awards,"can-award-emoji":e.canAwardEmoji,"current-user-id":e.getUserData.id},on:{award:function(t){return e.handleAward(t)}}})],1)}),[],!1,null,null,null).exports,K=i("c82y"),Q=i("OsT7"),Y={components:{NoteEditedText:K.a,NoteAwardsList:z,NoteAttachment:W,NoteForm:Q.a,Suggestions:U.a,DuoCodeReviewFeedback:function(){return Promise.resolve().then(i.bind(null,"4b03"))}},directives:{SafeHtml:c.a},props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},file:{type:Object,required:!1,default:null},canEdit:{type:Boolean,required:!0},isEditing:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},autosaveKey:{type:String,required:!1,default:""},restoreFromAutosave:{type:Boolean,required:!1,default:!1}},computed:{...Object(l.d)(["getDiscussion","suggestionsCount","getSuggestionsFilePaths"]),...Object(l.d)("diffs",["suggestionCommitMessage"]),...Object(l.f)({batchSuggestionsInfo:function(e){return e.notes.batchSuggestionsInfo},failedToLoadMetadata:function(e){return e.page.failedToLoadMetadata}}),discussion(){return this.note.isDraft?this.getDiscussion(this.note.discussion_id):{}},noteBody(){return this.note.note},saveButtonTitle(){return this.note.internal?Object(b.a)("Save internal note"):Object(b.a)("Save comment")},hasSuggestion(){return this.note.suggestions&&this.note.suggestions.length},lineType(){return this.line?this.line.type:null},commitMessage(){const e=this.batchSuggestionsInfo.length||1,t=this.getSuggestionsFilePaths(),i=t.length?t:[this.file.file_path],n=i.length,a=Object(b.a)("Co-authored-by: ..."),r=this.suggestionCommitMessage({file_paths:i.join(", "),suggestions_count:e,files_count:n,co_authored_by:a});return s()(r)}},mounted(){this.renderGFM()},updated(){this.renderGFM()},methods:{...Object(l.c)(["submitSuggestion","submitSuggestionBatch","addSuggestionInfoToBatch","removeSuggestionInfoFromBatch"]),renderGFM(){Object(y.a)(this.$refs["note-body"])},handleFormUpdate(e,t,i,n){this.$emit("handleFormUpdate",{noteText:e,parentElement:t,callback:i,resolveDiscussion:n})},formCancelHandler(e,t){this.$emit("cancelForm",{shouldConfirm:e,isDirty:t})},applySuggestion({suggestionId:e,flashContainer:t,callback:i=function(){},message:n}){const{discussion_id:s,id:a}=this.note;return this.submitSuggestion({discussionId:s,noteId:a,suggestionId:e,flashContainer:t,message:n}).then(i)},applySuggestionBatch({message:e,flashContainer:t}){return this.submitSuggestionBatch({message:e,flashContainer:t})},addSuggestionToBatch(e){const{discussion_id:t,id:i}=this.note;this.addSuggestionInfoToBatch({suggestionId:e,discussionId:t,noteId:i})},removeSuggestionFromBatch(e){this.removeSuggestionInfoFromBatch(e)}},safeHtmlConfig:{ADD_TAGS:["use","gl-emoji","copy-code"]}},J=Object($.a)(Y,(function(){var e=this,t=e._self._c;return t("div",{ref:"note-body",staticClass:"note-body",class:{"js-task-list-container":e.canEdit}},[e.hasSuggestion&&!e.isEditing?t("suggestions",{attrs:{suggestions:e.note.suggestions,"suggestions-count":e.suggestionsCount,"batch-suggestions-info":e.batchSuggestionsInfo,"note-html":e.note.note_html,"line-type":e.lineType,"help-page-path":e.helpPagePath,"default-commit-message":e.commitMessage,"failed-to-load-metadata":e.failedToLoadMetadata},on:{apply:e.applySuggestion,applyBatch:e.applySuggestionBatch,addToBatch:e.addSuggestionToBatch,removeFromBatch:e.removeSuggestionFromBatch}}):t("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.note.note_html,expression:"note.note_html",arg:e.$options.safeHtmlConfig}],staticClass:"note-text md"}),e._v(" "),"duo_code_review_bot"===e.note.author.user_type&&"DiffNote"!==e.note.type?t("duo-code-review-feedback",{staticClass:"gl-mt-3",attrs:{"data-testid":"code-review-feedback"}}):e._e(),e._v(" "),e.isEditing?t("note-form",{ref:"noteForm",attrs:{"note-body":e.noteBody,"note-id":e.note.id,line:e.line,note:e.note,"diff-file":e.file,"save-button-title":e.saveButtonTitle,"help-page-path":e.helpPagePath,discussion:e.discussion,"resolve-discussion":e.note.resolve_discussion,"autosave-key":e.autosaveKey,"restore-from-autosave":e.restoreFromAutosave},on:{handleFormUpdate:e.handleFormUpdate,cancelForm:e.formCancelHandler}}):e._e(),e._v(" "),e.canEdit?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note.note,expression:"note.note"}],staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.note.path,dir:"auto"},domProps:{value:e.note.note},on:{input:function(t){t.target.composing||e.$set(e.note,"note",t.target.value)}}}):e._e(),e._v(" "),e.note.last_edited_at?t("note-edited-text",{staticClass:"note_edited_ago",attrs:{"edited-at":e.note.last_edited_at,"edited-by":e.note.last_edited_by,"action-text":e.__("Edited")}}):e._e(),e._v(" "),e.note.award_emoji&&e.note.award_emoji.length?t("note-awards-list",{attrs:{"note-id":e.note.id,"note-author-id":e.note.author.id,awards:e.note.award_emoji,"toggle-award-path":e.note.toggle_award_path,"can-award-emoji":e.note.current_user.can_award_emoji}}):e._e(),e._v(" "),e.note.attachment?t("note-attachment",{attrs:{attachment:e.note.attachment}}):e._e()],1)}),[],!1,null,null,null).exports,X=i("TNeE"),Z={name:"NoteableNote",components:{GlSprintf:a.a,NoteHeader:X.a,NoteActions:V,NoteBody:J,TimelineEntryItem:v.a,GlAvatarLink:r.a,GlAvatar:o.a},directives:{SafeHtml:c.a},mixins:[S.a,_.a],inject:{reportAbusePath:{default:""}},props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},discussionFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},commit:{type:Object,required:!1,default:function(){return null}},showReplyButton:{type:Boolean,required:!1,default:!1},diffLines:{type:Array,required:!1,default:null},discussionRoot:{type:Boolean,required:!1,default:!1},discussionResolvePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1},shouldScrollToNote:{type:Boolean,required:!1,default:!0},discussion:{type:Object,required:!1,default:null},autosaveKey:{type:String,required:!1,default:""},restoreFromAutosave:{type:Boolean,required:!1,default:!1}},data:()=>({isEditingLocal:!1,isDeleting:!1,isRequesting:!1,isResolving:!1,commentLineStart:{},resolveAsThread:!0}),computed:{...Object(l.d)("diffs",["getDiffFileByHash"]),...Object(l.d)(["targetNoteHash","getNoteableData","getUserData","commentsDisabled"]),isEditing:{get(){var e;return null!==(e=this.note.isEditing)&&void 0!==e?e:this.isEditingLocal},set(e){this.isEditingLocal=e,e?this.$emit("handleEdit"):this.$emit("cancelForm")}},author(){return this.note.author},authorId(){return Object(d.e)(this.author.id)},commentType(){return this.note.internal?Object(b.a)("internal note"):Object(b.a)("comment")},classNameBindings(){return{["note-row-"+this.note.id]:!0,"is-editing":this.isEditing&&!this.isRequesting,"is-requesting being-posted":this.isRequesting,"disabled-content":this.isDeleting,target:this.isTarget,"is-editable":this.canEdit}},canAwardEmoji(){var e,t;return null!==(e=null===(t=this.note.current_user)||void 0===t?void 0:t.can_award_emoji)&&void 0!==e&&e},canEdit(){var e,t;return null!==(e=null===(t=this.note.current_user)||void 0===t?void 0:t.can_edit)&&void 0!==e&&e},canReportAsAbuse(){return Boolean(this.reportAbusePath)&&this.authorId!==this.getUserData.id},noteAnchorId(){return"note_"+this.note.id},isTarget(){return this.targetNoteHash===this.noteAnchorId},discussionId(){return this.discussion?this.discussion.id:""},actionText(){if(!this.commit)return"";const{id:e,url:t}=this.commit,i=`<a class="commit-sha monospace" href="${s()(t)}">${Object(g.E)(e)}</a>`;return Object(b.h)(Object(b.g)("MergeRequests|commented on commit %{commitLink}"),{commitLink:i},!1)},isDraft(){return this.note.isDraft},canResolve(){var e;return!!this.discussionRoot&&(!!this.note.resolvable&&(null===(e=this.note.current_user)||void 0===e?void 0:e.can_resolve_discussion))},lineRange(){var e;return null===(e=this.note.position)||void 0===e?void 0:e.line_range},startLineNumber(){return Object(T.f)(this.lineRange)},endLineNumber(){return Object(T.d)(this.lineRange)},showMultiLineComment(){return!(!this.discussionRoot||0===this.startLineNumber.length||0===this.endLineNumber.length)&&(this.line&&this.startLineNumber!==this.endLineNumber)},commentLineOptions(){const e=this.diffFile[p.I].length;return Object(T.a)(e,this.commentLineStart,this.line.line_code)},diffFile(){let e;if(this.commentLineStart.line_code){const t=this.commentLineStart.line_code.split("_")[0];e=this.getDiffFileByHash(t)}return!e&&this.discussionFile&&(e=this.discussionFile),e||null},isMRDiffView(){var e;const t="file"===(null===(e=this.note.position)||void 0===e?void 0:e.position_type);return!this.isOverviewTab&&(this.line||t)}},created(){var e,t=this;const i=(null===(e=this.note.position)||void 0===e||null===(e=e.line_range)||void 0===e?void 0:e.start)||this.line;this.commentLineStart=i?{line_code:i.line_code,type:i.type,old_line:i.old_line,new_line:i.new_line}:{},w.a.$on("enterEditMode",(function({noteId:e}){e===t.note.id&&(t.isEditing=!0,t.setSelectedCommentPositionHover(),t.$el.scrollIntoView())}))},mounted(){this.isTarget&&this.shouldScrollToNote&&this.$el.scrollIntoView({duration:0})},methods:{...Object(l.c)(["deleteNote","removeNote","updateNote","toggleResolveNote","updateAssignees","setSelectedCommentPositionHover"]),editHandler(){this.isEditing=!0,this.setSelectedCommentPositionHover()},async deleteHandler(){var e=this;let{commentType:t}=this;this.note.isDraft&&(t=Object(b.a)("pending comment"));const i=Object(b.h)(Object(b.a)("Are you sure you want to delete this %{commentType}?"),{commentType:t});if(await Object(u.a)(i,{primaryBtnVariant:"danger",primaryBtnText:this.note.internal?Object(b.a)("Delete internal note"):Object(b.a)("Delete comment")})){if(this.isDeleting=!0,this.$emit("handleDeleteNote",this.note),this.note.isDraft)return;this.deleteNote(this.note).then((function(){e.isDeleting=!1})).catch((function(){Object(h.createAlert)({message:Object(b.a)("Something went wrong while deleting your note. Please try again.")}),e.isDeleting=!1}))}},updateSuccess(){this.isEditingLocal=!1,this.isRequesting=!1,this.oldContent=null,Object(y.a)(this.$refs.noteBody.$el),this.$emit("updateSuccess")},async formUpdateHandler({noteText:e,callback:t,resolveDiscussion:i}){var n=this;if(this.$emit("handleUpdateNote",{note:this.note,noteText:e,resolveDiscussion:i,flashContainer:this.$el,callback:function(){return n.updateSuccess()},errorCallback:function(){return t()}}),this.isDraft)return;if(!await Object(k.b)({content:e}))return void t();const s={endpoint:this.note.path,note:{target_type:this.getNoteableData.targetType,target_id:this.note.noteable_id,note:{note:e}}};this.isRequesting=!0,this.oldContent=this.note.note_html,this.note.note_html=Object(I.c)(e),this.updateNote(s).then((function(){n.updateSuccess(),t()})).catch((function(e){e.status===m.c?(n.removeNote(n.note),n.updateSuccess(),t()):(n.isRequesting=!1,n.isEditing=!0,n.setSelectedCommentPositionHover(),n.$nextTick((function(){n.handleUpdateError(e),n.recoverNoteContent(),t()})))}))},handleUpdateError(e){Object(h.createAlert)({message:Object(I.e)(e),parent:this.$el})},formCancelHandler:Object(f.a)((async function({shouldConfirm:e,isDirty:t}){if(e&&t){const e=Object(b.h)(Object(b.a)("Are you sure you want to cancel editing this %{commentType}?"),{commentType:this.commentType});if(!await Object(u.a)(e,{primaryBtnText:Object(b.a)("Cancel editing"),primaryBtnVariant:"danger",secondaryBtnVariant:"default",secondaryBtnText:Object(b.a)("Continue editing"),hideCancel:!0}))return}this.recoverNoteContent(),this.isEditing=!1})),recoverNoteContent(){this.oldContent&&(this.note.note_html=this.oldContent)},getLineClasses:e=>Object(T.e)(e),assigneesUpdate(e){this.updateAssignees(e)}}},ee=Object($.a)(Z,(function(){var e=this,t=e._self._c;return t("timeline-entry-item",{staticClass:"note note-wrapper note-comment",class:{...e.classNameBindings,"internal-note":e.note.internal},attrs:{id:e.noteAnchorId,"data-award-url":e.note.toggle_award_path,"data-note-id":e.note.id,"data-testid":"noteable-note-container"}},[e.showMultiLineComment?t("div",{staticClass:"gl-border-b gl-border-section gl-px-5 gl-py-3 gl-text-subtle",attrs:{"data-testid":"multiline-comment"}},[t("gl-sprintf",{attrs:{message:e.__("Comment on lines %{startLine} to %{endLine}")},scopedSlots:e._u([{key:"startLine",fn:function(){return[t("span",{class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]},proxy:!0},{key:"endLine",fn:function(){return[t("span",{class:e.getLineClasses(e.endLineNumber)},[e._v(e._s(e.endLineNumber))])]},proxy:!0}],null,!1,1413361638)})],1):e._e(),e._v(" "),e.isMRDiffView?t("div",{staticClass:"timeline-avatar gl-float-left gl-pt-2"},[t("gl-avatar-link",{staticClass:"js-user-link",attrs:{href:e.author.path,"data-user-id":e.authorId,"data-username":e.author.username}},[t("gl-avatar",{attrs:{src:e.author.avatar_url,"entity-name":e.author.username,alt:e.author.name,size:24}}),e._v(" "),e._t("avatar-badge")],2)],1):t("div",{staticClass:"timeline-avatar gl-float-left"},[t("gl-avatar-link",{staticClass:"js-user-link gl-relative",attrs:{href:e.author.path,"data-user-id":e.authorId,"data-username":e.author.username}},[t("gl-avatar",{attrs:{src:e.author.avatar_url,"entity-name":e.author.username,alt:e.author.name,size:32}}),e._v(" "),e._t("avatar-badge")],2)],1),e._v(" "),t("div",{staticClass:"timeline-content"},[t("div",{staticClass:"note-header"},[t("note-header",{attrs:{author:e.author,"created-at":e.note.created_at,"note-id":e.note.id,"is-internal-note":e.note.internal,"is-imported":e.note.imported,"noteable-type":e.noteableType,"email-participant":e.note.external_author},scopedSlots:e._u([{key:"note-header-info",fn:function(){return[e._t("note-header-info")]},proxy:!0}],null,!0)},[e._v(" "),e.commit?t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.actionText,expression:"actionText"}]}):e.note.created_at?t("span",{staticClass:"gl-hidden sm:gl-inline"},[e._v("Â·")]):e._e()]),e._v(" "),t("note-actions",{attrs:{author:e.author,"author-id":e.authorId,"note-id":e.note.id,"note-url":e.note.noteable_note_url,"access-level":e.note.human_access,"is-contributor":e.note.is_contributor,"is-author":e.note.is_noteable_author,"project-name":e.note.project_name,"noteable-type":e.note.noteable_type,"show-reply":e.showReplyButton,"can-edit":e.canEdit,"can-award-emoji":e.canAwardEmoji,"can-delete":e.canEdit,"can-report-as-abuse":e.canReportAsAbuse,"can-resolve":e.canResolve,resolvable:e.note.resolvable||e.note.isDraft,"is-resolved":e.note.resolved||e.note.resolve_discussion,"is-resolving":e.isResolving,"resolved-by":e.note.resolved_by,"is-draft":e.note.isDraft,"resolve-discussion":e.note.isDraft&&e.note.resolve_discussion,"discussion-id":e.discussionId,"award-path":e.note.toggle_award_path},on:{handleEdit:e.editHandler,handleDelete:e.deleteHandler,handleResolve:e.resolveHandler,startReplying:function(t){return e.$emit("startReplying")},updateAssignees:e.assigneesUpdate}})],1),e._v(" "),t("div",{staticClass:"timeline-discussion-body"},[e._t("discussion-resolved-text"),e._v(" "),e._t("note-body",(function(){return[t("note-body",{ref:"noteBody",attrs:{note:e.note,"can-edit":e.canEdit,line:e.line,file:e.diffFile,"is-editing":e.isEditing,"autosave-key":e.autosaveKey,"restore-from-autosave":e.restoreFromAutosave,"help-page-path":e.helpPagePath},on:{handleFormUpdate:e.formUpdateHandler,cancelForm:e.formCancelHandler}})]})),e._v(" "),t("div",{staticClass:"timeline-discussion-body-footer"},[e._t("after-note-body")],2)],2)])])}),[],!1,null,null,null);t.a=ee.exports},aFYl:function(e,t,i){"use strict";var n={};i.r(n),i.d(n,"setStatus",(function(){return m})),i.d(n,"updateStatus",(function(){return f})),i.d(n,"updateResolveStatus",(function(){return g})),i.d(n,"updateIgnoreStatus",(function(){return v}));var s={};i.r(s),i.d(s,"startPollingStacktrace",(function(){return k}));var a={};i.r(a),i.d(a,"stacktrace",(function(){return w}));var r={};i.r(r),i.d(r,"startPolling",(function(){return I})),i.d(r,"stopPolling",(function(){return T})),i.d(r,"restartPolling",(function(){return O})),i.d(r,"setIndexPath",(function(){return C})),i.d(r,"loadRecentSearches",(function(){return x})),i.d(r,"addRecentSearch",(function(){return j})),i.d(r,"clearRecentSearches",(function(){return E})),i.d(r,"searchByQuery",(function(){return D})),i.d(r,"filterByStatus",(function(){return N})),i.d(r,"sortByField",(function(){return A})),i.d(r,"setEndpoint",(function(){return P})),i.d(r,"fetchPaginatedResults",(function(){return F})),i.d(r,"removeIgnoredResolvedErrors",(function(){return L}));var o=i("ewH8"),l=i("yi8e"),d=i("jlnU"),c=i("3twG"),u=i("/lV4"),p=i("2ibD"),h={getSentryData:({endpoint:e,params:t})=>p.a.get(e,{params:t}),updateErrorStatus:(e,t)=>p.a.put(e,{status:t})};const m=function({commit:e},t){e("SET_ERROR_STATUS",t.toLowerCase())},f=function({commit:e},{endpoint:t,redirectUrl:i,status:n}){return h.updateErrorStatus(t,n).then((function(t){return e("SET_ERROR_STATUS",n),i&&Object(c.R)(i),t.data.result})).catch((function(){return Object(d.createAlert)({message:Object(u.a)("Failed to update issue status")})}))},g=function({commit:e,dispatch:t},i){return e("SET_UPDATING_RESOLVE_STATUS",!0),t("updateStatus",i).finally((function(){e("SET_UPDATING_RESOLVE_STATUS",!1)}))},v=function({commit:e,dispatch:t},i){return e("SET_UPDATING_IGNORE_STATUS",!0),t("updateStatus",i).finally((function(){e("SET_UPDATING_IGNORE_STATUS",!1)}))};var b=i("hqF9");let y;function k({commit:e},t){y=new b.a({resource:h,method:"getSentryData",data:{endpoint:t},successCallback:function({data:t}){t&&(e("SET_STACKTRACE_DATA",t.error),e("SET_LOADING_STACKTRACE",!1),function(e){e&&e.stop()}(y))},errorCallback:function(){e("SET_LOADING_STACKTRACE",!1),Object(d.createAlert)({message:Object(u.a)("Failed to load stacktrace.")})}}),y.makeRequest()}const w=function(e){return e.stacktraceData.stack_trace_entries?e.stacktraceData.stack_trace_entries.reverse():[]};var S={SET_LOADING_STACKTRACE(e,t){e.loadingStacktrace=t},SET_STACKTRACE_DATA(e,t){e.stacktraceData=t}};let _;function I({state:e,commit:t,dispatch:i}){t("SET_LOADING",!0),_=new b.a({resource:h,method:"getSentryData",data:{endpoint:e.endpoint,params:{search_term:e.searchQuery,sort:e.sortField,cursor:e.cursor,issue_status:e.statusFilter}},successCallback:function({data:e}){e&&(t("SET_PAGINATION",e.pagination),t("SET_ERRORS",e.errors),t("SET_LOADING",!1),i("stopPolling"))},errorCallback:function(){t("SET_LOADING",!1),Object(d.createAlert)({message:Object(u.a)("Failed to load errors from Sentry.")})}}),_.makeRequest()}const T=function(){_&&_.stop()};function O({commit:e}){e("SET_ERRORS",[]),e("SET_LOADING",!0),_&&_.restart()}function C({commit:e},t){e("SET_INDEX_PATH",t)}function x({commit:e}){e("LOAD_RECENT_SEARCHES")}function j({commit:e},t){e("ADD_RECENT_SEARCH",t)}function E({commit:e}){e("CLEAR_RECENT_SEARCHES")}const D=function({commit:e,dispatch:t},i){const n=i.trim();e("SET_CURSOR",null),e("SET_SEARCH_QUERY",n),e("ADD_RECENT_SEARCH",n),t("stopPolling"),t("startPolling")},N=function({commit:e,dispatch:t},i){e("SET_STATUS_FILTER",i),t("stopPolling"),t("startPolling")},A=function({commit:e,dispatch:t},i){e("SET_CURSOR",null),e("SET_SORT_FIELD",i),t("stopPolling"),t("startPolling")},P=function({commit:e},t){e("SET_ENDPOINT",t)},F=function({commit:e,dispatch:t},i){e("SET_CURSOR",i),t("stopPolling"),t("startPolling")},L=function({commit:e},t){e("REMOVE_IGNORED_RESOLVED_ERRORS",t)};i("UezY"),i("z6RN"),i("hG7+"),i("86Lb"),i("byxs");var R=i("n7CP"),q=i("NmEs"),$={SET_ERRORS(e,t){e.errors=Object(q.g)(t,{deep:!0})},SET_LOADING(e,t){e.loading=t},SET_INDEX_PATH(e,t){e.indexPath=t},ADD_RECENT_SEARCH(e,t){if(0===t.length)return;const i=e.recentSearches.filter((function(e){return e!==t}));i.unshift(t),e.recentSearches=i.slice(0,5),R.a.canUseLocalStorage()&&localStorage.setItem("recent-searches"+e.indexPath,JSON.stringify(e.recentSearches))},CLEAR_RECENT_SEARCHES(e){e.recentSearches=[],R.a.canUseLocalStorage()&&localStorage.removeItem("recent-searches"+e.indexPath)},LOAD_RECENT_SEARCHES(e){const t=localStorage.getItem("recent-searches"+e.indexPath)||[];try{e.recentSearches=JSON.parse(t)}catch(t){throw e.recentSearches=[],t}},SET_PAGINATION(e,t){e.pagination=t},SET_CURSOR(e,t){e.cursor=t},SET_SORT_FIELD(e,t){e.sortField=t},SET_SEARCH_QUERY(e,t){e.searchQuery=t},SET_ENDPOINT(e,t){e.endpoint=t},REMOVE_IGNORED_RESOLVED_ERRORS(e,t){e.errors=e.errors.filter((function(e){return e.id!==t}))},SET_STATUS_FILTER(e,t){e.statusFilter=t}},B={SET_UPDATING_IGNORE_STATUS(e,t){e.updatingIgnoreStatus=t},SET_UPDATING_RESOLVE_STATUS(e,t){e.updatingResolveStatus=t},SET_ERROR_STATUS(e,t){e.errorStatus=t}};o.default.use(l.b);t.a=new l.b.Store({modules:{list:{namespaced:!0,state:{errors:[],loading:!0,endpoint:null,sortField:"last_seen",statusFilter:"unresolved",searchQuery:null,indexPath:"",recentSearches:[],pagination:{},cursor:null},actions:{...n,...r},mutations:{...B,...$}},details:{namespaced:!0,state:{stacktraceData:{},loadingStacktrace:!0,updatingResolveStatus:!1,updatingIgnoreStatus:!1,errorStatus:""},actions:{...n,...s},mutations:{...B,...S},getters:a}}})},aYTY:function(e,t){var i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},aYcR:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkItemAncestors"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetHierarchy"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasParent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"ancestors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"full"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetHierarchy"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasParent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:848}};i.loc.source={body:"fragment WorkItemAncestors on WorkItem {\n  id\n  title\n  widgets {\n    type\n    ... on WorkItemWidgetHierarchy {\n      type\n      hasParent\n      parent {\n        id\n        iid\n        title\n        confidential\n        webUrl\n        workItemType {\n          id\n          name\n          iconName\n        }\n      }\n      ancestors {\n        nodes {\n          id\n          iid\n          confidential\n          workItemType {\n            id\n            name\n            iconName\n          }\n          title\n          state\n          reference(full: true)\n          createdAt\n          closedAt\n          webUrl\n          widgets {\n            type\n            ... on WorkItemWidgetHierarchy {\n              type\n              hasParent\n              parent {\n                id\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.WorkItemAncestors=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"WorkItemAncestors")},awnp:function(e,t,i){"use strict";i.d(t,"a",(function(){return A})),i.d(t,"b",(function(){return P}));var n=i("9k56"),s=i("CU79"),a=i("n6Wd"),r=i("jIK5"),o=i("QiCN"),l=i("oTzT"),d=i("idLb"),c=i("ZdEn"),u=i("VuSA"),p=i("hII5"),h=i("3hkr"),m=i("g+RJ"),f=i("GeBT"),g=i("aBA8");const v=Object(p.c)({tbodyTransitionHandlers:Object(p.b)(r.n),tbodyTransitionProps:Object(p.b)(r.n)},h.T),b=Object(n.c)({name:h.T,mixins:[m.a,f.a,g.a],provide(){return{getBvTableRowGroup:()=>this}},inject:{getBvTable:{default:()=>()=>({})}},inheritAttrs:!1,props:v,computed:{bvTable(){return this.getBvTable()},isTbody:()=>!0,isDark(){return this.bvTable.dark},isStacked(){return this.bvTable.isStacked},isResponsive(){return this.bvTable.isResponsive},isStickyHeader:()=>!1,hasStickyHeader(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant(){return this.bvTable.tableVariant},isTransitionGroup(){return this.tbodyTransitionProps||this.tbodyTransitionHandlers},tbodyAttrs(){return{role:"rowgroup",...this.bvAttrs}},tbodyProps(){const{tbodyTransitionProps:e}=this;return e?{...e,tag:"tbody"}:{}}},render(e){const t={props:this.tbodyProps,attrs:this.tbodyAttrs};return this.isTransitionGroup?(t.on=this.tbodyTransitionHandlers||{},t.nativeOn=this.bvListeners):t.on=this.bvListeners,e(this.isTransitionGroup?"transition-group":"tbody",t,this.normalizeSlot())}});var y=i("M76R"),k=i("2mBx"),w=i("BBKf"),S=i("4z8A"),_=i("oJ9E"),I=i("gZSI"),T=i("TnX6"),O=i("mIkX"),C=i("X80m"),x=i("YUwJ"),j=i("S8CU");const E={detailsTdClass:Object(p.b)(r.e),tbodyTrAttr:Object(p.b)(r.o),tbodyTrClass:Object(p.b)([...r.e,r.j])},D=Object(n.c)({mixins:[S.a],props:E,methods:{getTdValues(e,t,i,n){const{bvParent:s}=this;if(i){const n=Object(_.a)(e,t,"");return Object(I.e)(i)?i(n,t,e):Object(I.m)(i)&&Object(I.e)(s[i])?s[i](n,t,e):i}return n},getThValues(e,t,i,n,s){const{bvParent:a}=this;if(i){const s=Object(_.a)(e,t,"");return Object(I.e)(i)?i(s,t,e,n):Object(I.m)(i)&&Object(I.e)(a[i])?a[i](s,t,e,n):i}return s},getFormattedValue(e,t){const{key:i}=t,n=this.getFieldFormatter(i);let s=Object(_.a)(e,i,null);return Object(I.e)(n)&&(s=n(s,i,e)),Object(I.o)(s)?"":s},toggleDetailsFactory(e,t){return()=>{e&&this.$set(t,j.d,!t[j.d])}},rowHovered(e){this.tbodyRowEventStopped(e)||this.emitTbodyRowEvent(s.H,e)},rowUnhovered(e){this.tbodyRowEventStopped(e)||this.emitTbodyRowEvent(s.K,e)},renderTbodyRowCell(e,t,i,n){const{isStacked:s}=this,{key:a,label:r,isRowHeader:o}=e,l=this.$createElement,c=this.hasNormalizedSlot(w.t),u=this.getFormattedValue(i,e),p=!s&&(this.isResponsive||this.stickyHeader)&&e.stickyColumn,h=p?o?x.a:C.a:o?"th":"td",m=i[j.b]&&i[j.b][a]?i[j.b][a]:e.variant||null,f={class:[e.class?e.class:"",this.getTdValues(i,a,e.tdClass,"")],props:{},attrs:{"aria-colindex":String(t+1),...o?this.getThValues(i,a,e.thAttr,"row",{}):this.getTdValues(i,a,e.tdAttr,{})},key:`row-${n}-cell-${t}-${a}`};p?f.props={stackedHeading:s?r:null,stickyColumn:!0,variant:m}:(f.attrs["data-label"]=s&&!Object(I.o)(r)?Object(T.e)(r):null,f.attrs.role=o?"rowheader":"cell",f.attrs.scope=o?"row":null,m&&f.class.push(`${this.dark?"bg":"table"}-${m}`));const g={item:i,index:n,field:e,unformatted:Object(_.a)(i,a,""),value:u,toggleDetails:this.toggleDetailsFactory(c,i),detailsShowing:Boolean(i[j.d])};Object(d.a)(this).supportsSelectableRows&&(g.rowSelected=this.isRowSelected(n),g.selectRow=()=>this.selectRow(n),g.unselectRow=()=>this.unselectRow(n));const v=this.$_bodyFieldSlotNameCache[a];let b=v?this.normalizeSlot(v,g):Object(T.e)(u);return this.isStacked&&(b=[l("div",[b])]),l(h,f,[b])},renderTbodyRow(e,t){const{computedFields:i,striped:a,primaryKey:r,currentPage:o,perPage:l,tbodyTrClass:c,tbodyTrAttr:u,hasSelectableRowClick:p}=Object(d.a)(this),h=this.$createElement,m=this.hasNormalizedSlot(w.t),f=e[j.d]&&m,g=this.$listeners[s.E]||p,v=[],b=f?this.safeId(`_details_${t}_`):null,y=i.map((i,n)=>this.renderTbodyRowCell(i,n,e,t));let k=null;o&&l&&l>0&&(k=String((o-1)*l+t+1));const S=Object(T.e)(Object(_.a)(e,r))||null,x=S||Object(T.e)(t),E=S?this.safeId("_row_"+S):null,D=Object(d.a)(this).selectableRowClasses?this.selectableRowClasses(t):{},N=Object(d.a)(this).selectableRowAttrs?this.selectableRowAttrs(t):{},A=Object(I.e)(c)?c(e,"row"):c,P=Object(I.e)(u)?u(e,"row"):u;if(v.push(h(O.a,{class:[A,D,f?"b-table-has-details":""],props:{variant:e[j.c]||null},attrs:{id:E,...P,tabindex:g?"0":null,"data-pk":S||null,"aria-details":b,"aria-owns":b,"aria-rowindex":k,...N},on:{mouseenter:this.rowHovered,mouseleave:this.rowUnhovered},key:`__b-table-row-${x}__`,ref:"item-rows",[n.b]:!0},y)),f){const n={item:e,index:t,fields:i,toggleDetails:this.toggleDetailsFactory(m,e)};Object(d.a)(this).supportsSelectableRows&&(n.rowSelected=this.isRowSelected(t),n.selectRow=()=>this.selectRow(t),n.unselectRow=()=>this.unselectRow(t));const s=h(C.a,{props:{colspan:i.length},class:this.detailsTdClass},[this.normalizeSlot(w.t,n)]);a&&v.push(h("tr",{staticClass:"d-none",attrs:{"aria-hidden":"true",role:"presentation"},key:"__b-table-details-stripe__"+x}));const r=Object(I.e)(this.tbodyTrClass)?this.tbodyTrClass(e,w.t):this.tbodyTrClass,o=Object(I.e)(this.tbodyTrAttr)?this.tbodyTrAttr(e,w.t):this.tbodyTrAttr;v.push(h(O.a,{staticClass:"b-table-details",class:[r],props:{variant:e[j.c]||null},attrs:{...o,id:b,tabindex:"-1"},key:"__b-table-details__"+x},[s]))}else m&&(v.push(h()),a&&v.push(h()));return v}}}),N=e=>`cell(${e||""})`,A=Object(u.m)({...v,...E,tbodyClass:Object(p.b)(r.e)}),P=Object(n.c)({mixins:[D],props:A,beforeDestroy(){this.$_bodyFieldSlotNameCache=null},methods:{getTbodyTrs(){const{$refs:e}=this,t=e.tbody?e.tbody.$el||e.tbody:null,i=(e["item-rows"]||[]).map(e=>e.$el||e);return t&&t.children&&t.children.length>0&&i&&i.length>0?Object(o.d)(t.children).filter(e=>Object(o.a)(i,e)):[]},getTbodyTrIndex(e){if(!Object(l.s)(e))return-1;const t="TR"===e.tagName?e:Object(l.e)("tr",e,!0);return t?this.getTbodyTrs().indexOf(t):-1},emitTbodyRowEvent(e,t){if(e&&this.hasListener(e)&&t&&t.target){const i=this.getTbodyTrIndex(t.target);if(i>-1){const n=this.computedItems[i];this.$emit(e,n,i,t)}}},tbodyRowEventStopped(e){return this.stopIfBusy&&this.stopIfBusy(e)},onTbodyRowKeydown(e){const{target:t,keyCode:i}=e;if(!this.tbodyRowEventStopped(e)&&"TR"===t.tagName&&Object(l.q)(t)&&0===t.tabIndex)if(Object(o.a)([a.c,a.h],i))Object(c.f)(e),this.onTBodyRowClicked(e);else if(Object(o.a)([a.i,a.a,a.e,a.b],i)){const n=this.getTbodyTrIndex(t);if(n>-1){Object(c.f)(e);const t=this.getTbodyTrs(),s=e.shiftKey;i===a.e||s&&i===a.i?Object(l.d)(t[0]):i===a.b||s&&i===a.a?Object(l.d)(t[t.length-1]):i===a.i&&n>0?Object(l.d)(t[n-1]):i===a.a&&n<t.length-1&&Object(l.d)(t[n+1])}}},onTBodyRowClicked(e){const{$refs:t}=this,i=t.tbody?t.tbody.$el||t.tbody:null;this.tbodyRowEventStopped(e)||Object(y.a)(e)||Object(k.a)(i||this.$el)||this.emitTbodyRowEvent(s.E,e)},onTbodyRowMiddleMouseRowClicked(e){this.tbodyRowEventStopped(e)||2!==e.which||this.emitTbodyRowEvent(s.I,e)},onTbodyRowContextmenu(e){this.tbodyRowEventStopped(e)||this.emitTbodyRowEvent(s.F,e)},onTbodyRowDblClicked(e){this.tbodyRowEventStopped(e)||Object(y.a)(e)||this.emitTbodyRowEvent(s.G,e)},renderTbody(){const{computedItems:e,renderBusy:t,renderTopRow:i,renderEmpty:n,renderBottomRow:a,hasSelectableRowClick:r}=Object(d.a)(this),o=this.$createElement,l=this.hasListener(s.E)||r,c=[],u=t?t():null;if(u)c.push(u);else{const t={};let s=N();s=this.hasNormalizedSlot(s)?s:null,this.computedFields.forEach(e=>{const{key:i}=e,n=N(i),a=N(i.toLowerCase());t[i]=this.hasNormalizedSlot(n)?n:this.hasNormalizedSlot(a)?a:s}),this.$_bodyFieldSlotNameCache=t,c.push(i?i():o()),e.forEach((e,t)=>{c.push(this.renderTbodyRow(e,t))}),c.push(n?n():o()),c.push(a?a():o())}const h={auxclick:this.onTbodyRowMiddleMouseRowClicked,contextmenu:this.onTbodyRowContextmenu,dblclick:this.onTbodyRowDblClicked};l&&(h.click=this.onTBodyRowClicked,h.keydown=this.onTbodyRowKeydown);return o(b,{class:this.tbodyClass||null,props:Object(p.d)(v,this.$props),on:h,ref:"tbody"},c)}}})},b76C:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"namespaceGroupsForLinksWidget"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"groupSearch"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descendantGroups"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"groupSearch"}}},{kind:"Argument",name:{kind:"Name",value:"includeParentDescendants"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:342}};i.loc.source={body:"query namespaceGroupsForLinksWidget($fullPath: ID!, $groupSearch: String) {\n  group(fullPath: $fullPath) {\n    id\n    name\n    avatarUrl\n    path\n    fullPath\n    descendantGroups(search: $groupSearch, includeParentDescendants: true) {\n      nodes {\n        id\n        name\n        avatarUrl\n        path\n        fullPath\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.namespaceGroupsForLinksWidget=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"namespaceGroupsForLinksWidget")},bKv5:function(e,t,i){"use strict";var n=i("Q33P"),s=i.n(n),a=i("AxUD"),r=i("bOix"),o=i("/lV4"),l=i("5QKO");const d={data:()=>({removeDisabled:!1}),props:{idKey:{type:Number,required:!0},iid:{type:Number,required:!1,default:void 0},displayReference:{type:String,required:!0},pathIdSeparator:{type:String,required:!0},eventNamespace:{type:String,required:!1,default:""},confidential:{type:Boolean,required:!1,default:!1},title:{type:String,required:!1,default:""},path:{type:String,required:!1,default:""},state:{type:String,required:!1,default:""},createdAt:{type:String,required:!1,default:""},closedAt:{type:String,required:!1,default:""},mergedAt:{type:String,required:!1,default:""},milestone:{type:Object,required:!1,default:function(){return{}}},dueDate:{type:String,required:!1,default:""},assignees:{type:Array,required:!1,default:function(){return[]}},weight:{type:Number,required:!1,default:0},canRemove:{type:Boolean,required:!1,default:!1},isMergeRequest:{type:Boolean,required:!1,default:!1},pipelineStatus:{type:Object,required:!1,default:null}},mixins:[l.a],computed:{hasState(){return this.state&&this.state.length>0},hasPipeline(){return this.isMergeRequest&&this.pipelineStatus},isOpen(){return this.state===a.i||this.state===a.j},isClosed(){return this.state===a.d},isMerged(){return this.state===a.h},hasTitle(){return this.title.length>0},hasAssignees(){return this.assignees.length>0},hasMilestone(){return!s()(this.milestone)},iconName(){return this.isMergeRequest&&this.isMerged?"merge":this.isOpen?"issue-open-m":"issue-close"},iconClass(){return this.isMergeRequest&&this.isClosed?"merge-request-status closed issue-token-state-icon-closed":this.isOpen?"issue-token-state-icon-open gl-fill-icon-success":"issue-token-state-icon-closed gl-fill-icon-info"},computedLinkElementType(){return this.path.length>0?"a":"span"},computedPath(){return this.path.length?this.path:null},itemPath(){return this.displayReference.split(this.pathIdSeparator)[0]},itemId(){return this.displayReference.split(this.pathIdSeparator).pop()},createdAtInWords(){return this.createdAt?this.timeFormatted(this.createdAt):""},createdAtTimestamp(){return this.createdAt?r.I.asDateTimeFull.format(Object(r.O)(this.createdAt)):""},mergedAtTimestamp(){return this.mergedAt?r.I.asDateTimeFull.format(Object(r.O)(this.mergedAt)):""},mergedAtInWords(){return this.mergedAt?this.timeFormatted(this.mergedAt):""},closedAtInWords(){return this.closedAt?this.timeFormatted(this.closedAt):""},closedAtTimestamp(){return this.closedAt?r.I.asDateTimeFull.format(Object(r.O)(this.closedAt)):""},stateText(){return this.isMerged?Object(o.a)("Merged"):this.isOpen?Object(o.a)("Created"):Object(o.a)("Closed")},stateTimeInWords(){return this.isMerged?this.mergedAtInWords:this.isOpen?this.createdAtInWords:this.closedAtInWords},stateTimestamp(){return this.isMerged?this.mergedAtTimestamp:this.isOpen?this.createdAtTimestamp:this.closedAtTimestamp}},methods:{onRemoveRequest(){let e="";this.eventNamespace&&this.eventNamespace.length>0&&(e=""+this.eventNamespace),this.$emit(e+"RemoveRequest",this.idKey),this.removeDisabled=!0}}};t.a=d},bR52:function(e,t,i){"use strict";var n={functional:!0,props:{isDiffDiscussion:{type:Boolean,required:!1,default:!1}},render:(e,{props:t,children:i})=>t.isDiffDiscussion?e("li",{class:"discussion-collapsible gl-border-solid gl-border-default gl-border-1 gl-rounded-base gl-border-t-0"},[e("ul",{class:"notes"},i)]):function(e){return"object"!=typeof e||Array.isArray(e)?e:"function"==typeof e.default?e.default():e}(i)},s=i("tBpV"),a=Object(s.a)(n,void 0,void 0,!1,null,null,null);t.a=a.exports},"bX/R":function(e,t,i){"use strict";var n=i("yi8e"),s=i("Mp8J"),a=i("/lV4"),r={directives:{SafeHtml:s.a},computed:{...Object(n.d)(["getNotesDataByProp"]),registerLink(){return this.getNotesDataByProp("registerPath")},signInLink(){return this.getNotesDataByProp("newSessionPath")},signedOutText(){return Object(a.h)(Object(a.a)("Please %{startTagRegister}register%{endRegisterTag} or %{startTagSignIn}sign in%{endSignInTag} to reply"),{startTagRegister:`<a href="${this.registerLink}">`,startTagSignIn:`<a href="${this.signInLink}">`,endRegisterTag:"</a>",endSignInTag:"</a>"},!1)}}},o=i("tBpV"),l=Object(o.a)(r,(function(){return(0,this._self._c)("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:this.signedOutText,expression:"signedOutText"}],staticClass:"gl-grow gl-text-center gl-text-subtle"})}),[],!1,null,null,null);t.a=l.exports},bj3K:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUserProjectsWithIssuesEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projects"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"membership"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"withIssuesEnabled"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"StringValue",value:"latest_activity_desc",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameWithNamespace"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:262}};i.loc.source={body:'query searchUserProjectsWithIssuesEnabled($search: String) {\n  projects(\n    search: $search\n    membership: true\n    withIssuesEnabled: true\n    sort: "latest_activity_desc"\n  ) {\n    nodes {\n      id\n      name\n      nameWithNamespace\n      webUrl\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.searchUserProjectsWithIssuesEnabled=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"searchUserProjectsWithIssuesEnabled")},bmo0:function(e,t,i){"use strict";var n=i("4+8U"),s=i("OgyL"),a={name:"SkeletonNote",components:{GlSkeletonLoader:n.a,TimelineEntryItem:s.a}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this._self._c;return e("timeline-entry-item",{staticClass:"note note-wrapper"},[e("div",{staticClass:"gl-float-left -gl-mt-1 gl-ml-2 gl-flex gl-h-6 gl-w-6 gl-items-center gl-justify-center gl-rounded-full gl-bg-gray-50 gl-text-subtle"}),this._v(" "),e("div",{staticClass:"timeline-content"},[e("div",{staticClass:"note-header"}),this._v(" "),e("div",{staticClass:"note-body gl-mt-4"},[e("gl-skeleton-loader")],1)])])}),[],!1,null,null,null);t.a=o.exports},bpeo:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="issuable_vue_app:change"},bta6:function(e,t,i){e.exports=i("+p8b")},btgo:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemHierarchyUpdate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemUpdateInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageSize"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"endCursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemHierarchy"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:267}};n.loc.source={body:'#import "./work_item_hierarchy.fragment.graphql"\n\nmutation workItemHierarchyUpdate(\n  $input: WorkItemUpdateInput!\n  $pageSize: Int = 100\n  $endCursor: String = ""\n) {\n  workItemUpdate(input: $input) {\n    workItem {\n      ...WorkItemHierarchy\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("BHG8").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.workItemHierarchyUpdate=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"workItemHierarchyUpdate")},byjy:function(e,t,i){"use strict";var n=i("7KAB");t.a={computed:{noteableType(){const e=this.discussion?this.discussion.notes[0]:this.note;return n.NOTEABLE_TYPE_MAPPING[e.noteable_type]}}}},c82y:function(e,t,i){"use strict";var n=i("30su"),s=i("MV2A"),a=i("Fsq/"),r=i("Rcnk"),o={name:"EditedNoteText",components:{GlSprintf:n.a,GlLink:s.a,TimeAgoTooltip:a.a},props:{actionText:{type:String,required:!0},actionDetailText:{type:String,required:!1,default:""},editedAt:{type:String,required:!1,default:null},editedBy:{type:Object,required:!1,default:null},className:{type:String,required:!1,default:"edited-text"}},i18n:r.b},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-text-sm",class:e.className},[e.editedBy?t("gl-sprintf",{attrs:{message:e.$options.i18n.actionWithAuthor},scopedSlots:e._u([{key:"actionText",fn:function(){return[e._v("\n      "+e._s(e.actionText)+"\n    ")]},proxy:!0},{key:"actionDetail",fn:function(){return[e._v("\n      "+e._s(e.actionDetailText)+"\n    ")]},proxy:!0},{key:"timeago",fn:function(){return[t("time-ago-tooltip",{attrs:{time:e.editedAt,"tooltip-placement":"bottom"}})]},proxy:!0},{key:"author",fn:function(){return[t("gl-link",{staticClass:"js-user-link author-link hover:gl-underline",attrs:{href:e.editedBy.path,"data-user-id":e.editedBy.id}},[e._v("\n        "+e._s(e.editedBy.name)+"\n      ")])]},proxy:!0}],null,!1,3012119528)}):t("gl-sprintf",{attrs:{message:e.$options.i18n.actionWithoutAuthor},scopedSlots:e._u([{key:"actionText",fn:function(){return[e._v("\n      "+e._s(e.actionText)+"\n    ")]},proxy:!0},{key:"actionDetail",fn:function(){return[e._v("\n      "+e._s(e.actionDetailText)+"\n    ")]},proxy:!0},{key:"timeago",fn:function(){return[t("time-ago-tooltip",{attrs:{time:e.editedAt,"tooltip-placement":"bottom"}})]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=d.exports},cLuZ:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createImageWorkItemDiffNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateImageDiffNoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createImageDiffNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignNote"},directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"replyId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noteable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Design"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignTodoItem"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignNote"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:508}};n.loc.source={body:'#import "./fragments/design_note.fragment.graphql"\n#import "./fragments/design_todo_item.fragment.graphql"\n\nmutation createImageWorkItemDiffNote($input: CreateImageDiffNoteInput!) {\n  createImageDiffNote(input: $input) {\n    note {\n      ...DesignNote\n      discussion {\n        id\n        replyId\n        noteable {\n          ... on Design {\n            ...DesignTodoItem\n          }\n        }\n        notes {\n          nodes {\n            ...DesignNote\n          }\n        }\n      }\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("LjxR").definitions)),n.definitions=n.definitions.concat(a(i("MBvX").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.createImageWorkItemDiffNote=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"createImageWorkItemDiffNote")},csTF:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:147}};i.loc.source={body:"mutation updateIssue($input: UpdateIssueInput!) {\n  updateIssue(input: $input) {\n    issuable: issue {\n      id\n      state\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssue=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssue")},cyZB:function(e,t,i){"use strict";i("B++/"),i("z6RN"),i("47t/"),i("aFm2"),i("R9qC");var n=i("yi8e"),s=i("iPR/"),a=i("ygVz"),r=i("4UiK"),o=i("oz03"),l=i("+gEn"),d=i("OgyL"),c=i("sHIo"),u=i("PTFM"),p=i("3twG"),h=i("EJYk"),m=i("FxFN"),f=i("4wgn"),g=i("7F3p"),v=i("Mp8J"),b=i("5QKO"),y=i("VeDt"),k=i.n(y),w=i("c82y"),S=i("ZlTH"),_={components:{NoteEditedText:w.a,NoteableNote:S.a},directives:{SafeHtml:v.a},mixins:[b.a],props:{noteId:{type:String,required:!1,default:""}},data:()=>({note:null,hidden:!1}),computed:{showNote(){return this.note&&!this.hidden&&!this.isSyntheticNote},showEdited(){return this.note&&this.note.created_at!==this.note.last_edited_at},isSyntheticNote(){var e;return Boolean(null===(e=this.noteId)||void 0===e?void 0:e.match(/([a-f0-9]{40})/))},noteHtml(){var e;return null===(e=this.note)||void 0===e?void 0:e.body_html}},watch:{async noteHtml(){try{await this.$nextTick(),Object(h.a)(this.$refs.noteBody)}catch{this.fallback()}}},mounted(){this.isSyntheticNote&&this.fallback()},methods:{fallback(){this.hidden=!0}},apollo:{note:{skip(){return!this.noteId||this.isSyntheticNote},query:k.a,variables(){return{id:Object(m.c)(f.z,this.noteId)}},update(e){var t;return null!=e&&e.note?{...e.note,author:{...e.note.author,id:Object(m.e)(e.note.author.id)},last_edited_by:{...e.note.last_edited_by,id:Object(m.e)(null===(t=e.note.last_edited_by)||void 0===t?void 0:t.id)},id:Object(m.e)(e.note.id)}:null},result(e){var t,i;(null==e||null===(t=e.errors)||void 0===t?void 0:t.length)>0&&(g.b(e.errors[0].message),this.fallback()),null!=e&&null!==(i=e.data)&&void 0!==i&&i.note||this.fallback()},error(e){g.b(e),this.fallback()}}}},I=i("tBpV"),T=Object(I.a)(_,(function(){var e=this,t=e._self._c;return e.showNote?t("noteable-note",{attrs:{id:"note_"+e.noteId,note:e.note,"show-reply-button":!1,"should-scroll-to-note":""},scopedSlots:e._u([{key:"note-body",fn:function(){return[t("div",{ref:"noteBody",staticClass:"note-body"},[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html:[$options.safeHtmlConfig]",value:e.noteHtml,expression:"noteHtml",arg:e.$options.safeHtmlConfig}],staticClass:"note-text md"}),e._v(" "),e.showEdited?t("note-edited-text",{staticClass:"note_edited_ago",attrs:{"edited-at":e.note.last_edited_at,"edited-by":e.note.last_edited_by,"action-text":e.__("Edited")}}):e._e()],1)]},proxy:!0}],null,!1,1616355029)}):e._e()}),[],!1,null,null,null).exports,O=i("sZvX"),C=i("zkom"),x=i("bmo0"),j=i("gvRd"),E=i("O6Bj"),D=i("d08M"),N=i("3E4U"),A=i("7KAB"),P=i("J7NB"),F=i("dsWN"),L=i("4lAS"),R=i("SeSR"),q=i("z1xw"),$=i("EmJ/"),B=i.n($),M=i("jlnU"),V=i("AxUD"),U=i("e2M3"),G=i("0AwG"),W=i("/lV4"),H=i("WSFO"),z=i("JTix"),K=i("xRSn"),Q=i("B3Hj"),Y=i("QUS0"),J=i("8M/8"),X=i("Rcnk"),Z=i("STGD"),ee=i("IsdW"),te=i("UK5N"),ie=i("Z5en"),ne=i("qC4q"),se=i("bX/R"),ae={name:"CommentForm",i18n:X.a,components:{NoteSignedOutWidget:se.a,DiscussionLockedWidget:ne.a,MarkdownEditor:z.a,GlAlert:F.a,GlButton:L.a,TimelineEntryItem:d.a,HelpIcon:K.a,CommentFieldLayout:te.a,CommentTypeDropdown:ie.a,GlFormCheckbox:R.a,CommentTemperature:function(){return Promise.resolve().then(i.bind(null,"4b03"))}},directives:{GlTooltip:q.a},mixins:[ee.a,a.a.mixin(),Object(Y.a)()],props:{noteableType:{type:String,required:!0}},data(){return{note:"",noteType:A.COMMENT,errors:[],noteIsInternal:!1,isSubmitting:!1,isMeasuringCommentTemperature:!1,formFieldProps:{"aria-label":this.$options.i18n.comment,placeholder:this.$options.i18n.bodyPlaceholder,id:"note-body",name:"note[note]",class:"js-note-text note-textarea js-gfm-input markdown-area","data-testid":"comment-field"}}},computed:{...Object(n.d)(["getCurrentUserLastNote","getUserData","getNoteableData","getNoteableDataByProp","getNotesData","openState","hasDrafts"]),...Object(n.f)(["isToggleStateButtonLoading"]),autocompleteDataSources(){var e;return null===(e=gl.GfmAutoComplete)||void 0===e?void 0:e.dataSources},noteableDisplayName(){return{[A.ISSUE_NOTEABLE_TYPE]:this.$options.i18n.issue,[A.EPIC_NOTEABLE_TYPE]:this.$options.i18n.epic,[A.MERGE_REQUEST_NOTEABLE_TYPE]:this.$options.i18n.mergeRequest}[A.NOTEABLE_TYPE_MAPPING[this.noteableType]||A.ISSUE_NOTEABLE_TYPE]},isLoggedIn(){return this.getUserData.id},commentButtonTitle(){const{comment:e,internalComment:t,startThread:i,startInternalThread:n}=this.$options.i18n;return this.noteIsInternal?this.noteType===A.COMMENT?t:n:this.noteType===A.COMMENT?e:i},discussionsRequireResolution(){return this.getNoteableData.noteableType===A.MERGE_REQUEST_NOTEABLE_TYPE},isOpen(){return this.openState===V.i||this.openState===V.j},canCreateNote(){return this.getNoteableData.current_user.can_create_note},canSetInternalNote(){return this.getNoteableData.current_user.can_create_confidential_note},issueActionButtonTitle(){const e=this.isOpen?"close":"reopen";return this.note.length?Object(W.h)(this.$options.i18n.actionButton.withNote[e],{actionText:this.commentButtonTitle,noteable:this.noteableDisplayName}):Object(W.h)(this.$options.i18n.actionButton.withoutNote[e],{noteable:this.noteableDisplayName})},actionButtonClassNames(){return{"btn-reopen":!this.isOpen,"btn-close":this.isOpen,"js-note-target-close":this.isOpen,"js-note-target-reopen":!this.isOpen}},markdownDocsPath(){return this.getNotesData.markdownDocsPath},markdownPreviewPath(){return this.getNoteableData.preview_note_path},author(){return this.getUserData},canToggleIssueState(){return this.getNoteableData.current_user.can_update&&this.openState!==V.h&&!this.closedAndLocked},closedAndLocked(){return!this.isOpen&&this.isLocked(this.getNoteableData)},endpoint(){return this.getNoteableData.create_note_path},draftEndpoint(){return this.getNotesData.draftsPath},isIssue(){return A.NOTEABLE_TYPE_MAPPING[this.noteableType]===A.ISSUE_NOTEABLE_TYPE},isEpic(){return A.NOTEABLE_TYPE_MAPPING[this.noteableType]===A.EPIC_NOTEABLE_TYPE},isMergeRequest(){return A.NOTEABLE_TYPE_MAPPING[this.noteableType]===A.MERGE_REQUEST_NOTEABLE_TYPE},trackingLabel(){return Object(G.y)(this.commentButtonTitle+" button")},disableSubmitButton(){return 0===this.note.length||this.isSubmitting},autosaveKey(){if(this.isLoggedIn){const e=Object(G.f)(Object(G.h)(this.noteableType));return`${this.$options.i18n.note}/${e}/${this.getNoteableData.id}`}return null},shouldDisableField(){return this.isSubmitting&&!this.isMeasuringCommentTemperature},shouldMeasureNoteTemperature(){return!Object(Z.b)(this.note)&&this.glAbilities.measureCommentTemperature}},watch:{noteIsInternal(e){this.formFieldProps.placeholder=e?this.$options.i18n.bodyPlaceholderInternal:this.$options.i18n.bodyPlaceholder}},mounted(){var e=this;B()(document).on("issuable:change",(function(t,i){e.toggleIssueLocalState(i?V.d:V.j)}))},methods:{...Object(n.c)(["saveNote","removePlaceholderNotes","closeIssuable","reopenIssuable","toggleIssueLocalState"]),handleSaveError({data:e,status:t}){this.errors=Object(Z.a)(e,t)},handleSaveDraft(){this.handleSave({isDraft:!0})},async handleSave({withIssueAction:e=!1,isDraft:t=!1,shouldMeasureTemperature:i=!0}={}){var n=this;if(this.errors=[],this.note.length){const s={endpoint:t?this.draftEndpoint:this.endpoint,flashContainer:this.$el,data:{note:{noteable_type:this.noteableType,noteable_id:this.getNoteableData.id,internal:this.noteIsInternal,note:this.note},merge_request_diff_head_sha:this.getNoteableData.diff_head_sha},isDraft:t};(this.noteType===A.DISCUSSION||t)&&(s.data.note.type=A.DISCUSSION_NOTE);if(!await Object(U.b)({content:this.note}))return;if(this.isSubmitting=!0,this.shouldMeasureNoteTemperature&&i)return this.saveNoteParams={isDraft:t,withIssueAction:e},this.isMeasuringCommentTemperature=!0,void this.$refs.commentTemperature.measureCommentTemperature();this.shouldMeasureTemperature||(this.isMeasuringCommentTemperature=!1),this.note="",t&&P.a.$emit("noteFormAddToReview",{name:"noteFormAddToReview"}),Object(Q.c)(this.$refs.markdownEditor.isContentEditorActive,`${this.noteableType}_${this.noteType}`),this.saveNote(s).then((function(){n.discard(),e&&n.toggleIssueState()})).catch((function({response:e}){n.handleSaveError(e),n.note=s.data.note.note,n.removePlaceholderNotes()})).finally((function(){n.isSubmitting=!1}))}else this.toggleIssueState()},handleEnter(){this.hasDrafts?this.handleSaveDraft():this.handleSave()},toggleIssueState(){var e=this;if(this.isIssue)return void P.a.$emit("toggle.issuable.state");(this.isOpen?this.closeIssuable:this.reopenIssuable)().then((function(){var e;return Object(J.a)(),null===H.a||void 0===H.a||null===(e=H.a.updateStatus)||void 0===e?void 0:e.call(H.a)})).catch((function(){return Object(M.createAlert)({message:A.toggleStateErrorMessage[e.noteableType][e.openState]})}))},discard(){this.note="",this.noteIsInternal=!1,this.$refs.markdownEditor.togglePreview(!1)},editCurrentUserLastNote(){if(""===this.note){const e=this.getCurrentUserLastNote;e&&P.a.$emit("enterEditMode",{noteId:e.id})}},hasEmailParticipants(){var e;return null===(e=this.getNoteableData.issue_email_participants)||void 0===e?void 0:e.length},dismissError(e){this.errors.splice(e,1)},onInput(e){this.note=e},append(e){this.$refs.markdownEditor.append(e)}}},re=Object(I.a)(ae,(function(){var e=this,t=e._self._c;return t("div",[e.isLoggedIn?e.canCreateNote?e.canCreateNote?t("ul",{staticClass:"notes notes-form timeline"},[t("timeline-entry-item",{staticClass:"note-form"},[t("div",{staticClass:"flash-container gl-mb-2"}),e._v(" "),e._l(e.errors,(function(i,n){return t("gl-alert",{key:n,staticClass:"gl-mb-2",attrs:{variant:"danger"},on:{dismiss:function(){return e.dismissError(n)}}},[e._v("\n        "+e._s(i)+"\n      ")])})),e._v(" "),t("div",{staticClass:"timeline-content timeline-content-form"},[t("form",{ref:"commentForm",staticClass:"new-note common-note-form gfm-form js-main-target-form",attrs:{"data-testid":"comment-form"},on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[t("comment-field-layout",{attrs:{"with-alert-container":!0,"is-internal-note":e.noteIsInternal,note:e.note,"noteable-data":e.getNoteableData,"noteable-type":e.noteableType}},[t("markdown-editor",{ref:"markdownEditor",attrs:{value:e.note,"render-markdown-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"add-spacing-classes":!1,"form-field-props":e.formFieldProps,"autosave-key":e.autosaveKey,disabled:e.shouldDisableField,"autocomplete-data-sources":e.autocompleteDataSources,"noteable-type":e.noteableType,"supports-quick-actions":""},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.editCurrentUserLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey&&t.metaKey?e.handleSave():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey&&t.ctrlKey?e.handleSave():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?t.ctrlKey||t.shiftKey||t.altKey?null:e.handleEnter():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.handleEnter():null}],input:e.onInput}})],1),e._v(" "),e.glAbilities.measureCommentTemperature?t("comment-temperature",{ref:"commentTemperature",attrs:{"item-id":e.getNoteableData.id,"item-type":e.noteableType,"user-id":e.getUserData.id},on:{save:function(t){return e.handleSave({...e.saveNoteParams,shouldMeasureTemperature:!1})}},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}}):e._e(),e._v(" "),t("div",{staticClass:"note-form-actions gl-font-size-0"},[e.canSetInternalNote?t("gl-form-checkbox",{staticClass:"gl-mb-2 gl-basis-full",attrs:{"data-testid":"internal-note-checkbox"},model:{value:e.noteIsInternal,callback:function(t){e.noteIsInternal=t},expression:"noteIsInternal"}},[e._v("\n              "+e._s(e.$options.i18n.internal)+"\n              "),t("help-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],attrs:{title:e.$options.i18n.internalVisibility}})],1):e._e(),e._v(" "),e.hasDrafts?[t("gl-button",{staticClass:"gl-mr-3",attrs:{disabled:e.disableSubmitButton,"data-testid":"add-to-review-button",category:"primary",variant:"confirm"},on:{click:function(t){return e.handleSaveDraft()}}},[e._v("\n                "+e._s(e.$options.i18n.addToReview)+"\n              ")]),e._v(" "),t("gl-button",{staticClass:"gl-mr-3",attrs:{disabled:e.disableSubmitButton,"data-testid":"add-comment-now-button",category:"secondary"},on:{click:function(t){return t.preventDefault(),e.handleSave()}}},[e._v(e._s(e.$options.i18n.addCommentNow))])]:[t("comment-type-dropdown",{staticClass:"gl-mr-3",attrs:{"data-testid":"comment-button",disabled:e.disableSubmitButton,"tracking-label":e.trackingLabel,"is-internal-note":e.noteIsInternal,"noteable-display-name":e.noteableDisplayName,"discussions-require-resolution":e.discussionsRequireResolution},on:{click:e.handleSave},model:{value:e.noteType,callback:function(t){e.noteType=t},expression:"noteType"}}),e._v(" "),e.isMergeRequest?[t("gl-button",{staticClass:"gl-mr-3",attrs:{disabled:e.disableSubmitButton,"data-testid":"start-review-button",category:"secondary",variant:"confirm"},on:{click:function(t){return e.handleSaveDraft()}}},[e._v("\n                  "+e._s(e.$options.i18n.startReview)+"\n                ")])]:e._e()],e._v(" "),e.canToggleIssueState?t("gl-button",{class:[e.actionButtonClassNames,"btn-comment btn-comment-and-close"],attrs:{loading:e.isToggleStateButtonLoading,disabled:e.isSubmitting,"data-testid":"close-reopen-button"},on:{click:function(t){return e.handleSave({withIssueAction:!0})}}},[e._v(e._s(e.issueActionButtonTitle))]):e._e()],2)],1)])],2)],1):e._e():t("discussion-locked-widget",{attrs:{"issuable-type":e.noteableDisplayName}}):t("note-signed-out-widget")],1)}),[],!1,null,null,null).exports,oe=i("s1D3"),le=i("30su"),de={i18n:{information:Object(W.g)("Notes|You're only seeing %{boldStart}other activity%{boldEnd} in the feed. To add a comment, switch to one of the following options.")},components:{GlButton:L.a,GlIcon:oe.a,GlSprintf:le.a},methods:{selectFilter(e){P.a.$emit("dropdownSelect",e)}}},ce=Object(I.a)(de,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"timeline-entry note note-wrapper discussion-filter-note js-discussion-filter-note",attrs:{"data-testid":"discussion-filter-container"}},[t("div",{staticClass:"gl-float-left -gl-mt-1 gl-ml-2 gl-flex gl-h-6 gl-w-6 gl-items-center gl-justify-center gl-rounded-full gl-bg-gray-50 gl-text-subtle"},[t("gl-icon",{attrs:{name:"comment"}})],1),e._v(" "),t("div",{staticClass:"timeline-content gl-pl-8"},[t("div",{attrs:{"data-testid":"discussion-filter-timeline-content"}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.information},scopedSlots:e._u([{key:"bold",fn:function({content:i}){return[t("b",[e._v(e._s(i))])]}}])})],1),e._v(" "),t("div",{staticClass:"discussion-filter-actions gl-mt-3 gl-flex"},[t("gl-button",{staticClass:"gl-mr-3",attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(0)}}},[e._v("\n        "+e._s(e.__("Show all activity"))+"\n      ")]),e._v(" "),t("gl-button",{attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(1)}}},[e._v("\n        "+e._s(e.__("Show comments only"))+"\n      ")])],1)])])}),[],!1,null,null,null).exports,ue=i("ffkl"),pe=(i("UezY"),i("hG7+"),i("3UXl"),i("iyoE"),{functional:!0,render(e,t){const{slotKeys:i}=t.props,n=t.slots();return i.map((function(e){return n[e]})).filter((function(e){return e}))}}),he=Object(I.a)(pe,void 0,void 0,!1,null,null,null).exports,me=i("5v28"),fe=i("d6eQ"),ge=i("w8i/"),ve={props:{noteableData:{type:Object,required:!0},iid:{type:Number,required:!0}},computed:{fullPath(){return this.noteableData.web_url?this.noteableData.web_url.split("/-/")[0].substring(1).replace("groups/",""):null},issuableType(){return this.noteableData.noteableType.toLowerCase()}},created(){var e=this;this.issuableType!==V.p&&this.issuableType!==V.n||ge.c.watchQuery({query:fe.b[this.issuableType].query,variables:{iid:String(this.iid),fullPath:this.fullPath},fetchPolicy:me.c.CACHE_ONLY}).subscribe((function(t){var i;const n=null===(i=t.data)||void 0===i||null===(i=i.workspace)||void 0===i?void 0:i.issuable;n&&e.setConfidentiality(n.confidential)}))},methods:{...Object(n.c)(["setConfidentiality"])},render:()=>null},be=Object(I.a)(ve,void 0,void 0,!1,null,null,null).exports,ye=i("Bo17"),ke=i("fSQg"),we=i("XiQx"),Se=i("CqXh");const _e=[{key:A.DESC,text:Object(W.a)("Newest first"),cls:"js-newest-first"},{key:A.ASC,text:Object(W.a)("Oldest first"),cls:"js-oldest-first"}];var Ie={SORT_OPTIONS:_e,components:{GlIcon:oe.a,GlDisclosureDropdown:ye.a,GlDisclosureDropdownGroup:ke.a,GlDisclosureDropdownItem:we.b,LocalStorageSync:Se.a},mixins:[a.b.mixin()],props:{filters:{type:Array,required:!0},selectedValue:{type:Number,default:A.DISCUSSION_FILTERS_DEFAULT_VALUE,required:!1}},data(){return{currentValue:Object(p.i)(A.NOTE_UNDERSCORE)?A.DISCUSSION_FILTERS_DEFAULT_VALUE:this.selectedValue,defaultValue:A.DISCUSSION_FILTERS_DEFAULT_VALUE,displayFilters:!0}},computed:{...Object(n.d)(["getNotesDataByProp","timelineEnabled","isLoading","sortDirection","persistSortOrder","noteableType"]),currentFilter(){var e=this;return this.currentValue?this.filters.find((function(t){return t.value===e.currentValue})):this.filters[0]},selectedSortOption(){var e=this;return _e.find((function({key:t}){return e.sortDirection===t}))},sortStorageKey(){return"sort_direction_"+this.noteableType.toLowerCase()}},created(){if(window.mrTabs){const{eventHub:e,currentTab:t}=window.mrTabs;e.$on("MergeRequestTabChange",this.toggleFilters),this.toggleFilters(t)}P.a.$on("dropdownSelect",this.selectFilter),window.addEventListener("hashchange",this.handleLocationHash)},mounted(){this.toggleCommentsForm()},destroyed(){P.a.$off("dropdownSelect",this.selectFilter),window.removeEventListener("hashchange",this.handleLocationHash)},methods:{...Object(n.c)(["filterDiscussion","setCommentsDisabled","setTargetNoteHash","setTimelineView","setDiscussionSortDirection"]),selectFilter(e,t=!0){const i=parseInt(e,10);i!==this.currentValue&&(this.timelineEnabled&&i!==A.COMMENTS_ONLY_FILTER_VALUE&&this.setTimelineView(!1),this.currentValue=i,this.filterDiscussion({path:this.getNotesDataByProp("discussionsPath"),filter:i,persistFilter:t}),this.toggleCommentsForm())},toggleCommentsForm(){this.setCommentsDisabled(this.currentValue===A.HISTORY_ONLY_FILTER_VALUE)},toggleFilters(e){this.displayFilters=e===A.DISCUSSION_TAB_LABEL},handleLocationHash(){const e=Object(p.n)();/^note_/.test(e)&&this.currentValue!==A.DISCUSSION_FILTERS_DEFAULT_VALUE&&(this.selectFilter(this.defaultValue,!1),this.setTargetNoteHash(e))},filterType:e=>0===e?A.DISCUSSION_FILTER_TYPES.ALL:1===e?A.DISCUSSION_FILTER_TYPES.COMMENTS:A.DISCUSSION_FILTER_TYPES.HISTORY,fetchSortedDiscussions(e){this.isSortDropdownItemActive(e)||(this.setDiscussionSortDirection({direction:e}),this.track("change_discussion_sort_direction",{property:e}))},isSortDropdownItemActive(e){return e===this.sortDirection}}},Te={components:{TimelineToggle:function(){return i.e(944).then(i.bind(null,"m3lQ"))},DiscussionFilter:Object(I.a)(Ie,(function(){var e=this,t=e._self._c;return e.displayFilters?t("div",{staticClass:"full-width-mobile gl-inline-block gl-align-bottom",attrs:{id:"discussion-preferences","data-testid":"discussion-preferences"}},[t("local-storage-sync",{attrs:{value:e.sortDirection,"storage-key":e.sortStorageKey,persist:e.persistSortOrder,"as-string":""},on:{input:function(t){return e.setDiscussionSortDirection({direction:t})}}}),e._v(" "),t("gl-disclosure-dropdown",{staticClass:"full-width-mobile",attrs:{id:"discussion-preferences-dropdown","data-testid":"discussion-preferences-dropdown","toggle-text":e.__("Sort or filter"),disabled:e.isLoading,placement:"bottom-end"}},[t("gl-disclosure-dropdown-group",{attrs:{id:"discussion-sort"}},e._l(e.$options.SORT_OPTIONS,(function({text:i,key:n,cls:s}){return t("gl-disclosure-dropdown-item",{key:i,class:s,attrs:{"is-selected":e.isSortDropdownItemActive(n)},on:{action:function(t){return e.fetchSortedDiscussions(n)}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("gl-icon",{class:["gl-dropdown-item-check-icon",{"gl-invisible":!e.isSortDropdownItemActive(n)},"gl-text-blue-400"],attrs:{name:"mobile-issue-close","data-testid":"dropdown-item-checkbox"}}),e._v("\n          "+e._s(i)+"\n        ")]},proxy:!0}],null,!0)})})),1),e._v(" "),t("gl-disclosure-dropdown-group",{staticClass:"discussion-filter-container js-discussion-filter-container",attrs:{id:"discussion-filter",bordered:""}},e._l(e.filters,(function(i){return t("gl-disclosure-dropdown-item",{key:i.value,class:{"is-active":i.value===e.currentValue},attrs:{"is-selected":i.value===e.currentValue,"data-filter-type":e.filterType(i.value),"data-testid":"filter-menu-item"},on:{action:function(t){return e.selectFilter(i.value)}},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("gl-icon",{class:["gl-dropdown-item-check-icon",{"gl-invisible":i.value!==e.currentValue},"gl-text-blue-400"],attrs:{name:"mobile-issue-close","data-testid":"dropdown-item-checkbox"}}),e._v("\n          "+e._s(i.title)+"\n        ")]},proxy:!0}],null,!0)})})),1)],1)],1):e._e()}),[],!1,null,null,null).exports,AiSummarizeNotes:function(){return Promise.resolve().then(i.bind(null,"4b03"))},MrDiscussionFilter:function(){return i.e(1051).then(i.bind(null,"IdO/"))}},mixins:[Object(Y.a)(),Object(c.a)()],inject:{showTimelineViewToggle:{default:!1},resourceGlobalId:{default:null},mrFilter:{default:!1}},props:{notesFilters:{type:Array,required:!0},notesFilterValue:{type:Number,default:void 0,required:!1},aiLoading:{type:Boolean,default:!1,required:!1}},computed:{showAiActions(){return this.resourceGlobalId&&this.glAbilities.summarizeComments&&this.glFeatures.summarizeComments}}},Oe={name:"NotesApp",components:{NotePreview:T,NotesActivityHeader:Object(I.a)(Te,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-flex gl-flex-col gl-justify-between gl-pb-3 gl-pt-5 sm:gl-flex-row sm:gl-items-center"},[t("h2",{staticClass:"gl-m-0 gl-text-size-h1"},[e._v(e._s(e.__("Activity")))]),e._v(" "),t("div",{staticClass:"gl-mt-3 gl-flex gl-w-full gl-gap-3 sm:gl-mt-0 sm:gl-w-auto"},[e.showAiActions?t("ai-summarize-notes",{attrs:{"resource-global-id":e.resourceGlobalId,loading:e.aiLoading}}):e._e(),e._v(" "),e.showTimelineViewToggle?t("timeline-toggle"):e._e(),e._v(" "),e.mrFilter?t("mr-discussion-filter"):t("discussion-filter",{attrs:{filters:e.notesFilters,"selected-value":e.notesFilterValue}})],1)])}),[],!1,null,null,null).exports,NoteableNote:S.a,NoteableDiscussion:ue.a,SystemNote:j.a,CommentForm:re,PlaceholderNote:O.a,PlaceholderSystemNote:C.a,SkeletonLoadingContainer:x.a,DiscussionFilterNote:ce,OrderedLayout:he,SidebarSubscription:be,DraftNote:u.a,TimelineEntryItem:d.a,AiSummary:function(){return Promise.resolve().then(i.bind(null,"4b03"))}},mixins:[Object(c.a)(),a.a.mixin()],provide:()=>({summarizeClientSubscriptionId:Object(s.a)()}),props:{noteableData:{type:Object,required:!0},notesData:{type:Object,required:!0},notesFilters:{type:Array,required:!0},notesFilterValue:{type:Number,default:void 0,required:!1},shouldShow:{type:Boolean,required:!1,default:!0},helpPagePath:{type:String,required:!1,default:""}},data(){return{currentFilter:null,renderSkeleton:!this.shouldShow,aiLoading:null,isInitialEventTriggered:!1}},computed:{...Object(n.d)(["isNotesFetched","discussions","convertedDisscussionIds","getNotesDataByProp","isLoading","isFetching","commentsDisabled","getNoteableData","userCanReply","sortDirection","timelineEnabled","targetNoteHash"]),sortDirDesc(){return this.sortDirection===A.DESC},noteableType(){return this.noteableData.noteableType},previewNoteId(){var e;return this.isLoading&&null!==(e=this.targetNoteHash)&&void 0!==e&&e.startsWith("note_")?this.targetNoteHash.replace("note_",""):null},allDiscussions(){var e=this;let t=[];if(this.renderSkeleton||this.isLoading){const i=parseInt(this.notesData.prerenderedNotesCount,10)||0;if(t=new Array(i).fill({isSkeletonNote:!0}),this.previewNoteId&&!this.discussions.find((function(t){return t.notes[0].id===e.previewNoteId}))){const e={id:this.previewNoteId,isPreviewNote:!0};t.splice(i/2,0,e)}}return this.sortDirDesc?t.concat(this.discussions):this.discussions.concat(t)},canReply(){return this.userCanReply&&!this.commentsDisabled&&!this.timelineEnabled},slotKeys(){return this.sortDirDesc?["form","comments"]:["comments","form"]},isAppReady(){return!this.isLoading&&!this.renderSkeleton&&this.shouldShow}},watch:{async isFetching(){this.isFetching||(await this.$nextTick(),await this.startTaskList(),await this.checkLocationHash())},shouldShow(){var e=this;this.isNotesFetched||this.fetchNotes(),setTimeout((function(){e.renderSkeleton=!e.shouldShow}))},isAppReady:{handler(e){e&&this.$nextTick((function(){var e;null===(e=window.mrTabs)||void 0===e||e.eventHub.$emit("NotesAppReady")}))},immediate:!0}},mounted(){var e=this;const{parentElement:t}=this.$el;t&&t.classList.contains("js-vue-notes-event")&&t.addEventListener("toggleAward",(function(t){const{awardName:i,noteId:n}=t.detail;e.toggleAward({awardName:i,noteId:n})})),P.a.$on("noteFormAddToReview",this.handleReviewTracking),P.a.$on("noteFormStartReview",this.handleReviewTracking),window.addEventListener("hashchange",this.handleHashChanged),this.targetNoteHash&&this.targetNoteHash.startsWith("note_")&&Object(l.a)(),P.a.$on("notesApp.updateIssuableConfidentiality",this.setConfidentiality),E.b.bind(Object(D.Ab)(D.H),(function(t){return e.quoteReply(t)}))},updated(){var e=this;this.$nextTick((function(){Object(o.a)(e.$el.querySelectorAll(".gfm-project_member"))}))},beforeDestroy(){window.removeEventListener("hashchange",this.handleHashChanged),P.a.$off("notesApp.updateIssuableConfidentiality",this.setConfidentiality),P.a.$off("noteFormStartReview",this.handleReviewTracking),P.a.$off("noteFormAddToReview",this.handleReviewTracking),E.b.unbind(Object(D.Ab)(D.H),this.quoteReply)},methods:{...Object(n.c)(["toggleAward","setLastFetchedAt","setTargetNoteHash","toggleDiscussion","expandDiscussion","startTaskList","convertToDiscussion","setConfidentiality","fetchNotes"]),getDiscussionInSelection(){const e=window.getSelection();if(e.rangeCount<=0)return null;const t=e.getRangeAt(0).startContainer;return(t.nodeType===Node.TEXT_NODE?t.parentNode:t).closest(".js-noteable-discussion")},async quoteReply(e){const t=this.getDiscussionInSelection(),i=await N.a.selectionToGfm();if(e&&"function"==typeof e.preventDefault&&e.preventDefault(),t){const e=this.$refs.discussions.find((function({$el:e}){return e===t}));requestAnimationFrame((function(){e.showReplyForm(i)}))}else this.replyInMainEditor(i)},replyInMainEditor(e){this.$refs.commentForm.append(e)},discussionIsIndividualNoteAndNotConverted(e){return e.individual_note&&!this.convertedDisscussionIds.includes(e.id)&&!this.hasDraft(e)},handleHashChanged(){this.checkLocationHash()&&this.setTargetNoteHash(Object(p.n)())},checkLocationHash(){var e;const t=Object(p.n)(),i=null!==(e=t&&t.startsWith("note_")&&t.replace(/^note_/,""))&&void 0!==e?e:null;if(i){const e=this.discussions.find((function(e){return e.notes.some((function({id:e}){return e===i}))}));e&&this.expandDiscussion({discussionId:e.id})}return i},startReplying(e){return this.convertToDiscussion(e).then(this.$nextTick).then((function(){return P.a.$emit("startReplying",e)}))},setAiLoading(e){this.aiLoading=e},handleReviewTracking(e){const t={noteFormStartReview:"merge_request_click_start_review_on_overview_tab",noteFormAddToReview:"merge_request_click_add_to_review_on_overview_tab"};this.shouldShow&&window.mrTabs&&t[e.name]&&this.trackEvent(t[e.name])},hasDraft(e){const t=Object(r.b)(e);return Boolean(Object(r.c)(t))}},systemNote:A.SYSTEM_NOTE},Ce=Object(I.a)(Oe,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],attrs:{id:"notes"}},[t("sidebar-subscription",{attrs:{iid:e.noteableData.iid,"noteable-data":e.noteableData}}),e._v(" "),t("notes-activity-header",{attrs:{"notes-filters":e.notesFilters,"notes-filter-value":e.notesFilterValue,"ai-loading":e.aiLoading},on:{"set-ai-loading":e.setAiLoading}}),e._v(" "),null!==e.aiLoading?t("ai-summary",{attrs:{"ai-loading":e.aiLoading},on:{"set-ai-loading":e.setAiLoading}}):e._e(),e._v(" "),t("ordered-layout",{attrs:{"slot-keys":e.slotKeys},scopedSlots:e._u([{key:"form",fn:function(){return[e.commentsDisabled||e.timelineEnabled?e._e():t("comment-form",{ref:"commentForm",staticClass:"js-comment-form",attrs:{"noteable-type":e.noteableType}})]},proxy:!0},{key:"comments",fn:function(){return[t("ul",{staticClass:"notes main-notes-list timeline",attrs:{id:"notes-list"}},[e._l(e.allDiscussions,(function(i){return[i.isSkeletonNote?t("skeleton-loading-container",{key:i.id,staticClass:"note-skeleton"}):i.isPreviewNote?t("timeline-entry-item",{key:i.id,staticClass:"target note note-wrapper note-comment"},[t("note-preview",{attrs:{"note-id":e.previewNoteId}})],1):i.isDraft?t("timeline-entry-item",{key:i.id},[t("draft-note",{attrs:{draft:i}})],1):i.isPlaceholderNote?[i.placeholderType===e.$options.systemNote?t("placeholder-system-note",{key:i.id,attrs:{note:i.notes[0]}}):t("placeholder-note",{key:i.id,attrs:{note:i.notes[0]}})]:e.discussionIsIndividualNoteAndNotConverted(i)?[i.notes[0].system?t("system-note",{key:i.id,attrs:{note:i.notes[0]}}):t("noteable-note",{key:i.id,attrs:{note:i.notes[0],"show-reply-button":e.canReply},on:{startReplying:function(t){return e.startReplying(i.id)}}})]:t("noteable-discussion",{key:i.id,ref:"discussions",refInFor:!0,staticClass:"js-noteable-discussion",attrs:{discussion:i,"render-diff-file":!0,"is-overview-tab":"","help-page-path":e.helpPagePath}})]})),e._v(" "),e.commentsDisabled?t("discussion-filter-note"):e._e()],2)]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=Ce.exports},"d+lS":function(e,t,i){var n=i("dA+0");e.exports=function(e){return e&&e.length?n(e):[]}},dEBO:function(e,t,i){"use strict";i("ZzK0"),i("z6RN"),i("BzOf"),i("v2fZ");const n=/\{\{(.+?)\}\}/g;i("3UXl"),i("iyoE");var s=i("05sH"),a=i.n(s);var r={toCamelCase(e){return this.camelize(e.split("-").slice(1).join(" "))},template:(e,t)=>a()(e,{escape:n})(t),camelize:e=>e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,""),closest(e,t){for(;e&&e.tagName!==t&&"HTML"!==e.tagName;)e=e.parentNode;return e},isDropDownParts:e=>!(!e||!e.hasAttribute||"HTML"===e.tagName)&&(e.hasAttribute("data-dropdown-trigger")||e.hasAttribute("data-dropdown"))};class o{constructor(e,t={}){this.currentIndex=0,this.hidden=!0,this.list="string"==typeof e?document.querySelector(e):e,this.items=[],this.eventWrapper={},this.hideOnClick=!1!==t.hideOnClick,t.addActiveClassToDropdownButton&&(this.dropdownToggle=this.list.parentNode.querySelector(".js-dropdown-toggle")),this.getItems(),this.initTemplateString(),this.addEvents(),this.initialState=e.innerHTML}getItems(){return this.items=[].slice.call(this.list.querySelectorAll("li")),this.items}initTemplateString(){const e=this.items||this.getItems();let t="";return e.length>0&&(t=e[e.length-1].outerHTML),this.templateString=t,this.templateString}clickEvent(e){if("UL"===e.target.tagName)return;if(e.target.closest(".droplab-item-ignore"))return;const t=e.target.closest("li");if(!t)return;this.addSelectedClass(t),e.preventDefault(),this.hideOnClick&&this.hide();const i=new CustomEvent("click.dl",{detail:{list:this,selected:t,data:e.target.dataset}});this.list.dispatchEvent(i)}addSelectedClass(e){this.removeSelectedClasses(),e.classList.add("droplab-item-selected")}removeSelectedClasses(){(this.items||this.getItems()).forEach((function(e){return e.classList.remove("droplab-item-selected")}))}addEvents(){this.eventWrapper.clickEvent=this.clickEvent.bind(this),this.eventWrapper.closeDropdown=this.closeDropdown.bind(this),this.list.addEventListener("click",this.eventWrapper.clickEvent),this.list.addEventListener("keyup",this.eventWrapper.closeDropdown)}closeDropdown(e){return 27!==e.keyCode||(e.preventDefault(),this.toggle())}setData(e){this.data=e,this.render(e)}addData(e){this.data=(this.data||[]).concat(e),this.render(this.data)}render(e){const t=e?e.map(this.renderChildren.bind(this)):[];if(this.list.querySelector(".filter-dropdown-loading"))return;(this.list.querySelector("ul[data-dynamic]")||this.list).innerHTML=t.join("");const i=new CustomEvent("render.dl",{detail:{list:this}});this.list.dispatchEvent(i)}renderChildren(e){const t=r.template(this.templateString,e),i=document.createElement("div");return i.innerHTML=t,o.setImagesSrc(i),i.firstChild.style.display=e.droplab_hidden?"none":"block",i.firstChild.outerHTML}show(){this.hidden&&(this.list.style.display="block",this.currentIndex=0,this.hidden=!1,this.dropdownToggle&&this.dropdownToggle.classList.add("active"))}hide(){this.hidden||(this.list.style.display="none",this.currentIndex=0,this.hidden=!0,this.dropdownToggle&&this.dropdownToggle.classList.remove("active"))}toggle(){return this.hidden?this.show():this.hide()}destroy(){this.hide(),this.list.removeEventListener("click",this.eventWrapper.clickEvent),this.list.removeEventListener("keyup",this.eventWrapper.closeDropdown)}static setImagesSrc(e){[...e.querySelectorAll("img[data-src]")].forEach((function(e){const t=e;t.src=t.dataset.src,delete t.dataset.src}))}}var l=o;var d=class{constructor(e,t,i,n){this.trigger=e,this.list=new l(t,n),this.type="Hook",this.event="click",this.plugins=i||[],this.config=n||{},this.id=e.id}};var c=class extends d{constructor(e,t,i,n){super(e,t,i,n),this.type="button",this.event="click",this.eventWrapper={},this.addEvents(),this.addPlugins()}addPlugins(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}clicked(e){e.preventDefault();const t=new CustomEvent("click.dl",{detail:{hook:this},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t),this.list.toggle()}addEvents(){this.eventWrapper.clicked=this.clicked.bind(this),this.trigger.addEventListener("click",this.eventWrapper.clicked)}removeEvents(){this.trigger.removeEventListener("click",this.eventWrapper.clicked)}restoreInitialState(){this.list.list.innerHTML=this.list.initialState}removePlugins(){this.plugins.forEach((function(e){return e.destroy()}))}destroy(){this.restoreInitialState(),this.removeEvents(),this.removePlugins()}};var u=class extends d{constructor(e,t,i,n){super(e,t,i,n),this.type="input",this.event="input",this.eventWrapper={},this.addEvents(),this.addPlugins()}addPlugins(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}addEvents(){this.eventWrapper.mousedown=this.mousedown.bind(this),this.eventWrapper.input=this.input.bind(this),this.eventWrapper.keyup=this.keyup.bind(this),this.eventWrapper.keydown=this.keydown.bind(this),this.trigger.addEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.addEventListener("input",this.eventWrapper.input),this.trigger.addEventListener("keyup",this.eventWrapper.keyup),this.trigger.addEventListener("keydown",this.eventWrapper.keydown)}removeEvents(){this.hasRemovedEvents=!0,this.trigger.removeEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.removeEventListener("input",this.eventWrapper.input),this.trigger.removeEventListener("keyup",this.eventWrapper.keyup),this.trigger.removeEventListener("keydown",this.eventWrapper.keydown)}input(e){if(this.hasRemovedEvents)return;this.list.show();const t=new CustomEvent("input.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}mousedown(e){if(this.hasRemovedEvents)return;const t=new CustomEvent("mousedown.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}keyup(e){this.hasRemovedEvents||this.keyEvent(e,"keyup.dl")}keydown(e){this.hasRemovedEvents||this.keyEvent(e,"keydown.dl")}keyEvent(e,t){this.list.show();const i=new CustomEvent(t,{detail:{hook:this,text:e.target.value,which:e.which,key:e.key},bubbles:!0,cancelable:!0});e.target.dispatchEvent(i)}restoreInitialState(){this.list.list.innerHTML=this.list.initialState}removePlugins(){this.plugins.forEach((function(e){return e.destroy()}))}destroy(){this.restoreInitialState(),this.removeEvents(),this.removePlugins(),this.list.destroy()}};var p=function(){var e,t=!1,i=!1,n=function(e){for(var t=Array.prototype.slice.call(e.list.querySelectorAll("li:not(.divider):not(.hidden)"),0),i=[],n=0;n<t.length;n++){var s=t[n];s.classList.remove("droplab-item-active"),"none"!==s.style.display&&i.push(s)}return i},s=function(e){var t=n(e)[e.currentIndex-1],i=new CustomEvent("click.dl",{detail:{list:e,selected:t,data:t.dataset}});e.list.dispatchEvent(i),e.hide()};document.addEventListener("mousedown.dl",(function(e){var s=e.detail.hook.list;n(s),s.show(),s.currentIndex=0,t=!1,i=!1})),document.addEventListener("keydown.dl",(function(a){a.target;var r=a.detail.hook.list,o=r.currentIndex;if(t=!1,i=!1,a.detail.which){if(13===(e=a.detail.which))return void s(a.detail.hook.list);38===e&&(t=!0),40===e&&(i=!0)}else if(a.detail.key){if("Enter"===(e=a.detail.key))return void s(a.detail.hook.list);"ArrowUp"===e&&(t=!0),"ArrowDown"===e&&(i=!0)}t&&o--,i&&o++,o<0&&(o=0),r.currentIndex=o,function(e){var t=n(e);if(e.currentIndex>0&&(t[e.currentIndex-1]||(e.currentIndex=e.currentIndex-1),t[e.currentIndex-1])){var i=t[e.currentIndex-1],s=i.closest(".filter-dropdown");if(i.classList.add("droplab-item-active"),s){var a=s.offsetHeight,r=i.offsetTop-30;r>a&&(s.scrollTop=r-a)}}}(a.detail.hook.list)}))};t.a=class{constructor(){this.ready=!1,this.hooks=[],this.queuedData=[],this.config={},this.eventWrapper={}}loadStatic(){const e=[].slice.apply(document.querySelectorAll("[data-dropdown-trigger]"));this.addHooks(e)}addData(...e){this.applyArgs(e,"processAddData")}setData(...e){this.applyArgs(e,"processSetData")}destroy(){this.hooks.forEach((function(e){return e.destroy()})),this.hooks=[],this.removeEvents()}applyArgs(e,t){return this.ready?this[t](...e):(this.queuedData=this.queuedData||[],this.queuedData.push(e),this.ready)}processAddData(e,t){this.processData(e,t,"addData")}processSetData(e,t){this.processData(e,t,"setData")}processData(e,t,i){this.hooks.forEach((function(n){Array.isArray(e)&&n.list[i](e),n.trigger.id===e&&n.list[i](t)}))}addEvents(){this.eventWrapper.documentClicked=this.documentClicked.bind(this),document.addEventListener("click",this.eventWrapper.documentClicked)}documentClicked(e){if(!e.defaultPrevented&&!r.isDropDownParts(e.target)){if("UL"!==e.target.tagName){const t=r.closest(e.target,"UL");if(r.isDropDownParts(t))return}this.hooks.forEach((function(e){return e.list.hide()}))}}removeEvents(){document.removeEventListener("click",this.eventWrapper.documentClicked)}changeHookList(e,t,i,n){var s=this;const a="string"==typeof e?document.getElementById(e):e;this.hooks.forEach((function(e,r){const o=e;o.list.list.dataset.dropdownActive=!1,o.trigger===a&&(o.destroy(),s.hooks.splice(r,1),s.addHook(a,t,i,n))}))}addHook(e,t,i,n){const s="string"==typeof e?document.querySelector(e):e;let a;a="string"==typeof t?document.querySelector(t):t instanceof Element?t:document.querySelector(e.dataset[r.toCamelCase("data-dropdown-trigger")]),a.dataset.dropdownActive=!0;const o="INPUT"===s.tagName?u:c;return this.hooks.push(new o(s,a,i,n)),this}addHooks(e,t,i){var n=this;return e.forEach((function(e){return n.addHook(e,null,t,i)})),this}setConfig(e){this.config=e}fireReady(){const e=new CustomEvent("ready.dl",{detail:{dropdown:this}});document.dispatchEvent(e),this.ready=!0}init(e,t,i,n){var s=this;return e?this.addHook(e,t,i,n):this.loadStatic(),this.addEvents(),p(),this.fireReady(),this.queuedData.forEach((function(e){return s.addData(e)})),this.queuedData=[],this}}},dHdD:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Label"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Label"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"textColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};i.loc.source={body:"fragment Label on Label {\n  id\n  color\n  textColor\n  title\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.Label=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"Label")},dOWE:function(e,t,i){var n=i("w9hk"),s=i("wJPF"),a=i("Uc6l"),r=a&&a.isMap,o=r?s(r):n;e.exports=o},"dR/i":function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var n=i("b9Gi"),s=i("ewH8"),a=i("jlnU"),r=i("/lV4"),o=i("H3X6"),l=i("d6eQ"),d=i("kMc5"),c=i("s1D3"),u=i("dsWN"),p=i("z1xw"),h=i("AxUD"),m=i("5c3i"),f={components:{GlIcon:c.a,GlAlert:u.a},directives:{GlTooltip:p.a},props:{confidential:{type:Boolean,required:!0},issuableType:{type:String,required:!0}},computed:{confidentialBodyText(){return Object(m.m)(this.issuableType===h.n?h.t:h.u,this.issuableType)},confidentialIcon(){return this.confidential?"eye-slash":"eye"},tooltipLabel(){return this.confidential?Object(r.a)("Confidential"):Object(r.a)("Not confidential")}}},g=i("tBpV"),v=Object(g.a)(f,(function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-testid":"sidebar-collapsed-icon"},on:{click:function(t){return e.$emit("expandSidebar")}}},[t("gl-icon",{staticClass:"sidebar-item-icon gl-inline-block",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}})],1),e._v(" "),t("gl-icon",{staticClass:"sidebar-item-icon hide-collapsed gl-inline-block",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}}),e._v(" "),t("span",{staticClass:"hide-collapsed",attrs:{"data-testid":"confidential-text"}},[e._v("\n    "+e._s(e.tooltipLabel)+"\n    "),e.confidential?t("gl-alert",{staticClass:"gl-mt-3",attrs:{"show-icon":!1,dismissible:!1,variant:"warning"}},[e._v("\n      "+e._s(e.confidentialBodyText)+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null).exports,b=i("30su"),y=i("4lAS"),k={i18n:{confidentialityOnWarning:Object(r.a)("You are going to turn on confidentiality. Only %{context} members with %{strongStart}%{permissions}%{strongEnd} can view or be notified about this %{issuableType}."),confidentialityOffWarning:Object(r.a)("You are going to turn off the confidentiality. This means %{strongStart}everyone%{strongEnd} will be able to see%{commentText} this %{issuableType}.")},components:{GlSprintf:b.a,GlButton:y.a},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},confidential:{required:!0,type:Boolean},issuableType:{required:!0,type:String}},data:()=>({loading:!1}),computed:{toggleButtonText(){return this.loading?Object(r.a)("Applying"):this.confidential?Object(r.a)("Turn off"):Object(r.a)("Turn on")},warningMessage(){return this.confidential?this.$options.i18n.confidentialityOffWarning:this.$options.i18n.confidentialityOnWarning},isIssue(){return this.issuableType===h.p},isTestCase(){return this.issuableType===h.s},isIssueOrTestCase(){return this.isIssue||this.isTestCase},context(){return this.isIssueOrTestCase?Object(r.a)("project"):Object(r.a)("group")},workspacePath(){return this.isIssueOrTestCase?{projectPath:this.fullPath}:{groupPath:this.fullPath}},permissions(){return this.isIssue?Object(r.a)("at least the Planner role, the author, and assignees"):Object(r.a)("at least the Planner role")},issuableTypeText(){return h.w[this.issuableType]},commentText(){return this.isTestCase?"":Object(r.a)(" and leave a comment on")}},methods:{submitForm(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:l.b[this.issuableType].mutation,variables:{input:{...this.workspacePath,iid:this.iid,confidential:!this.confidential}}}).then((function({data:{issuableSetConfidential:{errors:t}}}){t.length?Object(a.createAlert)({message:t[0]}):e.$emit("closeForm")})).catch((function(){Object(a.createAlert)({message:Object(r.h)(Object(r.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:e.issuableTypeText})})})).finally((function(){e.loading=!1}))}}},w=Object(g.a)(k,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown show"},[t("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[t("div",[t("p",{attrs:{"data-testid":"warning-message"}},[t("gl-sprintf",{attrs:{message:e.warningMessage},scopedSlots:e._u([{key:"strong",fn:function({content:i}){return[t("strong",[t("gl-sprintf",{attrs:{message:i},scopedSlots:e._u([{key:"permissions",fn:function(){return[e._v(e._s(e.permissions))]},proxy:!0}],null,!0)})],1)]}},{key:"context",fn:function(){return[e._v(e._s(e.context))]},proxy:!0},{key:"commentText",fn:function(){return[e._v(e._s(e.commentText))]},proxy:!0},{key:"issuableType",fn:function(){return[e._v(e._s(e.issuableTypeText))]},proxy:!0}])})],1),e._v(" "),t("div",{staticClass:"sidebar-item-warning-message-actions"},[t("gl-button",{staticClass:"gl-mr-3",attrs:{"data-testid":"confidential-cancel"},on:{click:function(t){return e.$emit("closeForm")}}},[e._v("\n          "+e._s(e.__("Cancel"))+"\n        ")]),e._v(" "),t("gl-button",{attrs:{category:"secondary",variant:"confirm",disabled:e.loading,loading:e.loading,"data-testid":"confidential-toggle"},on:{click:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[e._v("\n          "+e._s(e.toggleButtonText)+"\n        ")])],1)])])])}),[],!1,null,null,null).exports;const S=s.default.observable({setConfidentiality:null}),_=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var I={tracking:{event:o.m.editEvent,label:o.m.rightSidebarLabel,property:"confidentiality"},components:{SidebarEditableItem:d.a,SidebarConfidentialityContent:v,SidebarConfidentialityForm:w},inject:{isClassicSidebar:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({confidential:!1}),apollo:{confidential:{query(){return l.b[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t;return(null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.confidential)||!1},skip(){return!this.iid},result({data:e}){var t;e&&this.$emit("confidentialityUpdated",null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.confidential)},error(){Object(a.createAlert)({message:Object(r.h)(Object(r.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:this.issuableType})})}}},computed:{isLoading(){return this.$apollo.queries.confidential.loading}},mounted(){S.setConfidentiality=this.setConfidentiality},destroyed(){S.setConfidentiality=null},methods:{closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(_),this.$emit("closeForm")},setConfidentiality(){var e=this;const{defaultClient:t}=this.$apollo.provider.clients,i=t.readQuery({query:l.b[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid}}),s=Object(n.a)(i,(function(t){t.workspace.issuable.confidential=!e.confidential}));t.writeQuery({query:l.b[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid},data:s})},expandSidebar(){this.$refs.editable.expand(),this.$emit("expandSidebar")}}},T=Object(g.a)(I,(function(){var e=this,t=e._self._c;return t("sidebar-editable-item",{ref:"editable",staticClass:"block confidentiality",attrs:{title:e.__("Confidentiality"),tracking:e.$options.tracking,loading:e.isLoading,"data-testid":"sidebar-confidentiality"},scopedSlots:e._u([{key:"collapsed",fn:function(){return[t("div",[e.isLoading?e._e():t("sidebar-confidentiality-content",{class:{"gl-mt-3":!e.isClassicSidebar},attrs:{confidential:e.confidential,"issuable-type":e.issuableType},on:{expandSidebar:e.expandSidebar}})],1)]},proxy:!0},{key:"default",fn:function(){return[t("sidebar-confidentiality-content",{attrs:{confidential:e.confidential,"issuable-type":e.issuableType}}),e._v(" "),t("sidebar-confidentiality-form",{attrs:{iid:e.iid,"full-path":e.fullPath,confidential:e.confidential,"issuable-type":e.issuableType},on:{closeForm:e.closeForm}})]},proxy:!0}])})}),[],!1,null,null,null);t.b=T.exports},db9E:function(e,t,i){"use strict";i("B++/"),i("z6RN"),i("47t/"),i("UezY"),i("hG7+");var n=i("jlnU"),s=i("FxFN"),a=i("AxUD"),r=i("QwBj"),o=i("/lV4"),l=i("GuNs"),d=i("2ibD");var c=class{constructor(e){this.endpoint=e}fetchRelatedIssues(){return d.a.get(this.endpoint)}addRelatedIssues(e,t=l.n.RELATES_TO){return d.a.post(this.endpoint,{issuable_references:e,link_type:t})}static saveOrder({endpoint:e,move_before_id:t,move_after_id:i}){return d.a.put(e,{epic:{move_before_id:t,move_after_id:i}})}static remove(e){return d.a.delete(e)}},u=i("NmEs");var p=class{constructor(){this.state={relatedIssues:[],pendingReferences:[]}}setRelatedIssues(e=[]){this.state.relatedIssues=Object(u.g)(e,{deep:!0})}addRelatedIssues(e=[]){this.setRelatedIssues(this.state.relatedIssues.concat(e))}removeRelatedIssue(e){this.state.relatedIssues=this.state.relatedIssues.filter((function(t){return t.id!==e.id}))}updateIssueOrder(e,t){if(this.state.relatedIssues.length>0){const i=this.state.relatedIssues.splice(e,1)[0];this.state.relatedIssues.splice(t,0,i)}}setPendingReferences(e){this.state.pendingReferences=e.filter((function(t,i){return e.indexOf(t)===i}))}addPendingReferences(e=[]){const t=this.state.pendingReferences.concat(e);this.setPendingReferences(t)}removePendingRelatedIssue(e){this.state.pendingReferences=this.state.pendingReferences.filter((function(t,i){return i!==e}))}},h=(i("3UXl"),i("iyoE"),i("MV2A")),m=i("g63F"),f=i("l5WF"),g=i("4wRe"),v=i("4lAS"),b=i("3twG"),y=i("EmJ/"),k=i.n(y),w=i("Jn9D"),S=i("s1D3"),_=i("z1xw"),I=i("bKv5"),T={name:"IssueToken",components:{GlIcon:S.a,GlButton:v.a},directives:{GlTooltip:_.a},mixins:[I.a],props:{isCondensed:{type:Boolean,required:!1,default:!1}},computed:{removeButtonLabel(){const{displayReference:e}=this;return Object(o.h)(Object(o.a)("Remove %{displayReference}"),{displayReference:e},!1)},stateTitle(){return this.isCondensed?"":this.isOpen?Object(o.a)("Open"):Object(o.a)("Closed")},innerComponentType(){return this.isCondensed?"span":"div"},issueTitle(){return this.isCondensed?this.title:""}}},O=i("tBpV"),C=Object(O.a)(T,(function(){var e=this,t=e._self._c;return t("div",{class:{"issue-token gl-inline-flex gl-max-w-full gl-items-stretch gl-whitespace-nowrap gl-leading-24":e.isCondensed,"issuable-info-container flex-row":!e.isCondensed}},[t(e.computedLinkElementType,{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"link",tag:"component",class:{"issue-token-link gl-inline-flex gl-min-w-0 gl-text-subtle":e.isCondensed,"issuable-main-info":!e.isCondensed},attrs:{href:e.computedPath,title:e.issueTitle,"data-placement":"top"}},[e.hasTitle?t(e.innerComponentType,{ref:"title",tag:"component",staticClass:"js-issue-token-title",class:{"issue-token-title issue-token-end gl-flex gl-items-baseline gl-overflow-hidden gl-pl-3 gl-text-subtle":e.isCondensed,"issue-title block-truncated":!e.isCondensed,"gl-rounded-br-small gl-rounded-tr-small gl-pr-3":!e.canRemove}},[t("span",{staticClass:"gl-truncate"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),t(e.innerComponentType,{ref:"reference",tag:"component",class:{"issue-token-reference gl-flex gl-items-center gl-rounded-bl-small gl-rounded-tl-small gl-px-3":e.isCondensed,"issuable-info":!e.isCondensed}},[e.hasState?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:e.iconClass,attrs:{name:e.iconName,size:12,title:e.stateTitle,"aria-label":e.state,"data-testid":"referenceIcon"}}):e._e(),e._v("\n      "+e._s(e.displayReference)+"\n    ")],1)],1),e._v(" "),e.canRemove?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"removeButton",class:{"issue-token-remove-button !gl-rounded-l-none !gl-rounded-r-small gl-text-subtle":e.isCondensed},attrs:{title:e.removeButtonLabel,"aria-label":e.removeButtonLabel,disabled:e.removeDisabled,"data-testid":"removeBtn",type:"button",category:"tertiary",size:"small",icon:"close"},on:{click:e.onRemoveRequest}}):e._e()],1)}),[],!1,null,null,null).exports;var x={TYPE_ISSUE:a.p,name:"RelatedIssuableInput",components:{GlFormGroup:f.a,IssueToken:C},props:{inputId:{type:String,required:!1,default:""},references:{type:Array,required:!1,default:function(){return[]}},pathIdSeparator:{type:String,required:!0},inputValue:{type:String,required:!1,default:""},focusOnMount:{type:Boolean,required:!1,default:!1},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},autoCompleteOptions:{type:Object,required:!1,default:function(){return{}}},issuableType:{type:String,required:!1,default:a.p},confidential:{type:Boolean,required:!1,default:!1}},data:()=>({isInputFocused:!1,isAutoCompleteOpen:!1,areEventsAssigned:!1}),computed:{inputPlaceholder(){const{issuableType:e,allowAutoComplete:t,confidential:i}=this,n=i?l.e:l.f,s=l.d[t][e];return`${n[e]}${s}`},allowAutoComplete(){return Object.keys(this.autoCompleteSources).length>0}},mounted(){var e=this;this.setupAutoComplete(),this.focusOnMount&&this.$nextTick().then((function(){e.$refs.input.focus()})).catch((function(){}))},beforeUpdate(){this.setupAutoComplete()},beforeDestroy(){const e=k()(this.$refs.input);e.off("shown-issues.atwho"),e.off("hidden-issues.atwho"),e.off("inserted-issues.atwho",this.onInput)},methods:{onAutoCompleteToggled(e){this.isAutoCompleteOpen=e},onInput(){const{value:e}=this.$refs.input,t=this.$refs.input.selectionStart,i=e.split(/\s/);let n,s=0;const a=i.filter((function(e){let i=!1;return t>=s&&t<=s+e.length&&(n=e,i=!0),s=s+e.length+1,!i})).filter((function(e){return e.trim().length>0}));this.$emit("addIssuableFormInput",{newValue:e,untouchedRawReferences:a,touchedReference:n,caretPos:t})},onBlur(e){const t=this.$root.$el.querySelector(".js-button-container");if(!(t&&t.contains(e.relatedTarget)||(this.isInputFocused=!1,this.isAutoCompleteOpen))){const{value:e}=this.$refs.input;e!==this.pathIdSeparator&&this.$emit("addIssuableFormBlur",e)}},onFocus(){this.isInputFocused=!0},setupAutoComplete(){const e=k()(this.$refs.input);this.allowAutoComplete&&(this.gfmAutoComplete=new w.a(this.autoCompleteSources),this.gfmAutoComplete.setup(e,this.autoCompleteOptions)),this.areEventsAssigned||(e.on("shown-issues.atwho",this.onAutoCompleteToggled.bind(this,!0)),e.on("hidden-issues.atwho",this.onAutoCompleteToggled.bind(this,!0))),this.areEventsAssigned=!0},onIssuableFormWrapperClick(){this.$refs.input.focus()}}},j=Object(O.a)(x,(function(){var e=this,t=e._self._c;return t("gl-form-group",{scopedSlots:e._u([e.issuableType===e.$options.TYPE_ISSUE?{key:"description",fn:function(){return[t("span",{attrs:{id:e.inputId+"-description"}},[e._v("\n      "+e._s(e.__("Only issues can be linked from this form. You can also link this issue from an epic or task."))+"\n    ")])]},proxy:!0}:null],null,!0)},[t("div",{ref:"issuableFormWrapper",staticClass:"add-issuable-form-input-wrapper form-control gl-field-error-outline gl-h-auto gl-px-3 gl-pb-0 gl-pt-2",class:{focus:e.isInputFocused},on:{click:e.onIssuableFormWrapperClick}},[t("ul",{staticClass:"gl-m-0 gl-flex gl-list-none gl-flex-wrap gl-items-baseline gl-p-0"},[e._l(e.references,(function(i,n){return t("li",{key:i,staticClass:"gl-mb-2 gl-mr-2 gl-max-w-full"},[t("issue-token",{attrs:{"id-key":n,"display-reference":i.text||i,"can-remove":"","is-condensed":"","path-id-separator":e.pathIdSeparator,"event-namespace":"pendingIssuable"},on:{pendingIssuableRemoveRequest:function(t){e.$emit("pendingIssuableRemoveRequest",t)}}})],1)})),e._v(" "),t("li",{staticClass:"gl-mb-2 gl-grow"},[t("input",{ref:"input",staticClass:"gl-w-full gl-border-none gl-outline-none",attrs:{id:e.inputId,"aria-describedby":e.inputId+"-description",placeholder:e.inputPlaceholder,"aria-label":e.inputPlaceholder,type:"text","data-testid":"add-issue-field",autocomplete:"off"},domProps:{value:e.inputValue},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"escape",void 0,t.key,void 0)||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.$emit("addIssuableFormCancel")}}})])],2)])])}),[],!1,null,null,null).exports,E={name:"AddIssuableForm",components:{GlFormGroup:f.a,GlFormRadioGroup:g.a,RelatedIssuableInput:j,GlButton:v.a},props:{inputValue:{type:String,required:!0},pendingReferences:{type:Array,required:!1,default:function(){return[]}},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},showCategorizedIssues:{type:Boolean,required:!1,default:!1},isSubmitting:{type:Boolean,required:!1,default:!1},pathIdSeparator:{type:String,required:!0},issuableType:{type:String,required:!1,default:a.p},hasError:{type:Boolean,required:!1,default:!1},itemAddFailureType:{type:String,required:!1,default:l.m.NOT_FOUND},itemAddFailureMessage:{type:String,required:!1,default:""},confidential:{type:Boolean,required:!1,default:!1},autoCompleteEpics:{type:Boolean,required:!1,default:!0},autoCompleteIssues:{type:Boolean,required:!1,default:!0}},data:()=>({linkedIssueType:l.n.RELATES_TO,linkedIssueTypes:[{text:Object(o.a)("relates to"),value:l.n.RELATES_TO},{text:Object(o.a)("blocks"),value:l.n.BLOCKS},{text:Object(o.a)("is blocked by"),value:l.n.IS_BLOCKED_BY}]}),computed:{isSubmitButtonDisabled(){return 0===this.inputValue.length&&0===this.pendingReferences.length||this.isSubmitting},addRelatedErrorMessage(){return this.itemAddFailureMessage?this.itemAddFailureMessage:this.itemAddFailureType===l.m.NOT_FOUND?l.b[this.issuableType]:l.c[this.itemAddFailureType]},transformedAutocompleteSources(){var e,t;return this.confidential&&null!==(e=this.autoCompleteSources)&&void 0!==e&&e.issues&&null!==(t=this.autoCompleteSources)&&void 0!==t&&t.epics?{...this.autoCompleteSources,issues:Object(b.B)({confidential_only:!0},this.autoCompleteSources.issues),epics:Object(b.B)({confidential_only:!0},this.autoCompleteSources.epics)}:this.autoCompleteSources},issuableCategoryHeaderText(){return l.k[this.issuableType]},issuableInputText(){return l.l[this.issuableType]}},methods:{onPendingIssuableRemoveRequest(e){this.$emit("pendingIssuableRemoveRequest",e)},onFormSubmit(){this.$emit("addIssuableFormSubmit",{pendingReferences:this.$refs.relatedIssuableInput.$refs.input.value,linkedIssueType:this.linkedIssueType})},onFormCancel(){this.$emit("addIssuableFormCancel")},onAddIssuableFormInput(e){this.$emit("addIssuableFormInput",e)},onAddIssuableFormBlur(e){this.$emit("addIssuableFormBlur",e)}}},D=Object(O.a)(E,(function(){var e=this,t=e._self._c;return t("form",{on:{submit:function(t){return t.preventDefault(),e.onFormSubmit.apply(null,arguments)}}},[e.showCategorizedIssues?[t("gl-form-group",{staticClass:"gl-mb-3",attrs:{label:e.issuableCategoryHeaderText,"label-for":"linked-issue-type-radio","label-class":"label-bold"}},[t("gl-form-radio-group",{attrs:{id:"linked-issue-type-radio",options:e.linkedIssueTypes,checked:e.linkedIssueType},model:{value:e.linkedIssueType,callback:function(t){e.linkedIssueType=t},expression:"linkedIssueType"}})],1),e._v(" "),t("p",{staticClass:"gl-mb-2 gl-font-bold"},[e._v("\n      "+e._s(e.issuableInputText)+"\n    ")])]:e._e(),e._v(" "),t("related-issuable-input",{ref:"relatedIssuableInput",attrs:{"input-id":"add-related-issues-form-input",confidential:e.confidential,"focus-on-mount":!0,references:e.pendingReferences,"path-id-separator":e.pathIdSeparator,"input-value":e.inputValue,"auto-complete-sources":e.transformedAutocompleteSources,"auto-complete-options":{issues:e.autoCompleteIssues,epics:e.autoCompleteEpics},"issuable-type":e.issuableType},on:{pendingIssuableRemoveRequest:e.onPendingIssuableRemoveRequest,formCancel:e.onFormCancel,addIssuableFormBlur:e.onAddIssuableFormBlur,addIssuableFormInput:e.onAddIssuableFormInput}}),e._v(" "),e.hasError?t("p",{staticClass:"gl-field-error"},[e._v("\n    "+e._s(e.addRelatedErrorMessage)+"\n  ")]):e._e(),e._v(" "),t("div",{staticClass:"gl-mt-5 gl-flex gl-gap-3"},[t("gl-button",{ref:"addButton",attrs:{category:"primary",variant:"confirm",disabled:e.isSubmitButtonDisabled,loading:e.isSubmitting,type:"submit",size:"small","data-testid":"add-issue-button"}},[e._v("\n      "+e._s(e.__("Add"))+"\n    ")]),e._v(" "),t("gl-button",{attrs:{size:"small"},on:{click:e.onFormCancel}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1)],2)}),[],!1,null,null,null).exports,N=i("FkSe"),A=i("2O3R"),P=i("fTpu"),F=i("UqDg"),L={components:{GlLoadingIcon:N.a,RelatedIssuableItem:P.a},props:{canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},listLinkType:{type:String,required:!1,default:""},heading:{type:String,required:!1,default:""},isFetching:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!0},pathIdSeparator:{type:String,required:!0},relatedIssues:{type:Array,required:!1,default:function(){return[]}}},mounted(){this.canReorder&&(this.sortable=A.default.create(this.$refs.list,{...F.c,onStart:this.addDraggingCursor,onEnd:this.reordered}))},methods:{getBeforeAfterId(e){const t=e.previousElementSibling,i=e.nextElementSibling;return{beforeId:t&&parseInt(t.dataset.orderingId,10),afterId:i&&parseInt(i.dataset.orderingId,10)}},reordered(e){this.removeDraggingCursor();const{beforeId:t,afterId:i}=this.getBeforeAfterId(e.item),{oldIndex:n,newIndex:s}=e;this.$emit("saveReorder",{issueId:parseInt(e.item.dataset.key,10),oldIndex:n,newIndex:s,afterId:i,beforeId:t})},addDraggingCursor(){document.body.classList.add("is-dragging")},removeDraggingCursor(){document.body.classList.remove("is-dragging")},issuableOrderingId({epicIssueId:e,id:t}){return this.issuableType===a.p?e:t}}},R=Object(O.a)(L,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-link-type":e.listLinkType}},[e.heading?t("h4",{staticClass:"gl-mx-5 -gl-mb-2 gl-mt-4 gl-text-sm gl-font-semibold gl-text-subtle"},[e._v("\n    "+e._s(e.heading)+"\n  ")]):e._e(),e._v(" "),t("div",{staticClass:"related-issues-token-body",class:{"sortable-container":e.canReorder}},[e.isFetching?t("div",{staticClass:"gl-mb-2",attrs:{"data-testid":"related-issues-loading-placeholder"}},[t("gl-loading-icon",{ref:"loadingIcon",staticClass:"gl-mt-2",attrs:{size:"sm",label:"Fetching linked issues"}})],1):e._e(),e._v(" "),t("ul",{ref:"list",staticClass:"related-items-list !gl-m-3",class:{"content-list":!e.canReorder}},e._l(e.relatedIssues,(function(i){return t("li",{key:i.id,staticClass:"js-related-issues-token-list-item list-item !gl-border-b-0 !gl-p-0",class:{"gl-cursor-grab":e.canReorder,"sortable-row":e.canReorder,"card card-slim":e.canReorder},attrs:{"data-key":i.id,"data-ordering-id":e.issuableOrderingId(i)}},[t("related-issuable-item",{attrs:{"id-key":i.id,iid:i.iid,"display-reference":i.reference,confidential:i.confidential,title:i.title,path:i.path,state:i.state,milestone:i.milestone,assignees:i.assignees,"created-at":i.createdAt,"closed-at":i.closedAt,weight:i.weight,"due-date":i.dueDate,"can-remove":e.canAdmin,"can-reorder":e.canReorder,"path-id-separator":e.pathIdSeparator,"is-locked":i.lockIssueRemoval,"locked-message":i.lockedMessage,"work-item-type":i.type,"event-namespace":"relatedIssue","data-testid":"related-issuable-content"},on:{relatedIssueRemoveRequest:function(t){return e.$emit("relatedIssueRemoveRequest",t)}}})],1)})),0)])])}),[],!1,null,null,null).exports,q={name:"RelatedIssuesBlock",components:{GlLink:h.a,CrudComponent:m.a,AddIssuableForm:D,RelatedIssuesList:R},props:{isFetching:{type:Boolean,required:!1,default:!1},isSubmitting:{type:Boolean,required:!1,default:!1},relatedIssues:{type:Array,required:!1,default:function(){return[]}},canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},isFormVisible:{type:Boolean,required:!1,default:!1},pendingReferences:{type:Array,required:!1,default:function(){return[]}},inputValue:{type:String,required:!1,default:""},pathIdSeparator:{type:String,required:!0},helpPath:{type:String,required:!1,default:""},autoCompleteSources:{type:Object,required:!1,default:function(){return{}}},issuableType:{type:String,required:!0},showCategorizedIssues:{type:Boolean,required:!1,default:!0},autoCompleteEpics:{type:Boolean,required:!1,default:!0},autoCompleteIssues:{type:Boolean,required:!1,default:!0},hasError:{type:Boolean,required:!1,default:!1},itemAddFailureMessage:{type:String,required:!1,default:""},headerText:{type:String,required:!1,default:""},addButtonText:{type:String,required:!1,default:""}},computed:{hasRelatedIssues(){return this.relatedIssues.length>0},categorisedIssues(){var e=this;return this.showCategorizedIssues?Object.values(l.n).map((function(t){return{linkType:t,issues:e.relatedIssues.filter((function(e){return e.linkType===t}))}})).filter((function(e){return e.issues.length>0})):this.relatedIssues.length>0?[{issues:this.relatedIssues}]:[]},shouldShowTokenBody(){return this.hasRelatedIssues||this.isFetching},headerTextDisplay(){return this.headerText?this.headerText:l.i[this.issuableType]},addButtonTextDisplay(){if(this.canAdmin)return this.addButtonText?this.addButtonText:Object(o.a)("Add")},helpLinkText(){return l.j[this.issuableType]},addIssuableButtonText(){return l.h[this.issuableType]},badgeLabel(){return this.isFetching&&0===this.relatedIssues.length?"...":this.relatedIssues.length},hasHelpPath(){return this.helpPath.length>0},issuableTypeIcon(){return l.g[this.issuableType]},emptyStateMessage(){return this.showCategorizedIssues?Object(o.h)(this.$options.i18n.emptyItemsPremium,{issuableType:this.issuableType}):Object(o.h)(this.$options.i18n.emptyItemsFree,{issuableType:this.issuableType})}},watch:{isFormVisible(e){!0===e?this.$refs.relatedIssuesWidget.showForm():this.$refs.relatedIssuesWidget.hideForm()}},mounted(){this.isFormVisible&&this.$refs.relatedIssuesWidget.showForm()},methods:{handleFormSubmit(e){this.$emit("addIssuableFormSubmit",e)},handleFormCancel(e){this.$emit("addIssuableFormCancel",e),this.$refs.relatedIssuesWidget.hideForm()}},linkedIssueTypesTextMap:l.o,i18n:{emptyItemsFree:Object(o.a)("Link %{issuableType}s together to show that they're related."),emptyItemsPremium:Object(o.a)("Link %{issuableType}s together to show that they're related or that one is blocking others.")}},$={name:"RelatedIssuesRoot",components:{RelatedIssuesBlock:Object(O.a)(q,(function(){var e=this,t=e._self._c;return t("crud-component",{ref:"relatedIssuesWidget",attrs:{"is-collapsible":"","is-loading":e.isFetching,title:e.headerTextDisplay,icon:e.issuableTypeIcon,count:e.badgeLabel,"toggle-text":e.addButtonTextDisplay,"toggle-aria-label":e.addIssuableButtonText,"help-path":e.helpPath,"help-link-text":e.helpLinkText,"anchor-id":"related-issues","data-testid":"related-issues-block"},on:{showForm:function(t){return e.$emit("showForm")},hideForm:function(t){return e.$emit("hideForm")}},scopedSlots:e._u([{key:"actions",fn:function(){return[e._t("header-actions")]},proxy:!0},{key:"form",fn:function(){return[t("add-issuable-form",{attrs:{"show-categorized-issues":e.showCategorizedIssues,"is-submitting":e.isSubmitting,"issuable-type":e.issuableType,"input-value":e.inputValue,"pending-references":e.pendingReferences,"auto-complete-sources":e.autoCompleteSources,"auto-complete-epics":e.autoCompleteEpics,"auto-complete-issues":e.autoCompleteIssues,"path-id-separator":e.pathIdSeparator,"has-error":e.hasError,"item-add-failure-message":e.itemAddFailureMessage},on:{pendingIssuableRemoveRequest:function(t){return e.$emit("pendingIssuableRemoveRequest",t)},addIssuableFormInput:function(t){return e.$emit("addIssuableFormInput",t)},addIssuableFormBlur:function(t){return e.$emit("addIssuableFormBlur",t)},addIssuableFormSubmit:e.handleFormSubmit,addIssuableFormCancel:e.handleFormCancel}})]},proxy:!0},e.shouldShowTokenBody?null:{key:"empty",fn:function(){return[e._t("empty-state-message",(function(){return[e._v(e._s(e.emptyStateMessage))]})),e._v(" "),e.hasHelpPath?t("gl-link",{attrs:{href:e.helpPath,"data-testid":"help-link","aria-label":e.helpLinkText}},[e._v("\n      "+e._s(e.__("Learn more."))+"\n    ")]):e._e()]},proxy:!0},{key:"default",fn:function(){return e._l(e.categorisedIssues,(function(i,n){return t("related-issues-list",{key:i.linkType,class:{"gl-mb-5 gl-border-b-1 gl-border-b-default gl-border-b-solid":n!==e.categorisedIssues.length-1},attrs:{"list-link-type":i.linkType,heading:e.$options.linkedIssueTypesTextMap[i.linkType],"can-admin":e.canAdmin,"can-reorder":e.canReorder,"is-fetching":e.isFetching,"issuable-type":e.issuableType,"path-id-separator":e.pathIdSeparator,"related-issues":i.issues},on:{relatedIssueRemoveRequest:function(t){return e.$emit("relatedIssueRemoveRequest",t)},saveReorder:function(t){return e.$emit("saveReorder",t)}}})}))},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports},props:{endpoint:{type:String,required:!0},canAdmin:{type:Boolean,required:!1,default:!1},canReorder:{type:Boolean,required:!1,default:!1},helpPath:{type:String,required:!1,default:""},issuableType:{type:String,required:!1,default:a.p},allowAutoComplete:{type:Boolean,required:!1,default:!0},autoCompleteEpics:{type:Boolean,required:!1,default:!0},autoCompleteIssues:{type:Boolean,required:!1,default:!0},pathIdSeparator:{type:String,required:!1,default:l.a.Issue},cssClass:{type:String,required:!1,default:""},showCategorizedIssues:{type:Boolean,required:!1,default:!0}},data(){return this.store=new p,{state:this.store.state,isFetching:!1,isSubmitting:!1,isFormVisible:!1,inputValue:"",hasError:!1,errorMessage:null}},computed:{autoCompleteSources(){return this.allowAutoComplete?gl.GfmAutoComplete&&gl.GfmAutoComplete.dataSources:{}}},created(){this.service=new c(this.endpoint),this.fetchRelatedIssues()},methods:{findRelatedIssueById(e){return this.state.relatedIssues.find((function(t){return t.id===e}))},onRelatedIssueRemoveRequest(e){var t=this;if(Object(s.f)(e)){const t=Object(s.e)(e);return void(this.state.relatedIssues=this.state.relatedIssues.filter((function(e){return e.id!==t})))}const i=this.findRelatedIssueById(e);i?c.remove(i.relationPath).then((function({data:e}){t.store.setRelatedIssues(e.issuables)})).catch((function(e){e&&e.status!==r.d&&Object(n.createAlert)({message:l.q[t.issuableType]})})):Object(n.createAlert)({message:l.p[this.issuableType]})},onToggleAddRelatedIssuesForm(){this.isFormVisible=!this.isFormVisible},onPendingIssueRemoveRequest(e){this.store.removePendingRelatedIssue(e)},onPendingFormSubmit(e){var t=this;this.processAllReferences(e.pendingReferences),this.state.pendingReferences.length>0&&(this.hasError=!1,this.isSubmitting=!0,this.service.addRelatedIssues(this.state.pendingReferences,e.linkedIssueType).then((function({data:e}){t.store.setPendingReferences([]),t.store.setRelatedIssues(e.issuables),t.isFormVisible=!1})).catch((function({response:e}){t.hasError=!0,t.errorMessage=l.b[t.issuableType],e&&e.data&&e.data.message&&(t.errorMessage=e.data.message),t.isFormVisible=!0})).finally((function(){t.isSubmitting=!1})))},onPendingFormCancel(){this.hasError=!1,this.isFormVisible=!1,this.store.setPendingReferences([]),this.inputValue=""},fetchRelatedIssues(){var e=this;this.isFetching=!0,this.service.fetchRelatedIssues().then((function({data:t}){e.store.setRelatedIssues(t)})).catch((function(){e.store.setRelatedIssues([]),Object(n.createAlert)({message:Object(o.a)("An error occurred while fetching issues.")})})).finally((function(){e.isFetching=!1}))},saveIssueOrder({issueId:e,beforeId:t,afterId:i,oldIndex:s,newIndex:a}){var r=this;const l=this.findRelatedIssueById(e);l&&c.saveOrder({endpoint:l.relationPath,move_before_id:t,move_after_id:i}).then((function({data:e}){e.message||r.store.updateIssueOrder(s,a)})).catch((function(){Object(n.createAlert)({message:Object(o.a)("An error occurred while reordering issues.")})}))},onInput({untouchedRawReferences:e,touchedReference:t}){this.store.addPendingReferences(e),this.formatInput(t)},formatInput(e=""){if(null!==String(e).match(/^[0-9]/)){const{pathIdSeparator:t}=this;this.inputValue=`${t}${e}`}else this.inputValue=""+e},onBlur(e){this.processAllReferences(e)},processAllReferences(e=""){const t=e.split(/\s+/).filter((function(e){return e.trim().length>0}));this.store.addPendingReferences(t),this.inputValue=""}}},B=Object(O.a)($,(function(){var e=this;return(0,e._self._c)("related-issues-block",{ref:"relatedIssuesBlock",class:e.cssClass,attrs:{"help-path":e.helpPath,"is-fetching":e.isFetching,"is-submitting":e.isSubmitting,"related-issues":e.state.relatedIssues,"can-admin":e.canAdmin,"can-reorder":e.canReorder,"pending-references":e.state.pendingReferences,"is-form-visible":e.isFormVisible,"input-value":e.inputValue,"auto-complete-sources":e.autoCompleteSources,"auto-complete-epics":e.autoCompleteEpics,"auto-complete-issues":e.autoCompleteIssues,"issuable-type":e.issuableType,"path-id-separator":e.pathIdSeparator,"show-categorized-issues":e.showCategorizedIssues,"has-error":e.hasError,"item-add-failure-message":e.errorMessage},on:{saveReorder:e.saveIssueOrder,toggleAddRelatedIssuesForm:e.onToggleAddRelatedIssuesForm,addIssuableFormInput:e.onInput,addIssuableFormBlur:e.onBlur,addIssuableFormSubmit:e.onPendingFormSubmit,addIssuableFormCancel:e.onPendingFormCancel,pendingIssuableRemoveRequest:e.onPendingIssueRemoveRequest,relatedIssueRemoveRequest:e.onRelatedIssueRemoveRequest,showForm:function(t){e.isFormVisible=!0},hideForm:function(t){e.isFormVisible=!1}}})}),[],!1,null,null,null);t.a=B.exports},df6S:function(e,t,i){"use strict";i.d(t,"g",(function(){return O})),i.d(t,"h",(function(){return C})),i.d(t,"f",(function(){return j})),i.d(t,"i",(function(){return E})),i.d(t,"a",(function(){return D})),i.d(t,"b",(function(){return N})),i.d(t,"d",(function(){return A})),i.d(t,"k",(function(){return P})),i.d(t,"l",(function(){return F})),i.d(t,"e",(function(){return L})),i.d(t,"c",(function(){return R})),i.d(t,"j",(function(){return q}));var n=i("VNnR"),s=i.n(n),a=i("jJDv"),r=i.n(a),o=(i("B++/"),i("z6RN"),i("47t/"),i("v2fZ"),i("ZzK0"),i("BzOf"),i("UezY"),i("hG7+"),i("86Lb"),i("YSE1"),i("b+iX"),i("byxs"),i("b9Gi")),l=i("GiFX"),d=i("w8i/"),c=i("1gtg"),u=i("4wgn"),p=i("FxFN"),h=i("3twG"),m=i("0AwG"),f=i("4UiK"),g=i("J6Lq"),v=i("JtyA"),b=i("FpZ5"),y=i.n(b),k=i("wi2E"),w=i.n(k),S=i("HSGN"),_=i.n(S);const I=function(e){var t;return null==e||null===(t=e.workspace)||void 0===t||null===(t=t.workItem)||void 0===t?void 0:t.widgets.find(g.u)},T=function(e,t){const i=e.workspace.workItem.widgets.findIndex(g.u);e.workspace.workItem.widgets[i]=t},O=function(e,t){var i;if(null===(i=t.data)||void 0===i||!i.workItemNoteCreated)return e;const n=t.data.workItemNoteCreated;return Object(o.b)(e,(function(e){const t=I(e);if(!t.discussions)return;t.discussions.nodes.find((function(e){return e.id===n.discussion.id}))||(t.discussions.nodes.push(n.discussion),T(e,t))}))},C=function(e,t){var i;if(null===(i=t.data)||void 0===i||!i.workItemNoteDeleted)return e;const n=t.data.workItemNoteDeleted,{id:s,discussionId:a,lastDiscussionNote:r}=n;return Object(o.b)(e,(function(e){const t=I(e);if(!t.discussions)return;const i=t.discussions.nodes.findIndex((function(e){return e.id===a}));if(-1!==i){if(r)t.discussions.nodes.splice(i,1);else{const e=t.discussions.nodes[i],n=e.notes.nodes.findIndex((function(e){return e.id===s}));e.notes.nodes.splice(n,1),t.discussions.nodes[i]=e}T(e,t)}}))};function x(e,t,i){if(!t.awardEmoji)return e;const{awardEmoji:n}=t;return Object(o.b)(e,(function(e){const s=I(e);s.discussions&&(s.discussions.nodes.forEach((function(e){e.notes.nodes.forEach((function(e){e.id===t.id&&i(e,n)}))})),T(e,s))}))}const j=function(e,t){return x(e,t,(function(e,t){e.awardEmoji.nodes.push(t)}))},E=function(e,t){return x(e,t,(function(e,t){e.awardEmoji.nodes=e.awardEmoji.nodes.filter((function(e){return e.name!==t.name||e.user.id!==t.user.id}))}))},D=function({cache:e,id:t,workItem:i,atIndex:n=null}){const s={query:_.a,variables:{id:t}},a=e.readQuery(s);a&&e.writeQuery({...s,data:Object(o.b)(a,(function(e){const t=Object(g.h)(null==e?void 0:e.workItem.widgets);t.hasChildren=!0;const s=Object(g.f)(null==e?void 0:e.workItem)||[];s.find((function(e){return e.id===(null==i?void 0:i.id)}))||(null!==n?s.splice(n,0,i):s.unshift(i),t.hasChildren=(null==s?void 0:s.length)>0,t.count=(null==s?void 0:s.length)||0)}))})},N=function({cache:e,id:t,workItem:i,childrenIds:n}){const s={query:_.a,variables:{id:t}},a=e.readQuery(s);a&&e.writeQuery({...s,data:Object(o.b)(a,(function(e){const t=Object(g.f)(i),s=Object(g.f)(null==e?void 0:e.workItem),a=t.filter((function(e){return n.includes(e.id)}));for(const e of a)e.state===v.eb?s.push(e):s.unshift(e)}))})},A=function({cache:e,id:t,workItem:i}){const n={query:_.a,variables:{id:t}},s=e.readQuery(n);s&&e.writeQuery({...n,data:Object(o.b)(s,(function(e){const t=Object(g.h)(null==e?void 0:e.workItem.widgets),n=Object(g.f)(null==e?void 0:e.workItem),s=n.findIndex((function(e){return e.id===i.id}));s>=0&&n.splice(s,1),t.hasChildren=(null==n?void 0:n.length)>0,t.count=(null==n?void 0:n.length)||0}))})},P=function({cache:e,fullPath:t,iid:i,workItem:n}){const s={query:y.a,variables:{fullPath:t,iid:i}},a=e.readQuery(s);a&&e.writeQuery({...s,data:Object(o.b)(a,(function(e){var t;const i=Object(g.f)(null===(t=e.workspace)||void 0===t?void 0:t.workItem),s=i.findIndex((function(e){return e.id===n.id}));s>=0&&i.splice(s,1)}))})},F=function({cache:e,fullPath:t,iid:i,todos:n}){const s={query:y.a,variables:{fullPath:t,iid:i}},a=e.readQuery(s);if(!a)return;const r=Object(o.b)(a,(function(e){const{widgets:t}=e.workspace.workItem;t.find((function(e){return e.type===v.Eb})).currentUserTodos.nodes=n}));e.writeQuery({...s,data:r})},L=async function(e,t,i,n,a){var o,b,k,w,S,_,I,T,O;const C=[v.Ab,v.Mb,v.Vb,v.Ob,v.Lb,v.Tb,v.Sb,v.Jb,v.Nb,v.Cb,v.Kb,v.Ub,v.Rb,v.Db];if(!t)return;const x=Object(m.g)(i.split("_").join(" ")),j=(null==t?void 0:t.flatMap((function(e){return e.type})))||[],E=Object(p.c)(u.D,null===(o=gon)||void 0===o?void 0:o.current_user_id),D=Object(h.l)(),N=[];N.push({type:v.Fb,description:null,descriptionHtml:"",lastEditedAt:null,lastEditedBy:null,taskCompletionStatus:null,__typename:"WorkItemWidgetDescription"}),C.forEach((function(e){if(j.includes(e)){if(e===v.Ab){const e=t.find((function(e){return e.type===v.Ab}));N.push({type:"ASSIGNEES",allowsMultipleAssignees:e.allowsMultipleAssignees||!1,canInviteMembers:e.canInviteMembers||!1,assignees:{nodes:[],__typename:"UserCoreConnection"},__typename:"WorkItemWidgetAssignees"})}if(e===v.Nb&&N.push({type:v.Nb,linkedItems:{nodes:[]},__typename:"WorkItemWidgetLinkedItems"}),e===v.Db&&N.push({type:"CRM_CONTACTS",contacts:{nodes:[],__typename:"CustomerRelationsContactConnection"},__typename:"WorkItemWidgetCrmContacts"}),e===v.Mb){const e=t.find((function(e){return e.type===v.Mb}));N.push({type:"LABELS",allowsScopedLabels:e.allowsScopedLabels,labels:{nodes:[],__typename:"LabelConnection"},__typename:"WorkItemWidgetLabels"})}if(e===v.Vb){const e=t.find((function(e){return e.type===v.Vb}));N.push({type:"WEIGHT",weight:null,rolledUpWeight:0,rolledUpCompletedWeight:0,widgetDefinition:{editable:null==e?void 0:e.editable,rollUp:null==e?void 0:e.rollUp},__typename:"WorkItemWidgetWeight"})}e===v.Ob&&N.push({type:"MILESTONE",milestone:null,__typename:"WorkItemWidgetMilestone"}),e===v.Lb&&N.push({iteration:null,type:"ITERATION",__typename:"WorkItemWidgetIteration"}),e===v.Tb&&N.push({type:"START_AND_DUE_DATE",dueDate:null,startDate:null,isFixed:!1,rollUp:!1,__typename:"WorkItemWidgetStartAndDueDate"}),e===v.Sb&&N.push({type:"PROGRESS",progress:null,updatedAt:null,__typename:"WorkItemWidgetProgress"}),e===v.Jb&&N.push({type:"HEALTH_STATUS",healthStatus:null,rolledUpHealthStatus:[],__typename:"WorkItemWidgetHealthStatus"}),e===v.Cb&&N.push({type:"COLOR",color:"#1068bf",textColor:"#FFFFFF",__typename:"WorkItemWidgetColor"}),e===v.Kb&&N.push({type:"HIERARCHY",hasChildren:!1,hasParent:!1,parent:null,depthLimitReachedByType:[],rolledUpCountsByType:[],children:{nodes:[],__typename:"WorkItemConnection"},__typename:"WorkItemWidgetHierarchy"}),e===v.Ub&&N.push({type:"TIME_TRACKING",timeEstimate:0,timelogs:{nodes:[],__typename:"WorkItemTimelogConnection"},totalTimeSpent:0,__typename:"WorkItemWidgetTimeTracking"})}}));const A=new l.b({defaultClient:await Object(c.a)()}),P=document.querySelector(".js-issues-list-app")?A:d.a,F=Object(g.B)(e,i),L=Object(g.n)(e,i),R=Object(f.c)(L),q=JSON.parse(Object(f.c)(L)),$=r()(null==q||null===(b=q.workspace)||void 0===b||null===(b=b.workItem)||void 0===b?void 0:b.widgets,"type")||[],B=r()(N,"type")||[],M=s()($.sort(),B.sort()),V=(null==q||null===(k=q.workspace)||void 0===k?void 0:k.workItem)&&R&&(null==q||null===(w=q.workspace)||void 0===w?void 0:w.workItem)&&M;V||Object(f.a)(L),P.clients.defaultClient.cache.writeQuery({query:y.a,variables:{fullPath:F,iid:v.Z},data:V?{...q}:{workspace:{id:F,workItem:{id:Object(g.C)(i),iid:v.Z,archived:!1,title:"",state:"OPEN",description:null,confidential:!1,createdAt:null,updatedAt:null,closedAt:null,webUrl:D+"/groups/gitlab-org/-/work_items/new",reference:"",createNoteEmail:null,project:null,namespace:{id:F,fullPath:e,name:F,__typename:"Namespace"},author:{id:E,avatarUrl:null===(S=gon)||void 0===S?void 0:S.current_user_avatar_url,username:null===(_=gon)||void 0===_?void 0:_.current_username,name:null===(I=gon)||void 0===I?void 0:I.current_user_fullname,webUrl:`${D}/${null===(T=gon)||void 0===T?void 0:T.current_username}`,webPath:"/"+(null===(O=gon)||void 0===O?void 0:O.current_username),__typename:"UserCore"},workItemType:{id:n||"mock-work-item-type-id",name:x,iconName:a,__typename:"WorkItemType"},userPermissions:{deleteWorkItem:!0,updateWorkItem:!0,adminParentLink:!0,setWorkItemMetadata:!0,createNote:!0,adminWorkItemLink:!0,markNoteAsInternal:!0,__typename:"WorkItemPermissions"},widgets:N,__typename:"WorkItem"},__typename:"Namespace"}}})},R={deleteWorkItem:!1,updateWorkItem:!1,adminParentLink:!1,setWorkItemMetadata:!1,createNote:!1,adminWorkItemLink:!1,markNoteAsInternal:!1,__typename:"WorkItemPermissions"},q=function({cache:e,parentId:t,workItemType:i,isClosing:n}){if(!t)return null;const s=e.readQuery({query:w.a,variables:{id:t}});if(!s)return null;const a=Object(o.b)(s,(function(e){const t=Object(g.h)(e.workItem.widgets).rolledUpCountsByType.find((function(e){return e.workItemType.name===i}));n?(t.countsByState.closed+=1,t.countsByState.opened-=1):(t.countsByState.closed-=1,t.countsByState.opened+=1)}));return e.writeQuery({query:w.a,variables:{id:t},data:a}),a}},dkay:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"projects"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"withIssuesEnabled"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"includeSubgroups"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"SIMILARITY"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nameWithNamespace"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:292}};i.loc.source={body:"query searchProjects($fullPath: ID!, $search: String) {\n  group(fullPath: $fullPath) {\n    id\n    projects(search: $search, withIssuesEnabled: true, includeSubgroups: true, sort: SIMILARITY) {\n      nodes {\n        id\n        name\n        nameWithNamespace\n        webUrl\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.searchProjects=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"searchProjects")},dkwd:function(e,t,i){"use strict";i("B++/"),i("z6RN"),i("47t/"),i("UezY"),i("hG7+"),i("3UXl"),i("iyoE");var n=i("F6ad"),s=i("4lAS"),a=i("l5WF"),r=i("PrLL"),o=i("SeSR"),l=i("DZUU"),d=i("/lV4"),c=i("sHIo"),u=i("5v28"),p=i("4yU6"),h=i("df6S"),m=i("Smdt"),f=i.n(m),g=i("btgo"),v=i.n(g),b=i("uLzN"),y=i.n(b),k=i("JtyA"),w=i("/HDl"),S=i("Tmea"),_=i.n(S),I=(i("eJ0a"),i("v2fZ"),i("crTv")),T=i("3lQS"),O=i("b76C"),C=i.n(O),x={components:{GlCollapsibleListbox:I.a,ProjectAvatar:T.a},model:{prop:"selectedGroupFullPath",event:"selectGroup"},props:{fullPath:{required:!0,type:String},currentGroupName:{required:!1,type:String,default:""},isGroup:{required:!1,type:Boolean,default:!1},selectedGroupFullPath:{required:!1,type:String,default:null}},data:()=>({group:{},searchKey:""}),apollo:{group:{query:()=>C.a,variables(){return{fullPath:this.fullPath,groupSearch:this.searchKey}},error(){this.$emit("error",Object(d.a)("There was a problem fetching groups."))}}},computed:{filteredGroups(){if(!this.group.id)return[];const e=[],t=this.searchKey&&this.group.name.toLowerCase().includes(this.searchKey.toLowerCase());if(!this.searchKey||t){const{id:t,name:i,avatarUrl:n,path:s,fullPath:a}=this.group;e.push({id:t,name:i,avatarUrl:n,path:s,fullPath:a})}return this.group.descendantGroups&&e.push(...this.group.descendantGroups.nodes),e},groupsLoading(){return this.$apollo.queries.group.loading},dropdownToggleText(){return this.selectedGroup?this.selectedGroup.name||this.selectedGroup.path:this.selectedGroupFullPath&&this.currentGroupName?this.currentGroupName:Object(d.g)("WorkItem|Select a group")},listItems(){return this.filteredGroups.map((function(e){return{id:e.id,text:e.name,value:e.fullPath,namespace:e.path,avatarUrl:e.avatarUrl}}))},selectedGroup(){var e=this;return this.filteredGroups.find((function(t){return t.fullPath===e.selectedGroupFullPath}))||null}},created(){this.debouncedSearch=_()(this.handleSearch,k.db)},beforeDestroy(){var e;null===(e=this.debouncedSearch)||void 0===e||e.cancel()},methods:{handleSearch(e){this.searchKey=e},handleSelect(e){this.$emit("selectGroup",e)},async handleDropdownShow(){var e,t;this.searchKey="",await this.$nextTick(),null===(e=this.$refs.searchInputField)||void 0===e||null===(t=e.focusInput)||void 0===t||t.call(e)}}},j=i("tBpV"),E=Object(j.a)(x,(function(){var e=this,t=e._self._c;return t("gl-collapsible-listbox",{staticClass:"gl-relative",attrs:{block:"",searchable:"","is-check-centered":"",items:e.listItems,selected:e.selectedGroupFullPath,"toggle-text":e.dropdownToggleText,searching:e.groupsLoading,"fluid-width":""},on:{search:e.debouncedSearch,select:e.handleSelect,shown:e.handleDropdownShow},scopedSlots:e._u([{key:"list-item",fn:function({item:i}){return[t("div",{staticClass:"gl-flex gl-w-full gl-items-center"},[t("project-avatar",{staticClass:"gl-mr-3",attrs:{"project-id":i.id,"project-avatar-url":i.avatarUrl,"project-name":i.text,"aria-hidden":"true"}}),e._v(" "),t("span",[t("span",{staticClass:"gl-mr-2 gl-block"},[e._v(" "+e._s(i.text)+" ")]),e._v(" "),t("span",{staticClass:"gl-block gl-text-subtle"},[e._v(" "+e._s(i.namespace)+" ")])])],1)]}}])})}),[],!1,null,null,null).exports,D={components:{GlForm:n.a,GlButton:s.a,GlFormGroup:a.a,GlFormInput:r.a,GlFormCheckbox:o.a,GlTooltip:l.a,WorkItemTokenInput:p.a,WorkItemProjectsListbox:w.a,WorkItemGroupsListbox:E},mixins:[Object(c.a)()],inject:["hasIterationsFeature"],props:{fullPath:{type:String,required:!0},isGroup:{type:Boolean,required:!1,default:!1},issuableGid:{type:String,required:!1,default:null},workItemIid:{type:String,required:!1,default:null},childrenIds:{type:Array,required:!1,default:function(){return[]}},parentConfidential:{type:Boolean,required:!1,default:!1},parentIteration:{type:Object,required:!1,default:function(){}},parentMilestone:{type:Object,required:!1,default:function(){return{}}},formType:{type:String,required:!0},parentWorkItemType:{type:String,required:!1,default:""},childrenType:{type:String,required:!1,default:k.xc},fullName:{type:String,required:!1,default:""}},apollo:{workItemTypes:{query:()=>f.a,variables(){return{fullPath:this.fullPath}},update(e){var t;return null===(t=e.workspace)||void 0===t||null===(t=t.workItemTypes)||void 0===t?void 0:t.nodes}}},data(){return{workItemTypes:[],workItemsToAdd:[],error:null,isInputValid:!0,search:"",selectedProjectFullPath:this.isGroup?null:this.fullPath,selectedGroupFullPath:null,childToCreateTitle:null,confidential:this.parentConfidential,submitInProgress:!1}},computed:{workItemChildIsEpic(){return this.childrenTypeValue===k.Ac},workItemInput(){var e;let t={title:(null===(e=this.search)||void 0===e?void 0:e.title)||this.search,workItemTypeId:this.childWorkItemType,hierarchyWidget:{parentId:this.issuableGid},confidential:this.parentConfidential||this.confidential};return t=this.selectedProjectFullPath&&!this.workItemChildIsEpic?{...t,namespacePath:this.selectedProjectFullPath}:this.selectedGroupFullPath&&this.workItemChildIsEpic?{...t,namespacePath:this.selectedGroupFullPath}:{...t,projectPath:this.fullPath},this.parentMilestoneId&&(t={...t,milestoneWidget:{milestoneId:this.parentMilestoneId}}),this.associateIteration&&(t={...t,iterationWidget:{iterationId:this.parentIterationId}}),t},isCreateForm(){return this.formType===k.j.create},childrenTypeName(){var e;return null===(e=k.cc[this.childrenType])||void 0===e?void 0:e.name},childrenTypeValue(){var e;return null===(e=k.cc[this.childrenType])||void 0===e?void 0:e.value},addOrCreateButtonLabel(){return this.isCreateForm?Object(k.Jc)(k.y,this.childrenTypeName):this.workItemsToAdd.length>1?Object(k.Jc)(k.o,this.childrenTypeName):Object(k.Jc)(k.n,this.childrenTypeName)},confidentialityCheckboxLabel(){return Object(k.Jc)(k.u,this.childrenTypeName)},confidentialityCheckboxTooltip(){return Object(k.Jc)(k.v,this.childrenTypeName,this.parentWorkItemType)},showConfidentialityTooltip(){return this.isCreateForm&&this.parentConfidential},addOrCreateMethod(){return this.isCreateForm?this.createChild:this.addChild},childWorkItemType(){var e,t=this;return null===(e=this.workItemTypes.find((function(e){return e.name===t.childrenTypeValue})))||void 0===e?void 0:e.id},parentIterationId(){var e;return null===(e=this.parentIteration)||void 0===e?void 0:e.id},associateIteration(){return this.parentIterationId&&this.hasIterationsFeature},parentMilestoneId(){var e;return null===(e=this.parentMilestone)||void 0===e?void 0:e.id},canCreateGroupLevelWorkItems(){return this.glFeatures.createGroupLevelWorkItems},hasSuppliedNewItemName(){return this.search.length>0},hasSelectedProject(){return Boolean(this.selectedProjectFullPath)},canSubmitForm(){if(this.isCreateForm){if(this.isGroup){if(this.workItemChildIsEpic)return this.hasSuppliedNewItemName;if(!this.canCreateGroupLevelWorkItems)return this.hasSuppliedNewItemName&&this.hasSelectedProject}return this.hasSuppliedNewItemName}return this.workItemsToAdd.length>0&&this.areWorkItemsToAddValid},invalidWorkItemsToAdd(){return this.parentConfidential?this.workItemsToAdd.filter((function(e){return!e.confidential})):[]},areWorkItemsToAddValid(){return 0===this.invalidWorkItemsToAdd.length&&this.areWorkItemsToAddWithinLimit},showWorkItemsToAddInvalidMessage(){return!this.isCreateForm&&this.invalidWorkItemsToAdd.length>0},workItemsToAddInvalidMessage(){return Object(d.h)(Object(d.g)("WorkItem|%{invalidWorkItemsList} cannot be added: Cannot assign a non-confidential %{childWorkItemType} to a confidential parent %{parentWorkItemType}. Make the selected %{childWorkItemType} confidential and try again."),{invalidWorkItemsList:this.invalidWorkItemsToAdd.map((function({title:e}){return e})).join(", "),childWorkItemType:this.childrenTypeName,parentWorkItemType:this.parentWorkItemType})},areWorkItemsToAddWithinLimit(){return this.workItemsToAdd.length<=k.W}},watch:{workItemsToAdd(){this.unsetError()},workItemChildIsEpic:{handler(e){this.selectedGroupFullPath=e?this.fullPath:null},immediate:!0}},methods:{getConfidentialityTooltipTarget(){var e;return null===(e=this.$refs.confidentialityCheckbox)||void 0===e?void 0:e.$el},unsetError(){this.error=null,this.isInputValid=!0},markFormSubmitInProgress(e){this.submitInProgress=e,this.$emit("update-in-progress",this.submitInProgress)},addChild(){var e=this;this.markFormSubmitInProgress(!0),this.$apollo.mutate({mutation:v.a,fetchPolicy:u.c.NO_CACHE,variables:{input:{id:this.issuableGid,hierarchyWidget:{childrenIds:this.workItemsToAdd.map((function(e){return e.id}))}}},update:function(t,{data:{workItemUpdate:{workItem:i}}}){return Object(h.b)({cache:t,id:e.issuableGid,workItem:i,childrenIds:e.workItemsToAdd.map((function(e){return e.id}))})}}).then((function({data:t}){var i;e.markFormSubmitInProgress(!1),null!==(i=t.workItemUpdate)&&void 0!==i&&null!==(i=i.errors)&&void 0!==i&&i.length?[e.error]=t.workItemUpdate.errors:(e.unsetError(),e.workItemsToAdd=[],e.closeForm())})).catch((function(){e.error=e.$options.i18n.addChildErrorMessage,e.isInputValid=!1,e.markFormSubmitInProgress(!1)})).finally((function(){e.search=""}))},createChild(){var e=this;this.canSubmitForm&&(this.markFormSubmitInProgress(!0),this.$apollo.mutate({mutation:y.a,variables:{input:this.workItemInput},update:function(t,{data:i}){return Object(h.a)({cache:t,id:e.issuableGid,workItem:i.workItemCreate.workItem})}}).then((function({data:t}){var i;e.markFormSubmitInProgress(!1),null!==(i=t.workItemCreate)&&void 0!==i&&null!==(i=i.errors)&&void 0!==i&&i.length?[e.error]=t.workItemCreate.errors:(e.unsetError(),e.$emit("addChild"),e.closeForm())})).catch((function(){e.error=e.$options.i18n.createChildErrorMessage,e.isInputValid=!1,e.markFormSubmitInProgress(!1)})).finally((function(){e.search="",e.childToCreateTitle=null})))},closeForm(){this.$emit("cancel")}},i18n:{titleInputLabel:Object(d.a)("Title"),projectInputLabel:Object(d.a)("Project"),groupInputLabel:Object(d.a)("Group"),addChildErrorMessage:Object(d.g)("WorkItem|Something went wrong when trying to add a child. Please try again."),createChildErrorMessage:Object(d.g)("WorkItem|Something went wrong when trying to create a child. Please try again."),titleInputPlaceholder:Object(d.g)("WorkItem|Add a title"),projectInputPlaceholder:Object(d.g)("WorkItem|Select a project"),groupInputPlaceholder:Object(d.g)("WorkItem|Select a group"),titleInputValidationMessage:Object(d.a)("Maximum of 255 characters"),maxItemsErrorMessage:k.k}},N=Object(j.a)(D,(function(){var e=this,t=e._self._c;return t("gl-form",{attrs:{"data-testid":"add-item-form"},on:{submit:function(t){return t.preventDefault(),e.addOrCreateMethod.apply(null,arguments)}}},[e.isCreateForm?[t("div",{staticClass:"gl-flex gl-gap-x-3"},[t("gl-form-group",{staticClass:"gl-w-full",attrs:{label:e.$options.i18n.titleInputLabel,description:e.$options.i18n.titleInputValidationMessage,"invalid-feedback":e.error,state:e.isInputValid,"data-testid":"work-items-create-form-group"}},[t("gl-form-input",{ref:"wiTitleInput",staticClass:"gl-mb-3",attrs:{placeholder:e.$options.i18n.titleInputPlaceholder,state:e.isInputValid,maxlength:"255",autofocus:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),e.workItemChildIsEpic?t("gl-form-group",{staticClass:"gl-w-full",attrs:{label:e.$options.i18n.groupInputLabel,description:e.$options.i18n.groupValidationMessage}},[t("work-item-groups-listbox",{staticClass:"gl-w-full",attrs:{"full-path":e.fullPath,"current-group-name":e.fullName,"is-group":e.isGroup},on:{error:function(t){return e.$emit("error",t)}},model:{value:e.selectedGroupFullPath,callback:function(t){e.selectedGroupFullPath=t},expression:"selectedGroupFullPath"}})],1):t("gl-form-group",{staticClass:"gl-w-full",attrs:{label:e.$options.i18n.projectInputLabel,description:e.$options.i18n.projectValidationMessage}},[t("work-item-projects-listbox",{staticClass:"gl-w-full",attrs:{"full-path":e.fullPath,"current-project-name":e.fullName,"is-group":e.isGroup},model:{value:e.selectedProjectFullPath,callback:function(t){e.selectedProjectFullPath=t},expression:"selectedProjectFullPath"}})],1)],1),e._v(" "),t("gl-form-checkbox",{ref:"confidentialityCheckbox",staticClass:"gl-mb-5 md:!gl-mb-3",attrs:{name:"isConfidential",disabled:e.parentConfidential},model:{value:e.confidential,callback:function(t){e.confidential=t},expression:"confidential"}},[e._v(e._s(e.confidentialityCheckboxLabel))]),e._v(" "),e.showConfidentialityTooltip?t("gl-tooltip",{attrs:{target:e.getConfidentialityTooltipTarget,triggers:"hover"}},[e._v(e._s(e.confidentialityCheckboxTooltip))]):e._e()]:t("div",{staticClass:"gl-mb-4"},[t("work-item-token-input",{attrs:{"is-create-form":e.isCreateForm,"is-group":e.isGroup,"parent-work-item-id":e.issuableGid,"children-type":e.childrenType,"children-ids":e.childrenIds,"are-work-items-to-add-valid":e.areWorkItemsToAddValid,"full-path":e.fullPath},model:{value:e.workItemsToAdd,callback:function(t){e.workItemsToAdd=t},expression:"workItemsToAdd"}}),e._v(" "),e.showWorkItemsToAddInvalidMessage?t("div",{staticClass:"gl-text-danger",attrs:{"data-testid":"work-items-invalid"}},[e._v("\n      "+e._s(e.workItemsToAddInvalidMessage)+"\n    ")]):e._e(),e._v(" "),e.error?t("div",{staticClass:"gl-mt-3 gl-text-danger",attrs:{"data-testid":"work-items-error"}},[e._v("\n      "+e._s(e.error)+"\n    ")]):e._e(),e._v(" "),e.areWorkItemsToAddWithinLimit?e._e():t("div",{staticClass:"gl-mb-2 gl-text-red-500",attrs:{"data-testid":"work-items-limit-error"}},[e._v("\n      "+e._s(e.$options.i18n.maxItemsErrorMessage)+"\n    ")])],1),e._v(" "),t("div",{staticClass:"gl-flex gl-gap-3"},[t("gl-button",{attrs:{category:"primary",variant:"confirm",size:"small",type:"submit",disabled:!e.canSubmitForm,loading:e.submitInProgress,"data-testid":"add-child-button"}},[e._v("\n      "+e._s(e.addOrCreateButtonLabel)+"\n    ")]),e._v(" "),t("gl-button",{attrs:{category:"secondary",size:"small"},on:{click:e.closeForm}},[e._v("\n      "+e._s(e.s__("WorkItem|Cancel"))+"\n    ")])],1)],2)}),[],!1,null,null,null);t.a=N.exports},dsLq:function(e,t,i){"use strict";var n=i("4lAS"),s=i("Pyw5"),a=i.n(s);const r={name:"GlEmptyState",components:{GlButton:n.a},props:{title:{type:String,required:!1,default:null},svgPath:{type:String,required:!1,default:null},svgHeight:{type:Number,required:!1,default:144},description:{type:String,required:!1,default:null},primaryButtonLink:{type:String,required:!1,default:null},primaryButtonText:{type:String,required:!1,default:null},secondaryButtonLink:{type:String,required:!1,default:null},secondaryButtonText:{type:String,required:!1,default:null},compact:{type:Boolean,required:!1,default:!1},invertInDarkMode:{type:Boolean,required:!1,default:!0},contentClass:{type:[Array,String,Object],required:!1,default:()=>[]}},computed:{height(){return this.shouldPreventImageReflow?this.svgHeight:null},shouldPreventImageReflow(){return Boolean(this.svgHeight)},shouldRenderPrimaryButton(){return Boolean(this.primaryButtonLink&&this.primaryButtonText)},shouldRenderSecondaryButton(){return Boolean(this.secondaryButtonLink&&this.secondaryButtonText)},contentClasses(){return[this.compact?"gl-grow gl-basis-0 gl-px-4":"gl-m-auto gl-p-5",this.contentClass]}}};const o=a()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"gl-flex",class:{"gl-empty-state gl-flex-col gl-text-center":!e.compact,"gl-flex-row":e.compact}},[i("div",{class:{"gl-hidden gl-px-4 sm:gl-block":e.compact,"gl-max-w-full":!e.compact}},[e.svgPath?i("img",{staticClass:"gl-max-w-full",class:{"gl-dark-invert-keep-hue":e.invertInDarkMode},attrs:{src:e.svgPath,alt:"",height:e.height}}):e._e()]),e._v(" "),i("div",{staticClass:"gl-empty-state-content gl-mx-auto gl-my-0",class:e.contentClasses,attrs:{"data-testid":"gl-empty-state-content"}},[e._t("title",(function(){return[i("h1",{staticClass:"gl-mb-0 gl-mt-0 gl-text-size-h-display gl-leading-36",class:e.compact?"h5":"h4"},[e._v("\n        "+e._s(e.title)+"\n      ")])]})),e._v(" "),e.description||e.$scopedSlots.description?i("p",{ref:"description",staticClass:"gl-mb-0 gl-mt-4 gl-text-subtle"},[e._t("description",(function(){return[e._v("\n        "+e._s(e.description)+"\n      ")]}))],2):e._e(),e._v(" "),i("div",{staticClass:"gl-mt-5 gl-flex gl-flex-wrap",class:{"gl-justify-center":!e.compact}},[e._t("actions",(function(){return[e.shouldRenderPrimaryButton?i("gl-button",{staticClass:"gl-mb-3",class:e.compact?"gl-mr-3":"gl-mx-2",attrs:{variant:"confirm",href:e.primaryButtonLink}},[e._v(e._s(e.primaryButtonText))]):e._e(),e._v(" "),e.shouldRenderSecondaryButton?i("gl-button",{staticClass:"gl-mb-3 gl-mr-3",class:{"!gl-mx-2":!e.compact},attrs:{href:e.secondaryButtonLink}},[e._v(e._s(e.secondaryButtonText)+"\n        ")]):e._e()]}))],2)],2)])},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},dsXv:function(e,t,i){(function(){var t,n,s,a,r,o,l;l=i("jP5H"),n=l.countDir,a=l.getExtension,e.exports=function(e,i){var r,l,d;if(r=(d=null!=i?i:{}).optCharRegEx,l=d.pathSeparator,!e||!e.length)return null;this.query=e,this.query_lw=e.toLowerCase(),this.core=t(e,r),this.core_lw=this.core.toLowerCase(),this.core_up=o(this.core),this.depth=n(e,e.length,l),this.ext=a(this.query_lw),this.charCodes=s(this.query_lw)},r=/[ _\-:\/\\]/g,t=function(e,t){return null==t&&(t=r),e.replace(t,"")},o=function(e){var t,i,n;for(t="",i=0,n=e.length;i<n;i++)t+=e[i].toUpperCase()[0];return t},s=function(e){var t,i,n;for(n=e.length,i=-1,t=[];++i<n;)t[e.charCodeAt(i)]=!0;return t}}).call(this)},dtLS:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"toggleHierarchyTreeChild"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isExpanded"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toggleHierarchyTreeChild"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"isExpanded"},value:{kind:"Variable",name:{kind:"Name",value:"isExpanded"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:148}};i.loc.source={body:"mutation toggleHierarchyTreeChild($id: WorkItemID!, $isExpanded: Boolean!) {\n  toggleHierarchyTreeChild(id: $id, isExpanded: $isExpanded) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.toggleHierarchyTreeChild=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"toggleHierarchyTreeChild")},"e+NP":function(e,t,i){"use strict";var n=i("o4PY"),s=i.n(n),a=i("7jeQ"),r=i.n(a);const o=e=>e.every(e=>r()(e,"id"));var l=i("e67P"),d=i("4lAS"),c=i("Pyw5"),u=i.n(c);const p={name:"GlTokenContainer",components:{GlToken:l.a,GlButton:d.a},props:{tokens:{type:Array,validator:o,required:!0},state:{type:Boolean,required:!1,default:null},registerFocusOnToken:{type:Function,required:!0},viewOnly:{type:Boolean,required:!1,default:!1},showClearAllButton:{type:Boolean,required:!1,default:!1}},data:()=>({bindFocusEvent:!0,focusedTokenIndex:null}),computed:{focusedToken(){return this.tokens[this.focusedTokenIndex]||null}},watch:{focusedToken(e){var t;if(null===e)return;const i=null===(t=this.$refs.tokens)||void 0===t?void 0:t.find(t=>t.dataset.tokenId===e.id.toString());i&&(this.bindFocusEvent=!1,i.focus(),this.bindFocusEvent=!0)}},created(){this.registerFocusOnToken(this.focusOnToken)},methods:{handleClose(e){this.$emit("token-remove",e),this.focusedTokenIndex=null},handleLeftArrow(){0===this.focusedTokenIndex?this.focusLastToken():this.focusPrevToken()},handleRightArrow(){this.focusedTokenIndex===this.tokens.length-1?this.focusFirstToken():this.focusNextToken()},handleHome(){this.focusFirstToken()},handleEnd(){this.focusLastToken()},handleDelete(){this.$emit("token-remove",this.focusedToken),this.focusedTokenIndex>0&&this.focusPrevToken()},handleEscape(){this.focusedTokenIndex=null,this.$emit("cancel-focus")},handleTab(){this.$emit("cancel-focus")},handleTokenFocus(e){this.focusedTokenIndex=e},focusLastToken(){this.focusedTokenIndex=this.tokens.length-1},focusFirstToken(){this.focusedTokenIndex=0},focusNextToken(){this.focusedTokenIndex+=1},focusPrevToken(){this.focusedTokenIndex-=1},focusOnToken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.focusedTokenIndex=e}}};var h=u()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-flex gl-w-full gl-flex-nowrap gl-items-start"},[i("div",{ref:"tokenContainer",staticClass:"-gl-mx-1 -gl-my-1 gl-flex gl-w-full gl-flex-wrap gl-items-center",attrs:{role:"listbox","aria-multiselectable":"false","aria-orientation":"horizontal","aria-invalid":!1===e.state&&"true"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.handleLeftArrow.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.handleRightArrow.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"home",void 0,t.key,void 0)?null:e.handleHome.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"end",void 0,t.key,void 0)?null:e.handleEnd.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleDelete.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.handleTab.apply(null,arguments))}]}},[e._l(e.tokens,(function(t,n){return i("div",{key:t.id,ref:"tokens",refInFor:!0,staticClass:"gl-token-selector-token-container gl-px-1 gl-py-2 gl-outline-none",attrs:{"data-token-id":t.id,role:"option",tabindex:"-1"},on:{focus:function(t){e.bindFocusEvent&&e.handleTokenFocus(n)}}},[i("gl-token",{staticClass:"gl-cursor-default",class:t.class,style:t.style,attrs:{"view-only":e.viewOnly},on:{close:function(i){return e.handleClose(t)}}},[e._t("token-content",(function(){return[i("span",[e._v("\n            "+e._s(t.name)+"\n          ")])]}),{token:t})],2)],1)})),e._v(" "),e._t("text-input")],2),e._v(" "),e.showClearAllButton?i("div",{staticClass:"gl-ml-3 gl-p-1"},[i("gl-button",{attrs:{size:"small","aria-label":"Clear all",icon:"clear",category:"tertiary","data-testid":"clear-all-button"},on:{click:function(t){return t.stopPropagation(),e.$emit("clear-all")}}})],1):e._e()])},staticRenderFns:[]},void 0,p,void 0,!1,void 0,!1,void 0,void 0,void 0);const m={name:"GlTokenSelectorDropdown",components:{GlDropdownItem:i("wP8z").a},props:{show:{type:Boolean,required:!0},menuClass:{type:[String,Array,Object],required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},dropdownItems:{type:Array,validator:o,required:!0},inputText:{type:String,required:!0},userDefinedTokenCanBeAdded:{type:Boolean,required:!0},componentId:{type:String,required:!0},registerDropdownEventHandlers:{type:Function,required:!0},registerResetFocusedDropdownItem:{type:Function,required:!0}},data:()=>({focusedDropdownItemIndex:0}),computed:{userDefinedToken(){return{id:s()("user-defined-token"),name:this.inputText}},dropdownLength(){return this.userDefinedTokenCanBeAdded?this.dropdownItems.length:this.dropdownItems.length-1},focusedLastDropdownItem(){return this.focusedDropdownItemIndex===this.dropdownLength},focusedUserDefinedToken(){return this.userDefinedTokenCanBeAdded&&this.focusedLastDropdownItem},focusedDropdownItem(){return this.focusedUserDefinedToken?this.userDefinedToken:this.dropdownItems[this.focusedDropdownItemIndex]}},watch:{focusedDropdownItem(e,t){if((null==e?void 0:e.id)!==(null==t?void 0:t.id)){if(this.$emit("input",e),!e)return;const t=this.getDropdownItemRef(e);null!=t&&t.$el&&t.$el.scrollIntoView({block:"nearest",inline:"end"})}}},created(){this.registerDropdownEventHandlers({handleUpArrow:this.handleUpArrow,handleDownArrow:this.handleDownArrow,handleHomeKey:this.handleHomeKey,handleEndKey:this.handleEndKey}),this.registerResetFocusedDropdownItem(this.resetFocusedDropdownItem),this.$emit("input",this.focusedDropdownItem)},methods:{handleDropdownItemClick(e){this.$emit("dropdown-item-click",e)},handleMousedown(e){const t=this.getDropdownItemRef(e);null!=t&&t.$el&&t.$el.querySelector("button").focus()},handleUpArrow(){this.show&&0!==this.focusedDropdownItemIndex&&this.focusPrevDropdownItem()},handleDownArrow(){this.show?this.focusedLastDropdownItem||this.focusNextDropdownItem():this.$emit("show")},handleHomeKey(e){e.preventDefault(),this.focusFirstDropdownItem()},handleEndKey(e){e.preventDefault(),this.focusLastDropdownItem()},focusLastDropdownItem(){this.focusedDropdownItemIndex=this.dropdownLength},focusFirstDropdownItem(){this.focusedDropdownItemIndex=0},focusNextDropdownItem(){this.focusedDropdownItemIndex+=1},focusPrevDropdownItem(){this.focusedDropdownItemIndex-=1},resetFocusedDropdownItem(){this.focusedDropdownItemIndex=0},dropdownItemIsFocused(e){return!!this.focusedDropdownItem&&e.id===this.focusedDropdownItem.id},getDropdownItemRef(e){var t;return this.focusedUserDefinedToken?this.$refs[this.userDefinedToken.id]:null===(t=this.$refs.dropdownItems)||void 0===t?void 0:t.find(t=>t.$attrs["data-dropdown-item-id"]===e.id)},dropdownItemIdAttribute(e){return e?`${this.componentId}-dropdown-item-${e.id}`:null}}};var f=u()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown b-dropdown gl-dropdown gl-relative",class:{show:e.show}},[i("ul",{ref:"dropdownMenu",staticClass:"dropdown-menu gl-absolute",class:[{show:e.show},e.menuClass],attrs:{role:"menu","aria-activedescendant":e.dropdownItemIdAttribute(e.focusedDropdownItem)}},[e.loading?i("gl-dropdown-item",{attrs:{disabled:""}},[e._t("loading-content",(function(){return[e._v("Searching...")]}))],2):e._e(),e._v(" "),e._l(e.dropdownItems,(function(t){return i("gl-dropdown-item",{key:t.id,ref:"dropdownItems",refInFor:!0,attrs:{id:e.dropdownItemIdAttribute(t),"data-dropdown-item-id":t.id,active:e.dropdownItemIsFocused(t),"active-class":"is-focused",tabindex:"-1"},on:{click:function(i){return e.handleDropdownItemClick(t)}}},[i("div",{staticClass:"-gl-mx-4 -gl-my-3 gl-px-4 gl-py-3",on:{mousedown:function(i){return e.handleMousedown(t)}}},[e._t("dropdown-item-content",(function(){return[e._v("\n          "+e._s(t.name)+"\n        ")]}),{dropdownItem:t})],2)])})),e._v(" "),e.userDefinedTokenCanBeAdded?i("gl-dropdown-item",{ref:e.userDefinedToken.id,attrs:{id:e.dropdownItemIdAttribute(e.userDefinedToken),"data-dropdown-item-id":e.userDefinedToken.id,active:e.dropdownItemIsFocused(e.userDefinedToken),"active-class":"is-focused",tabindex:"-1"},on:{click:function(t){return e.handleDropdownItemClick(e.userDefinedToken)}}},[i("div",{staticClass:"-gl-mx-4 -gl-my-3 gl-px-4 gl-py-3",on:{mousedown:function(t){return e.handleMousedown(e.userDefinedToken)}}},[e._t("user-defined-token-content",(function(){return[e._v('\n          Add "'+e._s(e.inputText)+'"\n        ')]}),{inputText:e.inputText})],2)]):e.dropdownItems.length?e._e():i("gl-dropdown-item",{attrs:{disabled:""}},[e._t("no-results-content",(function(){return[e._v("No matches found")]}))],2),e._v(" "),e._t("dropdown-footer")],2)])},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);const g={name:"GlTokenSelector",componentId:s()("token-selector"),components:{GlTokenContainer:h,GlTokenSelectorDropdown:f},model:{prop:"selectedTokens",event:"input"},props:{dropdownItems:{type:Array,validator:o,required:!1,default:()=>[]},allowUserDefinedTokens:{type:Boolean,required:!1,default:!1},showAddNewAlways:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},hideDropdownWithNoItems:{type:Boolean,required:!1,default:!1},containerClass:{type:String,required:!1,default:""},menuClass:{type:[String,Array,Object],required:!1,default:""},autocomplete:{type:String,required:!1,default:"off"},ariaLabelledby:{type:String,required:!1,default:null},placeholder:{type:String,required:!1,default:null},textInputAttrs:{type:Object,required:!1,default:null},state:{type:Boolean,required:!1,default:null},selectedTokens:{type:Array,validator:o,required:!0},viewOnly:{type:Boolean,required:!1,default:!1},allowClearAll:{type:Boolean,required:!1,default:!1}},data:()=>({inputText:"",inputFocused:!1,dropdownIsOpen:!1,focusedDropdownItem:null,triggerTokenFocusNextBackspace:!0,rootElClasses:"",dropdownEventHandlers:{handleUpArrow:()=>{},handleDownArrow:()=>{},handleHomeKey:()=>{},handleEndKey:()=>{}},resetFocusedDropdownItem:()=>{},focusOnToken:()=>{}}),computed:{filteredDropdownItems(){return this.dropdownItems.filter(e=>-1===this.selectedTokens.findIndex(t=>t.id===e.id))},dropdownHasNoItems(){return!this.filteredDropdownItems.length},userDefinedTokenCanBeAdded(){return!(!this.allowUserDefinedTokens||!this.inputText)&&(this.showAddNewAlways||this.dropdownHasNoItems)},hideDropdown(){return!this.userDefinedTokenCanBeAdded&&!(!this.hideDropdownWithNoItems||!this.dropdownHasNoItems)},stateClass(){switch(this.state){case!0:return"is-valid";case!1:return"is-invalid";default:return""}},hasSelectedTokens(){return this.selectedTokens.length>0},showEmptyPlaceholder(){return!this.hasSelectedTokens&&!this.inputFocused},showClearAllButton(){return this.hasSelectedTokens&&this.allowClearAll}},watch:{inputText(e,t){e!==t&&(this.$emit("text-input",e),this.resetFocusedDropdownItem(),this.triggerTokenFocusNextBackspace=""===e,this.$nextTick(()=>{this.hideDropdown?this.closeDropdown():""!==e&&this.openDropdown()}))}},methods:{handleFocus(e){this.$emit("focus",e),this.openDropdown(),this.inputFocused=!0,this.focusOnToken(),""===this.inputText&&(this.triggerTokenFocusNextBackspace=!0)},handleBlur(e){this.$emit("blur",e),this.inputFocused=!1,this.$nextTick(()=>{var t,i;null!==(t=e.relatedTarget)&&void 0!==t&&null!==(i=t.closest)&&void 0!==i&&i.call(t,".dropdown-item")||this.closeDropdown()})},handleEnter(){this.focusedDropdownItem&&this.dropdownIsOpen&&this.addToken(this.focusedDropdownItem)},handleEscape(){this.inputText="",this.closeDropdown()},handleBackspace(e){""===this.inputText&&this.selectedTokens.length&&(e.preventDefault(),this.triggerTokenFocusNextBackspace?(this.$refs.textInput.blur(),this.focusOnToken(this.selectedTokens.length-1)):this.triggerTokenFocusNextBackspace=!0)},handleInputClick(){this.inputFocused&&""===this.inputText&&!this.dropdownIsOpen&&this.openDropdown()},handleContainerClick(e){const{target:t}=e;null!==(null==t?void 0:t.closest(".gl-token"))||this.inputFocused||this.focusTextInput()},addToken(e){this.$emit("input",[...this.selectedTokens,e]),this.inputText="",this.closeDropdown(),this.$emit("token-add",e)},removeToken(e){this.$emit("input",this.selectedTokens.filter(t=>t.id!==e.id)),this.$emit("token-remove",e)},cancelTokenFocus(){this.focusTextInput()},closeDropdown(){this.dropdownIsOpen=!1,this.resetFocusedDropdownItem()},openDropdown(){this.hideDropdown||(this.dropdownIsOpen=!0)},focusTextInput(){this.$refs.textInput.focus()},registerDropdownEventHandlers(e){this.dropdownEventHandlers=e},registerResetFocusedDropdownItem(e){this.resetFocusedDropdownItem=e},registerFocusOnToken(e){this.focusOnToken=e},clearAll(){this.$emit("input",[]),this.focusTextInput()}}};const v=u()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{ref:"container",staticClass:"gl-token-selector gl-form-input gl-form-input-not-readonly form-control gl-flex !gl-cursor-text gl-items-center !gl-px-3 !gl-py-2",class:[{"gl-token-selector-focus-glow":e.inputFocused,"gl-token-selector-view-only":e.viewOnly},e.containerClass,e.stateClass],on:{click:e.handleContainerClick}},[e.showEmptyPlaceholder?e._t("empty-placeholder"):e._e(),e._v(" "),i("gl-token-container",{attrs:{tokens:e.selectedTokens,state:e.state,"register-focus-on-token":e.registerFocusOnToken,"view-only":e.viewOnly,"show-clear-all-button":e.showClearAllButton},on:{"token-remove":e.removeToken,"cancel-focus":e.cancelTokenFocus,"clear-all":e.clearAll},scopedSlots:e._u([{key:"token-content",fn:function(t){var i=t.token;return[e._t("token-content",null,{token:i})]}},{key:"text-input",fn:function(){return[i("input",e._b({ref:"textInput",staticClass:"gl-token-selector-input gl-h-auto gl-w-4/10 gl-grow gl-border-none gl-bg-transparent gl-px-1 gl-font-regular gl-text-base gl-leading-normal gl-text-default gl-outline-none",attrs:{type:"text",autocomplete:e.autocomplete,"aria-labelledby":e.ariaLabelledby,placeholder:e.placeholder,disabled:e.viewOnly},domProps:{value:e.inputText},on:{input:function(t){e.inputText=t.target.value},focus:e.handleFocus,blur:e.handleBlur,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnter.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleBackspace.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.dropdownEventHandlers.handleUpArrow.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.dropdownEventHandlers.handleDownArrow.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"home",void 0,t.key,void 0)?null:e.dropdownEventHandlers.handleHomeKey.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"end",void 0,t.key,void 0)?null:e.dropdownEventHandlers.handleEndKey.apply(null,arguments)},function(t){return t.stopPropagation(),e.$emit("keydown",t)}],click:e.handleInputClick}},"input",e.textInputAttrs,!1))]},proxy:!0}],null,!0)})],2),e._v(" "),i("gl-token-selector-dropdown",{attrs:{"menu-class":e.menuClass,show:e.dropdownIsOpen,loading:e.loading,"dropdown-items":e.filteredDropdownItems,"selected-tokens":e.selectedTokens,"input-text":e.inputText,"user-defined-token-can-be-added":e.userDefinedTokenCanBeAdded,"component-id":e.$options.componentId,"register-dropdown-event-handlers":e.registerDropdownEventHandlers,"register-reset-focused-dropdown-item":e.registerResetFocusedDropdownItem},on:{"dropdown-item-click":e.addToken,show:e.openDropdown},scopedSlots:e._u([{key:"loading-content",fn:function(){return[e._t("loading-content")]},proxy:!0},{key:"user-defined-token-content",fn:function(){return[e._t("user-defined-token-content",null,{inputText:e.inputText})]},proxy:!0},{key:"no-results-content",fn:function(){return[e._t("no-results-content")]},proxy:!0},{key:"dropdown-item-content",fn:function(t){var i=t.dropdownItem;return[e._t("dropdown-item-content",null,{dropdownItem:i})]}},{key:"dropdown-footer",fn:function(){return[e._t("dropdown-footer")]},proxy:!0}],null,!0),model:{value:e.focusedDropdownItem,callback:function(t){e.focusedDropdownItem=t},expression:"focusedDropdownItem"}})],1)},staticRenderFns:[]},void 0,g,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=v},e2M3:function(e,t,i){"use strict";i.d(t,"b",(function(){return f})),i.d(t,"a",(function(){return c}));var n=i("G3fq"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("ZzK0"),i("z6RN"),i("BzOf"),i("v2fZ"),i("ejAS")),r=i("qLpH"),o=i("/lV4"),l=i("ygVz");var d=function(){var e;const t=(null===(e=window.gon)||void 0===e?void 0:e.pat_prefix)||"glpat-";return[{name:"GitLab personal access token",regex:t+"[0-9a-zA-Z_-]{20}"},{name:"GitLab personal access token (routable)",regex:t+"(?<base64_payload>[0-9a-zA-Z_-]{27,300})\\.(?<base64_payload_length>[0-9a-z]{2})(?<crc32>[0-9a-z]{7})"},{name:"Feed Token",regex:"feed_token=[0-9a-zA-Z_-]{20}|glft-[0-9a-zA-Z_-]{20}|glft-[a-h0-9]+-[0-9]+_"},{name:"GitLab OAuth Application Secret",regex:"gloas-[0-9a-zA-Z_-]{64}"},{name:"GitLab Deploy Token",regex:"gldt-[0-9a-zA-Z_-]{20}"},{name:"GitLab SCIM OAuth Access Token",regex:"glsoat-[0-9a-zA-Z_-]{20}"},{name:"GitLab CI Build (Job) Token",regex:"glcbt-[0-9a-zA-Z]{1,5}_[0-9a-zA-Z_-]{20}"},{name:"GitLab Feature Flags Client Token",regex:"glffct-[0-9a-zA-Z_-]{20}"},{name:"GitLab Runner Token",regex:"glrt-[0-9a-zA-Z_-]{20}"},{name:"GitLab Incoming Mail Token",regex:"glimt-[0-9a-zA-Z_-]{25}"},{name:"GitLab Agent for Kubernetes Token",regex:"glagent-[0-9a-zA-Z_-]{50}"},{name:"GitLab Pipeline Trigger Token",regex:"glptt-[0-9a-zA-Z_-]{40}"},{name:"Anthropic key",regex:"sk-ant-[a-z]{3}\\d{2}-[A-Za-z0-9-_]{86}-[A-Za-z0-9-_]{8}"}]};const c={COMMENT:"comment",DESCRIPTION:"description"},u=c.COMMENT,p=Object(r.a)("user/application_security/secret_detection/client/index"),h={title:function(e){return Object(o.f)("SecretDetection|Warning: Potential secret detected","SecretDetection|Warning: Potential secrets detected",e)},promptMessage:function(e){return Object(o.f)("SecretDetection|This %{contentType} appears to have the following secret in it. Are you sure you want to add this %{contentType}?","SecretDetection|This %{contentType} appears to have the following secrets in it. Are you sure you want to add this %{contentType}?",e)},primaryBtnText:Object(o.a)("Add %{contentType}"),secondaryBtnText:Object(o.a)("Edit %{contentType}"),helpString:Object(o.a)("Why am I seeing this warning?")},m=function(e,t){return`\n    ${Object(o.h)(h.promptMessage(e.length),{contentType:t})}\n    <p><ul>\n      ${e.map((function({patternName:e,matchedString:t}){const i=function(e){if(e.length<=9)return e;const t=e.substring(0,5),i=e.substring(e.length-4),n=Math.min(e.length-t.length-i.length,22);return`${t}${"*".repeat(n)}${i}`}(t);return`<li>${s()(e)}: ${s()(i)}</li>`})).join("")}\n    </ul>\n    <a href="${p}" target="_blank" rel="noopener noreferrer">\n      ${h.helpString}\n    </a>\n  `},f=function({content:e,contentType:t}){const i=function(e){if(!e||"string"!=typeof e)return null;const t=[];for(const i of d()){const n=new RegExp(i.regex,"gi"),s=e.match(n);s&&s.forEach((function(e){t.push({patternName:i.name,matchedString:e})}))}return t.length>0&&t}(e);return i?async function(e=[],t=u){const i=h.title(e.length),n=m(e,t),s=Object(o.h)(h.primaryBtnText,{contentType:t}),r=Object(o.h)(h.secondaryBtnText,{contentType:t}),d=await Object(a.a)("",{title:i,modalHtmlMessage:n,primaryBtnVariant:"danger",primaryBtnText:s,secondaryBtnText:r,hideCancel:!0});return l.a.trackEvent("show_client_side_secret_detection_warning",{label:t,property:e[0].patternName,value:d?1:0}),d}(i,t):Promise.resolve(!0)}},e67P:function(e,t,i){"use strict";var n=i("XBTk"),s=i("EldY"),a=i("Ge+5"),r=i("Pyw5"),o=i.n(r);const l={name:"GlToken",components:{CloseButton:a.a},props:{viewOnly:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:"default",validator:e=>n.K.includes(e)},removeLabel:{type:String,required:!1,default:()=>Object(s.b)("GlToken.closeButtonTitle","Remove")}},computed:{variantClass(){return`gl-token-${this.variant}-variant`},viewOnlyClass(){return{"gl-token-view-only":this.viewOnly}}},methods:{close(e){this.$emit("close",e)}}};const d=o()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",e._g({class:["gl-token",e.variantClass,e.viewOnlyClass]},e.$listeners),[i("span",{staticClass:"gl-token-content"},[e._t("default"),e._v(" "),e.viewOnly?e._e():i("close-button",{staticClass:"gl-token-close",attrs:{label:e.removeLabel},on:{click:e.close}})],2)])},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},eJv8:function(e,t,i){"use strict";var n=i("s1D3"),s=i("z1xw"),a=i("J6Lq"),r={i18n:i("bXWw").V,components:{GlIcon:n.a},directives:{GlTooltip:s.a},props:{issue:{type:Object,required:!0}},computed:{downvotes(){var e;return this.issue.downvotes||(null===(e=Object(a.d)(this.issue))||void 0===e?void 0:e.downvotes)},upvotes(){var e;return this.issue.upvotes||(null===(e=Object(a.d)(this.issue))||void 0===e?void 0:e.upvotes)}}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"gl-contents"},[e.upvotes?t("li",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-hidden sm:gl-block",attrs:{title:e.$options.i18n.upvotes,"data-testid":"issuable-upvotes"}},[t("gl-icon",{attrs:{name:"thumb-up"}}),e._v("\n    "+e._s(e.upvotes)+"\n  ")],1):e._e(),e._v(" "),e.downvotes?t("li",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-hidden sm:gl-block",attrs:{title:e.$options.i18n.downvotes,"data-testid":"issuable-downvotes"}},[t("gl-icon",{attrs:{name:"thumb-down"}}),e._v("\n    "+e._s(e.downvotes)+"\n  ")],1):e._e(),e._v(" "),e.issue.mergeRequestsCount?t("li",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-hidden sm:gl-block",attrs:{title:e.__("Related merge requests"),"data-testid":"merge-requests"}},[t("gl-icon",{attrs:{name:"merge-request"}}),e._v("\n    "+e._s(e.issue.mergeRequestsCount)+"\n  ")],1):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.a=l.exports},eTWE:function(e,t,i){"use strict";var n=i("o4PY"),s=i.n(n),a=i("4lAS"),r=i("1cpz"),o=i("Mq5L"),l=i("/lV4"),d={name:"ArchiveDesignButton",components:{GlButton:a.a,GlModal:r.a},directives:{GlModalDirective:o.a},props:{hasSelectedDesigns:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},buttonIcon:{type:String,required:!1,default:void 0},buttonCategory:{type:String,required:!1,default:"primary"},buttonClass:{type:String,required:!1,default:""},buttonSize:{type:String,required:!1,default:"small"}},data:()=>({modalId:s()("design-archive-confirmation-")}),modal:{title:Object(l.g)("DesignManagement|Are you sure you want to archive the selected designs?"),text:Object(l.g)("DesignManagement|Archived designs will still be available in previous versions of the design collection."),actionPrimary:{text:Object(l.g)("DesignManagement|Archive designs"),attributes:{variant:"confirm","data-testid":"confirm-archiving-button"}},actionCancel:{text:Object(l.a)("Cancel")}}},c=i("tBpV"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",{class:e.buttonClass},[t("gl-modal",{attrs:{"modal-id":e.modalId,title:e.$options.modal.title,"action-primary":e.$options.modal.actionPrimary,"action-cancel":e.$options.modal.actionCancel},on:{ok:function(t){return e.$emit("archive-selected-designs")}}},[e._v("\n    "+e._s(e.$options.modal.text)+"\n  ")]),e._v(" "),t("gl-button",{directives:[{name:"gl-modal-directive",rawName:"v-gl-modal-directive",value:e.modalId,expression:"modalId"}],class:e.buttonClass,attrs:{"data-testid":"archive-design-button",size:e.buttonSize,category:e.buttonCategory,icon:e.buttonIcon,loading:e.loading,disabled:!e.hasSelectedDesigns||e.loading}},[e._t("default")],2)],1)}),[],!1,null,null,null);t.a=u.exports},eTzY:function(e,t,i){(e.exports=i("VNgF")(!1)).push([e.i,"\n/* hide the existing modal header\n */\n#work-item-detail-modal .modal-header * {\n  display: none;\n}\n",""])},eZCY:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueSuggestion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"updated_desc"}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userNotesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upvotes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:542}};i.loc.source={body:"query issueSuggestion($fullPath: ID!, $search: String) {\n  project(fullPath: $fullPath) {\n    id\n    issues(search: $search, sort: updated_desc, first: 5) {\n      edges {\n        node {\n          id\n          iid\n          title\n          confidential\n          userNotesCount\n          upvotes\n          webUrl\n          state\n          closedAt\n          createdAt\n          updatedAt\n          author {\n            id\n            name\n            username\n            avatarUrl\n            webUrl\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.issueSuggestion=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"issueSuggestion")},eadt:function(e,t,i){"use strict";var n=i("Tmea"),s=i.n(n),a=i("KFC0"),r=i.n(a),o=i("z1xw"),l=i("waGw"),d=i("1OWu");var c={directives:{GlTooltip:o.a,GlResizeObserver:l.a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},boundary:{type:String,required:!1,default:""},truncateTarget:{type:[String,Function],required:!1,default:""}},data:()=>({tooltipDisabled:!0}),computed:{classes(){return this.tooltipDisabled?"":"js-show-tooltip"},tooltip(){return{title:this.title,placement:this.placement,disabled:this.tooltipDisabled,...this.boundary&&{boundary:this.boundary}}}},watch:{title(){this.$nextTick(this.updateTooltip)}},created(){this.updateTooltipDebounced=s()(this.updateTooltip,300)},mounted(){this.updateTooltip()},methods:{selectTarget(){return r()(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el},updateTooltip(){this.tooltipDisabled=!Object(d.f)(this.selectTarget())},onResize(){this.updateTooltipDebounced()}}},u=i("tBpV"),p=Object(u.a)(c,(function(){return(0,this._self._c)("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:this.tooltip,expression:"tooltip"},{name:"gl-resize-observer",rawName:"v-gl-resize-observer",value:this.onResize,expression:"onResize"}],staticClass:"gl-min-w-0",class:this.classes},[this._t("default")],2)}),[],!1,null,null,null);t.a=p.exports},enyH:function(e,t,i){"use strict";i.d(t,"f",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"g",(function(){return d})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"i",(function(){return h})),i.d(t,"h",(function(){return m}));var n=i("o4PY"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("B++/"),i("z6RN"),i("47t/"),i("J6Lq"));const r=function(e){return(e.match("::Version/(.+$)")||[])[1]},o=function(e){return(e.match("DiffNote/(.+$)")||[])[1]},l=function(e){return e.nodes.map((function(e,t){return{...e,index:t+1,notes:e.notes.nodes}}))},d=function(){return document.querySelector(".layout-page")},c=function(e){return Object(a.e)(e.workItem.widgets)},u=function(e,t){return e.nodes.find((function(e){return e.id===t}))},p=function(e){return{__typename:"Mutation",designManagementUpload:{__typename:"DesignManagementUploadPayload",designs:e.map((function(e){return{__typename:"Design",id:-s()(),image:"",imageV432x230:"",description:"",descriptionHtml:"",filename:e.name,fullPath:"",imported:!1,notesCount:0,event:"NONE",currentUserTodos:{__typename:"TodoConnection",nodes:[]},diffRefs:{__typename:"DiffRefs",baseSha:"",startSha:"",headSha:""},discussions:{__typename:"DesignDiscussion",nodes:[]},versions:{__typename:"DesignVersionConnection",nodes:{__typename:"DesignVersion",id:-s()(),sha:-s()(),createdAt:"",author:{__typename:"UserCore",id:-s()(),name:"",avatarUrl:""}}}}})),skippedDesigns:[],errors:[]}}},h=function(e,{position:t}){return{__typename:"Mutation",repositionImageDiffNote:{__typename:"RepositionImageDiffNotePayload",note:{...e,position:{...e.position,...t}},errors:[]}}},m=function(e){return{__typename:"Mutation",designManagementMove:{__typename:"DesignManagementMovePayload",designCollection:{__typename:"DesignCollection",designs:{__typename:"DesignConnection",nodes:e}},errors:[]}}}},"epV+":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return d})),i.d(t,"g",(function(){return c}));var n=i("/lV4");const s="jira-import-success-alert-hide-map",a=500,r=Object(n.a)("The GitLab user to which the Jira user %{jiraDisplayName} will be mapped"),o=Object(n.a)("You have imported from this project\n  %{numberOfPreviousImports} times before. Each new import will create duplicate issues."),l=[{key:"jiraDisplayName",label:Object(n.a)("Jira display name")},{key:"arrow",label:""},{key:"gitlabUsername",label:Object(n.a)("GitLab username")}],d=Object(n.a)('Jira users have been imported from the configured Jira\n  instance. They can be mapped by selecting a GitLab user from the dropdown in the "GitLab username"\n  column. When the form appears, the dropdown defaults to the user conducting the import.'),c=50},exT8:function(e,t,i){"use strict";var n={name:"ResolveDiscussionButton",components:{GlButton:i("4lAS").a},props:{isResolving:{type:Boolean,required:!1,default:!1},buttonTitle:{type:String,required:!0}}},s=i("tBpV"),a=Object(s.a)(n,(function(){var e=this;return(0,e._self._c)("gl-button",{staticClass:"ml-sm-2 gl-w-full sm:gl-w-auto",attrs:{loading:e.isResolving},on:{click:function(t){return e.$emit("onClick")}}},[e._v("\n  "+e._s(e.buttonTitle)+"\n")])}),[],!1,null,null,null);t.a=a.exports},fTpu:function(e,t,i){"use strict";i("yv3B");var n=i("s1D3"),s=i("MV2A"),a=i("DZUU"),r=i("4lAS"),o=i("z1xw"),l=i("Mp8J"),d=i("kNVy"),c=i("4wgn"),u=i("FxFN"),p=i("NmEs"),h=i("3twG"),m=i("/lV4"),f=i("iM2x"),g=i("VDDM"),v=i("JtyA"),b=i("VXIO"),y=i("bKv5"),k=i("+1Q1"),w={components:{IssueMilestone:i("/DUi").a,IssueAssignees:k.a,CiIcon:f.a,GlIcon:n.a,GlLink:s.a,GlTooltip:a.a,IssueWeight:function(){return i.e(3).then(i.bind(null,"4b03"))},IssueDueDate:d.a,GlButton:r.a,WorkItemDetailModal:g.a,AbuseCategorySelector:b.a},directives:{GlTooltip:o.a,SafeHtml:l.a},mixins:[y.a],inject:{reportAbusePath:{default:""}},props:{canReorder:{type:Boolean,required:!1,default:!1},isLocked:{type:Boolean,required:!1,default:!1},lockedMessage:{type:String,required:!1,default:""},workItemType:{type:String,required:!1,default:""}},data:()=>({isReportDrawerOpen:!1,reportedUserId:0,reportedUrl:""}),computed:{stateTitle(){return Object(m.h)('<span class="gl-font-bold">%{state}</span> %{timeInWords}<br/><span class="gl-text-tertiary">%{timestamp}</span>',{state:this.stateText,timeInWords:this.stateTimeInWords,timestamp:this.stateTimestamp})},iconClasses(){return`${this.iconClass} ic-${this.iconName}`},workItemId(){return Object(u.c)(c.E,this.idKey)},workItemIid(){return String(this.iid)}},methods:{handleTitleClick(e){if("TASK"===this.workItemType){if(Object(p.D)(e))return;e.preventDefault(),this.$refs.modal.show(),this.updateQueryParam(this.idKey)}},handleWorkItemDeleted(e){this.$emit("relatedIssueRemoveRequest",e)},updateQueryParam(e){Object(h.O)({url:Object(h.L)({[v.g]:e}),replace:!0})},toggleReportAbuseDrawer(e,t={}){this.isReportDrawerOpen=e,this.reportedUrl=t.url,this.reportedUserId=t.author?Object(u.e)(t.author.id):0},openReportAbuseDrawer(e){this.toggleReportAbuseDrawer(!0,e)}}},S=i("tBpV"),_=Object(S.a)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"item-body gl-flex gl-items-center gl-gap-3",class:{"issuable-info-container":!e.canReorder,"card-body":e.canReorder}},[t("div",{staticClass:"item-contents py-xl-0 flex-xl-nowrap gl-flex gl-min-h-7 gl-grow gl-flex-wrap gl-items-center gl-gap-2 gl-px-3 gl-py-2"},[t("div",{staticClass:"item-title gl-flex gl-min-w-0 gl-gap-3"},[e.hasState?t("gl-icon",{ref:"iconElementXL",class:e.iconClasses,attrs:{id:"iconElementXL-"+e.itemId,name:e.iconName,title:e.stateTitle,"aria-label":e.state}}):e._e(),e._v(" "),t("gl-tooltip",{attrs:{target:"iconElementXL-"+e.itemId}},[t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.stateTitle,expression:"stateTitle"}]})]),e._v(" "),e.confidential?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"confidential-icon",attrs:{name:"eye-slash",title:e.__("Confidential"),"aria-label":e.__("Confidential")}}):e._e(),e._v(" "),t("gl-link",{staticClass:"sortable-link",attrs:{href:e.computedPath},on:{click:e.handleTitleClick}},[e._v("\n        "+e._s(e.title)+"\n      ")])],1),e._v(" "),t("div",{staticClass:"item-info-area ml-xl-0 gl-ml-6 gl-flex gl-shrink-0 gl-grow gl-gap-3"},[t("div",{staticClass:"item-meta gl-flex gl-flex-wrap-reverse gl-gap-3 md:gl-justify-between"},[t("div",{staticClass:"item-path-area item-path-id gl-flex gl-flex-wrap gl-items-center gl-gap-3"},[t("gl-tooltip",{attrs:{target:function(){return e.$refs.iconElement}}},[t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.stateTitle,expression:"stateTitle"}]})]),e._v(" "),e.itemPath?t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"path-id-text gl-inline-block",attrs:{title:e.itemPath}},[e._v(e._s(e.itemPath))]):e._e(),e._v(" "),t("span",[e._v(e._s(e.pathIdSeparator)+e._s(e.itemId))])],1),e._v(" "),t("div",{staticClass:"item-attributes-area gl-flex gl-items-center gl-gap-3"},[e.hasPipeline?t("span",{staticClass:"mr-ci-status order-md-last -gl-mr-2 md:gl-ml-3"},[t("ci-icon",{attrs:{status:e.pipelineStatus}})],1):e._e(),e._v(" "),e.hasMilestone?t("issue-milestone",{staticClass:"item-milestone order-md-first gl-ml-2 gl-flex gl-items-center gl-text-sm",attrs:{milestone:e.milestone}}):e._e(),e._v(" "),e.weight>0?t("span",{staticClass:"order-md-1"},[t("issue-weight",{staticClass:"item-weight gl-flex gl-items-center",attrs:{weight:e.weight}})],1):e._e(),e._v(" "),e.dueDate?t("span",{staticClass:"order-md-1"},[t("issue-due-date",{attrs:{date:e.dueDate,closed:Boolean(e.closedAt),"tooltip-placement":"top","css-class":"item-due-date gl-flex gl-items-center"}})],1):e._e(),e._v(" "),e.hasAssignees?t("issue-assignees",{staticClass:"item-assignees order-md-2 gl-flex gl-shrink-0 gl-items-center gl-self-end",attrs:{assignees:e.assignees}}):e._e()],1)])])]),e._v(" "),e.isLocked?t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-inline-block gl-cursor-not-allowed",attrs:{title:e.lockedMessage,"data-testid":"lockIcon"}},[t("gl-icon",{attrs:{name:"lock"}})],1):e.canRemove?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-issue-item-remove-button gl-mr-2",attrs:{icon:"close",category:"tertiary",size:"small",disabled:e.removeDisabled,"data-testid":"remove-related-issue-button",title:e.__("Remove"),"aria-label":e.__("Remove")},on:{click:e.onRemoveRequest}}):e._e(),e._v(" "),t("work-item-detail-modal",{ref:"modal",attrs:{"work-item-id":e.workItemId,"work-item-iid":e.workItemIid},on:{close:e.updateQueryParam,workItemDeleted:e.handleWorkItemDeleted,openReportAbuse:e.openReportAbuseDrawer}}),e._v(" "),e.isReportDrawerOpen&&e.reportAbusePath?t("abuse-category-selector",{attrs:{"reported-user-id":e.reportedUserId,"reported-from-url":e.reportedUrl,"show-drawer":e.isReportDrawerOpen},on:{"close-drawer":function(t){return e.toggleReportAbuseDrawer(!1)}}}):e._e()],1)}),[],!1,null,null,null);t.a=_.exports},ffkl:function(e,t,i){"use strict";var n=i("s1D3"),s=i("z1xw"),a=i("yi8e"),r=i("PTFM"),o=i("jlnU"),l=i("4UiK"),d=i("NmEs"),c=i("ejAS"),u=i("HiWv"),p=i("/lV4"),h=i("IwtM"),m=i("OgyL"),f=i("ZHzM"),g=i("e2M3"),v=i("pIt4"),b=i("J7NB"),y=i("byjy"),k=i("G/dv"),w=i("STGD"),S=i("G3fq"),_=i.n(S),I=(i("UezY"),i("z6RN"),i("hG7+"),i("tbP8")),T=i("mFhR"),O=i("Mp8J"),C=i("0AwG"),x=i("c82y"),j=i("TNeE"),E=i("0C8+"),D={name:"DiffDiscussionHeader",components:{GlAvatar:I.a,GlAvatarLink:T.a,NoteEditedText:x.a,NoteHeader:j.a,ToggleRepliesWidget:E.a},directives:{SafeHtml:O.a},props:{discussion:{type:Object,required:!0}},computed:{notes(){return this.discussion.notes},firstNote(){return this.notes[0]},lastNote(){return this.notes[this.notes.length-1]},author(){return this.firstNote.author},resolvedText(){return this.discussion.resolved_by_push?Object(p.a)("Automatically resolved"):Object(p.a)("Resolved")},lastUpdatedBy(){return this.notes.length>1?this.lastNote.author:null},lastUpdatedAt(){return this.notes.length>1?this.lastNote.created_at:null},headerText(){const e=`<a href="${_()(this.discussion.discussion_path)}">`,{commit_id:t}=this.discussion;let i=t;t&&(i=`<span class="commit-sha">${Object(C.E)(t)}</span>`);const{for_commit:n,diff_discussion:s,active:a,position:r}=this.discussion;let o=Object(p.g)("MergeRequests|started a thread");return n?o=Object(p.g)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):s&&t?o=a?Object(p.g)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):Object(p.g)("MergeRequests|started a thread on an outdated change in commit %{linkStart}%{commitDisplay}%{linkEnd}"):s&&(null==r?void 0:r.position_type)===v.F?o=a?Object(p.g)("MergeRequests|started a thread on %{linkStart}a file%{linkEnd}"):Object(p.g)("MergeRequests|started a thread on %{linkStart}an old version of a file%{linkEnd}"):s&&(o=a?Object(p.g)("MergeRequests|started a thread on %{linkStart}the diff%{linkEnd}"):Object(p.g)("MergeRequests|started a thread on %{linkStart}an old version of the diff%{linkEnd}")),Object(p.h)(o,{commitDisplay:i,linkStart:e,linkEnd:"</a>"},!1)},toggleClass(){return this.discussion.expanded?"expanded":"collapsed"},replies(){return this.notes.filter((function(e){return!e.system}))}},methods:{...Object(a.c)(["toggleDiscussion"]),toggleDiscussionHandler(){this.toggleDiscussion({discussionId:this.discussion.id})}}},N=i("tBpV"),A=Object(N.a)(D,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"discussion-header gl-flex gl-items-center"},[e._m(0),e._v(" "),t("div",{staticClass:"timeline-content gl-ml-3 gl-w-full",class:e.toggleClass},[t("note-header",{attrs:{author:e.author,"created-at":e.firstNote.created_at,"note-id":e.firstNote.id}},[t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.headerText,expression:"headerText"}]})]),e._v(" "),e.discussion.resolved?t("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline gl-mt-1 gl-pl-3"}}):e._e(),e._v(" "),t("toggle-replies-widget",{staticClass:"gl-border-t -gl-mx-3 -gl-mb-3 gl-mt-4 !gl-border-x-0 !gl-border-b-0 gl-border-t-subtle dark:gl-border-t-section",attrs:{collapsed:!e.discussion.expanded,replies:e.replies},on:{toggle:e.toggleDiscussionHandler}})],1)])}),[function(){var e=this._self._c;return e("div",{staticClass:"timeline-avatar gl-shrink-0 gl-self-start"},[this.author?e("gl-avatar-link",{staticClass:"js-user-link",attrs:{href:this.author.path,"data-user-id":this.author.id,"data-username":this.author.username}},[e("gl-avatar",{attrs:{src:this.author.avatar_url,alt:this.author.name,size:32}})],1):this._e()],1)}],!1,null,null,null).exports,P=i("4+8U"),F=i("4lAS"),L=i("Xa9V"),R=i("Ex4Z"),q=i("04nr"),$=i("BAGK"),B=i("x/Tb"),M=i("Gtn5");const V=/^(\+|-| )/;var U={components:{DiffFileHeader:L.a,GlSkeletonLoader:P.a,DiffViewer:B.a,ImageDiffOverlay:R.a,GlButton:F.a},directives:{SafeHtml:O.a},props:{discussion:{type:Object,required:!0}},data:()=>({error:!1}),computed:{...Object(a.f)({projectPath:function(e){return e.diffs.projectPath}}),diffMode(){return Object(q.e)(this.discussion.diff_file)},diffViewerMode(){var e;return null===(e=this.discussion.diff_file)||void 0===e?void 0:e.viewer.name},fileDiffRefs(){return this.discussion.diff_file.diff_refs},headSha(){return(this.fileDiffRefs?this.fileDiffRefs.head_sha:this.discussion.commit_id)||""},baseSha(){return(this.fileDiffRefs?this.fileDiffRefs.base_sha:this.discussion.commit_id)||""},isTextFile(){return this.diffViewerMode===$.z.text},hasTruncatedDiffLines(){return this.discussion.truncated_diff_lines&&0!==this.discussion.truncated_diff_lines.length},isCollapsed(){return Object(M.e)(this.discussion.diff_file)},positionType(){var e;return null===(e=this.discussion.position)||void 0===e?void 0:e.position_type},isFileDiscussion(){return this.discussion.diff_file?this.positionType===v.F:this.discussion.original_position.position_type===v.G||this.discussion.original_position.position_type===v.F},showHeader(){return!!this.discussion.diff_file||(this.discussion.original_position.position_type===v.F||this.discussion.original_position.position_type===v.G)},backfilledDiffFile(){return this.discussion.diff_file||{file_path:this.discussion.original_position.new_path}}},mounted(){this.isTextFile&&!this.hasTruncatedDiffLines&&this.fetchDiff()},methods:{...Object(a.c)(["fetchDiscussionDiffLines"]),fetchDiff(){var e=this;this.error=!1,this.fetchDiscussionDiffLines(this.discussion).then(this.highlight).catch((function(){e.error=!0}))},trimChar:e=>e.replace(V,"")},userColorSchemeClass:window.gon.user_color_scheme},G=Object(N.a)(U,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"diff-file file-holder",class:{"text-file":e.isTextFile}},[e.showHeader?t("diff-file-header",{staticClass:"gl-border gl-border-section",attrs:{"discussion-path":e.discussion.discussion_path,"diff-file":e.backfilledDiffFile,"can-current-user-fork":!1,expanded:!e.isCollapsed}}):e._e(),e._v(" "),e.isTextFile?t("div",{staticClass:"diff-content"},[t("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorSchemeClass},[e.isFileDiscussion?e._e():[e.hasTruncatedDiffLines?e._m(0):e._e(),e._v(" "),e.hasTruncatedDiffLines?e._e():t("tr",{staticClass:"line_holder line-holder-placeholder"},[t("td",{staticClass:"old_line diff-line-num"}),e._v(" "),t("td",{staticClass:"new_line diff-line-num"}),e._v(" "),e.error?t("td",{staticClass:"js-error-lazy-load-diff diff-loading-error-block"},[e._v("\n            "+e._s(e.__("Unable to load the diff"))+"\n            "),t("gl-button",{staticClass:"js-toggle-lazy-diff-retry-button gl-font-regular",on:{click:e.fetchDiff}},[e._v("\n              "+e._s(e.__("Try again"))+"\n            ")])],1):t("td",{staticClass:"line_content js-success-lazy-load"},[t("span"),e._v(" "),t("gl-skeleton-loader"),e._v(" "),t("span")],1)])],e._v(" "),t("tr",{staticClass:"notes_holder"},[t("td",{staticClass:"notes-content",class:{"!gl-border-t-0":e.isFileDiscussion},attrs:{colspan:"3"}},[e._t("default")],2)])],2)]):t("div",{staticClass:"diff-content"},[e.isFileDiscussion?e._e():t("diff-viewer",{attrs:{"diff-file":e.discussion.diff_file,"diff-mode":e.diffMode,"diff-viewer-mode":e.diffViewerMode,"new-path":e.discussion.diff_file.new_path,"new-sha":e.headSha,"old-path":e.discussion.diff_file.old_path,"old-sha":e.baseSha,"file-hash":e.discussion.diff_file.file_hash,"project-path":e.projectPath},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:i,renderedHeight:n}){return[i?t("image-diff-overlay",{attrs:{"rendered-width":i,"rendered-height":n,discussions:e.discussion,"file-hash":e.discussion.diff_file.file_hash,"show-comment-icon":!0,"should-toggle-discussion":!1,"badge-class":"image-comment-badge gl-text-purple-500 gl-bg-white gl-rounded-full gl-border-white gl-border-1 gl-border-solid gl-pointer-events-none gl-shadow-md"}}):e._e()]}}],null,!1,1973996370)}),e._v(" "),e._t("default")],2)],1)}),[function(){var e=this,t=e._self._c;return e._l(e.discussion.truncated_diff_lines,(function(i){return t("tr",{key:i.line_code,staticClass:"line_holder"},[t("td",{staticClass:"diff-line-num old_line",class:i.type},[e._v(e._s(i.old_line))]),e._v(" "),t("td",{staticClass:"diff-line-num new_line",class:i.type},[e._v(e._s(i.new_line))]),e._v(" "),t("td",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.trimChar(i.rich_text),expression:"trimChar(line.rich_text)"}],staticClass:"line_content",class:i.type})])}))}],!1,null,null,null).exports,W=(i("LdIe"),i("PTOk"),i("sHIo")),H=i("h/fo"),z=i("exT8"),K={i18n:{buttonLabel:Object(p.g)("MergeRequests|Create issue to resolve thread")},name:"ResolveWithIssueButton",components:{GlButton:F.a},directives:{GlTooltip:s.a},props:{url:{type:String,required:!0}}},Q=Object(N.a)(K,(function(){var e=this._self._c;return e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion discussion-create-issue-btn gl-w-full sm:gl-w-auto",attrs:{href:this.url,title:this.$options.i18n.buttonLabel,"aria-label":this.$options.i18n.buttonLabel,icon:"issue-new"}})],1)}),[],!1,null,null,null).exports,Y={name:"DiscussionActions",components:{DiscussionReplyPlaceholder:H.a,ResolveDiscussionButton:z.a,ResolveWithIssueButton:Q},mixins:[Object(W.a)()],props:{discussion:{type:Object,required:!0},isResolving:{type:Boolean,required:!0},resolveButtonTitle:{type:String,required:!0},resolveWithIssuePath:{type:String,required:!1,default:""},shouldShowJumpToNextDiscussion:{type:Boolean,required:!0}},computed:{resolvableNotes(){return this.discussion.notes.filter((function(e){return e.resolvable}))},userCanResolveDiscussion(){return this.resolvableNotes.every((function(e){var t;return null===(t=e.current_user)||void 0===t?void 0:t.can_resolve_discussion}))}}},J=Object(N.a)(Y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"discussion-with-resolve-btn clearfix"},[t("discussion-reply-placeholder",{on:{focus:function(t){return e.$emit("showReplyForm")}}}),e._v(" "),e.userCanResolveDiscussion?t("div",{staticClass:"btn-group discussion-actions",attrs:{role:"group"}},[t("div",{staticClass:"btn-group"},[e.discussion.resolvable?t("resolve-discussion-button",{attrs:{"data-testid":"resolve-discussion-button","is-resolving":e.isResolving,"button-title":e.resolveButtonTitle},on:{onClick:function(t){return e.$emit("resolve")}}}):e._e()],1),e._v(" "),e.discussion.resolvable&&e.resolveWithIssuePath?t("resolve-with-issue-button",{attrs:{url:e.resolveWithIssuePath}}):e._e()],1):e._e()],1)}),[],!1,null,null,null).exports,X=i("sZvX"),Z=i("zkom"),ee=i("gvRd"),te=i("7KAB"),ie=i("bR52"),ne=i("ZlTH"),se={name:"DiscussionNotes",components:{ToggleRepliesWidget:E.a,NoteEditedText:x.a,DiscussionNotesRepliesWrapper:ie.a},props:{discussion:{type:Object,required:!0},isExpanded:{type:Boolean,required:!1,default:!1},diffLine:{type:Object,required:!1,default:null},line:{type:Object,required:!1,default:null},shouldGroupReplies:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1},shouldScrollToNote:{type:Boolean,required:!1,default:!0}},computed:{...Object(a.d)(["userCanReply"]),hasReplies(){return Boolean(this.replies.length)},replies(){return this.discussion.notes.slice(1)},firstNote(){return this.discussion.notes.slice(0,1)[0]},resolvedText(){return this.discussion.resolved_by_push?Object(p.a)("Automatically resolved"):Object(p.a)("Resolved")},commit(){return this.discussion.for_commit?{id:this.discussion.commit_id,url:this.discussion.discussion_path}:null},isDiscussionInternal(){var e;return null===(e=this.discussion.notes[0])||void 0===e?void 0:e.internal},isFileDiscussion(){var e;return(null===(e=this.discussion.position)||void 0===e?void 0:e.position_type)===v.F}},methods:{...Object(a.c)(["toggleDiscussion","setSelectedCommentPositionHover"]),componentName:e=>e.isPlaceholderNote?e.placeholderType===te.SYSTEM_NOTE?Z.a:X.a:e.system?ee.a:ne.a,componentData:e=>e.isPlaceholderNote?e.notes[0]:e,handleMouseEnter(e){e.position&&this.setSelectedCommentPositionHover(e.position.line_range)},handleMouseLeave(e){e.position&&this.setSelectedCommentPositionHover()}}},ae=Object(N.a)(se,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"discussion-notes"},[t("ul",{staticClass:"notes",on:{mouseenter:function(t){return e.handleMouseEnter(e.discussion)},mouseleave:function(t){return e.handleMouseLeave(e.discussion)}}},[e.shouldGroupReplies?[t(e.componentName(e.firstNote),{tag:"component",class:{"!gl-border-t-0":e.isFileDiscussion},attrs:{note:e.componentData(e.firstNote),line:e.line||e.diffLine,"discussion-file":e.discussion.diff_file,commit:e.commit,"help-page-path":e.helpPagePath,"show-reply-button":e.userCanReply,"discussion-root":!0,"discussion-resolve-path":e.discussion.resolve_path,"is-overview-tab":e.isOverviewTab,"should-scroll-to-note":e.shouldScrollToNote,"internal-note":e.isDiscussionInternal},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")},startReplying:function(t){return e.$emit("startReplying")}},scopedSlots:e._u([{key:"discussion-resolved-text",fn:function(){return[e.discussion.resolved?t("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline discussion-resolved-text -gl-mt-2 gl-mb-3 gl-ml-3"}}):e._e()]},proxy:!0},{key:"avatar-badge",fn:function(){return[e._t("avatar-badge")]},proxy:!0}],null,!0)}),e._v(" "),e.hasReplies||e.userCanReply?t("discussion-notes-replies-wrapper",{attrs:{"is-diff-discussion":e.discussion.diff_discussion}},[e.hasReplies?t("toggle-replies-widget",{attrs:{collapsed:!e.isExpanded,replies:e.replies},on:{toggle:function(t){return e.toggleDiscussion({discussionId:e.discussion.id})}}}):e._e(),e._v(" "),e.isExpanded?e._l(e.replies,(function(i){return t(e.componentName(i),{key:i.id,tag:"component",attrs:{note:e.componentData(i),"help-page-path":e.helpPagePath,line:e.line,"internal-note":e.isDiscussionInternal},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}}})})):e._e(),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})],2):e._e()]:[e._l(e.discussion.notes,(function(i,n){return t(e.componentName(i),{key:i.id,tag:"component",attrs:{note:e.componentData(i),"discussion-file":e.discussion.diff_file,"help-page-path":e.helpPagePath,line:e.diffLine,"discussion-root":0===n,"discussion-resolve-path":e.discussion.resolve_path,"is-overview-tab":e.isOverviewTab,"should-scroll-to-note":e.shouldScrollToNote,"internal-note":e.isDiscussionInternal},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}},scopedSlots:e._u([{key:"avatar-badge",fn:function(){return[0===n?e._t("avatar-badge"):e._e()]},proxy:!0}],null,!0)})})),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})]],2)])}),[],!1,null,null,null).exports,re=i("OsT7"),oe=i("bX/R"),le={name:"NoteableDiscussion",components:{GlIcon:n.a,UserAvatarLink:f.a,DiffDiscussionHeader:A,NoteSignedOutWidget:oe.a,NoteForm:re.a,DraftNote:r.a,TimelineEntryItem:m.a,DiscussionNotes:ae,DiscussionActions:J},directives:{GlTooltip:s.a},mixins:[y.a,k.a,h.a],props:{discussion:{type:Object,required:!0},line:{type:Object,required:!1,default:null},renderDiffFile:{type:Boolean,required:!1,default:!0},alwaysExpanded:{type:Boolean,required:!1,default:!1},discussionsByDiffOrder:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},isOverviewTab:{type:Boolean,required:!1,default:!1},shouldScrollToNote:{type:Boolean,required:!1,default:!0}},data:()=>({isReplying:!1,isResolving:!1,resolveAsThread:!0}),computed:{...Object(a.d)(["convertedDisscussionIds","getNoteableData","userCanReply","showJumpToNextDiscussion","getUserData"]),diffFile(){const e=this.discussion.diff_file;return e?{...e,view_path:window.location.href.replace(/\/-\/merge_requests.*/,`/-/blob/${e.content_sha}/${e.new_path}`)}:null},currentUser(){return this.getUserData},isLoggedIn:()=>Object(d.A)(),commentType(){return this.discussion.internal?Object(p.a)("internal note"):Object(p.a)("comment")},autosaveKey(){return Object(l.b)(this.discussion)},newNotePath(){return this.getNoteableData.create_note_path},saveButtonTitle(){return this.discussion.internal?Object(p.a)("Reply internally"):Object(p.a)("Reply")},shouldShowJumpToNextDiscussion(){return this.showJumpToNextDiscussion(this.discussionsByDiffOrder?"diff":"discussion")},shouldRenderDiffs(){return this.discussion.diff_discussion&&this.renderDiffFile},shouldGroupReplies(){return!this.shouldRenderDiffs},wrapperComponent(){return this.shouldRenderDiffs?G:"div"},wrapperComponentProps(){return this.shouldRenderDiffs?{discussion:this.discussion}:{}},isExpanded(){return this.discussion.expanded||this.alwaysExpanded},shouldHideDiscussionBody(){return this.shouldRenderDiffs&&!this.isExpanded},diffLine(){return this.line?this.line:this.discussion.diff_discussion&&this.discussion.truncated_diff_lines?this.discussion.truncated_diff_lines.slice(-1)[0]:null},resolveWithIssuePath(){return this.discussionResolved?"":this.discussion.resolve_with_issue_path},canShowReplyActions(){var e,t,i;return!this.shouldRenderDiffs||(!(null===(e=this.discussion.diff_file)||void 0===e||!e.diff_refs)||((null===(t=this.discussion.original_position)||void 0===t?void 0:t.position_type)===v.F||(null===(i=this.discussion.original_position)||void 0===i?void 0:i.position_type)===v.G))},isDiscussionInternal(){var e;return null===(e=this.discussion.notes[0])||void 0===e?void 0:e.internal},discussionHolderClass(){return{"is-replying":this.isReplying,"internal-note":this.isDiscussionInternal,"!gl-pt-0":!this.discussion.diff_discussion&&this.isReplying}},hasDraft(){return Boolean(Object(l.c)(this.autosaveKey))}},created(){b.a.$on("startReplying",this.onStartReplying),this.hasDraft&&this.showReplyForm()},beforeDestroy(){b.a.$off("startReplying",this.onStartReplying)},methods:{...Object(a.c)(["saveNote","removePlaceholderNotes","toggleResolveNote","removeConvertedDiscussion","expandDiscussion"]),showReplyForm(e){var t=this;this.isReplying=!0,this.discussion.expanded||this.expandDiscussion({discussionId:this.discussion.id}),void 0!==e&&this.$nextTick((function(){t.$refs.noteForm.append(e)}))},cancelReplyForm:Object(u.a)((async function(e,t){if(e&&t){const e=Object(p.h)(Object(p.g)("Notes|Are you sure you want to cancel creating this %{commentType}?"),{commentType:this.commentType});if(!await Object(c.a)(e,{primaryBtnText:Object(p.a)("Discard changes"),cancelBtnText:Object(p.a)("Continue editing")}))return}this.convertedDisscussionIds.includes(this.discussion.id)&&this.removeConvertedDiscussion(this.discussion.id),this.isReplying=!1,Object(l.a)(this.autosaveKey)})),async saveReply(e,t,i){var n=this;if(!e)return this.cancelReplyForm(),void i();if(!await Object(g.b)({content:e}))return void i();const s={in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,note:{note:e}};this.convertedDisscussionIds.includes(this.discussion.id)&&(s.return_discussion=!0),this.discussion.for_commit&&(s.note_project_id=this.discussion.project_id);const a={endpoint:this.newNotePath,flashContainer:this.$el,data:s};this.saveNote(a).then((function(){n.isReplying=!1,Object(l.a)(n.autosaveKey),i()})).catch((function(e){n.handleSaveError(e),n.removePlaceholderNotes(),i(e)}))},handleSaveError({response:e}){const t=Object(w.a)(e.data,e.status)[0];Object(o.createAlert)({message:t,parent:this.$el})},onStartReplying(e){this.discussion.id===e&&this.showReplyForm()}}},de=Object(N.a)(le,(function(){var e=this,t=e._self._c;return t("timeline-entry-item",{staticClass:"note note-discussion"},[t("div",{staticClass:"timeline-content"},[t("div",{staticClass:"discussion js-discussion-container",attrs:{"data-discussion-id":e.discussion.id,"data-discussion-resolvable":e.discussion.resolvable,"data-discussion-resolved":e.discussion.resolved,"data-testid":"discussion-content"}},[e.shouldRenderDiffs?t("diff-discussion-header",{attrs:{discussion:e.discussion}}):e._e(),e._v(" "),e.shouldHideDiscussionBody?e._e():t("div",{staticClass:"discussion-body"},[t(e.wrapperComponent,e._b({tag:"component",staticClass:"card discussion-wrapper"},"component",e.wrapperComponentProps,!1),[t("discussion-notes",{attrs:{discussion:e.discussion,"diff-line":e.diffLine,"help-page-path":e.helpPagePath,"is-expanded":e.isExpanded,line:e.line,"should-group-replies":e.shouldGroupReplies,"is-overview-tab":e.isOverviewTab,"should-scroll-to-note":e.shouldScrollToNote},on:{startReplying:e.showReplyForm},scopedSlots:e._u([{key:"avatar-badge",fn:function(){return[e._t("avatar-badge")]},proxy:!0},{key:"footer",fn:function({showReplies:i}){return[e.showDraft(e.discussion.reply_id)?t("draft-note",{key:"draft_"+e.discussion.id,attrs:{draft:e.draftForDiscussion(e.discussion.reply_id),line:e.line}}):e.canShowReplyActions&&i?t("li",{staticClass:"discussion-reply-holder clearfix gl-bg-subtle",class:e.discussionHolderClass,attrs:{"data-testid":"reply-wrapper"}},[t("div",{staticClass:"flash-container !gl-mt-0 gl-mb-2"}),e._v(" "),!e.isReplying&&e.userCanReply?t("discussion-actions",{attrs:{discussion:e.discussion,"is-resolving":e.isResolving,"resolve-button-title":e.resolveButtonTitle,"resolve-with-issue-path":e.resolveWithIssuePath,"should-show-jump-to-next-discussion":e.shouldShowJumpToNextDiscussion},on:{showReplyForm:e.showReplyForm,resolve:e.resolveHandler}}):e._e(),e._v(" "),e.isReplying?t("note-form",{ref:"noteForm",attrs:{discussion:e.discussion,"diff-file":e.diffFile,line:e.diffLine,"save-button-title":e.saveButtonTitle,autofocus:!e.hasDraft,"autosave-key":e.autosaveKey},on:{handleFormUpdateAddToReview:e.addReplyToReview,handleFormUpdate:e.saveReply,cancelForm:e.cancelReplyForm}}):e._e(),e._v(" "),e.isLoggedIn?e._e():t("note-signed-out-widget")],1):e._e()]}}],null,!0)})],1)],1)],1)])])}),[],!1,null,null,null);t.a=de.exports},g63F:function(e,t,i){"use strict";var n=i("4lAS"),s=i("s1D3"),a=i("FkSe"),r=i("MV2A"),o=i("z1xw"),l=i("/lV4"),d={components:{GlButton:n.a,GlIcon:s.a,GlLoadingIcon:a.a,GlLink:r.a},directives:{GlTooltip:o.a},props:{title:{type:String,required:!1,default:""},description:{type:String,required:!1,default:null},count:{type:[String,Number],required:!1,default:""},icon:{type:String,required:!1,default:null},toggleText:{type:String,required:!1,default:null},toggleAriaLabel:{type:String,required:!1,default:null},isCollapsible:{type:Boolean,required:!1,default:!1},collapsed:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},anchorId:{type:String,required:!1,default:""},headerClass:{type:[String,Object],required:!1,default:null},titleClass:{type:[String,Object],required:!1,default:null},bodyClass:{type:[String,Object],required:!1,default:null},persistCollapsedState:{type:Boolean,required:!1,default:!1}},data(){return{isCollapsed:this.collapsed||this.persistCollapsedState&&"true"===localStorage.getItem(this.getLocalStorageKeyName()),isFormVisible:!1}},computed:{isContentVisible(){return!((this.$scopedSlots.default||this.$scopedSlots.empty||this.$scopedSlots.pagination)&&this.isCollapsible&&this.isCollapsed)},toggleIcon(){return this.isCollapsed?"chevron-lg-down":"chevron-lg-up"},toggleLabel(){return this.isCollapsed?Object(l.a)("Expand"):Object(l.a)("Collapse")},ariaExpandedAttr(){return this.isCollapsed?"false":"true"},displayedCount(){return this.isLoading?"...":this.icon&&!this.count?"0":this.count},isFormUsedAndVisible(){return this.$scopedSlots.form&&this.isFormVisible&&!this.isCollapsed}},watch:{collapsed:{handler(e){this.isCollapsed=e>0}}},methods:{toggleCollapse(){this.isCollapsed=!this.isCollapsed,this.isCollapsed?this.$emit("collapsed"):this.$emit("expanded"),this.persistCollapsedState&&localStorage.setItem(this.getLocalStorageKeyName(),this.isCollapsed)},showForm(){this.isFormVisible=!0,this.isCollapsed=!1,this.$emit("showForm")},hideForm(){this.isFormVisible=!1,this.$emit("hideForm")},toggleForm(){this.isFormVisible?this.hideForm():this.showForm()},getLocalStorageKeyName(){return"crud-collapse-"+this.anchorId}}},c=i("tBpV"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("section",{ref:"crudComponent",staticClass:"crud gl-border gl-rounded-base gl-border-section gl-bg-subtle",class:{"gl-mt-5":e.isCollapsible},attrs:{id:e.anchorId}},[t("header",{staticClass:"crud-header gl-border-b gl-flex gl-flex-wrap gl-justify-between gl-gap-x-5 gl-gap-y-2 gl-rounded-t-base gl-border-section gl-bg-section gl-px-5 gl-py-4",class:[e.headerClass,{"gl-rounded-base gl-border-b-transparent":!e.isContentVisible,"gl-relative gl-pr-10":e.isCollapsible}]},[t("div",{staticClass:"gl-flex gl-grow gl-flex-col gl-self-center"},[t("h2",{staticClass:"gl-m-0 gl-inline-flex gl-items-center gl-gap-3 gl-text-base gl-font-bold gl-leading-normal",class:e.titleClass,attrs:{"data-testid":"crud-title"}},[e.anchorId?t("gl-link",{staticClass:"anchor gl-absolute gl-no-underline",attrs:{href:"#"+e.anchorId,"aria-labelledby":e.anchorId}}):e._e(),e._v(" "),e.$scopedSlots.title?e._t("title"):[e._v(e._s(e.title))],e._v(" "),e.displayedCount||e.$scopedSlots.count?t("span",{staticClass:"crud-count gl-inline-flex gl-items-center gl-gap-2 gl-self-start gl-text-sm gl-text-subtle",attrs:{"data-testid":"crud-count"}},[e.displayedCount?[e.icon?t("gl-icon",{attrs:{name:e.icon,variant:"subtle","data-testid":"crud-icon"}}):e._e(),e._v("\n            "+e._s(e.displayedCount)+"\n          ")]:e._e(),e._v(" "),e.$scopedSlots.count?e._t("count"):e._e()],2):e._e()],2),e._v(" "),e.description||e.$scopedSlots.description?t("p",{staticClass:"gl-mb-0 gl-mt-2 gl-text-sm gl-leading-normal gl-text-subtle",attrs:{"data-testid":"crud-description"}},[e.$scopedSlots.description?e._t("description"):[e._v(e._s(e.description))]],2):e._e()]),e._v(" "),t("div",{staticClass:"gl-flex gl-items-baseline gl-gap-3",attrs:{"data-testid":"crud-actions"}},[e._t("actions"),e._v(" "),e.toggleText&&!e.isFormUsedAndVisible?t("gl-button",{attrs:{size:"small","aria-label":e.toggleAriaLabel,"data-testid":"crud-form-toggle"},on:{click:e.showForm}},[e._v(e._s(e.toggleText))]):e._e(),e._v(" "),e.isCollapsible?t("div",{staticClass:"gl-border-l gl-absolute gl-right-5 gl-top-4 gl-h-6 gl-border-l-section gl-pl-3"},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"-gl-mr-2 gl-self-start",attrs:{title:e.toggleLabel,icon:e.toggleIcon,category:"tertiary",size:"small","aria-label":e.toggleLabel,"aria-expanded":e.ariaExpandedAttr,"aria-controls":e.anchorId,"data-testid":"crud-collapse-toggle"},on:{click:e.toggleCollapse}})],1):e._e()],2)]),e._v(" "),e.isFormUsedAndVisible?t("div",{staticClass:"gl-border-b gl-border-section gl-bg-section gl-p-5 gl-pt-4",attrs:{"data-testid":"crud-form"}},[e._t("form",null,{hideForm:e.hideForm})],2):e._e(),e._v(" "),e.isContentVisible?t("div",{staticClass:"crud-body gl-mx-5 gl-my-4",class:[e.bodyClass,{"gl-rounded-b-base":!e.$scopedSlots.footer}],attrs:{"data-testid":"crud-body"}},[e.isLoading?t("gl-loading-icon",{attrs:{size:"sm","data-testid":"crud-loading"}}):e.$scopedSlots.empty?t("span",{staticClass:"gl-text-subtle",attrs:{"data-testid":"crud-empty"}},[e._t("empty")],2):e._t("default",null,{showForm:e.showForm}),e._v(" "),e.$scopedSlots.pagination?t("div",{staticClass:"crud-pagination gl-border-t gl-flex gl-justify-center gl-border-t-section gl-p-5",attrs:{"data-testid":"crud-pagination"}},[e._t("pagination")],2):e._e()],2):e._e(),e._v(" "),e.$scopedSlots.footer?t("footer",{staticClass:"gl-border-t gl-rounded-b-base gl-border-section gl-bg-section gl-px-5 gl-py-4",attrs:{"data-testid":"crud-footer"}},[e._t("footer")],2):e._e()])}),[],!1,null,null,null);t.a=u.exports},gAdM:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},"gO+Z":function(e,t,i){var n=i("xJuT"),s=i("7LQ5");e.exports=function(e,t){return n(e,s(e),t)}},gZK5:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getIssuesListDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"jiraImportStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jiraImports"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"importedIssuesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jiraProjectKey"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:369}};i.loc.source={body:"query getIssuesListDetails($fullPath: ID!) {\n  project(fullPath: $fullPath) {\n    id\n    issues {\n      nodes {\n        id\n        labels {\n          nodes {\n            id\n            title\n            color\n          }\n        }\n      }\n    }\n    jiraImportStatus\n    jiraImports {\n      nodes {\n        importedIssuesCount\n        jiraProjectKey\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.getIssuesListDetails=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"getIssuesListDetails")},goDm:function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i("Idy0"),s=i.n(n),a=i("05sH"),r=i.n(a),o=i("TKCn"),l=i.n(o),d=i("G3fq"),c=i.n(d),u=i("VNnR"),p=i.n(u),h=i("HJBN"),m=i.n(h),f=(i("B++/"),i("z6RN"),i("47t/"),i("3UXl"),i("iyoE"),i("ZzK0"),i("BzOf"),i("86Lb"),i("v2fZ"),i("EmJ/")),g=i.n(f),v=i("m/7A"),b=i("EH6T"),y=i("NmEs"),k=i("jlnU"),w=i("2ibD"),S=i("/lV4"),_=i("qPgm"),I=i("0AwG");class T{constructor(e,t,i){this.$el=e,this.namespacePath=t,this.projectPath=i,this.$dropdownBack=g()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=g()(".js-cancel-label-btn",this.$el),this.$newLabelField=g()("#new_label_name",this.$el),this.$newColorField=g()("#new_label_color",this.$el),this.$colorPreview=g()(".js-dropdown-label-color-preview",this.$el),this.$addList=g()(".js-add-list",this.$el),this.$newLabelError=g()(".js-label-error",this.$el),this.$newLabelErrorContent=g()(".gl-alert-content",this.$newLabelError),this.$newLabelCreateButton=g()(".js-new-label-btn",this.$el),this.$colorSuggestions=g()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.addListDefault=this.$addList.is(":checked"),this.cleanBinding(),this.addBinding()}cleanBinding(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$colorPreview.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}addBinding(){const e=this;this.$colorSuggestions.on("click",(function(t){const i=g()(this);e.addColorValue(t,i)})),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$colorPreview.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("input",this.updateColorPreview.bind(this)),this.$colorPreview.on("input",this.updateColorPickerPreview.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")})),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}addColorValue(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.val(t.data("color")).trigger("change")}updateColorPreview(){const e=this.$newColorField.val();return this.$colorPreview.val(e)}updateColorPickerPreview(){const e=this.$colorPreview.val();return this.$newColorField.val(e)}enableLabelCreateButton(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}resetForm(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$addList.prop("checked",this.addListDefault),this.$colorPreview.val("")}saveLabel(e){var t=this;e.preventDefault(),e.stopPropagation(),_.b.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},(function(e){if(t.$newLabelCreateButton.enable(),e.message){let i;i="string"==typeof e.message?e.message:Object.keys(e.message).map((function(t){return`${Object(I.r)(t)} ${e.message[t].join(", ")}`})).join("<br/>"),t.$newLabelErrorContent.html(i),t.$newLabelError.show()}else{const i=t.$addList.is(":checked");t.$dropdownBack.trigger("click"),g()(document).trigger("created.label",[e,i])}}))}}class O{constructor(e,t={}){const i=this;let n=g()(e);e||(n=g()(".js-label-select")),n.each((function(e,n){const s=g()(n),a=s.closest(".labels-filter"),r=s.data("namespacePath"),o=s.data("projectPath"),d=s.data("issueUpdate");let u=s.data("selected");null==u||s.hasClass("js-multiselect")||(u=u.split(","));const h=s.data("showNo"),m=s.data("showAny"),f=s.data("showMenuAbove"),b=s.data("defaultLabel")||Object(S.a)("Label"),y=s.data("abilityName"),_=s.closest(".selectbox"),I=_.closest(".block"),C=s.closest("form, .js-issuable-update"),x=I.find(".sidebar-collapsed-icon span"),j=I.find(".value"),E=I.find(".block-loading").addClass("gl-hidden"),D=s.data("fieldName");let N=_.find(`input[name="${s.data("fieldName")}"]`).map((function(){return this.value})).get();const A=s.data("scopedLabels"),{handleClick:P}=t;s.closest(".dropdown").find(".dropdown-new-label").length&&new T(s.closest(".dropdown").find(".dropdown-new-label"),r,o);const F=function(){const e=s.closest(".selectbox").find(`input[name='${D}']`).map((function(){return this.value})).get();if(p()(N,e))return;N=e;const t={};t[y]={},t[y].label_ids=e,e.length||(t[y].label_ids=[""]),E.removeClass("gl-hidden"),s.trigger("loading.gl.dropdown"),w.a.put(d,t).then((function({data:e}){let t;E.addClass("gl-hidden"),s.trigger("loaded.gl.dropdown"),_.hide(),e.issueUpdateURL=d;let i=0;e.labels.length&&d?(t=O.getLabelTemplate({labels:l()(e.labels,"title"),issueUpdateURL:d,enableScopedLabels:A}),i=e.labels.length):t=`<span class="no-value">${Object(S.a)("None")}</span>`,j.removeAttr("style").html(t),x.text(i),g()(".has-tooltip",j).tooltip({container:"body"})})).catch((function(){return Object(k.createAlert)({message:Object(S.a)("Error saving label update.")})}))};Object(v.a)(s,{showMenuAbove:f,data(e,t){const i=s.attr("data-labels");w.a.get(i).then((function(e){let{data:i}=e;if(s.hasClass("js-extra-options")){const e=[];h&&e.unshift({id:0,title:Object(S.a)("No label")}),m&&e.unshift({isAny:!0,title:Object(S.a)("Any label")}),e.length&&(e.push({type:"divider"}),i=e.concat(i))}t(i),f&&s.data("deprecatedJQueryDropdown").positionMenuAbove()})).catch((function(){return Object(k.createAlert)({message:Object(S.a)("Error fetching labels.")})}))},renderRow(e){let t;const i=[],n=e.id<=0||null==e.id;if(s.hasClass("js-filter-bulk-update")){const t=s.data("indeterminate")||[],n=s.data("marked")||[];if(-1!==t.indexOf(e.id)&&i.push("is-indeterminate"),-1!==n.indexOf(e.id)){const e=i.indexOf("is-indeterminate");-1!==e&&i.splice(e,1),i.push("is-active")}}else{if(this.id(e)){const t=this.id(e).toString().replace(/'/g,"\\'");C.find(`input[type='hidden'][name='${this.fieldName}'][value='${t}']`).length&&i.push("is-active")}this.multiSelect&&n&&i.push("dropdown-clear-active")}t=e.color?`<span class='dropdown-label-box' style='background: ${e.color}'></span>`:"";const a=document.createElement("a");if(a.href="#",e.id){const t=["gl-flex","flex-row","gl-break-all"];i.push("label-item",...t),a.dataset.labelId=e.id}a.className=i.join(" "),a.innerHTML=`${t} ${c()(e.title)}`;const r=document.createElement("li");return r.appendChild(a),r},search:{fields:["title"]},selectable:!0,filterable:!0,selected:s.data("selected")||[],toggleLabel(e,t){const i=s.parent(),n=i.find(".dropdown-input-field"),a=null!==t&&t.hasClass("is-active"),r=e?e.title:null,o=this.selected;if(n.length&&n.val().length&&i.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],Object(S.a)("No label");if(a)this.selected.push(r);else if(!a&&r){const e=this.selected.indexOf(r);this.selected.splice(e,1)}return 1===o.length?o:o.length?Object(S.h)(Object(S.a)("%{firstLabel} +%{labelCount} more"),{firstLabel:o[0],labelCount:o.length-1}):b},fieldName:s.data("fieldName"),id:e=>e.id<=0?e.title:s.hasClass("js-issuable-form-dropdown")?e.id:s.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id,hidden(){const e=g()("body").attr("data-page"),t="projects:issues:index"===e,i="projects:merge_requests:index"===e;_.hide(),j.removeAttr("style"),s.hasClass("js-issuable-form-dropdown")||g()("html").attr("class").match(/issue-boards-page|epic-boards-page/)||s.hasClass("js-multiselect")&&(s.hasClass("js-filter-submit")&&(t||i)?Issuable.filterResults(s.closest("form")):s.hasClass("js-filter-submit")?s.closest("form").submit():s.hasClass("js-filter-bulk-update")||(F(),s.data("deprecatedJQueryDropdown").clearMenu()))},multiSelect:s.hasClass("js-multiselect"),vue:!1,clicked(e){const{e:t,isMarking:n}=e,a=e.selectedObj,r=g()("body").attr("data-page"),o="projects:issues:index"===r,l="projects:merge_requests:index"===r;if(s.parent().find(".is-active:not(.dropdown-clear-active)").length&&s.parent().find(".dropdown-clear-active").removeClass("is-active"),!s.hasClass("js-issuable-form-dropdown")){if(s.hasClass("js-filter-bulk-update"))return i.enableBulkLabelDropdown(),void i.setDropdownData(s,n,a.id);if(s.hasClass("js-filter-submit")&&(o||l)){if(!s.hasClass("js-multiselect"))return u=a.title,Issuable.filterResults(s.closest("form"))}else{if(s.hasClass("js-filter-submit"))return s.closest("form").submit();if(P)t.preventDefault(),P(a);else if(!s.hasClass("js-multiselect"))return F()}}},preserveContext:!0}),i.setOriginalDropdownData(a,s)})),this.bindEvents()}static getLabelTemplate(e){const t='<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>" class="gl-link gl-label-link has-tooltip" <%= linkAttrs %> title="<%= tooltipTitleTemplate({ label, isScopedLabel, enableScopedLabels, escapeStr }) %>">',i=r()(['<span class="gl-label">',t,'<span class="gl-label-text <%= labelTextClass({ label, escapeStr }) %>" style="background-color: <%= escapeStr(label.color) %>;">',"<%- label.title %>","</span>","</a>","</span>"].join("")),n=function({label:e,escapeStr:t}){return t("#FFFFFF"===e.text_color?"gl-label-text-light":"gl-label-text-dark")},s=r()(['<span class="gl-label gl-label-scoped" style="color: <%= escapeStr(label.color) %>; --label-inset-border: inset 0 0 0 2px <%= escapeStr(label.color) %>;">',t,'<span class="gl-label-text <%= labelTextClass({ label, escapeStr }) %>" style="background-color: <%= escapeStr(label.color) %>;">','<%- label.title.slice(0, label.title.lastIndexOf("::")) %>',"</span>",'<span class="gl-label-text <%= rightLabelTextClass({ label, escapeStr }) %>">','<%- label.title.slice(label.title.lastIndexOf("::") + 2) %>',"</span>","</a>","</span>"].join("")),a=r()(["<% if (isScopedLabel(label) && enableScopedLabels) { %>","<span class='font-weight-bold'>Scoped label</span>","<br>","<%= escapeStr(label.description) %>","<% } else { %>","<%= escapeStr(label.description) %>","<% } %>"].join(""));return r()(["<% labels.forEach(function(label){ %>","<% if (isScopedLabel(label) && enableScopedLabels) { %>","<%= scopedLabelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, labelTextClass, rightLabelTextClass, tooltipTitleTemplate, escapeStr, linkAttrs: 'data-html=\"true\"' }) %>","<% } else { %>",'<%= labelTemplate({ label, issueUpdateURL, isScopedLabel, enableScopedLabels, labelTextClass, tooltipTitleTemplate, escapeStr, linkAttrs: "" }) %>',"<% } %>","<% }); %>"].join(""))({...e,labelTemplate:i,labelTextClass:n,rightLabelTextClass:function({label:e,escapeStr:t}){return t("#333333"===e.text_color?n({label:e,escapeStr:t}):"")},scopedLabelTemplate:s,tooltipTitleTemplate:a,isScopedLabel:y.E,escapeStr:c.a})}bindEvents(){return g()("body").on("change",'.issuable-list input[type="checkbox"]',this.onSelectCheckboxIssue)}onSelectCheckboxIssue(){if(!g()('.issuable-list input[type="checkbox"]:checked').length)return g()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text(Object(S.a)("Label"))}enableBulkLabelDropdown(){b.a.willUpdateLabels=!0}setDropdownData(e,t,i){let n=e.data("user-checked")||[],a=e.data("user-unchecked")||[];t?(n=s()(n,[i]),a=m()(a,[i])):(a=s()(a,[i]),n=m()(n,[i])),e.data("user-checked",n),e.data("user-unchecked",a)}setOriginalDropdownData(e,t){const i=[];e.find('[name="label_name[]"]').map((function(){return i.push(this.value)})),t.data("marked",i)}}},gvRd:function(e,t,i){"use strict";i("UezY"),i("z6RN"),i("hG7+"),i("3UXl"),i("iyoE");var n=i("s1D3"),s=i("4lAS"),a=i("4+8U"),r=i("z1xw"),o=i("EmJ/"),l=i.n(o),d=i("yi8e"),c=i("Mp8J"),u={computed:{canSeeDescriptionVersion(){},displayDeleteButton(){},shouldShowDescriptionVersion(){},descriptionVersionToggleIcon(){}},methods:{toggleDescriptionVersion(){},deleteDescriptionVersion(){}}},p=i("2ibD"),h=i("/lV4"),m=i("TNeE"),f=i("sHIo"),g=i("EJYk"),v=i("OgyL");const b={check:"system-note-icon-success","merge-request-close":"system-note-icon-danger",merge:"system-note-icon-info","issue-close":"system-note-icon-info",issues:"system-note-icon-success",error:"system-note-icon-danger"};var y={i18n:{deleteButtonLabel:Object(h.a)("Remove description history")},name:"SystemNote",components:{GlIcon:n.a,NoteHeader:m.a,TimelineEntryItem:v.a,GlButton:s.a,GlSkeletonLoader:a.a},directives:{GlTooltip:r.a,SafeHtml:c.a},mixins:[u,Object(f.a)()],props:{note:{type:Object,required:!0}},data:()=>({expanded:!1,lines:[],showLines:!1,loadingDiff:!1}),computed:{...Object(d.d)(["targetNoteHash","descriptionVersions","getNoteableData"]),...Object(d.f)(["isLoadingDescriptionVersion"]),noteAnchorId(){return"note_"+this.note.id},isAllowedIcon(){return Object.keys(b).includes(this.note.system_note_icon_name)},isTargetNote(){return this.targetNoteHash===this.noteAnchorId},toggleIcon(){return this.expanded?"chevron-up":"chevron-down"},actionTextHtml(){return l()(this.note.note_html).unwrap().html()},hasMoreCommits(){return l()(this.note.note_html).filter("ul").children().length>3},descriptionVersion(){return this.descriptionVersions[this.note.description_version_id]},singleLineDescription(){var e;return!(null!==(e=this.descriptionVersion)&&void 0!==e&&e.match(/\n/g))},deleteButtonClasses(){return this.singleLineDescription?"gl-top-5 gl-right-2 gl-mt-2":"gl-top-6 gl-right-3"},isMergeRequest(){return"MergeRequest"===this.getNoteableData.noteableType},iconBgClass(){return b[this.note.system_note_icon_name]||"gl-bg-gray-50 gl-text-subtle"},systemNoteIconName(){let e=this.note.system_note_icon_name;return"issues"===this.note.system_note_icon_name&&("Issue"===this.note.noteable_type?e="issue-open-m":"MergeRequest"===this.note.noteable_type&&(e="merge-request")),e}},mounted(){Object(g.a)(this.$refs["gfm-content"])},methods:{...Object(d.c)(["fetchDescriptionVersion","softDeleteDescriptionVersion"]),async toggleDiff(){if(this.showLines=!this.showLines,!this.lines.length){this.loadingDiff=!0;const{data:e}=await p.a.get(this.note.outdated_line_change_path);this.lines=e.map((function(e){return{...e,rich_text:e.rich_text.replace(/^[+ -]/,"")}})),this.loadingDiff=!1}}},userColorSchemeClass:window.gon.user_color_scheme},k=i("tBpV"),w=Object(k.a)(y,(function(){var e=this,t=e._self._c;return t("timeline-entry-item",{staticClass:"system-note",class:{target:e.isTargetNote,"pr-0":e.shouldShowDescriptionVersion},attrs:{id:e.noteAnchorId}},[t("div",{staticClass:"gl-relative gl-float-left gl-flex gl-items-center gl-justify-center gl-rounded-full",class:[e.iconBgClass,{"system-note-icon -gl-mt-1 gl-ml-2 gl-h-6 gl-w-6":e.isAllowedIcon,"system-note-dot -gl-top-1 gl-ml-4 gl-mt-3 gl-h-3 gl-w-3 gl-border-2 gl-border-solid gl-border-subtle gl-bg-gray-900":!e.isAllowedIcon}]},[e.isAllowedIcon?t("gl-icon",{attrs:{name:e.systemNoteIconName,size:14,"data-testid":"timeline-icon"}}):e._e()],1),e._v(" "),t("div",{staticClass:"gl-ml-7"},[t("div",{staticClass:"gl-flex gl-items-start gl-justify-between"},[t("note-header",{attrs:{author:e.note.author,"created-at":e.note.created_at,"note-id":e.note.id,"is-system-note":!0,"is-imported":e.note.imported},scopedSlots:e._u([e.canSeeDescriptionVersion||e.note.outdated_line_change_path?{key:"extra-controls",fn:function(){return[e.canSeeDescriptionVersion?t("gl-button",{staticClass:"gl-ml-3 gl-align-text-bottom !gl-text-sm",attrs:{variant:"link",icon:e.descriptionVersionToggleIcon,"data-testid":"compare-btn"},on:{click:e.toggleDescriptionVersion}},[e._v(e._s(e.__("Compare with previous version")))]):e._e(),e._v(" "),e.note.outdated_line_change_path?t("gl-button",{staticClass:"gl-align-text-bottom !gl-text-sm",attrs:{icon:e.showLines?"chevron-up":"chevron-down",variant:"link","data-testid":"outdated-lines-change-btn"},on:{click:e.toggleDiff}},[e._v("\n            "+e._s(e.__("Compare changes"))+"\n          ")]):e._e()]},proxy:!0}:null],null,!0)},[t("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.actionTextHtml,expression:"actionTextHtml"}],ref:"gfm-content"})])],1),e._v(" "),t("div",{staticClass:"note-body gl-pb-3 gl-pl-3"},[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.note.note_html,expression:"note.note_html"}],staticClass:"note-text md",class:{"gl-block gl-overflow-hidden":e.hasMoreCommits,"system-note-commit-list":e.hasMoreCommits&&!e.expanded}}),e._v(" "),e.hasMoreCommits?t("div",{staticClass:"flex-list"},[t("div",{staticClass:"flex-row gl-relative gl-z-2 gl-cursor-pointer gl-pl-4 gl-pt-3 gl-text-link hover:gl-underline",on:{click:function(t){e.expanded=!e.expanded}}},[t("gl-icon",{staticClass:"gl-mr-2",attrs:{name:e.toggleIcon,size:12}}),e._v(" "),t("span",[e._v(e._s(e.__("Toggle commit list")))])],1)]):e._e(),e._v(" "),e.shouldShowDescriptionVersion?t("div",{staticClass:"gl-relative !gl-pt-3",attrs:{"data-testid":"description-version"}},[e.isLoadingDescriptionVersion?t("pre",{staticClass:"loading-state"},[e._v("          "),t("gl-skeleton-loader"),e._v("\n        ")],1):t("pre",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.descriptionVersion,expression:"descriptionVersion"}],staticClass:"gl-mt-3 gl-whitespace-pre-wrap gl-pr-7"}),e._v(" "),e.displayDeleteButton?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-absolute",class:e.deleteButtonClasses,attrs:{title:e.$options.i18n.deleteButtonLabel,"aria-label":e.$options.i18n.deleteButtonLabel,variant:"default",category:"tertiary",icon:"remove","data-testid":"delete-description-version-button"},on:{click:e.deleteDescriptionVersion}}):e._e()],1):e._e(),e._v(" "),e.lines.length&&e.showLines?t("div",{staticClass:"gl-my-2 gl-mr-5 gl-overflow-hidden gl-overflow-visible gl-rounded-small gl-border-1 gl-border-solid gl-border-strong gl-pl-0"},[t("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorSchemeClass,attrs:{"data-testid":"outdated-lines"}},e._m(0),0)]):e.showLines?t("div",{staticClass:"gl-mt-4"},[t("gl-skeleton-loader")],1):e._e()])])])}),[function(){var e=this,t=e._self._c;return e._l(e.lines,(function(i){return t("tr",{key:i.line_code,staticClass:"line_holder"},[t("td",{staticClass:"diff-line-num old_line !gl-rounded-none !gl-border-0 !gl-border-b-0 !gl-border-t-0",class:i.type},[e._v("\n              "+e._s(i.old_line)+"\n            ")]),e._v(" "),t("td",{staticClass:"diff-line-num new_line !gl-border-b-0 !gl-border-t-0",class:i.type},[e._v("\n              "+e._s(i.new_line)+"\n            ")]),e._v(" "),t("td",{staticClass:"line_content !gl-table-cell !gl-rounded-none !gl-border-0",class:i.type,domProps:{innerHTML:e._s(i.rich_text)}})])}))}],!1,null,null,null);t.a=w.exports},"h/fo":function(e,t,i){"use strict";var n=i("PrLL"),s=i("/lV4"),a={name:"ReplyPlaceholder",components:{GlFormInput:n.a},props:{placeholderText:{type:String,required:!1,default:Object(s.a)("Replyâ¦")},labelText:{type:String,required:!1,default:Object(s.a)("Reply to comment")}}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this;return(0,e._self._c)("gl-form-input",{staticClass:"reply-placeholder-input-field js-discussion-reply-field-placeholder",attrs:{"data-testid":"discussion-reply-tab",placeholder:e.placeholderText,"aria-label":e.labelText},on:{focus:function(t){return e.$emit("focus")}}})}),[],!1,null,null,null);t.a=o.exports},hlfj:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"i",(function(){return l})),i.d(t,"f",(function(){return d})),i.d(t,"g",(function(){return c})),i.d(t,"h",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"j",(function(){return m})),i.d(t,"l",(function(){return f})),i.d(t,"k",(function(){return g}));var n=i("/lV4");const s={errorMsg:Object(n.g)("IncidentManagement|There was an error displaying the incidents."),noIncidents:Object(n.g)("IncidentManagement|No incidents to display."),unassigned:Object(n.g)("IncidentManagement|Unassigned"),createIncidentBtnLabel:Object(n.g)("IncidentManagement|Create incident"),unPublished:Object(n.g)("IncidentManagement|Unpublished"),noEscalationStatus:Object(n.g)("IncidentManagement|None"),emptyState:{title:Object(n.g)("IncidentManagement|Display your incidents in a dedicated view"),emptyClosedTabTitle:Object(n.g)("IncidentManagement|There are no closed incidents"),description:Object(n.g)("IncidentManagement|All alerts promoted to incidents are automatically displayed within the list. You can also create a new incident using the button below."),cannotCreateIncidentDescription:Object(n.g)("IncidentManagement|All alerts promoted to incidents are automatically displayed within the list.")}},a=[{title:Object(n.g)("IncidentManagement|Open"),status:"OPENED",filters:"opened"},{title:Object(n.g)("IncidentManagement|Closed"),status:"CLOSED",filters:"closed"},{title:Object(n.g)("IncidentManagement|All"),status:"ALL",filters:"all"}],r={TRIGGERED:Object(n.g)("AlertManagement|Triggered"),ACKNOWLEDGED:Object(n.g)("AlertManagement|Acknowledged"),RESOLVED:Object(n.g)("AlertManagement|Resolved")},o={"data-testid":"incident-management-created-at-sort"},l={"data-testid":"incident-management-severity-sort"},d={"data-testid":"incident-management-status-sort"},c={"data-testid":"incident-management-sla"},u={"data-testid":"incident-management-published-sort"},p="incident",h="Incident Management",m={category:h,action:"create_incident_button_clicks"},f={category:h,action:"view_incidents_list"},g={category:h,action:"view_incident_details"}},hqF9:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("NmEs"),s=i("QwBj");class a{constructor(e={}){this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}checkConditions(e){var t=this;const i=Object(n.G)(e.headers),a=parseInt(i[this.intervalHeader],10);a>0&&-1!==s.k.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),a)),this.options.successCallback(e)}makeDelayedRequest(e=0){var t=this;this.timeoutID=setTimeout((function(){return t.makeRequest()}),e)}makeRequest(){var e=this;const{resource:t,method:i,data:n,errorCallback:a,notificationCallback:r}=this.options;return r(!0),t[i](n).then((function(t){e.checkConditions(t),r(!1)})).catch((function(e){r(!1),e.status!==s.a&&a(e)}))}stop(){this.canPoll=!1,clearTimeout(this.timeoutID)}enable(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}restart(e){this.enable(e),this.makeRequest()}}},hvPU:function(e,t,i){"use strict";var n=i("4lAS"),s=i("pgS/"),a={components:{GlButton:n.a},props:{isTodo:{type:Boolean,required:!1,default:!0},isIconButton:{type:Boolean,required:!1,default:!1}},computed:{buttonLabel(){return Object(s.b)(this.isTodo)}},methods:{incrementGlobalTodoCount(){Object(s.c)(1)},decrementGlobalTodoCount(){Object(s.c)(-1)},onToggle(e){this.isTodo?this.decrementGlobalTodoCount():this.incrementGlobalTodoCount(),this.$emit("click",e)}}},r=i("tBpV"),o=Object(r.a)(a,(function(){var e=this;return(0,e._self._c)("gl-button",e._b({class:{"btn-icon":e.isIconButton},attrs:{"aria-label":e.buttonLabel},on:{click:function(t){return e.onToggle(t)}}},"gl-button",e.$attrs,!1),[e._t("default",(function(){return[e._v(e._s(e.buttonLabel))]}))],2)}),[],!1,null,null,null);t.a=o.exports},i3g2:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"b",(function(){return d}));i("dHQd"),i("yoDG"),i("KeS/"),i("tWNI"),i("8d6S"),i("VwWG"),i("IYHS"),i("rIA9"),i("MViX"),i("zglm"),i("GDOA"),i("hlbI"),i("a0mT"),i("u3H1"),i("ta8/"),i("IKCR"),i("nmTw"),i("W2kU"),i("58fc"),i("7dtT"),i("Rhav"),i("uhEP"),i("eppl"),i("RFHG"),i("z6RN"),i("xuo1"),i("byxs");function n(e){return e+"-file-reviews"}function s(e,t){const i=e[t.file_identifier_hash];return!(null==t||!t.id||null==i||!i.length)&&new Set(i).has(t.id)}function a(e,t){return e.reduce((function(e,i){return{...e,[i.id]:s(t,i)}}),{})}function r(e){const t=localStorage.getItem(n(e));let i={};if(t)try{i=JSON.parse(t)}catch(e){i={}}return i}function o(e,t){return localStorage.setItem(n(e),JSON.stringify(t)),t}function l(e){return Boolean(e.id)&&Boolean(e.file_identifier_hash)}function d(e,t,i=!0){const n={...e},s=n;let a;return l(t)&&(a=new Set(n[t.file_identifier_hash]||[]),i?(a.add(t.id),a.add("hash:"+t.file_hash)):(a.delete(t.id),a.delete("hash:"+t.file_hash)),s[t.file_identifier_hash]=Array.from(a),0===s[t.file_identifier_hash].length&&delete s[t.file_identifier_hash]),s}},i3lA:function(e,t,i){"use strict";i("B++/"),i("z6RN"),i("47t/");var n=i("EmJ/"),s=i.n(n),a=i("NmEs"),r=i("nc9B"),o=i("/lV4");const l=function(e,t,i=window.innerWidth){i>=992?(e.classList.remove("right-sidebar-expanded","right-sidebar-collapsed"),t.classList.remove("right-sidebar-collapsed"),t.classList.add("right-sidebar-expanded")):(e.classList.add("right-sidebar-collapsed","is-merge-request"),t.classList.add("right-sidebar-collapsed"),t.classList.remove("right-sidebar-expanded"))};function d(){this.sidebar=s()("aside"),this.isMR=/projects:merge_requests:/.test(document.body.dataset.page),this.removeListeners(),this.addEventListeners()}d.initialize=function(){this.instance||(this.instance=new d)},d.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),this.sidebar.off("hiddenGlDropdown"),s()(".dropdown").off("loading.gl.dropdown"),s()(".dropdown").off("loaded.gl.dropdown"),s()(document).off("click",".js-sidebar-toggle")},d.prototype.addEventListeners=function(){const e=s()(document);this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),this.sidebar.on("hiddenGlDropdown",this,this.onSidebarDropdownHidden),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked);const t=document.querySelector(".layout-page"),i=document.querySelector(".js-right-sidebar");if(i.classList.contains("right-sidebar-merge-requests")){l(t,i);new ResizeObserver((function(e){for(const n of e)l(t,i,n.contentRect.width)})).observe(document.querySelector("html"))}},d.prototype.sidebarToggleClicked=function(e,t){const i=s()(".js-sidebar-toggle"),n=s()(".js-sidebar-collapse"),l=s()(".js-sidebar-expand"),d=s()(".js-sidebar-toggle-container"),c=d.data("is-expanded"),u=c?Object(o.a)("Expand sidebar"):Object(o.a)("Collapse sidebar");e.preventDefault(),c?(d.data("is-expanded",!1),n.addClass("hidden"),l.removeClass("hidden"),s()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),this.isMR||s()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(d.data("is-expanded",!0),l.addClass("hidden"),n.removeClass("hidden"),s()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),this.isMR||s()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),i.attr("data-original-title",u),i.attr("title",u),Object(r.c)(i),Object(r.d)(i),t||Object(a.N)("collapsed_gutter",s()(".right-sidebar").hasClass("right-sidebar-collapsed"))},d.prototype.sidebarCollapseClicked=function(e){if(s()(e.currentTarget).hasClass("js-dont-change-state"))return;const t=e.data;e.preventDefault();const i=s()(this).closest(".block");return t.openDropdown(i)},d.prototype.openDropdown=function(e){const t="string"==typeof e?this.getBlock(e):e;this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open"))},d.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),s()(".layout-page").addClass("with-overlay")},d.prototype.onSidebarDropdownHidden=function(e){const t=e.data;e.preventDefault();const i=s()(e.target).closest(".block");return t.sidebarDropdownHidden(i)},d.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),s()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},d.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},d.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},d.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},d.prototype.getBlock=function(e){return this.sidebar.find(".block."+e)},t.a=d},i8f6:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("EmJ/"),s=i.n(n),a=(i("B++/"),i("z6RN"),i("47t/"),i("lFMf"),i("gOHk"),i("c9hT"),i("m/7A")),r=i("as/T");var o=i("/lV4"),l=i("3twG"),d=i("qPgm");class c extends class{constructor({dropdown:e,data:t,pattern:i,wrapper:n,editor:a,$input:o}={}){this.pattern=i,this.editor=a,this.dropdown=e,this.$dropdownContainer=n,this.$filenameInput=o||s()("#file_name"),this.dropdownIcon=e[0].querySelector(".dropdown-menu-toggle-icon"),this.loadingIcon=Object(r.a)({classes:["gl-hidden"]}),this.dropdownIcon.parentNode.insertBefore(this.loadingIcon,this.dropdownIcon.nextSibling),this.initDropdown(e,t),this.listenForFilenameInput(),this.renderMatchedDropdown(),this.initAutosizeUpdateEvent()}initDropdown(e,t){var i=this;return Object(a.a)(s()(e),{data:t,filterable:!0,selectable:!0,toggleLabel:function(e){return e.name},search:{fields:["name"]},clicked:function(e){return i.onDropdownClicked(e)},text:function(e){return e.name}})}onDropdownClicked(e){this.fetchFileTemplate(e)}initAutosizeUpdateEvent(){this.autosizeUpdateEvent=document.createEvent("Event"),this.autosizeUpdateEvent.initEvent("autosize:update",!0,!1)}listenForFilenameInput(){var e=this;return this.$filenameInput.on("keyup blur",(function(t){return e.renderMatchedDropdown(t)}))}renderMatchedDropdown(){if(!this.$filenameInput.length)return null;return this.pattern.test(this.$filenameInput.val().trim())?this.$dropdownContainer.removeClass("hidden"):this.$dropdownContainer.addClass("hidden")}fetchFileTemplate(e){const{e:t}=e,i=e.selectedObj;return t.preventDefault(),this.requestFile(i)}requestFile(){}setEditorContent(e,{skipFocus:t}={}){if(!e)return;let i=e.content;const n=new URLSearchParams(window.location.search);n.has("issue[description]")&&(i+="\n"+n.get("issue[description]")),this.editor.setValue(i,1),t||this.editor.focus(),this.editor instanceof s.a&&(this.editor.get(0).dispatchEvent(this.autosizeUpdateEvent),this.editor.trigger("input"))}getEditorContent(){return this.editor.getValue()}startLoadingSpinner(){this.loadingIcon.classList.remove("gl-hidden"),this.dropdownIcon.classList.add("gl-hidden")}stopLoadingSpinner(){this.loadingIcon.classList.add("gl-hidden"),this.dropdownIcon.classList.remove("gl-hidden")}}{constructor(...e){var t;super(...e),t=this,this.projectId=this.dropdown.data("projectId"),this.issuableType=this.$dropdownContainer.data("issuableType"),this.titleInput=s()(`#${this.issuableType}_title`),this.templateWarningEl=s()(".js-issuable-template-warning"),this.warnTemplateOverride=e[0].warnTemplateOverride;const i={name:this.dropdown.data("selected")};i.name||!this.dropdown.data("default")||this.editor.getValue().length||(i.name=this.dropdown.data("default")),i.name&&(this.requestFile(i),this.setToggleText(i.name)),s()(".reset-template",this.dropdown.parent()).on("click",(function(){t.setInputValueToTemplateContent()})),s()(".no-template",this.dropdown.parent()).on("click",(function(){t.reset()})),this.templateWarningEl.find(".js-close-btn").on("click",(function(){void 0!==t.previousSelectedIndex?t.dropdown.data("deprecatedJQueryDropdown").selectRowAtIndex(t.previousSelectedIndex):t.reset(),t.templateWarningEl.addClass("hidden")})),this.templateWarningEl.find(".js-override-template").on("click",(function(){t.requestFile(t.overridingTemplate),t.setSelectedIndex(),t.templateWarningEl.addClass("hidden"),t.overridingTemplate=null}))}reset(){this.currentTemplate&&(this.currentTemplate.content=""),this.setInputValueToTemplateContent(),this.setToggleText(Object(o.a)("Choose a template")),this.previousSelectedIndex=null,Object(l.O)({url:Object(l.L)({issuable_template:null}),replace:!0})}setToggleText(e){s()(".dropdown-toggle-text",this.dropdown).text(e)}setSelectedIndex(){this.previousSelectedIndex=this.dropdown.data("deprecatedJQueryDropdown").selectedIndex}onDropdownClicked(e){const t=this.getEditorContent(),i=""===t||this.currentTemplate&&t===this.currentTemplate.content;if(!this.warnTemplateOverride||i)return super.onDropdownClicked(e),void this.setSelectedIndex();this.overridingTemplate=e.selectedObj,this.templateWarningEl.removeClass("hidden")}requestFile(e){var t=this;this.startLoadingSpinner(),d.b.projectTemplate(this.projectId,this.issuableType,e.name,{source_template_project_id:e.project_id},(function(e){var i;t.currentTemplate=e,t.stopLoadingSpinner(),t.setInputValueToTemplateContent(),null!==(i=t.currentTemplate)&&void 0!==i&&i.name&&Object(l.O)({url:Object(l.L)({issuable_template:encodeURIComponent(t.currentTemplate.name)}),replace:!0})}))}setInputValueToTemplateContent(){""===this.titleInput.val()?(this.setEditorContent(this.currentTemplate,{skipFocus:!0}),this.titleInput.focus()):this.setEditorContent(this.currentTemplate,{skipFocus:!1})}}class u{constructor({$dropdowns:e,editor:t,warnTemplateOverride:i}={}){var n=this;this.$dropdowns=e||s()(".js-issuable-selector"),this.editor=t||this.initEditor(),this.$dropdowns.each((function(e,t){const a=s()(t);new c({pattern:/(\.md)/,data:a.data("data"),wrapper:a.closest(".js-issuable-selector-wrap"),dropdown:a,editor:n.editor,warnTemplateOverride:i})}))}initEditor(){const e=s()(".markdown-area");return e.setValue=e.val,e.getValue=e.val,e}}},iM2x:function(e,t,i){"use strict";var n=i("s1D3"),s=i("z1xw"),a=i("/lV4"),r={components:{GlIcon:n.a},directives:{GlTooltip:s.a},props:{status:{type:Object,required:!0,validator(e){const{icon:t}=e;return"string"==typeof t&&t.startsWith("status")}},showStatusText:{type:Boolean,required:!1,default:!1},showTooltip:{type:Boolean,required:!1,default:!0},useLink:{type:Boolean,default:!0,required:!1}},computed:{componentType(){return this.href?"a":"span"},title(){var e;return this.showTooltip?this.showStatusText?null:null===(e=this.status)||void 0===e?void 0:e.text:null},ariaLabel(){var e;return Object(a.h)(Object(a.a)("Status: %{status}"),{status:null===(e=this.status)||void 0===e?void 0:e.text})},href(){return this.useLink?this.status.detailsPath||this.status.details_path:null},icon(){return this.status.icon?this.status.icon+"_borderless":null},variant(){switch(this.status.icon){case"status_success":return"success";case"status_warning":case"status_pending":return"warning";case"status_failed":return"danger";case"status_running":return"info";default:return"neutral"}}}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t(e.componentType,{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],tag:"component",staticClass:"ci-icon gl-inline-flex gl-items-center gl-text-sm",class:"ci-icon-variant-"+e.variant,attrs:{variant:e.variant,title:e.title,"aria-label":e.ariaLabel,href:e.href,"data-testid":"ci-icon"},on:{click:function(t){return e.$emit("ciStatusBadgeClick")}}},[t("span",{staticClass:"ci-icon-gl-icon-wrapper"},[t("gl-icon",{attrs:{name:e.icon}})],1),e.showStatusText?t("span",{staticClass:"gl-ml-2 gl-mr-3 gl-self-center gl-whitespace-nowrap gl-leading-1",attrs:{"data-testid":"ci-icon-text"}},[e._v(e._s(e.status.text))]):e._e()])}),[],!1,null,null,null);t.a=l.exports},iVYF:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issueType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isDirty"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueState"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issueType"},value:{kind:"Variable",name:{kind:"Name",value:"issueType"}}},{kind:"Argument",name:{kind:"Name",value:"isDirty"},value:{kind:"Variable",name:{kind:"Name",value:"isDirty"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:138}};i.loc.source={body:"mutation updateIssueState($issueType: String, $isDirty: Boolean) {\n  updateIssueState(issueType: $issueType, isDirty: $isDirty) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateIssueState=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateIssueState")},iVp9:function(e,t,i){"use strict";i("3UXl"),i("iyoE"),i("B++/"),i("z6RN"),i("47t/");var n=i("DZUU"),s=i("30su"),a=i("crTv"),r=i("jlnU"),o=i("AxUD"),l=i("kMc5"),d=i("CU3q"),c=i.n(d),u=i("H3X6"),p=i("QZyC"),h={i18n:u.h,components:{GlTooltip:n.a,GlSprintf:s.a,GlCollapsibleListbox:a.a,SeverityToken:p.a,SidebarEditableItem:l.a},inject:["canUpdate"],props:{projectPath:{type:String,required:!0},iid:{type:String,required:!0},initialSeverity:{type:String,required:!1,default:u.b.UNKNOWN.value},issuableType:{type:String,required:!1,default:o.o,validator:function(e){return[o.o].includes(e)}}},data(){return{isUpdating:!1,severity:this.initialSeverity}},computed:{severitiesList(){switch(this.issuableType){case o.o:return Object.values(u.b);default:return[]}},dropdownItems(){return this.severitiesList.map((function(e){return{text:e.label,value:e.value,severity:e}}))},selectedItem(){var e=this;return this.severitiesList.find((function(t){return t.value===e.severity}))}},methods:{updateSeverity(e){var t=this;this.$refs.toggle.collapse(),this.isUpdating=!0,this.$apollo.mutate({mutation:c.a,variables:{iid:this.iid,severity:e,projectPath:this.projectPath}}).then((function(e){const{data:{issueSetSeverity:{errors:i=[],issue:{severity:n}}}}=e;if(i[0])throw i[0];t.severity=n})).catch((function(){return Object(r.createAlert)({message:`${t.$options.i18n.UPDATE_SEVERITY_ERROR} ${t.$options.i18n.TRY_AGAIN}`})})).finally((function(){t.isUpdating=!1}))},showDropdown(){this.$refs.dropdown.open()}}},m=i("tBpV"),f=Object(m.a)(h,(function(){var e=this,t=e._self._c;return t("div",{ref:"sidebarSeverity",staticClass:"block",attrs:{"data-testid":"severity-block-container"}},[t("sidebar-editable-item",{ref:"toggle",attrs:{loading:e.isUpdating,title:e.$options.i18n.SEVERITY,"can-edit":e.canUpdate},on:{open:e.showDropdown},scopedSlots:e._u([{key:"collapsed",fn:function(){return[t("div",{ref:"severity",staticClass:"sidebar-collapsed-icon"},[t("severity-token",{attrs:{severity:e.selectedItem,"icon-size":14,"icon-only":!0}}),e._v(" "),t("gl-tooltip",{attrs:{target:function(){return e.$refs.severity},boundary:"viewport",placement:"left"}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.SEVERITY_VALUE},scopedSlots:e._u([{key:"severity",fn:function(){return[e._v("\n              "+e._s(e.selectedItem.label)+"\n            ")]},proxy:!0}])})],1)],1),e._v(" "),t("div",{staticClass:"hide-collapsed",attrs:{"data-testid":"incident-severity"}},[t("severity-token",{attrs:{severity:e.selectedItem}})],1)]},proxy:!0},{key:"default",fn:function(){return[t("gl-collapsible-listbox",{ref:"dropdown",staticClass:"gl-mt-3",attrs:{block:"","header-text":e.__("Assign severity"),"toggle-text":e.selectedItem.label,items:e.dropdownItems,selected:e.severity},on:{select:e.updateSeverity},scopedSlots:e._u([{key:"list-item",fn:function({item:e}){return[t("severity-token",{attrs:{severity:e.severity}})]}}])})]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=f.exports},iYJv:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"projectWorkItems"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"types"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueType"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"in"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableSearchableField"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"NullValue"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchByIid"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchByText"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"Variable",name:{kind:"Name",value:"types"}}},{kind:"Argument",name:{kind:"Name",value:"in"},value:{kind:"Variable",name:{kind:"Name",value:"in"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"searchByText"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"workItemsByIid"},name:{kind:"Name",value:"workItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"Variable",name:{kind:"Name",value:"types"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"searchByIid"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:613}};i.loc.source={body:"query projectWorkItems(\n  $searchTerm: String\n  $fullPath: ID!\n  $types: [IssueType!]\n  $in: [IssuableSearchableField!]\n  $iid: String = null\n  $searchByIid: Boolean = false\n  $searchByText: Boolean = true\n) {\n  workspace: project(fullPath: $fullPath) {\n    id\n    workItems(search: $searchTerm, types: $types, in: $in) @include(if: $searchByText) {\n      nodes {\n        id\n        iid\n        title\n        confidential\n      }\n    }\n    workItemsByIid: workItems(iid: $iid, types: $types) @include(if: $searchByIid) {\n      nodes {\n        id\n        iid\n        title\n        confidential\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.projectWorkItems=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"projectWorkItems")},imzI:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));i("ZzK0"),i("z6RN"),i("BzOf");var n=i("VpDa"),s=i.n(n),a=i("udiD"),r=i("NmEs"),o=i("1OWu"),l=i("/lV4"),d=i("DVFT"),c=i("3E4U"),u=i("d08M");class p{constructor(e){var t=this;this.refInMemoryButton=document.createElement("button"),this.refClipboardInstance=new s.a(this.refInMemoryButton),this.refClipboardInstance.on("success",(function(){Object(a.default)(Object(l.g)("GlobalShortcuts|Copied reference to clipboard."))})),this.refClipboardInstance.on("error",(function(){Object(a.default)(Object(l.g)("GlobalShortcuts|Unable to copy the reference at this time."))})),e.addAll([[u.L,function(){return p.openSidebarDropdown("js-assignee")}],[u.M,function(){return p.openSidebarDropdown("js-milestone")}],[u.G,function(){return p.openSidebarDropdown("js-labels")}],[u.J,p.editDescription],[u.I,function(){return t.copyReference()}],[u.H,p.replyWithSelectedText]]),document.addEventListener("focus",this.handleMarkdownFieldFocus)}destroy(){document.removeEventListener("focus",this.handleMarkdownFieldFocus)}static handleMarkdownFieldFocus({target:e}){e.matches(".js-vue-markdown-field .js-gfm-input")&&(p.lastFocusedReplyField=e)}static openSidebarDropdown(e){return setTimeout((function(){const t=`.${e} .shortcut-sidebar-dropdown-toggle`,i=document.querySelector(".gl-drawer "+t)||document.querySelector(".modal "+t)||document.querySelector(t);null==i||i.click()}),d.a),!1}static editDescription(){const e=document.querySelector(".gl-drawer .shortcut-edit-wi-description")||document.querySelector(".modal .shortcut-edit-wi-description")||document.querySelector(".shortcut-edit-wi-description");return null==e||e.click(),!1}async copyReference(){const e=".shortcut-copy-reference",t=document.querySelector(".gl-drawer "+e)||document.querySelector(".modal "+e)||document.querySelector(e),i=null==t?void 0:t.dataset.clipboardText;i&&(this.refInMemoryButton.dataset.clipboardText=i,this.refInMemoryButton.dispatchEvent(new CustomEvent("click")))}static replyWithSelectedText(){const e=".js-vue-markdown-field .js-gfm-input";let t=document.querySelector(".gl-drawer "+e)||document.querySelector(".modal "+e)||document.querySelector(e);if(p.lastFocusedReplyField&&Object(o.g)(p.lastFocusedReplyField)&&(t=p.lastFocusedReplyField),!t||!Object(o.g)(t))return!1;const i=Object(r.m)(document.querySelector("#content-body"));if(!i)return t.focus(),!1;let n=Boolean(i.querySelector(".md"));if(!n&&(i.originalNodes&&i.originalNodes.forEach((function(e){let t=e;do{t.matches&&t.matches(".md")&&(n=!0),t=t.parentNode}while(t&&!n)})),!n))return t.focus(),!1;const s=c.a.transformGFMSelection(i.cloneNode(!0)),a=document.createElement("blockquote");return a.appendChild(s),c.a.nodeToGFM(a).then((function(e){if(""===e.trim())return!1;const i=""!==t.value.trim()?"\n\n":"";t.value=`${t.value}${i}${e}\n\n`;const n=document.createEvent("Event");return n.initEvent("autosize:update",!0,!1),t.dispatchEvent(n),t.focus(),!1})).catch((function(){})),!1}}},ivpE:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"toggleResolveWorkItemDesignDiscussion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DiscussionID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resolve"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discussionToggleResolve"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"resolve"},value:{kind:"Variable",name:{kind:"Name",value:"resolve"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discussion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ResolvedStatus"},directives:[]},{kind:"Field",name:{kind:"Name",value:"noteable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Design"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignTodoItem"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignNote"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:562}};n.loc.source={body:'#import "./fragments/design_note.fragment.graphql"\n#import "./fragments/discussion_resolved_status.fragment.graphql"\n#import "./fragments/design_todo_item.fragment.graphql"\n\nmutation toggleResolveWorkItemDesignDiscussion($id: DiscussionID!, $resolve: Boolean!) {\n  discussionToggleResolve(input: { id: $id, resolve: $resolve }) {\n    discussion {\n      id\n      ...ResolvedStatus\n      noteable {\n        ... on Design {\n          ...DesignTodoItem\n        }\n      }\n      notes {\n        nodes {\n          ...DesignNote\n        }\n      }\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("LjxR").definitions)),n.definitions=n.definitions.concat(a(i("J6s1").definitions)),n.definitions=n.definitions.concat(a(i("MBvX").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.toggleResolveWorkItemDesignDiscussion=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"toggleResolveWorkItemDesignDiscussion")},"j/BY":function(e,t,i){"use strict";var n=i("7xOh");t.a=Object(n.a)()},j00k:function(e,t,i){"use strict";var n=i("o4PY"),s=i.n(n),a=i("XBTk"),r=i("s1D3"),o=i("FkSe"),l=i("Pyw5"),d=i.n(l);let c=0;const u={name:"GlToggle",components:{GlIcon:r.a,GlLoadingIcon:o.a},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},label:{type:String,required:!0},description:{type:String,required:!1,default:void 0},help:{type:String,required:!1,default:void 0},labelPosition:{type:String,required:!1,default:"top",validator:e=>Object.values(a.J).includes(e)}},data:()=>({labelId:s()("toggle-label-")}),computed:{shouldRenderDescription(){return Boolean(this.$scopedSlots.description||this.description)&&this.isVerticalLayout},shouldRenderHelp(){return Boolean(this.$slots.help||this.help)&&this.isVerticalLayout},toggleClasses(){return[{"gl-sr-only":"hidden"===this.labelPosition},this.shouldRenderDescription?"gl-mb-2":"gl-mb-3"]},icon(){return this.value?"check-xs":"close-xs"},helpId(){return this.shouldRenderHelp?"toggle-help-"+this.uuid:void 0},isChecked(){return this.value?"true":"false"},isVerticalLayout(){return"top"===this.labelPosition||"hidden"===this.labelPosition}},beforeCreate(){this.uuid=c,c+=1},methods:{toggleFeature(){this.disabled||this.$emit("change",!this.value)}}};const p=d()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-toggle-wrapper gl-mb-0 gl-flex",class:{"gl-flex-col":e.isVerticalLayout,"gl-toggle-label-inline":!e.isVerticalLayout,"is-disabled":e.disabled},attrs:{"data-testid":"toggle-wrapper"}},[i("span",{staticClass:"gl-toggle-label gl-shrink-0",class:e.toggleClasses,attrs:{id:e.labelId,"data-testid":"toggle-label"}},[e._t("label",(function(){return[e._v(e._s(e.label))]}))],2),e._v(" "),e.shouldRenderDescription?i("span",{staticClass:"gl-description-label gl-mb-3",attrs:{"data-testid":"toggle-description"}},[e._t("description",(function(){return[e._v(e._s(e.description))]}))],2):e._e(),e._v(" "),e.name?i("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),i("button",{staticClass:"gl-toggle gl-shrink-0",class:{"is-checked":e.value,"is-disabled":e.disabled||e.isLoading},attrs:{role:"switch","aria-checked":e.isChecked,"aria-labelledby":e.labelId,"aria-describedby":e.helpId,"aria-disabled":e.disabled,type:"button",disabled:e.disabled},on:{click:function(t){return t.preventDefault(),e.toggleFeature.apply(null,arguments)}}},[e.isLoading?i("gl-loading-icon",{staticClass:"toggle-loading",attrs:{color:"dark"}}):i("span",{staticClass:"toggle-icon"},[i("gl-icon",{attrs:{name:e.icon,size:12}})],1)],1),e._v(" "),e.shouldRenderHelp?i("span",{staticClass:"gl-help-label",attrs:{id:e.helpId,"data-testid":"toggle-help"}},[e._t("help",(function(){return[e._v(e._s(e.help))]}))],2):e._e()])},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=p},jJDv:function(e,t,i){var n=i("90g9"),s=i("nHTl"),a=i("QwWC"),r=i("P/Kr");e.exports=function(e,t){return(r(e)?n:a)(e,s(t,3))}},jMKM:function(e,t,i){"use strict";i("3UXl"),i("iyoE");var n=i("MV2A"),s=i("30su"),a=i("jlnU"),r=i("qPgm"),o=i("/lV4"),l=i("xRSn"),d=i("PDyB"),c=(i("B++/"),i("z6RN"),i("47t/"),{components:{GlCollapsibleListbox:i("crTv").a},props:{projects:{type:Array,required:!0},selectedProject:{type:Object,required:!1,default:function(){return{}}}},computed:{selectedProjectValue(){var e;return(null===(e=this.selectedProject)||void 0===e?void 0:e.id)&&String(this.selectedProject.id)},toggleText(){var e;return(null===(e=this.selectedProject)||void 0===e?void 0:e.name)||Object(o.a)("Select private project")},listboxItems(){return this.projects.map((function({id:e,name:t}){return{value:String(e),text:t}}))}},methods:{selectProject(e){const t=this.projects.find((function({id:t}){return String(t)===e}));this.$emit("select",t)}}}),u=i("tBpV"),p=Object(u.a)(c,(function(){return(0,this._self._c)("gl-collapsible-listbox",{attrs:{icon:"lock",items:this.listboxItems,selected:this.selectedProjectValue,"toggle-text":this.toggleText,block:""},on:{select:this.selectProject}})}),[],!1,null,null,null).exports,h={components:{GlLink:n.a,GlSprintf:s.a,Dropdown:p,HelpIcon:l.a},props:{namespacePath:{type:String,required:!0},projectPath:{type:String,required:!0},newForkPath:{type:String,required:!0},helpPagePath:{type:String,required:!0}},data:()=>({projects:[]}),computed:{selectedProject:()=>d.a.selectedProject},mounted(){this.fetchProjects(),this.createBtn=document.querySelector(".js-create-target"),this.warningText=document.querySelector(".js-exposed-info-warning")},methods:{selectProject(e){e?(Object.assign(d.a,{selectedProject:e}),e.namespaceFullPath!==this.namespacePath&&this.showWarning()):this.createBtn&&(this.createBtn.setAttribute("disabled","disabled"),this.createBtn.classList.add("disabled"))},normalizeProjectData:e=>e.map((function(e){return{id:e.id,name:e.name_with_namespace,pathWithNamespace:e.path_with_namespace,namespaceFullpath:e.namespace.full_path}})),fetchProjects(){var e=this;r.b.projectForks(this.projectPath,{with_merge_requests_enabled:!0,min_access_level:30,visibility:"private"}).then((function({data:t}){e.projects=e.normalizeProjectData(t),e.selectProject(e.projects[0])})).catch((function(e){throw Object(a.createAlert)({message:Object(o.a)("Error fetching forked projects. Please try again.")}),e}))},showWarning(){this.warningText&&this.warningText.classList.remove("gl-hidden")}},i18n:{project:Object(o.a)("Project"),privateForkSelected:Object(o.a)("To protect this issue's confidentiality, a private fork of this project was selected."),noForks:Object(o.a)("No forks are available to you."),forkTheProject:Object(o.a)("To protect this issue's confidentiality, %{linkStart}fork this project%{linkEnd} and set the fork's visibility to private."),readMore:Object(o.a)("Read more")}},m=Object(u.a)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"confidential-merge-request-fork-group form-group"},[t("label",[e._v(e._s(e.$options.i18n.project))]),e._v(" "),t("div",[e.projects.length?t("dropdown",{attrs:{projects:e.projects,"selected-project":e.selectedProject},on:{select:e.selectProject}}):e._e(),e._v(" "),t("p",{staticClass:"gl-mb-0 gl-mt-1 gl-text-subtle"},[e.projects.length?[e._v("\n        "+e._s(e.$options.i18n.privateForkSelected)+"\n      ")]:[e._v("\n        "+e._s(e.$options.i18n.noForks)),t("br"),e._v(" "),t("gl-sprintf",{attrs:{message:e.$options.i18n.forkTheProject},scopedSlots:e._u([{key:"link",fn:function({content:i}){return[t("a",{staticClass:"help-link",attrs:{href:e.newForkPath,target:"_blank"}},[e._v(e._s(i))])]}}])})],e._v(" "),t("gl-link",{staticClass:"gl-inline-block gl-w-auto gl-bg-transparent gl-p-0",attrs:{href:e.helpPagePath,target:"_blank"}},[t("help-icon",{attrs:{"aria-label":e.$options.i18n.readMore}})],1)],2)],1)])}),[],!1,null,null,null);t.a=m.exports},jP5H:function(e,t,i){(function(){var e,n,s,a,r,o,l;l=i("AUvv"),a=l.isMatch,e=l.computeScore,o=l.scoreSize,t.score=function(t,i,n){var s,o,l;return s=n.preparedQuery,n.allowErrors||a(t,s.core_lw,s.core_up)?(l=t.toLowerCase(),o=e(t,l,s),o=r(t,l,o,n),Math.ceil(o)):0},r=function(t,i,a,r){var l,d,c,u,p,h,m,f,g,v;if(0===a)return 0;for(g=r.preparedQuery,v=r.useExtensionBonus,f=r.pathSeparator,p=t.length-1;t[p]===f;)p--;if(m=p-(c=t.lastIndexOf(f,p)),h=1,v&&(a*=h+=s(i,g.ext,c,p,2)),-1===c)return a;for(u=g.depth;c>-1&&u-- >0;)c=t.lastIndexOf(f,c-1);return d=-1===c?a:h*e(t.slice(c+1,p+1),i.slice(c+1,p+1),g),(l=10/(20+n(t,p+1,f)))*d+(1-l)*a*o(0,2.5*m)},t.countDir=n=function(e,t,i){var n,s;if(t<1)return 0;for(n=0,s=-1;++s<t&&e[s]===i;);for(;++s<t;)if(e[s]===i)for(n++;++s<t&&e[s]===i;);return n},t.getExtension=function(e){var t;return(t=e.lastIndexOf("."))<0?"":e.substr(t+1)},s=function(e,t,i,n,a){var r,o,l,d;if(!t.length)return 0;if(!((d=e.lastIndexOf(".",n))>i))return 0;for((r=n-d)<(l=t.length)&&(l=r,r=t.length),d++,o=-1;++o<l&&e[d+o]===t[o];);return 0===o&&a>0?.9*s(e,t,i,d-2,a-1):o/r}}).call(this)},jYmY:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"f",(function(){return u})),i.d(t,"e",(function(){return p}));var n=i("gAdM"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("UezY"),i("z6RN"),i("hG7+"),i("B++/"),i("47t/"),i("byxs"),i("epV+"));const r={FAILED:"failed",FINISHED:"finished",NONE:"none",SCHEDULED:"scheduled",STARTED:"started"},o=function(e){return e===r.SCHEDULED||e===r.STARTED},l=function(e){return e.map((function({key:e,name:t}){return{text:`${t} (${e})`,value:e}}))},d=function(e,t){var i;return null===(i=t.find((function(t){return t.title===e})))||void 0===i?void 0:i.color},c=function(e,t){const i=function(e){var t;const i=null===(t=s()(e))||void 0===t?void 0:t.jiraProjectKey,n=e.filter((function(e){return e.jiraProjectKey===i})).length;return`jira-import::${i}-${n}`}(e);return{color:d(i,t),title:i}},u=function(e,t){return!(JSON.parse(localStorage.getItem(a.a))||{})[e]&&t===r.FINISHED},p=function(e){const t=JSON.parse(localStorage.getItem(a.a))||{};t[e]=!0,localStorage.setItem(a.a,JSON.stringify(t))}},jcQM:function(e,t,i){"use strict";i("UezY"),i("z6RN"),i("hG7+"),i("v2fZ"),i("ZzK0"),i("BzOf");var n=i("dsWN"),s=i("Lzak"),a=i("lI2g"),r=i("4+8U"),o=i("qVG1"),l=i("wkJj"),d=i("CqXh"),c=i("2FlG"),u=i("3twG"),p=i("/lV4"),h=i("UqDg"),m=i("FxFN"),f=i("C1Tf"),g=i("sHIo"),v=i("D4cA"),b=i("LxhL");const y=function(){return document.querySelector(".layout-page")};var k={props:{expanded:{type:Boolean,required:!0}},watch:{expanded(e){const t=y();t&&(t.classList.toggle("right-sidebar-expanded",e),t.classList.toggle("right-sidebar-collapsed",!e))}},mounted(){const e=y();e&&e.classList.add("issuable-bulk-update-sidebar")}},w=i("tBpV"),S=Object(w.a)(k,(function(){var e=this._self._c;return e("aside",{staticClass:"issues-bulk-update right-sidebar",class:{"right-sidebar-expanded":this.expanded,"right-sidebar-collapsed":!this.expanded},attrs:{"aria-live":"polite"}},[e("div",{staticClass:"gl-border-b gl-flex gl-justify-between gl-p-4"},[this._t("bulk-edit-actions")],2),this._v(" "),this._t("sidebar-items")],2)}),[],!1,null,null,null).exports,_=(i("B++/"),i("47t/"),i("3UXl"),i("iyoE"),i("MV2A")),I=i("s1D3"),T=i("jl6Z"),O=i("SeSR"),C=i("30su"),x=i("z1xw"),j=i("AxUD"),E=i("NmEs"),D=i("+1Q1"),N=i("5QKO"),A=i("MS9k"),P=i("GuZl"),F=i("FpZ5"),L=i.n(F),R={name:"WorkItemPrefetch",inject:{fullPath:{default:""}},props:{workItemIid:{type:String,required:!0},workItemFullPath:{type:String,required:!1,default:""}},data:()=>({skipQuery:!0}),apollo:{workItem:{query:()=>L.a,variables(){return{fullPath:this.workItemFullPath||this.fullPath,iid:this.workItemIid}},skip(){return!this.fullPath||this.skipQuery},update(e){var t;return null!==(t=e.workspace.workItem)&&void 0!==t?t:{}}}},methods:{prefetchWorkItem(){var e=this;this.prefetch=setTimeout((function(){e.skipQuery=!1}),P.g)},clearPrefetching(){this.prefetch&&(clearTimeout(this.prefetch),this.prefetch=null)}},render(){return this.$scopedSlots.default({prefetchWorkItem:this.prefetchWorkItem,clearPrefetching:this.clearPrefetching})}},q=Object(w.a)(R,void 0,void 0,!1,null,null,null).exports,$=i("JtyA"),B=i("J6Lq");i("byxs");var M={components:{GlBadge:s.a,GlLink:_.a,GlIcon:I.a,GlLabel:T.a,GlFormCheckbox:O.a,GlSprintf:C.a,IssuableAssignees:D.a,WorkItemTypeIcon:A.a,WorkItemPrefetch:q,WorkItemRelationshipIcons:function(){return i.e(879).then(i.bind(null,"wf2L"))}},directives:{GlTooltip:x.a},mixins:[N.a,Object(g.a)()],inject:{isGroup:{default:!1}},props:{hasScopedLabelsFeature:{type:Boolean,required:!1,default:!1},issuableSymbol:{type:String,required:!0},fullPath:{type:String,required:!1,default:null},issuable:{type:Object,required:!0},labelFilterParam:{type:String,required:!1,default:"label_name"},showCheckbox:{type:Boolean,required:!0},checked:{type:Boolean,required:!1,default:!1},showWorkItemTypeIcon:{type:Boolean,required:!1,default:!1},isActive:{type:Boolean,required:!1,default:!1},preventRedirect:{type:Boolean,required:!1,default:!1}},computed:{issuableId(){return Object(m.e)(this.issuable.id)||this.issuable.id},issuableIid(){return this.issuable.iid},workItemFullPath(){var e,t;return(null===(e=this.issuable.namespace)||void 0===e?void 0:e.fullPath)||(null===(t=this.issuable.reference)||void 0===t?void 0:t.split(this.issuableSymbol)[0])},isIncident(){var e;return(null===(e=this.issuable.workItemType)||void 0===e?void 0:e.name)===$.Bc},isServiceDeskIssue(){var e,t;return(null===(e=this.issuable.workItemType)||void 0===e?void 0:e.name)===$.Cc&&"support-bot"===(null===(t=this.issuable)||void 0===t||null===(t=t.author)||void 0===t?void 0:t.username)},author(){return this.issuable.author||{}},externalAuthor(){return this.issuable.externalAuthor},issuableLinkHref(){return this.issuable.webPath||this.issuable.gitlabWebUrl||this.issuable.webUrl},authorId(){return Object(m.e)(this.author.id)},isIssuableUrlExternal(){var e;return Object(u.w)(null!==(e=this.issuableLinkHref)&&void 0!==e?e:"")},reference(){return this.issuable.reference||`${this.issuableSymbol}${this.issuable.iid}`},type(){var e;return this.issuable.type||(null===(e=this.issuable.workItemType)||void 0===e?void 0:e.name.toUpperCase())},labels(){var e,t;return(null===(e=this.issuable.labels)||void 0===e?void 0:e.nodes)||this.issuable.labels||(null===(t=this.issuable.widgets)||void 0===t||null===(t=t.find(B.s))||void 0===t?void 0:t.labels.nodes)||[]},labelIdsString(){return JSON.stringify(this.labels.map((function(e){return Object(m.e)(e.id)})))},assignees(){var e,t;return(null===(e=this.issuable.assignees)||void 0===e?void 0:e.nodes)||this.issuable.assignees||(null===(t=this.issuable.widgets)||void 0===t||null===(t=t.find(B.p))||void 0===t?void 0:t.assignees.nodes)||[]},filteredLinkedItems(){var e;return((null===(e=Object(B.i)(this.issuable))||void 0===e||null===(e=e.linkedItems)||void 0===e?void 0:e.nodes)||[]).filter((function(e){return e.linkType!==$.R.RELATES_TO}))},createdAt(){return this.timeFormatted(this.issuable.createdAt)},isOpen(){return[j.i,$.hb].includes(this.issuable.state)},isClosed(){return[j.d,$.eb].includes(this.issuable.state)},statusTooltip(){return this.issuable.mergedAt?this.tooltipTitle(this.issuable.mergedAt):""},timestamp(){return this.isClosed&&this.issuable.closedAt?this.issuable.closedAt:this.issuable.updatedAt},formattedTimestamp(){return this.isClosed&&this.issuable.closedAt?Object(p.h)(Object(p.a)("closed %{timeago}"),{timeago:this.timeFormatted(this.issuable.closedAt)}):this.issuable.updatedAt!==this.issuable.createdAt?Object(p.h)(Object(p.a)("updated %{timeAgo}"),{timeAgo:this.timeFormatted(this.issuable.updatedAt)}):void 0},issuableTitleProps(){return this.isIssuableUrlExternal?{target:"_blank"}:{}},taskStatus(){const{completedCount:e,count:t}=this.issuable.taskCompletionStatus||{};if(t)return Object(p.h)(Object(p.f)("%{completedCount} of %{count} checklist item completed","%{completedCount} of %{count} checklist items completed",t),{completedCount:e,count:t})},notesCount(){var e;return null!==(e=this.issuable.userDiscussionsCount)&&void 0!==e?e:this.issuable.userNotesCount},showDiscussions(){return"number"==typeof this.notesCount},showIssuableMeta(){return Boolean(this.hasSlotContents("status")||this.hasSlotContents("statistics")||this.showDiscussions||this.issuable.assignees)},issuableNotesLink(){return Object(u.K)(this.issuableLinkHref,"notes")},statusBadgeVariant(){return this.isMergeRequest&&this.isClosed?"danger":"info"},isMergeRequest(){return"MergeRequest"===this.issuable.__typename},issueAsWorkItem(){return!this.isGroup&&!this.isIncident&&!this.isServiceDeskIssue&&this.glFeatures.workItemsViewPreference&&gon.current_user_use_work_items_view},hiddenIssuableTitle(){return this.isMergeRequest?Object(p.a)("This merge request is hidden because its author has been banned."):Object(p.a)("This issue is hidden because its author has been banned.")},listItemUniqueId(){return`listItem-${this.workItemFullPath||this.fullPath}/${Object(m.e)(this.issuable.id)}`}},methods:{hasSlotContents(e){return Boolean(this.$slots[e])},scopedLabel(e){var t;return(this.hasScopedLabelsFeature||(null===(t=this.issuable.widgets)||void 0===t||null===(t=t.find(B.s))||void 0===t?void 0:t.allowsScopedLabels))&&Object(E.E)(e)},labelTitle:e=>e.title||e.name,labelTarget(e){const t=encodeURIComponent(this.labelTitle(e));return`?${this.labelFilterParam}[]=${t}`},getAuthorPopoverTarget(){return this.$refs.authorLink?this.$refs.authorLink.$el:""},handleIssuableItemClick(e){e.metaKey||e.ctrlKey||this.showCheckbox||1===e.button||(e.preventDefault(),this.isIncident||this.isServiceDeskIssue||!this.preventRedirect?this.navigateToIssuable():this.$emit("select-issuable",{id:this.issuable.id,iid:this.issuableIid,webUrl:this.issuable.webUrl,fullPath:this.workItemFullPath,workItemType:this.type.toLowerCase()}))},navigateToIssuable(){this.fullPath||Object(u.R)(this.issuableLinkHref);Object(B.b)({fullPath:this.fullPath,webUrl:this.issuableLinkHref,isGroup:this.isGroup,issueAsWorkItem:this.issueAsWorkItem})?this.$router.push({name:"workItem",params:{iid:this.issuableIid}}):Object(u.R)(this.issuableLinkHref)},handleRowClick(e){this.preventRedirect&&this.handleIssuableItemClick(e)}}},V=Object(w.a)(M,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"issue !gl-flex !gl-px-5",class:{closed:e.issuable.closedAt,"gl-bg-blue-50":e.isActive,"gl-cursor-pointer":e.preventRedirect&&!e.showCheckbox,"hover:gl-bg-subtle":e.preventRedirect&&!e.isActive&&!e.showCheckbox},attrs:{id:"issuable_"+e.issuableId,"data-labels":e.labelIdsString,"data-qa-issue-id":e.issuableId,"data-testid":"issuable-item-wrapper"},on:{click:e.handleRowClick}},[e.showCheckbox?t("gl-form-checkbox",{staticClass:"gl-pr-3 gl-pt-2",attrs:{checked:e.checked,"data-id":e.issuableId,"data-iid":e.issuableIid,"data-type":e.type},on:{input:function(t){return e.$emit("checked-input",t)}}},[t("span",{staticClass:"gl-sr-only"},[e._v(e._s(e.issuable.title))])]):e._e(),e._v(" "),t("div",{staticClass:"issuable-main-info"},[t("div",{staticClass:"issue-title title gl-font-size-0",attrs:{"data-testid":"issuable-title"}},[e.showWorkItemTypeIcon?t("work-item-type-icon",{staticClass:"gl-mr-2",attrs:{"work-item-type":e.type,"show-tooltip-on-hover":""}}):e._e(),e._v(" "),e.issuable.confidential?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-2",attrs:{name:"eye-slash",title:e.__("Confidential"),"aria-label":e.__("Confidential")}}):e._e(),e._v(" "),e.issuable.hidden?t("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{name:"spam",title:e.hiddenIssuableTitle,"aria-label":e.__("Hidden")}}):e._e(),e._v(" "),e.preventRedirect?t("work-item-prefetch",{attrs:{"work-item-iid":e.issuableIid,"work-item-full-path":e.workItemFullPath,"data-testid":"issuable-prefetch-trigger"},scopedSlots:e._u([{key:"default",fn:function({prefetchWorkItem:i,clearPrefetching:n}){return[t("gl-link",e._b({staticClass:"issue-title-text gl-text-base",attrs:{id:e.listItemUniqueId,dir:"auto",href:e.issuableLinkHref,"data-testid":"issuable-title-link"},on:{click:function(t){return t.stopPropagation(),e.handleIssuableItemClick.apply(null,arguments)}},nativeOn:{mouseover:function(t){return i(e.issuableIid)},mouseout:function(e){return n.apply(null,arguments)}}},"gl-link",e.issuableTitleProps,!1),[e._v("\n            "+e._s(e.issuable.title)+"\n            "),e.isIssuableUrlExternal?t("gl-icon",{staticClass:"gl-ml-2",attrs:{name:"external-link"}}):e._e()],1)]}}],null,!1,931522759)}):t("gl-link",e._b({staticClass:"issue-title-text gl-text-base",attrs:{id:e.listItemUniqueId,dir:"auto",href:e.issuableLinkHref,"data-testid":"issuable-title-link"},on:{click:function(t){return t.stopPropagation(),e.handleIssuableItemClick.apply(null,arguments)}}},"gl-link",e.issuableTitleProps,!1),[e._v("\n        "+e._s(e.issuable.title)+"\n        "),e.isIssuableUrlExternal?t("gl-icon",{staticClass:"gl-ml-2",attrs:{name:"external-link"}}):e._e()],1),e._v(" "),e.hasSlotContents("title-icons")?e._t("title-icons"):e._e(),e._v(" "),e.taskStatus?t("span",{staticClass:"task-status gl-ml-2 gl-hidden gl-text-sm sm:!gl-inline-block",attrs:{"data-testid":"task-status"}},[e._v("\n        "+e._s(e.taskStatus)+"\n      ")]):e._e()],2),e._v(" "),t("div",{staticClass:"issuable-info"},[e.hasSlotContents("reference")?e._t("reference"):t("span",{staticClass:"issuable-reference",attrs:{"data-testid":"issuable-reference"}},[e._v("\n        "+e._s(e.reference)+"\n      ")]),e._v(" "),t("span",{staticClass:"gl-hidden sm:gl-inline"},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("Â·")]),e._v(" "),t("span",{staticClass:"issuable-authored gl-mr-3"},[e.author.name?t("gl-sprintf",{attrs:{message:e.__("created %{timeAgo} by %{author}")},scopedSlots:e._u([{key:"timeAgo",fn:function(){return[t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],attrs:{title:e.tooltipTitle(e.issuable.createdAt),"data-testid":"issuable-created-at"}},[e._v("\n                "+e._s(e.createdAt)+"\n              ")])]},proxy:!0},{key:"author",fn:function(){return[e.externalAuthor?t("span",{attrs:{"data-testid":"external-author"}},[e._v(e._s(e.externalAuthor)+" "+e._s(e.__("via")))]):e._e(),e._v(" "),e.hasSlotContents("author")?e._t("author"):t("gl-link",{staticClass:"author-link js-user-link gl-text-sm !gl-text-subtle",attrs:{"data-user-id":e.authorId,"data-username":e.author.username,"data-name":e.author.name,"data-avatar-url":e.author.avatarUrl,href:e.author.webPath,"data-testid":"issuable-author"},on:{click:function(e){e.stopPropagation()}}},[t("span",{staticClass:"author"},[e._v(e._s(e.author.name))])])]},proxy:!0}],null,!0)}):t("gl-sprintf",{attrs:{message:e.__("created %{timeAgo}")},scopedSlots:e._u([{key:"timeAgo",fn:function(){return[t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],attrs:{title:e.tooltipTitle(e.issuable.createdAt),"data-testid":"issuable-created-at"}},[e._v("\n                "+e._s(e.createdAt)+"\n              ")])]},proxy:!0}])})],1),e._v(" "),e._t("timeframe"),e._v(" "),e._t("target-branch")],2),e._v(" "),e.labels.length?t("p",{staticClass:"gl-mb-0 gl-mt-1 gl-flex gl-flex-wrap gl-gap-2",attrs:{role:"group","aria-label":e.__("Labels")}},e._l(e.labels,(function(i,n){return t("gl-label",{key:n,attrs:{"background-color":i.color,title:e.labelTitle(i),description:i.description,scoped:e.scopedLabel(i),target:e.labelTarget(i)},on:{click:function(e){e.stopPropagation()}}})})),1):e._e()],2)]),e._v(" "),t("div",{staticClass:"issuable-meta"},[e.showIssuableMeta?t("ul",{staticClass:"controls gl-gap-3"},[e.$slots.status?t("li",{staticClass:"!gl-mr-0",attrs:{"data-testid":"issuable-status"}},[e.isOpen?e._t("status"):t("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.top",modifiers:{top:!0}}],attrs:{variant:e.statusBadgeVariant,title:e.statusTooltip}},[e._t("status")],2)],2):e._e(),e._v(" "),e._t("pipeline-status"),e._v(" "),e.assignees.length?t("li",{staticClass:"!gl-mr-0"},[t("issuable-assignees",{staticClass:"gl-flex gl-items-center",attrs:{assignees:e.assignees,"icon-size":16,"max-visible":4}})],1):e._e(),e._v(" "),e._t("reviewers"),e._v(" "),e._t("approval-status"),e._v(" "),e._t("discussions",(function(){return[e.showDiscussions&&e.notesCount?t("li",{staticClass:"!gl-mr-0 gl-hidden sm:gl-inline-flex",attrs:{"data-testid":"issuable-comments"}},[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.top",modifiers:{top:!0}}],staticClass:"gl-flex gl-items-center !gl-text-inherit",attrs:{title:e.__("Comments")}},[t("gl-icon",{staticClass:"gl-mr-2",attrs:{name:"comments"}}),e._v("\n            "+e._s(e.notesCount)+"\n          ")],1)]):e._e()]})),e._v(" "),e._t("statistics"),e._v(" "),e.isOpen&&e.filteredLinkedItems.length>0?t("work-item-relationship-icons",{attrs:{"work-item-type":e.type,"linked-work-items":e.filteredLinkedItems,"work-item-full-path":e.workItemFullPath,"work-item-iid":e.issuableIid,"work-item-web-url":e.issuableLinkHref}}):e._e()],2):e._e(),e._v(" "),t("div",{staticClass:"gl-hidden sm:gl-flex sm:gl-flex-col sm:gl-items-end md:gl-flex-row md:gl-items-center"},[e._t("health-status"),e._v(" "),t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.bottom",modifiers:{bottom:!0}}],staticClass:"gl-text-subtle sm:gl-inline-block",attrs:{title:e.tooltipTitle(e.timestamp),"data-testid":"issuable-timestamp"}},[e._v("\n        "+e._s(e.formattedTimestamp)+"\n      ")])],2)])],1)}),[],!1,null,null,null).exports,U=i("pbPB"),G=i("sF+2"),W=i("SNRI"),H={components:{GlTabs:U.a,GlTab:G.a,GlBadge:s.a},props:{tabs:{type:Array,required:!0},tabCounts:{type:Object,required:!1,default:null},currentTab:{type:String,required:!0},truncateCounts:{type:Boolean,required:!1,default:!1}},methods:{isTabActive(e){return e===this.currentTab},isTabCountNumeric(e){return Number.isInteger(this.tabCounts[e.name])},formatNumber(e){return this.truncateCounts?Object(W.h)(e):Object(p.c)(e)}}},z=Object(w.a)(H,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"top-area"},[t("gl-tabs",{staticClass:"mobile-separator issuable-state-filters gl-m-0 gl-flex gl-grow gl-p-0",attrs:{"nav-class":"gl-border-b-0"}},e._l(e.tabs,(function(i){return t("gl-tab",{key:i.id,attrs:{active:e.isTabActive(i.name)},on:{click:function(t){return e.$emit("click",i.name)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{attrs:{title:i.titleTooltip,"data-testid":i.name+"-issuables-tab"}},[e._v("\n          "+e._s(i.title)+"\n        ")]),e._v(" "),e.tabCounts&&e.isTabCountNumeric(i)?t("gl-badge",{staticClass:"gl-tab-counter-badge",attrs:{variant:"muted"}},[e._v("\n          "+e._s(e.formatNumber(e.tabCounts[i.name]))+"\n        ")]):e._e()]},proxy:!0}],null,!0)})})),1),e._v(" "),t("div",{staticClass:"nav-controls"},[e._t("nav-actions")],2)],1)}),[],!1,null,null,null).exports,K=Object(w.a)({},(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports;const Q=function(){return Promise.all([i.e(253),i.e(1043)]).then(i.t.bind(null,"wAfB",7))};var Y={vueDraggableAttributes:{animation:200,forceFallback:!0,ghostClass:"gl-invisible",tag:"ul",delay:h.b,delayOnTouchOnly:!0},components:{GlAlert:n.a,GlBadge:s.a,GlKeysetPagination:a.a,GlSkeletonLoader:r.a,IssuableTabs:z,FilteredSearchBar:f.a,IssuableItem:V,IssuableGrid:K,IssuableBulkEditSidebar:S,GlPagination:o.a,VueDraggable:Q,PageSizeSelector:c.a,LocalStorageSync:d.a,EmptyResult:l.a},mixins:[Object(g.a)()],props:{namespace:{type:String,required:!0},fullPath:{type:String,required:!1,default:null},recentSearchesStorageKey:{type:String,required:!0},searchInputPlaceholder:{type:String,required:!1,default:Object(p.a)("Search or filter resultsâ¦")},searchTokens:{type:Array,required:!0},sortOptions:{type:Array,required:!0},urlParams:{type:Object,required:!1,default:function(){return{}}},initialFilterValue:{type:Array,required:!1,default:function(){return[]}},initialSortBy:{type:String,required:!1,default:"created_desc"},issuables:{type:Array,required:!0},tabs:{type:Array,required:!0},tabCounts:{type:Object,required:!1,default:null},truncateCounts:{type:Boolean,required:!1,default:!1},currentTab:{type:String,required:!0},issuableSymbol:{type:String,required:!1,default:"#"},issuablesLoading:{type:Boolean,required:!1,default:!1},showPaginationControls:{type:Boolean,required:!1,default:!1},showBulkEditSidebar:{type:Boolean,required:!1,default:!1},defaultPageSize:{type:Number,required:!1,default:20},totalItems:{type:Number,required:!1,default:0},currentPage:{type:Number,required:!1,default:1},previousPage:{type:Number,required:!1,default:0},nextPage:{type:Number,required:!1,default:2},hasScopedLabelsFeature:{type:Boolean,required:!1,default:!1},labelFilterParam:{type:String,required:!1,default:void 0},isManualOrdering:{type:Boolean,required:!1,default:!1},useKeysetPagination:{type:Boolean,required:!1,default:!1},hasNextPage:{type:Boolean,required:!1,default:!1},hasPreviousPage:{type:Boolean,required:!1,default:!1},error:{type:String,required:!1,default:""},syncFilterAndSort:{type:Boolean,required:!1,default:!1},showFilteredSearchFriendlyText:{type:Boolean,required:!1,default:!1},showPageSizeSelector:{type:Boolean,required:!1,default:!1},showWorkItemTypeIcon:{type:Boolean,required:!1,default:!1},isGridView:{type:Boolean,required:!1,default:!1},activeIssuable:{type:Object,required:!1,default:null},preventRedirect:{type:Boolean,required:!1,default:!1},issuableItemClass:{type:String,required:!1,default:""}},data:()=>({checkedIssuableIds:[]}),computed:{skeletonItemCount(){const{totalItems:e,defaultPageSize:t,currentPage:i}=this,n=Math.ceil(e/t);return n?i<n?t:e%t||t:b.b},allIssuablesChecked(){return this.checkedIssuables.length===this.issuables.length},checkedIssuables(){var e=this;return this.issuables.filter((function(t){return e.checkedIssuableIds.includes(t.id)}))},issuablesWrapper(){return this.isManualOrdering?Q:"ul"},gridViewFeatureEnabled(){var e;return Boolean(null===(e=this.glFeatures)||void 0===e?void 0:e.issuesGridView)},hasItems(){return this.issuables.length>0}},watch:{urlParams:{deep:!0,immediate:!0,handler(e){Object.keys(e).length&&Object(u.O)({url:Object(u.L)(e,window.location.href,!0,!1,!0),title:document.title,replace:!0})}},showBulkEditSidebar(){this.checkedIssuableIds=[]}},methods:{isIssuableChecked(e){return this.checkedIssuableIds.includes(e.id)},updateCheckedIssuableIds(e,t){const i=this.checkedIssuableIds.includes(e.id);if(t&&!i&&this.checkedIssuableIds.push(e.id),!t&&i){const t=this.checkedIssuableIds.findIndex((function(t){return t===e.id}));this.checkedIssuableIds.splice(t,1)}},handleIssuableCheckedInput(e,t){this.updateCheckedIssuableIds(e,t),this.$emit("update-legacy-bulk-edit"),v.a.$emit("issuables:issuableChecked",e,t)},handleAllIssuablesCheckedInput(e){var t=this;this.issuables.forEach((function(i){return t.updateCheckedIssuableIds(i,e)})),this.$emit("update-legacy-bulk-edit")},handleVueDraggableUpdate({newIndex:e,oldIndex:t}){this.$emit("reorder",{newIndex:e,oldIndex:t})},handlePageSizeChange(e){this.$emit("page-size-change",e)},isIssuableActive(e){var t;return Boolean(Object(m.e)(e.id)===Object(m.e)(null===(t=this.activeIssuable)||void 0===t?void 0:t.id))}},PAGE_SIZE_STORAGE_KEY:b.c},J=Object(w.a)(Y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"issuable-list-container"},[t("issuable-tabs",{attrs:{tabs:e.tabs,"tab-counts":e.tabCounts,"current-tab":e.currentTab,"truncate-counts":e.truncateCounts},on:{click:function(t){return e.$emit("click-tab",t)}},scopedSlots:e._u([{key:"nav-actions",fn:function(){return[e._t("nav-actions")]},proxy:!0}],null,!0)}),e._v(" "),t("filtered-search-bar",{staticClass:"row-content-block gl-grow gl-border-t-0 sm:gl-flex",attrs:{namespace:e.namespace,"recent-searches-storage-key":e.recentSearchesStorageKey,"search-input-placeholder":e.searchInputPlaceholder,tokens:e.searchTokens,"sort-options":e.sortOptions,"initial-filter-value":e.initialFilterValue,"initial-sort-by":e.initialSortBy,"sync-filter-and-sort":e.syncFilterAndSort,"show-checkbox":e.showBulkEditSidebar,"checkbox-checked":e.allIssuablesChecked,"show-friendly-text":e.showFilteredSearchFriendlyText,"terms-as-tokens":"","data-testid":"issuable-search-container"},on:{"checked-input":e.handleAllIssuablesCheckedInput,onFilter:function(t){return e.$emit("filter",t)},onSort:function(t){return e.$emit("sort",t)}}}),e._v(" "),e.error?t("gl-alert",{class:{"gl-mt-5":!e.hasItems&&!e.issuablesLoading},attrs:{variant:"danger",dismissible:e.hasItems},on:{dismiss:function(t){return e.$emit("dismiss-alert")}}},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e(),e._v(" "),t("issuable-bulk-edit-sidebar",{attrs:{expanded:e.showBulkEditSidebar},scopedSlots:e._u([{key:"bulk-edit-actions",fn:function(){return[e._t("bulk-edit-actions",null,{checkedIssuables:e.checkedIssuables})]},proxy:!0},{key:"sidebar-items",fn:function(){return[e._t("sidebar-items",null,{checkedIssuables:e.checkedIssuables})]},proxy:!0}],null,!0)}),e._v(" "),e._t("list-body"),e._v(" "),e.issuablesLoading?t("ul",{staticClass:"content-list"},e._l(e.skeletonItemCount,(function(e){return t("li",{key:e,staticClass:"issue !gl-px-5 !gl-py-5"},[t("gl-skeleton-loader")],1)})),0):[e.issuables.length>0&&!e.isGridView?t(e.issuablesWrapper,e._b({tag:"component",staticClass:"content-list issuable-list issues-list",class:{"manual-ordering":e.isManualOrdering},on:{update:e.handleVueDraggableUpdate}},"component",e.$options.vueDraggableAttributes,!1),e._l(e.issuables,(function(i){return t("issuable-item",{key:i.id,class:[{"gl-cursor-grab":e.isManualOrdering},e.issuableItemClass],attrs:{"data-testid":"issuable-container","data-qa-issuable-title":i.title,"has-scoped-labels-feature":e.hasScopedLabelsFeature,"issuable-symbol":e.issuableSymbol,issuable:i,"label-filter-param":e.labelFilterParam,"full-path":e.fullPath,"show-checkbox":e.showBulkEditSidebar,checked:e.isIssuableChecked(i),"show-work-item-type-icon":e.showWorkItemTypeIcon,"prevent-redirect":e.preventRedirect,"is-active":e.isIssuableActive(i)},on:{"checked-input":function(t){return e.handleIssuableCheckedInput(i,t)},"select-issuable":function(t){return e.$emit("select-issuable",t)}},scopedSlots:e._u([{key:"reference",fn:function(){return[e._t("reference",null,{issuable:i})]},proxy:!0},{key:"author",fn:function(){return[e._t("author",null,{author:i.author})]},proxy:!0},{key:"timeframe",fn:function(){return[e._t("timeframe",null,{issuable:i})]},proxy:!0},{key:"target-branch",fn:function(){return[e._t("target-branch",null,{issuable:i})]},proxy:!0},{key:"status",fn:function(){return[e._t("status",null,{issuable:i})]},proxy:!0},{key:"statistics",fn:function(){return[e._t("statistics",null,{issuable:i})]},proxy:!0},{key:"approval-status",fn:function(){return[e._t("approval-status",null,{issuable:i})]},proxy:!0},{key:"pipeline-status",fn:function(){return[e._t("pipeline-status",null,{issuable:i})]},proxy:!0},{key:"reviewers",fn:function(){return[e._t("reviewers",null,{issuable:i})]},proxy:!0},{key:"title-icons",fn:function(){return[e._t("title-icons",null,{issuable:i})]},proxy:!0},{key:"discussions",fn:function(){return[e._t("discussions",null,{issuable:i})]},proxy:!0},{key:"health-status",fn:function(){return[e._t("health-status",null,{issuable:i})]},proxy:!0}],null,!0)})})),1):e.issuables.length>0&&e.isGridView?t("div",[t("issuable-grid")],1):e.initialFilterValue.length>0?t("empty-result"):e.error?e._e():e._t("empty-state")],e._v(" "),t("div",{staticClass:"gl-relative gl-mt-6 gl-flex gl-justify-between md:!gl-justify-center"},[e.showPaginationControls&&e.useKeysetPagination?t("gl-keyset-pagination",{attrs:{"has-next-page":e.hasNextPage,"has-previous-page":e.hasPreviousPage},on:{next:function(t){return e.$emit("next-page")},prev:function(t){return e.$emit("previous-page")}}}):e.showPaginationControls?t("gl-pagination",{staticClass:"gl-pagination gl-mt-3",attrs:{"per-page":e.defaultPageSize,"total-items":e.totalItems,value:e.currentPage,"prev-page":e.previousPage,"next-page":e.nextPage,align:"center"},on:{input:function(t){return e.$emit("page-change",t)}}}):e._e(),e._v(" "),e.showPageSizeSelector?t("local-storage-sync",{attrs:{value:e.defaultPageSize,"storage-key":e.$options.PAGE_SIZE_STORAGE_KEY},on:{input:e.handlePageSizeChange}},[t("page-size-selector",{staticClass:"gl-relative gl-right-0 md:gl-absolute",attrs:{value:e.defaultPageSize},on:{input:e.handlePageSizeChange}})],1):e._e()],1)],2)}),[],!1,null,null,null);t.a=J.exports},jl6Z:function(e,t,i){"use strict";var n=i("XBTk"),s=i("Qog8"),a=i("4lAS"),r=i("s1D3"),o=i("MV2A"),l=i("DZUU"),d=i("Pyw5"),c=i.n(d);const u={name:"GlLabel",components:{GlButton:a.a,GlIcon:r.a,GlLink:o.a,GlTooltip:l.a},props:{backgroundColor:{type:String,required:!0,validator:e=>/^(#|rgb|rgba)/.test(e)},title:{type:String,required:!0,default:""},description:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},target:{type:String,required:!1,default:""},scoped:{type:Boolean,required:!1,default:!1},showCloseButton:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},data(){return{splitScopedLabelIndex:this.title.lastIndexOf("::")}},computed:{cssClasses(){const e=Object(s.a)(this.backgroundColor);return{"gl-label-scoped":this.scoped,"gl-label-text-dark":e===n.B.dark,"gl-label-text-light":e===n.B.light}},cssVariables(){return{"--label-background-color":this.backgroundColor,"--label-inset-border":"inset 0 0 0 2px "+this.backgroundColor}},scopedKey(){return this.scoped?this.title.slice(0,this.splitScopedLabelIndex):this.title},scopedValue(){return this.title.slice(this.splitScopedLabelIndex+2)},labelComponent(){return this.target?o.a:"span"},tooltipTarget(){return this.target?this.$refs.labelTitle.$el:this.$refs.labelTitle}},watch:{title(){this.splitScopedLabelIndex=this.title.lastIndexOf("::")}},methods:{onClick(e){this.$emit("click",e)},onClose(e){this.$emit("close",e)}}};const p=c()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",e._b({staticClass:"gl-label",class:e.cssClasses,style:e.cssVariables,on:{click:e.onClick}},"span",e.$attrs,!1),[i(e.labelComponent,{ref:"labelTitle",tag:"component",staticClass:"gl-label-link",class:{"gl-label-link-underline":e.target},attrs:{href:!!e.target&&e.target,tabindex:"0"}},[i("span",{staticClass:"gl-label-text"},[e._v("\n      "+e._s(e.scopedKey)+"\n    ")]),e._v(" "),e.scoped&&e.scopedValue?i("span",{staticClass:"gl-label-text-scoped"},[e._v("\n      "+e._s(e.scopedValue)+"\n    ")]):e._e()]),e._v(" "),e.showCloseButton?i("gl-button",{staticClass:"gl-label-close !gl-p-0",attrs:{category:"tertiary",size:"small",variant:"reset","aria-label":"Remove label",disabled:e.disabled},on:{click:e.onClose}},[i("gl-icon",{attrs:{name:"close-xs",size:12}})],1):e._e(),e._v(" "),e.description?i("gl-tooltip",{attrs:{target:function(){return e.tooltipTarget},placement:e.tooltipPlacement,boundary:"viewport"}},[e.scoped?i("span",{staticClass:"gl-label-tooltip-title"},[e._v("Scoped label")]):e._e(),e._v("\n    "+e._s(e.description)+"\n  ")]):e._e()],1)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=p},jw83:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("9k56"),s=i("gZSI");const a=Object(n.c)({methods:{hasListener(e){if(n.d)return!0;const t=this.$listeners||{},i=this._events||{};return!Object(s.n)(t[e])||Object(s.a)(i[e])&&i[e].length>0}}})},kMc5:function(e,t,i){"use strict";var n=i("4lAS"),s=i("FkSe"),a=i("z1xw"),r=i("/lV4"),o={i18n:{unassigned:Object(r.a)("Unassigned")},components:{GlButton:n.a,GlLoadingIcon:s.a},directives:{GlTooltip:a.a},inject:{canUpdate:{},isClassicSidebar:{default:!1}},props:{buttonId:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},initialLoading:{type:Boolean,required:!1,default:!1},isDirty:{type:Boolean,required:!1,default:!1},tracking:{type:Object,required:!1,default:function(){return{event:null,label:null,property:null}}},canEdit:{type:Boolean,required:!1,default:!0},shouldShowConfirmationPopover:{type:Boolean,required:!1,default:!1},editTooltip:{type:String,required:!1,default:""},editAriaLabel:{type:String,required:!1,default:""},editKeyshortcuts:{type:String,required:!1,default:""}},data:()=>({edit:!1}),computed:{editButtonText(){return this.isDirty?Object(r.a)("Apply"):Object(r.a)("Edit")},editTooltipText(){return this.isDirty?"":this.editTooltip},editAriaLabelText(){return this.isDirty?this.editButtonText:this.editAriaLabel},editKeyshortcutsText(){return this.isDirty?Object(r.a)("Escape"):this.editKeyshortcuts}},destroyed(){window.removeEventListener("click",this.collapseWhenOffClick),window.removeEventListener("keyup",this.collapseOnEscape)},methods:{collapseWhenOffClick({target:e}){this.$el.contains(e)||this.collapse()},collapseOnEscape({key:e}){"Escape"===e&&this.collapse()},expand(){this.edit||(this.canEdit&&this.canUpdate&&(this.edit=!0),this.$emit("open"),window.addEventListener("click",this.collapseWhenOffClick),window.addEventListener("keyup",this.collapseOnEscape))},collapse({emitEvent:e=!0}={}){this.edit&&(this.edit=!1,e&&this.$emit("close"),window.removeEventListener("click",this.collapseWhenOffClick),window.removeEventListener("keyup",this.collapseOnEscape))},toggle({emitEvent:e=!0}={}){this.shouldShowConfirmationPopover?this.$emit("edit-confirm"):this.edit?this.collapse({emitEvent:e}):this.expand()}}},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"gl-flex gl-items-center gl-font-bold gl-leading-20 gl-text-default",on:{click:function(t){return t.target!==t.currentTarget?null:e.collapse.apply(null,arguments)}}},[t("span",{staticClass:"hide-collapsed",attrs:{"data-testid":"title"},on:{click:e.collapse}},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),e._t("title-extra"),e._v(" "),e.loading||e.initialLoading?t("gl-loading-icon",{staticClass:"hide-collapsed gl-ml-2",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e.loading&&e.isClassicSidebar?t("gl-loading-icon",{staticClass:"hide-expanded gl-mx-auto gl-my-0",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e._t("collapsed-right"),e._v(" "),e.canUpdate&&!e.initialLoading&&e.canEdit?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.html",modifiers:{viewport:!0,html:!0}}],staticClass:"hide-collapsed shortcut-sidebar-dropdown-toggle -gl-mr-2 gl-ml-auto",attrs:{id:e.buttonId,category:"tertiary",size:"small",title:e.editTooltipText,"aria-label":e.editAriaLabelText,"aria-keyshortcuts":e.editKeyshortcutsText,"data-testid":"edit-button","data-track-action":e.tracking.event,"data-track-label":e.tracking.label,"data-track-property":e.tracking.property},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggle.apply(null,arguments)},click:e.toggle}},[e._v("\n      "+e._s(e.editButtonText)+"\n    ")]):e._e()],2),e._v(" "),e.initialLoading?e._e():[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],attrs:{"data-testid":"collapsed-content"}},[e._t("collapsed",(function(){return[e._v(e._s(e.__("None")))]}))],2),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],class:{"gl-mt-3":!e.isClassicSidebar},attrs:{"data-testid":"expanded-content"}},[e._t("default",null,{edit:e.edit,toggle:e.toggle})],2)]],2)}),[],!1,null,null,null);t.a=d.exports},kNVy:function(e,t,i){"use strict";var n=i("s1D3"),s=i("Dv1Y"),a=i("bOix"),r=i("/lV4"),o={components:{WorkItemAttribute:i("0qSx").a,GlIcon:n.a},props:{closed:{type:Boolean,required:!1,default:!1},date:{type:String,required:!0},cssClass:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"bottom"}},computed:{title(){const e=Object(a.z)(),{timeDifference:t,standardDateFormat:i}=this,n=i;return t>=-1&&t<7?`${e.format(this.issueDueDate)} (${n})`:e.format(this.issueDueDate)},body(){const{timeDifference:e,issueDueDate:t,standardDateFormat:i}=this;return 0===e?Object(r.a)("Today"):1===e?Object(r.a)("Tomorrow"):-1===e?Object(r.a)("Yesterday"):e>0&&e<7?Object(s.a)(t,"dddd"):i},iconName(){return this.isOverdue?"calendar-overdue":"calendar"},issueDueDate(){return Object(a.O)(this.date)},timeDifference(){const e=new Date;return Object(a.u)(e,this.issueDueDate)},isOverdue(){return!(this.timeDifference>=0||this.closed)},standardDateFormat(){return(new Date).getFullYear()===this.issueDueDate.getFullYear()?a.I.asDateWithoutYear.format(this.issueDueDate):a.I.asDate.format(this.issueDueDate)}}},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("work-item-attribute",{attrs:{"anchor-id":"board-card-due-date","wrapper-component":"span","wrapper-component-class":e.cssClass+" board-card-info gl-mr-3 gl-cursor-help gl-text-subtle"},scopedSlots:e._u([{key:"icon",fn:function(){return[t("gl-icon",{staticClass:"board-card-info-icon gl-mr-2",attrs:{variant:e.isOverdue?"danger":"subtle",name:e.iconName}})]},proxy:!0},{key:"title",fn:function(){return[t("time",{staticClass:"board-card-info-text gl-text-sm",attrs:{datetime:"date"}},[e._v(e._s(e.body))])]},proxy:!0},{key:"tooltip-text",fn:function(){return[t("span",{staticClass:"gl-font-bold"},[e._v(e._s(e.__("Due date")))]),e._v(" "),t("br"),e._v(" "),t("span",[e._v(e._s(e.title))]),e._v(" "),e.isOverdue?t("div",[e._v("("+e._s(e.__("overdue"))+")")]):e._e()]},proxy:!0}])})}),[],!1,null,null,null);t.a=d.exports},kUOS:function(e,t,i){"use strict";i.d(t,"a",(function(){return D}));var n=i("9k56"),s=i("3hkr"),a=i("CU79"),r=i("jIK5"),o=i("BBKf"),l=i("ZdEn"),d=i("i8zK"),c=i("VuSA"),u=i("hII5"),p=i("5TS0"),h=i("qO70"),m=i("aBA8"),f=i("lgrP"),g=i("oTzT");const v={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},b={enter:e=>{Object(g.F)(e,"height",0),Object(g.B)(()=>{Object(g.w)(e),Object(g.F)(e,"height",e.scrollHeight+"px")})},afterEnter:e=>{Object(g.A)(e,"height")},leave:e=>{Object(g.F)(e,"height","auto"),Object(g.F)(e,"display","block"),Object(g.F)(e,"height",Object(g.i)(e).height+"px"),Object(g.w)(e),Object(g.F)(e,"height",0)},afterLeave:e=>{Object(g.A)(e,"height")}},y={appear:Object(u.b)(r.g,!1)},k=Object(n.c)({name:s.e,functional:!0,props:y,render(e,t){let{props:i,data:n,children:s}=t;return e("transition",Object(f.a)(n,{props:v,on:b},{props:i}),s)}}),w=Object(l.d)(s.d,"toggle"),S=Object(l.d)(s.d,"request-state"),_=Object(l.e)(s.d,"accordion"),I=Object(l.e)(s.d,"state"),T=Object(l.e)(s.d,"sync-state"),{mixin:O,props:C,prop:x,event:j}=Object(d.a)("visible",{type:r.g,defaultValue:!1}),E=Object(u.c)(Object(c.m)({...p.b,...C,accordion:Object(u.b)(r.r),appear:Object(u.b)(r.g,!1),tag:Object(u.b)(r.r,"div")}),s.d),D=Object(n.c)({name:s.d,mixins:[p.a,O,m.a,h.a],props:E,data(){return{show:this[x],transitioning:!1}},computed:{classObject(){const{transitioning:e}=this;return{collapse:!e,show:this.show&&!e}},slotScope(){return{visible:this.show,close:()=>{this.show=!1}}}},watch:{[x](e){e!==this.show&&(this.show=e)},show(e,t){e!==t&&this.emitState()}},created(){this.show=this[x]},mounted(){this.show=this[x],this.listenOnRoot(w,this.handleToggleEvent),this.listenOnRoot(_,this.handleAccordionEvent),this.$nextTick(()=>{this.emitState()}),this.listenOnRoot(S,e=>{e===this.safeId()&&this.$nextTick(this.emitSync)})},updated(){this.emitSync()},beforeDestroy(){this.show=!1},methods:{toggle(){this.show=!this.show},onEnter(){this.transitioning=!0,this.$emit(a.L)},onAfterEnter(){this.transitioning=!1,this.$emit(a.M)},onLeave(){this.transitioning=!0,this.$emit(a.t)},onAfterLeave(){this.transitioning=!1,this.$emit(a.s)},emitState(){const{show:e,accordion:t}=this,i=this.safeId();this.$emit(j,e),this.emitOnRoot(I,i,e),t&&e&&this.emitOnRoot(_,i,t)},emitSync(){this.emitOnRoot(T,this.safeId(),this.show)},handleToggleEvent(e){e===this.safeId()&&this.toggle()},handleAccordionEvent(e,t){const{accordion:i,show:n}=this;if(!i||i!==t)return;const s=e===this.safeId();(s&&!n||!s&&n)&&this.toggle()}},render(e){const{appear:t}=this,i=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()}},this.normalizeSlot(o.e,this.slotScope));return e(k,{props:{appear:t},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[i])}})},"l+kv":function(e,t,i){"use strict";var n=i("6npM"),s=i.n(n),a=i("s1D3"),r=i("/lV4"),o=i("Gtn5"),l={components:{GlIcon:a.a},props:{diffFile:{type:Object,required:!1,default:function(){return null}},addedLines:{type:Number,required:!0},removedLines:{type:Number,required:!0},diffsCount:{type:String,required:!1,default:null}},computed:{diffFilesLength(){return parseInt(this.diffsCount,10)},filesText(){return Object(r.f)("file","files",this.diffFilesLength)},isCompareVersionsHeader(){return Boolean(this.diffsCount)},hasDiffFiles(){return s()(this.diffFilesLength)&&this.diffFilesLength>=0},notDiffable(){return Object(o.f)(this.diffFile)},fileStats(){return Object(o.j)(this.diffFile)}}},d=i("tBpV"),c=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"diff-stats",class:{"is-compare-versions-header gl-hidden lg:gl-inline-flex":e.isCompareVersionsHeader,"gl-hidden sm:!gl-inline-flex":!e.isCompareVersionsHeader}},[e.notDiffable?t("div",{class:e.fileStats.classes},[e._v("\n    "+e._s(e.fileStats.text)+"\n  ")]):t("div",{staticClass:"diff-stats-contents"},[e.hasDiffFiles?t("div",{staticClass:"diff-stats-group"},[t("gl-icon",{staticClass:"diff-stats-icon",attrs:{name:"doc-code",variant:"subtle"}}),e._v(" "),t("span",{staticClass:"gl-font-bold gl-text-subtle"},[e._v(e._s(e.diffsCount)+" "+e._s(e.filesText))])],1):e._e(),e._v(" "),t("div",{staticClass:"diff-stats-group gl-flex gl-items-center gl-text-success",class:{"gl-font-bold":e.isCompareVersionsHeader}},[t("span",[e._v("+")]),e._v(" "),t("span",{attrs:{"data-testid":"js-file-addition-line"}},[e._v(e._s(e.addedLines))])]),e._v(" "),t("div",{staticClass:"diff-stats-group gl-flex gl-items-center gl-text-danger",class:{"gl-font-bold":e.isCompareVersionsHeader}},[t("span",[e._v("â")]),e._v(" "),t("span",{attrs:{"data-testid":"js-file-deletion-line"}},[e._v(e._s(e.removedLines))])])])])}),[],!1,null,null,null);t.a=c.exports},l9Jy:function(e,t,i){var n=i("/eF7");e.exports=function(e){return n(e,5)}},lAgH:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"workItemAncestorsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItemAncestors"},directives:[]}]}}]}}],loc:{start:0,end:152}};n.loc.source={body:'#import "./work_item_ancestors.fragment.graphql"\n\nquery workItemAncestorsQuery($id: WorkItemID!) {\n  workItem(id: $id) {\n    ...WorkItemAncestors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("aYcR").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.workItemAncestorsQuery=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"workItemAncestorsQuery")},lI2g:function(e,t,i){"use strict";var n=i("4lAS"),s=i("1fc5"),a=i("s1D3"),r=i("EldY"),o=i("Pyw5"),l=i.n(o);const d={name:"GlKeysetPagination",components:{GlButtonGroup:s.a,GlButton:n.a,GlIcon:a.a},inheritAttrs:!1,props:{hasPreviousPage:{type:Boolean,required:!1,default:!1},hasNextPage:{type:Boolean,required:!1,default:!1},startCursor:{type:String,required:!1,default:null},endCursor:{type:String,required:!1,default:null},prevText:{type:String,required:!1,default:()=>Object(r.b)("GlKeysetPagination.prevText","Previous")},prevButtonLink:{type:String,required:!1,default:null},navigationLabel:{type:String,required:!1,default:()=>Object(r.b)("GlKeysetPagination.navigationLabel","Pagination")},nextText:{type:String,required:!1,default:()=>Object(r.b)("GlKeysetPagination.nextText","Next")},nextButtonLink:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},computed:{isVisible(){return this.hasPreviousPage||this.hasNextPage}}};const c=l()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("nav",{staticClass:"gl-pagination",attrs:{"aria-label":e.navigationLabel}},[i("gl-button-group",e._g(e._b({staticClass:"gl-keyset-pagination"},"gl-button-group",e.$attrs,!1),e.$listeners),[i("gl-button",{attrs:{href:e.prevButtonLink,disabled:e.disabled||!e.hasPreviousPage,"data-testid":"prevButton",category:"tertiary"},on:{click:function(t){return e.$emit("prev",e.startCursor)}}},[e._t("previous-button-content",(function(){return[i("div",{staticClass:"gl-align-center gl-flex"},[i("gl-icon",{attrs:{name:"chevron-left"}}),e._v("\n          "+e._s(e.prevText)+"\n        ")],1)]}))],2),e._v(" "),i("gl-button",{attrs:{href:e.nextButtonLink,disabled:e.disabled||!e.hasNextPage,"data-testid":"nextButton",category:"tertiary"},on:{click:function(t){return e.$emit("next",e.endCursor)}}},[e._t("next-button-content",(function(){return[i("div",{staticClass:"gl-align-center gl-flex"},[e._v("\n          "+e._s(e.nextText)+"\n          "),i("gl-icon",{attrs:{name:"chevron-right"}})],1)]}))],2)],1)],1):e._e()},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},lRsd:function(e,t,i){"use strict";function n(e,t){for(var i in t)e[i]=t[i];return e}i.d(t,"a",(function(){return We}));var s=/[!'()*]/g,a=function(e){return"%"+e.charCodeAt(0).toString(16)},r=/%2C/g,o=function(e){return encodeURIComponent(e).replace(s,a).replace(r,",")};function l(e){try{return decodeURIComponent(e)}catch(e){0}return e}var d=function(e){return null==e||"object"==typeof e?e:String(e)};function c(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var i=e.replace(/\+/g," ").split("="),n=l(i.shift()),s=i.length>0?l(i.join("=")):null;void 0===t[n]?t[n]=s:Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]})),t):t}function u(e){var t=e?Object.keys(e).map((function(t){var i=e[t];if(void 0===i)return"";if(null===i)return o(t);if(Array.isArray(i)){var n=[];return i.forEach((function(e){void 0!==e&&(null===e?n.push(o(t)):n.push(o(t)+"="+o(e)))})),n.join("&")}return o(t)+"="+o(i)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var p=/\/?$/;function h(e,t,i,n){var s=n&&n.options.stringifyQuery,a=t.query||{};try{a=m(a)}catch(e){}var r={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:a,params:t.params||{},fullPath:v(t,s),matched:e?g(e):[]};return i&&(r.redirectedFrom=v(i,s)),Object.freeze(r)}function m(e){if(Array.isArray(e))return e.map(m);if(e&&"object"==typeof e){var t={};for(var i in e)t[i]=m(e[i]);return t}return e}var f=h(null,{path:"/"});function g(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function v(e,t){var i=e.path,n=e.query;void 0===n&&(n={});var s=e.hash;return void 0===s&&(s=""),(i||"/")+(t||u)(n)+s}function b(e,t,i){return t===f?e===t:!!t&&(e.path&&t.path?e.path.replace(p,"")===t.path.replace(p,"")&&(i||e.hash===t.hash&&y(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(i||e.hash===t.hash&&y(e.query,t.query)&&y(e.params,t.params))))}function y(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var i=Object.keys(e).sort(),n=Object.keys(t).sort();return i.length===n.length&&i.every((function(i,s){var a=e[i];if(n[s]!==i)return!1;var r=t[i];return null==a||null==r?a===r:"object"==typeof a&&"object"==typeof r?y(a,r):String(a)===String(r)}))}function k(e){for(var t=0;t<e.matched.length;t++){var i=e.matched[t];for(var n in i.instances){var s=i.instances[n],a=i.enteredCbs[n];if(s&&a){delete i.enteredCbs[n];for(var r=0;r<a.length;r++)s._isBeingDestroyed||a[r](s)}}}}var w={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,s=t.children,a=t.parent,r=t.data;r.routerView=!0;for(var o=a.$createElement,l=i.name,d=a.$route,c=a._routerViewCache||(a._routerViewCache={}),u=0,p=!1;a&&a._routerRoot!==a;){var h=a.$vnode?a.$vnode.data:{};h.routerView&&u++,h.keepAlive&&a._directInactive&&a._inactive&&(p=!0),a=a.$parent}if(r.routerViewDepth=u,p){var m=c[l],f=m&&m.component;return f?(m.configProps&&S(f,r,m.route,m.configProps),o(f,r,s)):o()}var g=d.matched[u],v=g&&g.components[l];if(!g||!v)return c[l]=null,o();c[l]={component:v},r.registerRouteInstance=function(e,t){var i=g.instances[l];(t&&i!==e||!t&&i===e)&&(g.instances[l]=t)},(r.hook||(r.hook={})).prepatch=function(e,t){g.instances[l]=t.componentInstance},r.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[l]&&(g.instances[l]=e.componentInstance),k(d)};var b=g.props&&g.props[l];return b&&(n(c[l],{route:d,configProps:b}),S(v,r,d,b)),o(v,r,s)}};function S(e,t,i,s){var a=t.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}(i,s);if(a){a=t.props=n({},a);var r=t.attrs=t.attrs||{};for(var o in a)e.props&&o in e.props||(r[o]=a[o],delete a[o])}}function _(e,t,i){var n=e.charAt(0);if("/"===n)return e;if("?"===n||"#"===n)return t+e;var s=t.split("/");i&&s[s.length-1]||s.pop();for(var a=e.replace(/^\//,"").split("/"),r=0;r<a.length;r++){var o=a[r];".."===o?s.pop():"."!==o&&s.push(o)}return""!==s[0]&&s.unshift(""),s.join("/")}function I(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var T=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},O=B,C=N,x=function(e,t){return P(N(e,t),t)},j=P,E=$,D=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function N(e,t){for(var i,n=[],s=0,a=0,r="",o=t&&t.delimiter||"/";null!=(i=D.exec(e));){var l=i[0],d=i[1],c=i.index;if(r+=e.slice(a,c),a=c+l.length,d)r+=d[1];else{var u=e[a],p=i[2],h=i[3],m=i[4],f=i[5],g=i[6],v=i[7];r&&(n.push(r),r="");var b=null!=p&&null!=u&&u!==p,y="+"===g||"*"===g,k="?"===g||"*"===g,w=i[2]||o,S=m||f;n.push({name:h||s++,prefix:p||"",delimiter:w,optional:k,repeat:y,partial:b,asterisk:!!v,pattern:S?L(S):v?".*":"[^"+F(w)+"]+?"})}}return a<e.length&&(r+=e.substr(a)),r&&n.push(r),n}function A(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function P(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(i[n]=new RegExp("^(?:"+e[n].pattern+")$",q(t)));return function(t,n){for(var s="",a=t||{},r=(n||{}).pretty?A:encodeURIComponent,o=0;o<e.length;o++){var l=e[o];if("string"!=typeof l){var d,c=a[l.name];if(null==c){if(l.optional){l.partial&&(s+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(T(c)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<c.length;u++){if(d=r(c[u]),!i[o].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");s+=(0===u?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(c).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):r(c),!i[o].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');s+=l.prefix+d}}else s+=l}return s}}function F(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function L(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function R(e,t){return e.keys=t,e}function q(e){return e&&e.sensitive?"":"i"}function $(e,t,i){T(t)||(i=t||i,t=[]);for(var n=(i=i||{}).strict,s=!1!==i.end,a="",r=0;r<e.length;r++){var o=e[r];if("string"==typeof o)a+=F(o);else{var l=F(o.prefix),d="(?:"+o.pattern+")";t.push(o),o.repeat&&(d+="(?:"+l+d+")*"),a+=d=o.optional?o.partial?l+"("+d+")?":"(?:"+l+"("+d+"))?":l+"("+d+")"}}var c=F(i.delimiter||"/"),u=a.slice(-c.length)===c;return n||(a=(u?a.slice(0,-c.length):a)+"(?:"+c+"(?=$))?"),a+=s?"$":n&&u?"":"(?="+c+"|$)",R(new RegExp("^"+a,q(i)),t)}function B(e,t,i){return T(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?function(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return R(e,t)}(e,t):T(e)?function(e,t,i){for(var n=[],s=0;s<e.length;s++)n.push(B(e[s],t,i).source);return R(new RegExp("(?:"+n.join("|")+")",q(i)),t)}(e,t,i):function(e,t,i){return $(N(e,i),t,i)}(e,t,i)}O.parse=C,O.compile=x,O.tokensToFunction=j,O.tokensToRegExp=E;var M=Object.create(null);function V(e,t,i){t=t||{};try{var n=M[e]||(M[e]=O.compile(e));return"string"==typeof t.pathMatch&&(t[0]=t.pathMatch),n(t,{pretty:!0})}catch(e){return""}finally{delete t[0]}}function U(e,t,i,s){var a="string"==typeof e?{path:e}:e;if(a._normalized)return a;if(a.name){var r=(a=n({},e)).params;return r&&"object"==typeof r&&(a.params=n({},r)),a}if(!a.path&&a.params&&t){(a=n({},a))._normalized=!0;var o=n(n({},t.params),a.params);if(t.name)a.name=t.name,a.params=o;else if(t.matched.length){var l=t.matched[t.matched.length-1].path;a.path=V(l,o,t.path)}else 0;return a}var u=function(e){var t="",i="",n=e.indexOf("#");n>=0&&(t=e.slice(n),e=e.slice(0,n));var s=e.indexOf("?");return s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),{path:e,query:i,hash:t}}(a.path||""),p=t&&t.path||"/",h=u.path?_(u.path,p,i||a.append):p,m=function(e,t,i){void 0===t&&(t={});var n,s=i||c;try{n=s(e||"")}catch(e){n={}}for(var a in t){var r=t[a];n[a]=Array.isArray(r)?r.map(d):d(r)}return n}(u.query,a.query,s&&s.options.parseQuery),f=a.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:h,query:m,hash:f}}var G,W=function(){},H={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(e){var t=this,i=this.$router,s=this.$route,a=i.resolve(this.to,s,this.append),r=a.location,o=a.route,l=a.href,d={},c=i.options.linkActiveClass,u=i.options.linkExactActiveClass,m=null==c?"router-link-active":c,f=null==u?"router-link-exact-active":u,g=null==this.activeClass?m:this.activeClass,v=null==this.exactActiveClass?f:this.exactActiveClass,y=o.redirectedFrom?h(null,U(o.redirectedFrom),null,i):o;d[v]=b(s,y,this.exactPath),d[g]=this.exact||this.exactPath?d[v]:function(e,t){return 0===e.path.replace(p,"/").indexOf(t.path.replace(p,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var i in t)if(!(i in e))return!1;return!0}(e.query,t.query)}(s,y);var k=d[v]?this.ariaCurrentValue:null,w=function(e){z(e)&&(t.replace?i.replace(r,W):i.push(r,W))},S={click:z};Array.isArray(this.event)?this.event.forEach((function(e){S[e]=w})):S[this.event]=w;var _={class:d},I=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:o,navigate:w,isActive:d[g],isExactActive:d[v]});if(I){if(1===I.length)return I[0];if(I.length>1||!I.length)return 0===I.length?e():e("span",{},I)}if("a"===this.tag)_.on=S,_.attrs={href:l,"aria-current":k};else{var T=function e(t){var i;if(t)for(var n=0;n<t.length;n++){if("a"===(i=t[n]).tag)return i;if(i.children&&(i=e(i.children)))return i}}(this.$slots.default);if(T){T.isStatic=!1;var O=T.data=n({},T.data);for(var C in O.on=O.on||{},O.on){var x=O.on[C];C in S&&(O.on[C]=Array.isArray(x)?x:[x])}for(var j in S)j in O.on?O.on[j].push(S[j]):O.on[j]=w;var E=T.data.attrs=n({},T.data.attrs);E.href=l,E["aria-current"]=k}else _.on=S}return e(this.tag,_,this.$slots.default)}};function z(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}var K="undefined"!=typeof window;function Q(e,t,i,n,s){var a=t||[],r=i||Object.create(null),o=n||Object.create(null);e.forEach((function(e){!function e(t,i,n,s,a,r){var o=s.path,l=s.name;0;var d=s.pathToRegexpOptions||{},c=function(e,t,i){i||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==t)return e;return I(t.path+"/"+e)}(o,a,d.strict);"boolean"==typeof s.caseSensitive&&(d.sensitive=s.caseSensitive);var u={path:c,regex:Y(c,d),components:s.components||{default:s.component},alias:s.alias?"string"==typeof s.alias?[s.alias]:s.alias:[],instances:{},enteredCbs:{},name:l,parent:a,matchAs:r,redirect:s.redirect,beforeEnter:s.beforeEnter,meta:s.meta||{},props:null==s.props?{}:s.components?s.props:{default:s.props}};s.children&&s.children.forEach((function(s){var a=r?I(r+"/"+s.path):void 0;e(t,i,n,s,u,a)}));i[u.path]||(t.push(u.path),i[u.path]=u);if(void 0!==s.alias)for(var p=Array.isArray(s.alias)?s.alias:[s.alias],h=0;h<p.length;++h){0;var m={path:p[h],children:s.children};e(t,i,n,m,a,u.path||"/")}l&&(n[l]||(n[l]=u))}(a,r,o,e,s)}));for(var l=0,d=a.length;l<d;l++)"*"===a[l]&&(a.push(a.splice(l,1)[0]),d--,l--);return{pathList:a,pathMap:r,nameMap:o}}function Y(e,t){return O(e,[],t)}function J(e,t){var i=Q(e),n=i.pathList,s=i.pathMap,a=i.nameMap;function r(e,i,r){var o=U(e,i,!1,t),d=o.name;if(d){var c=a[d];if(!c)return l(null,o);var u=c.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!=typeof o.params&&(o.params={}),i&&"object"==typeof i.params)for(var p in i.params)!(p in o.params)&&u.indexOf(p)>-1&&(o.params[p]=i.params[p]);return o.path=V(c.path,o.params),l(c,o,r)}if(o.path){o.params={};for(var h=0;h<n.length;h++){var m=n[h],f=s[m];if(X(f.regex,o.path,o.params))return l(f,o,r)}}return l(null,o)}function o(e,i){var n=e.redirect,s="function"==typeof n?n(h(e,i,null,t)):n;if("string"==typeof s&&(s={path:s}),!s||"object"!=typeof s)return l(null,i);var o=s,d=o.name,c=o.path,u=i.query,p=i.hash,m=i.params;if(u=o.hasOwnProperty("query")?o.query:u,p=o.hasOwnProperty("hash")?o.hash:p,m=o.hasOwnProperty("params")?o.params:m,d){a[d];return r({_normalized:!0,name:d,query:u,hash:p,params:m},void 0,i)}if(c){var f=function(e,t){return _(e,t.parent?t.parent.path:"/",!0)}(c,e);return r({_normalized:!0,path:V(f,m),query:u,hash:p},void 0,i)}return l(null,i)}function l(e,i,n){return e&&e.redirect?o(e,n||i):e&&e.matchAs?function(e,t,i){var n=r({_normalized:!0,path:V(i,t.params)});if(n){var s=n.matched,a=s[s.length-1];return t.params=n.params,l(a,t)}return l(null,t)}(0,i,e.matchAs):h(e,i,n,t)}return{match:r,addRoute:function(e,t){var i="object"!=typeof e?a[e]:void 0;Q([t||e],n,s,a,i),i&&i.alias.length&&Q(i.alias.map((function(e){return{path:e,children:[t]}})),n,s,a,i)},getRoutes:function(){return n.map((function(e){return s[e]}))},addRoutes:function(e){Q(e,n,s,a)}}}function X(e,t,i){var n=t.match(e);if(!n)return!1;if(!i)return!0;for(var s=1,a=n.length;s<a;++s){var r=e.keys[s-1];r&&(i[r.name||"pathMatch"]="string"==typeof n[s]?l(n[s]):n[s])}return!0}var Z=K&&window.performance&&window.performance.now?window.performance:Date;function ee(){return Z.now().toFixed(3)}var te=ee();function ie(){return te}function ne(e){return te=e}var se=Object.create(null);function ae(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),i=n({},window.history.state);return i.key=ie(),window.history.replaceState(i,"",t),window.addEventListener("popstate",le),function(){window.removeEventListener("popstate",le)}}function re(e,t,i,n){if(e.app){var s=e.options.scrollBehavior;s&&e.app.$nextTick((function(){var a=function(){var e=ie();if(e)return se[e]}(),r=s.call(e,t,i,n?a:null);r&&("function"==typeof r.then?r.then((function(e){he(e,a)})).catch((function(e){0})):he(r,a))}))}}function oe(){var e=ie();e&&(se[e]={x:window.pageXOffset,y:window.pageYOffset})}function le(e){oe(),e.state&&e.state.key&&ne(e.state.key)}function de(e){return ue(e.x)||ue(e.y)}function ce(e){return{x:ue(e.x)?e.x:window.pageXOffset,y:ue(e.y)?e.y:window.pageYOffset}}function ue(e){return"number"==typeof e}var pe=/^#\d/;function he(e,t){var i,n="object"==typeof e;if(n&&"string"==typeof e.selector){var s=pe.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(s){var a=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var i=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:n.left-i.left-t.x,y:n.top-i.top-t.y}}(s,a={x:ue((i=a).x)?i.x:0,y:ue(i.y)?i.y:0})}else de(e)&&(t=ce(e))}else n&&de(e)&&(t=ce(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var me,fe=K&&((-1===(me=window.navigator.userAgent).indexOf("Android 2.")&&-1===me.indexOf("Android 4.0")||-1===me.indexOf("Mobile Safari")||-1!==me.indexOf("Chrome")||-1!==me.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function ge(e,t){oe();var i=window.history;try{if(t){var s=n({},i.state);s.key=ie(),i.replaceState(s,"",e)}else i.pushState({key:ne(ee())},"",e)}catch(i){window.location[t?"replace":"assign"](e)}}function ve(e){ge(e,!0)}var be={redirected:2,aborted:4,cancelled:8,duplicated:16};function ye(e,t){return we(e,t,be.redirected,'Redirected when going from "'+e.fullPath+'" to "'+function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var t={};return Se.forEach((function(i){i in e&&(t[i]=e[i])})),JSON.stringify(t,null,2)}(t)+'" via a navigation guard.')}function ke(e,t){return we(e,t,be.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function we(e,t,i,n){var s=new Error(n);return s._isRouter=!0,s.from=e,s.to=t,s.type=i,s}var Se=["params","query","hash"];function _e(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function Ie(e,t){return _e(e)&&e._isRouter&&(null==t||e.type===t)}function Te(e,t,i){var n=function(s){s>=e.length?i():e[s]?t(e[s],(function(){n(s+1)})):n(s+1)};n(0)}function Oe(e){return function(t,i,n){var s=!1,a=0,r=null;Ce(e,(function(e,t,i,o){if("function"==typeof e&&void 0===e.cid){s=!0,a++;var l,d=Ee((function(t){var s;((s=t).__esModule||je&&"Module"===s[Symbol.toStringTag])&&(t=t.default),e.resolved="function"==typeof t?t:G.extend(t),i.components[o]=t,--a<=0&&n()})),c=Ee((function(e){var t="Failed to resolve async component "+o+": "+e;r||(r=_e(e)?e:new Error(t),n(r))}));try{l=e(d,c)}catch(e){c(e)}if(l)if("function"==typeof l.then)l.then(d,c);else{var u=l.component;u&&"function"==typeof u.then&&u.then(d,c)}}})),s||n()}}function Ce(e,t){return xe(e.map((function(e){return Object.keys(e.components).map((function(i){return t(e.components[i],e.instances[i],e,i)}))})))}function xe(e){return Array.prototype.concat.apply([],e)}var je="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Ee(e){var t=!1;return function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if(!t)return t=!0,e.apply(this,i)}}var De=function(e,t){this.router=e,this.base=function(e){if(!e)if(K){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(t),this.current=f,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Ne(e,t,i,n){var s=Ce(e,(function(e,n,s,a){var r=function(e,t){"function"!=typeof e&&(e=G.extend(e));return e.options[t]}(e,t);if(r)return Array.isArray(r)?r.map((function(e){return i(e,n,s,a)})):i(r,n,s,a)}));return xe(n?s.reverse():s)}function Ae(e,t){if(t)return function(){return e.apply(t,arguments)}}De.prototype.listen=function(e){this.cb=e},De.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},De.prototype.onError=function(e){this.errorCbs.push(e)},De.prototype.transitionTo=function(e,t,i){var n,s=this;try{n=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach((function(t){t(e)})),e}var a=this.current;this.confirmTransition(n,(function(){s.updateRoute(n),t&&t(n),s.ensureURL(),s.router.afterHooks.forEach((function(e){e&&e(n,a)})),s.ready||(s.ready=!0,s.readyCbs.forEach((function(e){e(n)})))}),(function(e){i&&i(e),e&&!s.ready&&(Ie(e,be.redirected)&&a===f||(s.ready=!0,s.readyErrorCbs.forEach((function(t){t(e)}))))}))},De.prototype.confirmTransition=function(e,t,i){var n=this,s=this.current;this.pending=e;var a,r,o=function(e){!Ie(e)&&_e(e)&&(n.errorCbs.length?n.errorCbs.forEach((function(t){t(e)})):console.error(e)),i&&i(e)},l=e.matched.length-1,d=s.matched.length-1;if(b(e,s)&&l===d&&e.matched[l]===s.matched[d])return this.ensureURL(),e.hash&&re(this.router,s,e,!1),o(((r=we(a=s,e,be.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",r));var c=function(e,t){var i,n=Math.max(e.length,t.length);for(i=0;i<n&&e[i]===t[i];i++);return{updated:t.slice(0,i),activated:t.slice(i),deactivated:e.slice(i)}}(this.current.matched,e.matched),u=c.updated,p=c.deactivated,h=c.activated,m=[].concat(function(e){return Ne(e,"beforeRouteLeave",Ae,!0)}(p),this.router.beforeHooks,function(e){return Ne(e,"beforeRouteUpdate",Ae)}(u),h.map((function(e){return e.beforeEnter})),Oe(h)),f=function(t,i){if(n.pending!==e)return o(ke(s,e));try{t(e,s,(function(t){!1===t?(n.ensureURL(!0),o(function(e,t){return we(e,t,be.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}(s,e))):_e(t)?(n.ensureURL(!0),o(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(o(ye(s,e)),"object"==typeof t&&t.replace?n.replace(t):n.push(t)):i(t)}))}catch(e){o(e)}};Te(m,f,(function(){Te(function(e){return Ne(e,"beforeRouteEnter",(function(e,t,i,n){return function(e,t,i){return function(n,s,a){return e(n,s,(function(e){"function"==typeof e&&(t.enteredCbs[i]||(t.enteredCbs[i]=[]),t.enteredCbs[i].push(e)),a(e)}))}}(e,i,n)}))}(h).concat(n.router.resolveHooks),f,(function(){if(n.pending!==e)return o(ke(s,e));n.pending=null,t(e),n.router.app&&n.router.app.$nextTick((function(){k(e)}))}))}))},De.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},De.prototype.setupListeners=function(){},De.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=f,this.pending=null};var Pe=function(e){function t(t,i){e.call(this,t,i),this._startLocation=Fe(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,n=fe&&i;n&&this.listeners.push(ae());var s=function(){var i=e.current,s=Fe(e.base);e.current===f&&s===e._startLocation||e.transitionTo(s,(function(e){n&&re(t,e,i,!0)}))};window.addEventListener("popstate",s),this.listeners.push((function(){window.removeEventListener("popstate",s)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,i){var n=this,s=this.current;this.transitionTo(e,(function(e){ge(I(n.base+e.fullPath)),re(n.router,e,s,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var n=this,s=this.current;this.transitionTo(e,(function(e){ve(I(n.base+e.fullPath)),re(n.router,e,s,!1),t&&t(e)}),i)},t.prototype.ensureURL=function(e){if(Fe(this.base)!==this.current.fullPath){var t=I(this.base+this.current.fullPath);e?ge(t):ve(t)}},t.prototype.getCurrentLocation=function(){return Fe(this.base)},t}(De);function Fe(e){var t=window.location.pathname,i=t.toLowerCase(),n=e.toLowerCase();return!e||i!==n&&0!==i.indexOf(I(n+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var Le=function(e){function t(t,i,n){e.call(this,t,i),n&&function(e){var t=Fe(e);if(!/^\/#/.test(t))return window.location.replace(I(e+"/#"+t)),!0}(this.base)||Re()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router.options.scrollBehavior,i=fe&&t;i&&this.listeners.push(ae());var n=function(){var t=e.current;Re()&&e.transitionTo(qe(),(function(n){i&&re(e.router,n,t,!0),fe||Me(n.fullPath)}))},s=fe?"popstate":"hashchange";window.addEventListener(s,n),this.listeners.push((function(){window.removeEventListener(s,n)}))}},t.prototype.push=function(e,t,i){var n=this,s=this.current;this.transitionTo(e,(function(e){Be(e.fullPath),re(n.router,e,s,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var n=this,s=this.current;this.transitionTo(e,(function(e){Me(e.fullPath),re(n.router,e,s,!1),t&&t(e)}),i)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;qe()!==t&&(e?Be(t):Me(t))},t.prototype.getCurrentLocation=function(){return qe()},t}(De);function Re(){var e=qe();return"/"===e.charAt(0)||(Me("/"+e),!1)}function qe(){var e=window.location.href,t=e.indexOf("#");return t<0?"":e=e.slice(t+1)}function $e(e){var t=window.location.href,i=t.indexOf("#");return(i>=0?t.slice(0,i):t)+"#"+e}function Be(e){fe?ge($e(e)):window.location.hash=e}function Me(e){fe?ve($e(e)):window.location.replace($e(e))}var Ve=function(e){function t(t,i){e.call(this,t,i),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,i){var n=this;this.transitionTo(e,(function(e){n.stack=n.stack.slice(0,n.index+1).concat(e),n.index++,t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var n=this;this.transitionTo(e,(function(e){n.stack=n.stack.slice(0,n.index).concat(e),t&&t(e)}),i)},t.prototype.go=function(e){var t=this,i=this.index+e;if(!(i<0||i>=this.stack.length)){var n=this.stack[i];this.confirmTransition(n,(function(){var e=t.current;t.index=i,t.updateRoute(n),t.router.afterHooks.forEach((function(t){t&&t(n,e)}))}),(function(e){Ie(e,be.duplicated)&&(t.index=i)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(De),Ue=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=J(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!fe&&!1!==e.fallback,this.fallback&&(t="hash"),K||(t="abstract"),this.mode=t,t){case"history":this.history=new Pe(this,e.base);break;case"hash":this.history=new Le(this,e.base,this.fallback);break;case"abstract":this.history=new Ve(this,e.base);break;default:0}},Ge={currentRoute:{configurable:!0}};Ue.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},Ge.currentRoute.get=function(){return this.history&&this.history.current},Ue.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var i=t.apps.indexOf(e);i>-1&&t.apps.splice(i,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var i=this.history;if(i instanceof Pe||i instanceof Le){var n=function(e){i.setupListeners(),function(e){var n=i.current,s=t.options.scrollBehavior;fe&&s&&"fullPath"in e&&re(t,e,n,!1)}(e)};i.transitionTo(i.getCurrentLocation(),n,n)}i.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},Ue.prototype.beforeEach=function(e){return He(this.beforeHooks,e)},Ue.prototype.beforeResolve=function(e){return He(this.resolveHooks,e)},Ue.prototype.afterEach=function(e){return He(this.afterHooks,e)},Ue.prototype.onReady=function(e,t){this.history.onReady(e,t)},Ue.prototype.onError=function(e){this.history.onError(e)},Ue.prototype.push=function(e,t,i){var n=this;if(!t&&!i&&"undefined"!=typeof Promise)return new Promise((function(t,i){n.history.push(e,t,i)}));this.history.push(e,t,i)},Ue.prototype.replace=function(e,t,i){var n=this;if(!t&&!i&&"undefined"!=typeof Promise)return new Promise((function(t,i){n.history.replace(e,t,i)}));this.history.replace(e,t,i)},Ue.prototype.go=function(e){this.history.go(e)},Ue.prototype.back=function(){this.go(-1)},Ue.prototype.forward=function(){this.go(1)},Ue.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},Ue.prototype.resolve=function(e,t,i){var n=U(e,t=t||this.history.current,i,this),s=this.match(n,t),a=s.redirectedFrom||s.fullPath;return{location:n,route:s,href:function(e,t,i){var n="hash"===i?"#"+t:t;return e?I(e+"/"+n):n}(this.history.base,a,this.mode),normalizedTo:n,resolved:s}},Ue.prototype.getRoutes=function(){return this.matcher.getRoutes()},Ue.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==f&&this.history.transitionTo(this.history.getCurrentLocation())},Ue.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==f&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ue.prototype,Ge);var We=Ue;function He(e,t){return e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}Ue.install=function e(t){if(!e.installed||G!==t){e.installed=!0,G=t;var i=function(e){return void 0!==e},n=function(e,t){var n=e.$options._parentVnode;i(n)&&i(n=n.data)&&i(n=n.registerRouteInstance)&&n(e,t)};t.mixin({beforeCreate:function(){i(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",w),t.component("RouterLink",H);var s=t.config.optionMergeStrategies;s.beforeRouteEnter=s.beforeRouteLeave=s.beforeRouteUpdate=s.created}},Ue.version="3.6.5",Ue.isNavigationFailure=Ie,Ue.NavigationFailureType=be,Ue.START_LOCATION=f,K&&window.Vue&&window.Vue.use(Ue)},"lTe/":function(e,t,i){"use strict";var n=i("s1D3"),s=i("bOix"),a=i("/lV4"),r={name:"IssuableMilestone",components:{WorkItemAttribute:i("0qSx").a,GlIcon:n.a},props:{milestone:{type:Object,required:!0}},computed:{milestoneDate(){if(this.milestone.dueDate){const{dueDate:e,startDate:t}=this.milestone;return`${s.I.asDate.format(Object(s.O)(e))} (${this.milestoneRemainingTime(e,t)})`}return Object(a.a)("Milestone")},milestoneLink(){return this.milestone.webPath||this.milestone.webUrl}},methods:{milestoneRemainingTime(e,t){const i=Object(s.O)(e),n=Object(s.O)(t);return e&&Object(s.D)(i)?Object(a.a)("past due"):e&&Object(s.E)(i)?Object(a.a)("today"):t&&Object(s.C)(n)?Object(a.a)("upcoming"):e?Object(s.y)(i):""}}},o=i("tBpV"),l=Object(o.a)(r,(function(){var e=this._self._c;return e("span",[e("work-item-attribute",{staticClass:"issuable-milestone gl-mr-3",attrs:{"anchor-id":"issuable-milestone",title:this.milestone.title,"wrapper-component-class":"gl-text-sm !gl-text-subtle","tooltip-text":this.milestoneDate,"tooltip-placement":"top","is-link":"",href:this.milestoneLink},scopedSlots:this._u([{key:"icon",fn:function(){return[e("gl-icon",{attrs:{name:"milestone",size:12}})]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=l.exports},lUJc:function(e,t,i){"use strict";i("3UXl"),i("iyoE");var n=i("wP8z"),s=i("ewH8"),a=i("jlnU"),r=i("AxUD"),o=i("/lV4"),l=i("KRoI"),d=i("sHIo"),c=i("d08M"),u=i("wQDE"),p=i("D+x4"),h=i("d6eQ"),m=i("kMc5"),f=i("FxFN"),g={subscription:null,name:"AssigneesRealtime",props:{mediator:{type:Object,required:!1,default:null},issuableType:{type:String,required:!0},queryVariables:{type:Object,required:!0}},computed:{issuableId(){var e;return null===(e=this.issuable)||void 0===e?void 0:e.id}},apollo:{issuable:{query(){return h.a[this.issuableType].query},variables(){return this.queryVariables},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},subscribeToMore:{document(){return h.a[this.issuableType].subscription},variables(){return{issuableId:this.issuableId}},skip(){return!this.issuableId},updateQuery(e,{subscriptionData:{data:{issuableAssigneesUpdated:t}}}){if(t){const{id:e,assignees:{nodes:i}}=t;this.mediator&&this.handleFetchResult(i),this.$emit("assigneesUpdated",{id:e,assignees:i})}}}}},methods:{handleFetchResult(e){const t=e.map((function(e){return{...e,avatar_url:e.avatarUrl,id:Object(f.e)(e.id)}}));this.mediator.store.setAssigneesFromRealtime(t)}},render:()=>null},v=i("tBpV"),b=Object(v.a)(g,void 0,void 0,!1,null,null,null).exports,y=i("4lAS"),k=i("0RVY"),w={components:{GlButton:y.a,UncollapsedAssigneeList:k.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:r.p},signedIn:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!0}},computed:{assigneesText(){return Object(o.f)("Assignee","%d Assignees",this.users.length)},emptyUsers(){return 0===this.users.length}}},S=Object(v.a)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"issuable-assignees gl-flex gl-flex-col"},[e.emptyUsers?t("div",{staticClass:"hide-collapsed gl-flex gl-items-center gl-text-subtle",attrs:{"data-testid":"none"}},[t("span",[e._v(" "+e._s(e.__("None")))]),e._v(" "),e.signedIn&&e.editable?[t("span",{staticClass:"gl-ml-2"},[e._v("-")]),e._v(" "),t("gl-button",{staticClass:"gl-ml-2",attrs:{"data-testid":"assign-yourself",category:"tertiary",variant:"link"},on:{click:function(t){return e.$emit("assign-self")}}},[t("span",{staticClass:"gl-text-subtle hover:gl-text-blue-800"},[e._v(e._s(e.__("assign yourself")))])])]:e._e()],2):t("uncollapsed-assignee-list",{staticClass:"hide-collapsed gl-pt-2",attrs:{users:e.users,"issuable-type":e.issuableType}})],1)}),[],!1,null,null,null).exports,_=i("LgEk"),I={displayText:Object(o.a)("Invite members"),components:{InviteMembersTrigger:_.a},props:{issuableType:{type:String,required:!0}},computed:{triggerSource(){return this.issuableType+"_assignee_dropdown"}}},T=Object(v.a)(I,(function(){return(0,this._self._c)("invite-members-trigger",{attrs:{"trigger-element":"anchor","display-text":this.$options.displayText,"trigger-source":this.triggerSource,classes:"gl-block gl-pl-0 hover:gl-no-underline hover:!gl-text-blue-800"}})}),[],!1,null,null,null).exports;const O=s.default.observable({updateAssignees:null}),C=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var x={i18n:{unassigned:Object(o.a)("Unassigned"),assignee:Object(o.a)("Assignee"),assignees:Object(o.a)("Assignees"),assignTo:Object(o.a)("Select assignees")},components:{SidebarEditableItem:m.a,IssuableAssignees:S,GlDropdownItem:n.a,SidebarInviteMembers:T,SidebarAssigneesRealtime:b,UserSelect:l.a},mixins:[Object(d.a)()],inject:{directlyInviteMembers:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},initialAssignees:{type:Array,required:!1,default:null},issuableType:{type:String,required:!1,default:r.p,validator:e=>[r.p,r.q,r.m].includes(e)},issuableId:{type:Number,required:!1,default:null},allowMultipleAssignees:{type:Boolean,required:!0},editable:{type:Boolean,required:!0}},data:()=>({issuable:{},selected:[],isSettingAssignees:!1,isDirty:!1,oldIid:null,oldSelected:null}),apollo:{issuable:{query(){return h.a[this.issuableType].query},variables(){return this.queryVariables},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},skip(){return!this.iid},result({data:e}){var t;if(!e)return;const i=null===(t=e.workspace)||void 0===t?void 0:t.issuable;i&&(this.selected=i.assignees.nodes.map((function(e){var t;return{...e,canMerge:(null===(t=e.mergeRequestInteraction)||void 0===t?void 0:t.canMerge)||!1}})))},error(){Object(a.createAlert)({message:Object(o.a)("An error occurred while fetching participants.")})}}},computed:{shouldEnableRealtime(){return this.issuableType===r.p},queryVariables(){return{iid:this.iid,fullPath:this.fullPath}},assignees(){var e;return(this.$apollo.queries.issuable.loading?this.initialAssignees:null===(e=this.issuable)||void 0===e||null===(e=e.assignees)||void 0===e?void 0:e.nodes)||[]},assigneeText(){const e=this.$apollo.queries.issuable.loading?this.initialAssignees:this.selected;return e?Object(o.f)("Assignee","%d Assignees",e.length):Object(o.a)("Assignee")},isAssigneesLoading(){return!this.initialAssignees&&this.$apollo.queries.issuable.loading},currentUser(){var e,t,i,n;return{username:null===(e=gon)||void 0===e?void 0:e.current_username,name:null===(t=gon)||void 0===t?void 0:t.current_user_fullname,avatarUrl:null===(i=gon)||void 0===i?void 0:i.current_user_avatar_url,canMerge:(null===(n=this.issuable)||void 0===n||null===(n=n.userPermissions)||void 0===n?void 0:n.canMerge)||!1}},signedIn(){return void 0!==this.currentUser.username},issuableAuthor(){var e;return null===(e=this.issuable)||void 0===e?void 0:e.author},assigneeShortcutDescription:()=>Object(u.b)()?null:c.L.description,assigneeShortcutKey:()=>Object(u.b)()?null:Object(c.Ab)(c.L)[0],assigneeTooltip(){const e=this.assigneeShortcutDescription,t=this.assigneeShortcutKey;return Object(u.b)()?null:Object(p.b)(`${e} <kbd class="flat gl-ml-1" aria-hidden=true>${t}</kbd>`)}},watch:{iid(e,t){this.isDirty&&(this.oldIid=t,this.oldSelected=this.selected)}},created(){O.updateAssignees=this.updateAssignees},destroyed(){O.updateAssignees=null},methods:{updateAssignees(e){var t=this;return this.isSettingAssignees=!0,this.$apollo.mutate({mutation:h.a[this.issuableType].mutation,variables:{...this.queryVariables,assigneeUsernames:e,iid:this.oldIid||this.iid}}).then((function({data:e}){return t.$emit("assignees-updated",{id:e.issuableSetAssignees.issuable.id,assignees:e.issuableSetAssignees.issuable.assignees.nodes}),e})).catch((function(){Object(a.createAlert)({message:Object(o.a)("An error occurred while updating assignees.")})})).finally((function(){t.isSettingAssignees=!1}))},assignSelf(){this.updateAssignees([this.currentUser.username])},saveAssignees(){if(this.isDirty){this.isDirty=!1;const e=this.oldSelected||this.selected;this.updateAssignees(e.map((function({username:e}){return e}))),this.oldIid=null,this.oldSelected=null}this.$el.dispatchEvent(C)},collapseWidget(){this.$refs.toggle.collapse()},expandWidget(){this.$refs.toggle.expand()},showDropdown(){this.$refs.userSelect.showDropdown()},showError(){Object(a.createAlert)({message:Object(o.a)("An error occurred while fetching participants.")})},setDirtyState(){this.isDirty=!0,this.allowMultipleAssignees||this.collapseWidget()}}},j=Object(v.a)(x,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-testid":"assignees-widget"}},[e.shouldEnableRealtime?t("sidebar-assignees-realtime",{attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"query-variables":e.queryVariables},on:{assigneesUpdated:function(t){return e.$emit("assignees-updated",t)}}}):e._e(),e._v(" "),t("sidebar-editable-item",{ref:"toggle",attrs:{loading:e.isSettingAssignees,"initial-loading":e.isAssigneesLoading,title:e.assigneeText,"edit-tooltip":e.assigneeTooltip,"edit-aria-label":e.assigneeShortcutDescription,"edit-keyshortcuts":e.assigneeShortcutKey,"is-dirty":e.isDirty},on:{open:e.showDropdown,close:e.saveAssignees},scopedSlots:e._u([{key:"collapsed",fn:function(){return[e._t("collapsed",null,{users:e.assignees}),e._v(" "),t("issuable-assignees",{attrs:{users:e.assignees,"issuable-type":e.issuableType,"signed-in":e.signedIn,editable:e.editable},on:{"assign-self":e.assignSelf,"expand-widget":e.expandWidget}})]},proxy:!0},{key:"default",fn:function({edit:i}){return[t("user-select",{ref:"userSelect",staticClass:"dropdown-menu-user -gl-mt-3 gl-w-full",attrs:{text:e.$options.i18n.assignees,"header-text":e.$options.i18n.assignTo,iid:e.iid,"issuable-id":e.issuableId,"full-path":e.fullPath,"allow-multiple-assignees":e.allowMultipleAssignees,"current-user":e.currentUser,"issuable-type":e.issuableType,"is-editing":i,"issuable-author":e.issuableAuthor},on:{toggle:e.collapseWidget,error:e.showError,input:e.setDirtyState},scopedSlots:e._u([{key:"footer",fn:function(){return[e.directlyInviteMembers?t("gl-dropdown-item",[t("sidebar-invite-members",{attrs:{"issuable-type":e.issuableType}})],1):e._e()]},proxy:!0}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})]}}],null,!0)})],1)}),[],!1,null,null,null);t.a=j.exports},lnTC:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("ZzK0"),i("z6RN"),i("BzOf");const n=function({mark:e,measures:t=[]}={}){window.requestAnimationFrame((function(){e&&!performance.getEntriesByName(e).length&&performance.mark(e),t.forEach((function(e){performance.measure(e.name,e.start,e.end)}))}))}},ltZm:function(e,t,i){var n=i("q2HD"),s=i("wJPF"),a=i("Uc6l"),r=a&&a.isRegExp,o=r?s(r):n;e.exports=o},lxj7:function(e,t){var i=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return i.test(e)}},"m/7A":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("EmJ/"),s=i.n(n),a=i("Yp1f");function r(e,t){return e.each((function(){if(!s.a.data(this,"deprecatedJQueryDropdown")){const e=new a.a(this,t);s.a.data(this,"deprecatedJQueryDropdown",e),this.GitLabDropdownInstance=e}}))}},m7u5:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateWorkItemDesignDescriptionMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DesignManagementUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"designManagementUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"design"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHtml"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:228}};i.loc.source={body:"mutation updateWorkItemDesignDescriptionMutation($input: DesignManagementUpdateInput!) {\n  designManagementUpdate(input: $input) {\n    errors\n    design {\n      id\n      image\n      description\n      descriptionHtml\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.updateWorkItemDesignDescriptionMutation=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"updateWorkItemDesignDescriptionMutation")},mFhR:function(e,t,i){"use strict";var n=i("MV2A"),s=i("Pyw5"),a=i.n(s);const r={name:"AvatarLink",components:{GlLink:n.a}};const o=a()({render:function(){var e=this.$createElement;return(this._self._c||e)("gl-link",this._g(this._b({staticClass:"gl-avatar-link"},"gl-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},mIkX:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("9k56"),s=i("3hkr"),a=i("jIK5"),r=i("hII5"),o=i("g+RJ"),l=i("GeBT"),d=i("aBA8");const c=Object(r.c)({variant:Object(r.b)(a.r)},s.db),u=Object(n.c)({name:s.db,mixins:[o.a,l.a,d.a],provide(){return{getBvTableTr:()=>this}},inject:{getBvTableRowGroup:{default:()=>()=>({})}},inheritAttrs:!1,props:c,computed:{bvTableRowGroup(){return this.getBvTableRowGroup()},inTbody(){return this.bvTableRowGroup.isTbody},inThead(){return this.bvTableRowGroup.isThead},inTfoot(){return this.bvTableRowGroup.isTfoot},isDark(){return this.bvTableRowGroup.isDark},isStacked(){return this.bvTableRowGroup.isStacked},isResponsive(){return this.bvTableRowGroup.isResponsive},isStickyHeader(){return this.bvTableRowGroup.isStickyHeader},hasStickyHeader(){return!this.isStacked&&this.bvTableRowGroup.hasStickyHeader},tableVariant(){return this.bvTableRowGroup.tableVariant},headVariant(){return this.inThead?this.bvTableRowGroup.headVariant:null},footVariant(){return this.inTfoot?this.bvTableRowGroup.footVariant:null},isRowDark(){return"light"!==this.headVariant&&"light"!==this.footVariant&&("dark"===this.headVariant||"dark"===this.footVariant||this.isDark)},trClasses(){const{variant:e}=this;return[e?`${this.isRowDark?"bg":"table"}-${e}`:null]},trAttrs(){return{role:"row",...this.bvAttrs}}},render(e){return e("tr",{class:this.trClasses,attrs:this.trAttrs,on:this.bvListeners},this.normalizeSlot())}})},mqRG:function(e,t,i){var n=i("tIEw")("length");e.exports=n},mqi7:function(e,t,i){var n=i("xJuT"),s=i("zOYv");e.exports=function(e,t){return n(e,s(e),t)}},n5sF:function(e,t,i){var n=i("zx4+");e.exports=function(e,t,i,s){for(var a=e.length,r=s?a:-1;(s?r--:++r<a)&&t(e[r],r,e););return i?n(e,s?0:r,s?r+1:a):n(e,s?r+1:0,s?a:r)}},n8jD:function(e,t,i){"use strict";var n=i("z1xw"),s=i("s1D3"),a=i("vZ/O"),r=i("MV2A"),o=i("A7K0"),l=i("jlnU"),d=i("xRSn"),c=i("AxUD"),u=i("bOix"),p=i("/lV4"),h=i("H3X6"),m=i("d6eQ"),f=i("kMc5"),g={components:{GlButton:i("4lAS").a},inject:["canUpdate"],props:{formattedDate:{required:!0,type:String},hasDate:{required:!0,type:Boolean},resetText:{required:!0,type:String},isLoading:{required:!0,type:Boolean},canDelete:{required:!1,type:Boolean,default:!0}}},v=i("tBpV"),b=Object(v.a)(g,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"hide-collapsed gl-flex gl-items-center"},[t("span",{class:e.hasDate?"gl-text-default":"gl-text-subtle",attrs:{"data-testid":"sidebar-date-value"}},[e._v("\n    "+e._s(e.formattedDate)+"\n  ")]),e._v(" "),e.hasDate&&e.canUpdate&&e.canDelete?t("div",{staticClass:"gl-flex"},[t("span",{staticClass:"gl-px-2"},[e._v("-")]),e._v(" "),t("gl-button",{staticClass:"!gl-text-subtle",attrs:{variant:"link","data-testid":"reset-button",disabled:e.isLoading},on:{click:function(t){return e.$emit("reset-date",t)}}},[e._v("\n      "+e._s(e.resetText)+"\n    ")])],1):e._e()])}),[],!1,null,null,null).exports,y={components:{GlFormRadio:i("OQy4").a,SidebarFormattedDate:b},inject:["canUpdate"],props:{issuable:{required:!0,type:Object},isLoading:{required:!1,type:Boolean,default:!1},dateType:{type:String,required:!0}},computed:{dateIsFixed:{get(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e[h.n[this.dateType].isDateFixed])||!1},set(e){e!==this.issuable[h.n[this.dateType].isDateFixed]&&this.$emit("set-date",e)}},hasFixedDate(){return null!==this.issuable[h.n[this.dateType].dateFixed]},formattedFixedDate(){const e=this.issuable[h.n[this.dateType].dateFixed];return e?u.I.asDate.format(Object(u.O)(e)):this.$options.i18n.noDate},formattedInheritedDate(){const e=this.issuable[h.n[this.dateType].dateFromMilestones];return e?u.I.asDate.format(Object(u.O)(e)):this.$options.i18n.noDate}},i18n:{fixed:Object(p.a)("Fixed:"),inherited:Object(p.a)("Inherited:"),remove:Object(p.a)("remove"),noDate:Object(p.a)("None")}},k=Object(v.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"hide-collapsed gl-mt-3"},[t("div",{staticClass:"gl-flex gl-items-baseline",attrs:{"data-testid":"sidebar-fixed-date"}},[t("gl-form-radio",{staticClass:"gl-pr-2",attrs:{value:!0,disabled:!e.canUpdate||e.isLoading},model:{value:e.dateIsFixed,callback:function(t){e.dateIsFixed=t},expression:"dateIsFixed"}},[t("span",{class:e.dateIsFixed?"gl-font-bold gl-text-default":"gl-text-subtle"},[e._v("\n        "+e._s(e.$options.i18n.fixed)+"\n      ")])]),e._v(" "),t("sidebar-formatted-date",{staticClass:"gl-leading-normal",attrs:{"has-date":e.dateIsFixed,"formatted-date":e.formattedFixedDate,"reset-text":e.$options.i18n.remove,"is-loading":e.isLoading,"can-delete":e.dateIsFixed&&e.hasFixedDate},on:{"reset-date":function(t){return e.$emit("reset-date",t)}}})],1),e._v(" "),t("div",{staticClass:"gl-flex gl-items-baseline",attrs:{"data-testid":"sidebar-inherited-date"}},[t("gl-form-radio",{staticClass:"gl-pr-2",attrs:{value:!1,disabled:!e.canUpdate||e.isLoading},model:{value:e.dateIsFixed,callback:function(t){e.dateIsFixed=t},expression:"dateIsFixed"}},[t("span",{class:e.dateIsFixed?"gl-text-disalbed":"gl-font-bold gl-text-default"},[e._v("\n        "+e._s(e.$options.i18n.inherited)+"\n      ")])]),e._v(" "),t("sidebar-formatted-date",{staticClass:"gl-leading-normal",attrs:{"has-date":!e.dateIsFixed,"formatted-date":e.formattedInheritedDate,"reset-text":e.$options.i18n.remove,"is-loading":e.isLoading,"can-delete":!1}})],1)])}),[],!1,null,null,null).exports;const w=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var S={tracking:{event:h.m.editEvent,label:h.m.rightSidebarLabel},directives:{GlTooltip:n.a},components:{GlIcon:s.a,GlDatepicker:a.a,GlLink:r.a,GlPopover:o.a,SidebarEditableItem:f.a,SidebarFormattedDate:b,SidebarInheritDate:k,HelpIcon:d.a},inject:["canUpdate"],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},dateType:{type:String,required:!1,default:h.o.due},issuableType:{required:!0,type:String},canInherit:{required:!1,type:Boolean,default:!1},minDate:{required:!1,type:Date,default:null},maxDate:{required:!1,type:Date,default:null}},data(){return{issuable:{},loading:!1,tracking:{...this.$options.tracking,property:this.dateType===h.o.start?"startDate":"dueDate"}}},apollo:{issuable:{query(){return this.dateQueries[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},skip(){return!this.iid},update(e){var t;return(null===(t=e.workspace)||void 0===t?void 0:t.issuable)||{}},result({data:e}){var t;e&&this.$emit(this.dateType+"Updated",null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t[this.dateType])},error(){Object(l.createAlert)({message:Object(p.h)(Object(p.a)("Something went wrong while setting %{issuableType} %{dateType} date."),{issuableType:this.issuableType,dateType:this.dateType===h.o.start?"start":"due"})})},subscribeToMore:{document(){return this.dateQueries[this.issuableType].subscription},variables(){return{issuableId:this.issuableId}},skip(){return this.skipIssueDueDateSubscription}}}},computed:{dateQueries(){return this.dateType===h.o.start?m.j:m.c},dateLabel(){return this.dateType===h.o.start?this.$options.i18n.startDate:this.$options.i18n.dueDate},removeDateLabel(){return this.dateType===h.o.start?this.$options.i18n.removeStartDate:this.$options.i18n.removeDueDate},dateValue(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e[this.dateType])||null},firstDay:()=>gon.first_day_of_week,isLoading(){return this.$apollo.queries.issuable.loading||this.loading},initialLoading(){return this.$apollo.queries.issuable.loading},hasDate(){return null!==this.dateValue},parsedDate(){return this.hasDate?Object(u.O)(this.dateValue):null},formattedDate(){return this.hasDate?u.I.asDate.format(this.parsedDate):this.$options.i18n.noDate},workspacePath(){return this.issuableType===c.p?{projectPath:this.fullPath}:{groupPath:this.fullPath}},dataTestId(){return this.dateType===h.o.start?"sidebar-start-date":"sidebar-due-date"},issuableId(){return this.issuable.id},skipIssueDueDateSubscription(){return this.issuableType!==c.p||!this.issuableId||this.isLoading}},methods:{epicDatePopoverEl(){var e;return null===(e=this.$refs)||void 0===e||null===(e=e.epicDatePopover)||void 0===e?void 0:e.$el},closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(w),this.$emit("closeForm")},openDatePicker(){this.$refs.datePicker.show()},setFixedDate(e){const t=this.issuable[h.n[this.dateType].dateFixed];this.setDate(t,e)},setDate(e,t=!0){var i=this;const n=e?Object(u.V)(e):null;this.loading=!0,this.$refs.editable.collapse(),this.$apollo.mutate({mutation:this.dateQueries[this.issuableType].mutation,variables:{input:{...this.workspacePath,iid:this.iid,...this.canInherit?{[h.n[this.dateType].dateFixed]:t?n:void 0,[h.n[this.dateType].isDateFixed]:t}:{[this.dateType]:n}}}}).then((function({data:{issuableSetDate:{errors:e}}}){e.length?Object(l.createAlert)({message:e[0]}):i.$emit("closeForm")})).catch((function(){Object(l.createAlert)({message:Object(p.h)(Object(p.a)("Something went wrong while setting %{issuableType} %{dateType} date."),{issuableType:i.issuableType,dateType:i.dateType===h.o.start?"start":"due"})})})).finally((function(){i.loading=!1}))}},i18n:{dueDate:Object(p.a)("Due date"),startDate:Object(p.a)("Start date"),noDate:Object(p.a)("None"),removeDueDate:Object(p.a)("remove due date"),removeStartDate:Object(p.a)("remove start date"),dateHelpValidMessage:Object(p.a)("These dates affect how your epics appear in the roadmap. Set a fixed date or one inherited from the milestones assigned to issues in this epic."),help:Object(p.a)("Help"),learnMore:Object(p.a)("Learn more")},dateHelpUrl:"/help/user/group/epics/manage_epics.md#start-and-due-date-inheritance"},_=Object(v.a)(S,(function(){var e=this,t=e._self._c;return t("sidebar-editable-item",{ref:"editable",staticClass:"block",attrs:{title:e.dateLabel,tracking:e.tracking,loading:e.isLoading,"data-testid":e.dataTestId},on:{open:e.openDatePicker},scopedSlots:e._u([e.canInherit?{key:"title-extra",fn:function(){return[t("help-icon",{ref:"epicDatePopover",staticClass:"hide-collapsed gl-ml-3 gl-cursor-pointer",attrs:{tabindex:"0","aria-label":e.$options.i18n.help,"data-testid":"inherit-date-popover"}}),e._v(" "),t("gl-popover",{attrs:{target:e.epicDatePopoverEl,triggers:"focus",placement:"left",boundary:"viewport"}},[t("p",[e._v(e._s(e.$options.i18n.dateHelpValidMessage))]),e._v(" "),t("gl-link",{attrs:{href:e.$options.dateHelpUrl,target:"_blank"}},[e._v(e._s(e.$options.i18n.learnMore))])],1)]},proxy:!0}:null,{key:"collapsed",fn:function(){return[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.dateLabel}},[t("gl-icon",{attrs:{size:16,name:"calendar"}}),e._v(" "),t("span",{staticClass:"gl-px-3 gl-pt-2 gl-text-sm"},[e._v(e._s(e.formattedDate))])],1),e._v(" "),e.canInherit&&!e.initialLoading?t("sidebar-inherit-date",{attrs:{issuable:e.issuable,"date-type":e.dateType,"is-loading":e.isLoading},on:{"reset-date":function(t){return e.setDate(null)},"set-date":e.setFixedDate}}):t("sidebar-formatted-date",{attrs:{"has-date":e.hasDate,"formatted-date":e.formattedDate,"reset-text":e.removeDateLabel,"is-loading":e.isLoading},on:{"reset-date":function(t){return e.setDate(null)}}})]},proxy:!0},{key:"default",fn:function(){return[e.isLoading?e._e():t("gl-datepicker",{ref:"datePicker",staticClass:"gl-relative",attrs:{value:e.parsedDate,"min-date":e.minDate,"max-date":e.maxDate,"default-date":e.parsedDate,"first-day":e.firstDay,"show-clear-button":"",autocomplete:"off"},on:{input:e.setDate,clear:function(t){return e.setDate(null)}}})]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.a=_.exports},nbHk:function(e,t,i){"use strict";var n=i("o4PY"),s=i.n(n),a=i("kUOS"),r=i("TU2v"),o=i("Pyw5"),l=i.n(o);const d={name:"GlAnimatedChevronRightDownIcon",extends:r.a};var c=l()({render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:this.iconStateClass,attrs:{"aria-label":this.ariaLabel,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{staticClass:"gl-animated-chevron-right-down-arrow",attrs:{d:"M6.75 4.75L10 8L6.75 11.25",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0),u=i("3hkr"),p=i("Nzdf"),h=i("CU79"),m=i("n6Wd"),f=i("BIbq"),g=i("QiCN"),v=i("h4pE"),b=i("oTzT"),y=i("ZdEn"),k=i("gZSI"),w=i("C+ps"),S=i("VuSA"),_=i("J6+d");const I=Object(y.d)(u.d,"toggle"),T=Object(y.e)(u.d,"state"),O=Object(y.e)(u.d,"sync-state"),C=Object(y.d)(u.d,"request-state"),x=[m.c,m.h],j=e=>!Object(g.a)(["button","a"],e.tagName.toLowerCase()),E=e=>{const t=e.__BV_toggle_CLICK__;t&&(Object(y.a)(e,"click",t,h.R),Object(y.a)(e,"keydown",t,h.R)),e.__BV_toggle_CLICK__=null},D=(e,t)=>{e.__BV_toggle_HANDLER__&&t&&Object(_.a)(t).$off([T,O],e.__BV_toggle_HANDLER__),e.__BV_toggle_HANDLER__=null},N=(e,t)=>{t?(Object(b.y)(e,"collapsed"),Object(b.b)(e,"not-collapsed"),Object(b.E)(e,"aria-expanded","true")):(Object(b.y)(e,"not-collapsed"),Object(b.b)(e,"collapsed"),Object(b.E)(e,"aria-expanded","false"))},A=(e,t)=>{e[t]=null,delete e[t]},P=(e,t,i)=>{if(!p.e||!Object(v.a)(i,t))return;j(e)&&(Object(b.o)(e,"role")||Object(b.E)(e,"role","button"),Object(b.o)(e,"tabindex")||Object(b.E)(e,"tabindex","0")),N(e,e.__BV_toggle_STATE__);const n=((e,t)=>{let{modifiers:i,arg:n,value:s}=e;const a=Object(S.h)(i||{});if(s=Object(k.m)(s)?s.split(f.q):s,Object(b.t)(t.tagName,"a")){const e=Object(b.h)(t,"href")||"";f.h.test(e)&&a.push(e.replace(f.g,""))}return Object(g.b)(n,s).forEach(e=>Object(k.m)(e)&&a.push(e)),a.filter((e,t,i)=>e&&i.indexOf(e)===t)})(t,e);n.length>0?(Object(b.E)(e,"aria-controls",n.join(" ")),Object(b.F)(e,"overflow-anchor","none")):(Object(b.x)(e,"aria-controls"),Object(b.A)(e,"overflow-anchor")),Object(b.B)(()=>{((e,t)=>{if(E(e),t){const i=i=>{if(("keydown"!==i.type||Object(g.a)(x,i.keyCode))&&!Object(b.r)(e)){(e.__BV_toggle_TARGETS__||[]).forEach(e=>{Object(_.a)(t).$emit(I,e)})}};e.__BV_toggle_CLICK__=i,Object(y.b)(e,"click",i,h.R),j(e)&&Object(y.b)(e,"keydown",i,h.R)}})(e,Object(v.a)(i,t))}),Object(w.a)(n,e.__BV_toggle_TARGETS__)||(e.__BV_toggle_TARGETS__=n,n.forEach(e=>{Object(_.a)(Object(v.a)(i,t)).$emit(C,e)}))},F={bind(e,t,i){e.__BV_toggle_STATE__=!1,e.__BV_toggle_TARGETS__=[],((e,t)=>{if(D(e,t),t){const i=(t,i)=>{Object(g.a)(e.__BV_toggle_TARGETS__||[],t)&&(e.__BV_toggle_STATE__=i,N(e,i))};e.__BV_toggle_HANDLER__=i,Object(_.a)(t).$on([T,O],i)}})(e,Object(v.a)(i,t)),P(e,t,i)},componentUpdated:P,updated:P,unbind(e,t,i){E(e),D(e,Object(v.a)(i,t)),A(e,"__BV_toggle_HANDLER__"),A(e,"__BV_toggle_CLICK__"),A(e,"__BV_toggle_STATE__"),A(e,"__BV_toggle_TARGETS__"),Object(b.y)(e,"collapsed"),Object(b.y)(e,"not-collapsed"),Object(b.x)(e,"aria-expanded"),Object(b.x)(e,"aria-controls"),Object(b.x)(e,"role"),Object(b.A)(e,"overflow-anchor")}};var L=i("4lAS");const R={name:"GlAccordionItem",components:{BCollapse:a.a,GlButton:L.a,GlAnimatedChevronRightDownIcon:c},directives:{GlCollapseToggle:F},inject:["accordionSetId","defaultHeaderLevel"],inheritAttrs:!1,model:{prop:"visible",event:"input"},props:{title:{type:String,required:!0},titleVisible:{type:String,default:null,required:!1},visible:{type:Boolean,default:!1,required:!1},headerLevel:{type:Number,required:!1,default:null,validator:e=>e>0&&e<=6},headerClass:{type:[String,Object,Array],required:!1,default:""}},data(){return{accordionItemId:s()("accordion-item-"),isVisible:this.visible}},computed:{headerComponent(){return"h"+(this.headerLevel||this.defaultHeaderLevel())},accordion(){return this.accordionSetId()||void 0},buttonTitle(){return this.isVisible&&this.titleVisible?this.titleVisible:this.title}},watch:{isVisible:{immediate:!0,handler(e){this.$emit("input",e)}}}};const q=l()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gl-accordion-item"},[i(e.headerComponent,{tag:"component",staticClass:"gl-accordion-item-header",class:e.headerClass},[i("gl-button",{directives:[{name:"gl-collapse-toggle",rawName:"v-gl-collapse-toggle",value:e.accordionItemId,expression:"accordionItemId"}],attrs:{variant:"link","button-text-classes":"gl-flex"}},[i("gl-animated-chevron-right-down-icon",{attrs:{"is-on":e.isVisible}}),e._v("\n      "+e._s(e.buttonTitle)+"\n    ")],1)],1),e._v(" "),i("b-collapse",{staticClass:"gl-mt-3 gl-text-base",attrs:{id:e.accordionItemId,visible:e.isVisible,accordion:e.accordion,"data-testid":"accordion-item-collapse-"+e.accordionItemId},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[e._t("default")],2)],1)},staticRenderFns:[]},void 0,R,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=q},nhwU:function(e,t,i){"use strict";i.d(t,"a",(function(){return _})),i.d(t,"b",(function(){return O})),i.d(t,"c",(function(){return T}));var n=i("9k56"),s=i("jIK5"),a=i("BBKf"),r=i("Xhk9"),o=i("C+ps"),l=i("i8zK"),d=i("VuSA"),c=i("hII5"),u=i("Ht9+"),p=i("O1VG"),h=i("aQY9"),m=i("4Alm"),f=i("TTlA"),g=i("i0uk"),v=i("HO44"),b=i("5TS0"),y=i("aBA8");const k=["aria-describedby","aria-labelledby"],{mixin:w,props:S,prop:_,event:I}=Object(l.a)("checked"),T=Object(c.c)(Object(d.m)({...b.b,...S,...h.b,...f.b,...g.b,...v.b,...m.b,ariaInvalid:Object(c.b)(s.i,!1),stacked:Object(c.b)(s.g,!1),validated:Object(c.b)(s.g,!1)}),"formRadioCheckGroups"),O=Object(n.c)({mixins:[b.a,w,y.a,h.a,f.a,g.a,v.a,m.a],inheritAttrs:!1,props:T,data(){return{localChecked:this[_]}},computed:{inline(){return!this.stacked},groupName(){return this.name||this.safeId()},groupClasses(){const{validated:e}=this;return{"was-validated":e}}},watch:{[_](e){Object(o.a)(e,this.localChecked)||(this.localChecked=e)},localChecked(e,t){Object(o.a)(e,t)||this.$emit(I,e)}},render(e){const{isRadioGroup:t}=this,i=Object(d.k)(this.$attrs,k),n=t?p.a:u.a,s=this.formOptions.map((t,s)=>{const a="BV_option_"+s;return e(n,{props:{disabled:t.disabled||!1,id:this.safeId(a),value:t.value},attrs:i,key:a},[e("span",{domProps:Object(r.a)(t.html,t.text)})])});return e("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:{...Object(d.j)(this.$attrs,k),"aria-invalid":this.computedAriaInvalid,"aria-required":this.required?"true":null,id:this.safeId(),role:t?"radiogroup":"group",tabindex:"-1"}},[this.normalizeSlot(a.i),s,this.normalizeSlot()])}})},owh7:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateTimelineEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TimelineEventUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEventUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineEvent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noteHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineEventTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:317}};i.loc.source={body:"mutation UpdateTimelineEvent($input: TimelineEventUpdateInput!) {\n  timelineEventUpdate(input: $input) {\n    timelineEvent {\n      id\n      note\n      noteHtml\n      action\n      occurredAt\n      createdAt\n      timelineEventTags {\n        nodes {\n          id\n          name\n        }\n      }\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.UpdateTimelineEvent=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"UpdateTimelineEvent")},p1dg:function(e,t,i){var n=i("TXW/");e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}},pEyj:function(e,t,i){"use strict";var n=i("TKCn"),s=i.n(n),a=(i("3UXl"),i("iyoE"),i("z1xw")),r=i("s1D3"),o=i("jl6Z"),l=i("NmEs"),d=i("/lV4"),c={directives:{GlTooltip:a.a},components:{GlIcon:r.a,GlLabel:o.a},inject:["allowScopedLabels"],props:{disableLabels:{type:Boolean,required:!1,default:!1},selectedLabels:{type:Array,required:!0},allowLabelRemove:{type:Boolean,required:!0},supportsLockOnMerge:{type:Boolean,required:!1,default:!1},labelsFilterBasePath:{type:String,required:!0},labelsFilterParam:{type:String,required:!0}},computed:{sortedSelectedLabels(){return s()(this.selectedLabels,(function(e){return Object(l.E)(e)?0:1}))},labelsList(){const e=this.selectedLabels.length?this.selectedLabels.slice(0,5).map((function(e){return e.title})).join(", "):Object(d.g)("LabelSelect|Labels");return this.selectedLabels.length>5?Object(d.h)(Object(d.g)("LabelSelect|%{labelsString}, and %{remainingLabelCount} more"),{labelsString:e,remainingLabelCount:this.selectedLabels.length-5}):e}},methods:{labelFilterUrl(e){return`${this.labelsFilterBasePath}?${this.labelsFilterParam}[]=${encodeURIComponent(e.title)}`},scopedLabel(e){return this.allowScopedLabels&&Object(l.E)(e)},isLabelLocked(e){return e.lockOnMerge&&this.supportsLockOnMerge},showCloseButton(e){return this.allowLabelRemove&&!this.isLabelLocked(e)},removeLabel(e){this.$emit("onLabelRemove",e)},handleCollapsedClick(){this.$emit("onCollapsedValueClick")}}},u=i("tBpV"),p=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"value issuable-show-labels js-value",class:{"has-labels":e.selectedLabels.length},attrs:{"data-testid":"value-wrapper"}},[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.labelsList},on:{click:e.handleCollapsedClick}},[t("gl-icon",{attrs:{name:"labels"}}),e._v(" "),t("span",{staticClass:"collapse-truncated-title gl-px-3 gl-pt-2 gl-text-sm"},[e._v(e._s(e.selectedLabels.length))])],1),e._v(" "),e.selectedLabels.length?e._l(e.sortedSelectedLabels,(function(i){return t("gl-label",{key:i.id,staticClass:"hide-collapsed",attrs:{"data-testid":"selected-label-content","data-qa-label-name":i.title,title:i.title,description:i.description,"background-color":i.color,target:e.labelFilterUrl(i),scoped:e.scopedLabel(i),"show-close-button":e.showCloseButton(i),disabled:e.disableLabels,"tooltip-placement":"top"},on:{close:function(t){return e.removeLabel(i.id)}}})})):t("span",{staticClass:"hide-collapsed gl-text-subtle",attrs:{"data-testid":"empty-placeholder"}},[e._t("default")],2)],2)}),[],!1,null,null,null);t.a=p.exports},pIt4:function(e,t,i){"use strict";i.d(t,"J",(function(){return n})),i.d(t,"bb",(function(){return s})),i.d(t,"P",(function(){return a})),i.d(t,"E",(function(){return r})),i.d(t,"ab",(function(){return o})),i.d(t,"X",(function(){return l})),i.d(t,"i",(function(){return d})),i.d(t,"u",(function(){return c})),i.d(t,"r",(function(){return u})),i.d(t,"K",(function(){return p})),i.d(t,"W",(function(){return h})),i.d(t,"Z",(function(){return m})),i.d(t,"hb",(function(){return f})),i.d(t,"G",(function(){return g})),i.d(t,"F",(function(){return v})),i.d(t,"N",(function(){return b})),i.d(t,"O",(function(){return y})),i.d(t,"s",(function(){return k})),i.d(t,"t",(function(){return w})),i.d(t,"M",(function(){return S})),i.d(t,"Fb",(function(){return _})),i.d(t,"j",(function(){return I})),i.d(t,"L",(function(){return T})),i.d(t,"q",(function(){return O})),i.d(t,"o",(function(){return C})),i.d(t,"U",(function(){return x})),i.d(t,"Db",(function(){return j})),i.d(t,"Bb",(function(){return E})),i.d(t,"Cb",(function(){return D})),i.d(t,"H",(function(){return N})),i.d(t,"T",(function(){return A})),i.d(t,"Ab",(function(){return P})),i.d(t,"Y",(function(){return F})),i.d(t,"V",(function(){return L})),i.d(t,"Eb",(function(){return R})),i.d(t,"R",(function(){return q})),i.d(t,"Q",(function(){return $})),i.d(t,"S",(function(){return B})),i.d(t,"db",(function(){return M})),i.d(t,"I",(function(){return V})),i.d(t,"l",(function(){return U})),i.d(t,"m",(function(){return G})),i.d(t,"c",(function(){return W})),i.d(t,"b",(function(){return H})),i.d(t,"a",(function(){return z})),i.d(t,"n",(function(){return K})),i.d(t,"p",(function(){return Q})),i.d(t,"fb",(function(){return Y})),i.d(t,"gb",(function(){return J})),i.d(t,"eb",(function(){return X})),i.d(t,"yb",(function(){return Z})),i.d(t,"xb",(function(){return ee})),i.d(t,"zb",(function(){return te})),i.d(t,"wb",(function(){return ie})),i.d(t,"cb",(function(){return ne})),i.d(t,"x",(function(){return se})),i.d(t,"y",(function(){return ae})),i.d(t,"w",(function(){return re})),i.d(t,"v",(function(){return oe})),i.d(t,"C",(function(){return le})),i.d(t,"B",(function(){return de})),i.d(t,"A",(function(){return ce})),i.d(t,"D",(function(){return ue})),i.d(t,"z",(function(){return pe})),i.d(t,"g",(function(){return he})),i.d(t,"h",(function(){return me})),i.d(t,"d",(function(){return fe})),i.d(t,"e",(function(){return ge})),i.d(t,"f",(function(){return ve})),i.d(t,"k",(function(){return be})),i.d(t,"ib",(function(){return ye})),i.d(t,"jb",(function(){return ke})),i.d(t,"kb",(function(){return we})),i.d(t,"ob",(function(){return Se})),i.d(t,"pb",(function(){return _e})),i.d(t,"lb",(function(){return Ie})),i.d(t,"rb",(function(){return Te})),i.d(t,"qb",(function(){return Oe})),i.d(t,"nb",(function(){return Ce})),i.d(t,"vb",(function(){return xe})),i.d(t,"ub",(function(){return je})),i.d(t,"mb",(function(){return Ee})),i.d(t,"tb",(function(){return De})),i.d(t,"sb",(function(){return Ne})),i.d(t,"Gb",(function(){return Ae}));const n="inline",s="parallel",a="match",r="expanded",o="old-nonewline",l="new-nonewline",d="context",c="empty-cell",u="DiffNote",p="LegacyDiffNote",h="new",m="old",f="text",g="image",v="file",b="left",y="right",k="diff_view",w="diff_whitespace",S="is-over",_=20,I=3,T=17,O="120000",C="0",x="mr_tree_show",j="tree",E="mr_diff_tree_list",D="mr_tree_list_width",N=320,A=240,P=260,F="old_line",L="new_line",R="type",q=500,$=30,B=2,M=200,V="highlighted_diff_lines",U=-1,G=-2,W="overflow",H="merge-conflict",z="collapsed",K="automatic",Q="manual",Y="idle",J="loading",X="errored",Z="LOAD_START",ee="LOAD_ERROR",te="LOAD_SUCCEED",ie="ACKNOWLEDGE_ERROR",ne={[`${Y}:${Z}`]:J,[`${J}:${ee}`]:X,[`${J}:${te}`]:Y,[`${X}:${Z}`]:J,[`${X}:${ie}`]:Y},se="mr:diffGenerated",ae="mr:asyncPreparationFinished",re="mr:diffs:expandAllFiles",oe="mr:diffs:discussionsAssigned",le="mr:diffs:perf:fileTreeStart",de="mr:diffs:perf:fileTreeEnd",ce="mr:diffs:perf:filesStart",ue="mr:diffs:perf:firstFileShown",pe="mr:diffs:perf:filesEnd",he="conflict_our",me="conflict_their",fe="conflict_marker",ge="conflict_marker_our",ve="conflict_marker_their",be=750,ye="code_review_events_dispatched",ke=864e5,we="i_code_review_click_diff_view_setting",Se="i_code_review_diff_view_inline",_e="i_code_review_diff_view_parallel",Ie="i_code_review_click_file_browser_setting",Te="i_code_review_file_browser_tree_view",Oe="i_code_review_file_browser_list_view",Ce="i_code_review_click_whitespace_setting",xe="i_code_review_diff_show_whitespace",je="i_code_review_diff_hide_whitespace",Ee="i_code_review_click_single_file_mode_setting",De="i_code_review_diff_single_file",Ne="i_code_review_diff_multiple_files",Ae="-"},pbPB:function(e,t,i){"use strict";var n=i("9k56"),s=i("3hkr"),a=i("Nzdf"),r=i("CU79"),o=i("n6Wd"),l=i("jIK5"),d=i("BBKf"),c=i("QiCN"),u=i("35qI"),p=i("oTzT"),h=i("ZdEn"),m=i("I3xC"),f=i("gZSI"),g=i("C+ps"),v=i("9Dxz"),b=i("i8zK"),y=i("KZ4l"),k=i("VuSA"),w=i("/WMw"),S=i("hII5"),_=i("U29U"),I=i("5TS0"),T=i("aBA8"),O=i("0M2I"),C=i("lgrP");const x=Object(S.c)({align:Object(S.b)(l.r),cardHeader:Object(S.b)(l.g,!1),fill:Object(S.b)(l.g,!1),justified:Object(S.b)(l.g,!1),pills:Object(S.b)(l.g,!1),small:Object(S.b)(l.g,!1),tabs:Object(S.b)(l.g,!1),tag:Object(S.b)(l.r,"ul")},s.I),j=Object(n.c)({name:s.I,functional:!0,props:x,render(e,t){let{props:i,data:n,children:s}=t;const{tabs:a,pills:r,align:o,cardHeader:l}=i;return e(i.tag,Object(C.a)(n,{staticClass:"nav",class:{"nav-tabs":a,"nav-pills":r&&!a,"card-header-tabs":l&&a,"card-header-pills":l&&r&&!a,"nav-fill":i.fill,"nav-justified":i.justified,[(d=o,"justify-content-"+(d="left"===d?"start":"right"===d?"end":d))]:o,small:i.small}}),s);var d}}),{mixin:E,props:D,prop:N,event:A}=Object(b.a)("value",{type:l.k}),P=e=>!e.disabled,F=Object(n.c)({name:s.S,inject:{getBvTabs:{default:()=>()=>({})}},props:{controls:Object(S.b)(l.r),id:Object(S.b)(l.r),noKeyNav:Object(S.b)(l.g,!1),posInSet:Object(S.b)(l.k),setSize:Object(S.b)(l.k),tab:Object(S.b)(),tabIndex:Object(S.b)(l.k)},computed:{bvTabs(){return this.getBvTabs()}},methods:{focus(){Object(p.d)(this.$refs.link)},handleEvent(e){if(this.tab.disabled)return;const{type:t,keyCode:i,shiftKey:n}=e;"click"===t||"keydown"===t&&i===o.h?(Object(h.f)(e),this.$emit(r.f,e)):"keydown"!==t||this.noKeyNav||(-1!==[o.i,o.f,o.e].indexOf(i)?(Object(h.f)(e),n||i===o.e?this.$emit(r.o,e):this.$emit(r.B,e)):-1!==[o.a,o.g,o.b].indexOf(i)&&(Object(h.f)(e),n||i===o.b?this.$emit(r.v,e):this.$emit(r.y,e)))}},render(e){const{id:t,tabIndex:i,setSize:n,posInSet:s,controls:a,handleEvent:r}=this,{title:o,localActive:l,disabled:c,titleItemClass:u,titleLinkClass:p,titleLinkAttributes:h}=this.tab,m=e(O.a,{staticClass:"nav-link",class:[{active:l&&!c,disabled:c},p,l?this.bvTabs.activeNavItemClass:null],props:{disabled:c},attrs:{...h,id:t,role:"tab",tabindex:i,"aria-selected":l&&!c?"true":"false","aria-setsize":n,"aria-posinset":s,"aria-controls":a},on:{click:r,keydown:r},ref:"link"},[this.tab.normalizeSlot(d.A)||o]);return e("li",{staticClass:"nav-item",class:[u],attrs:{role:"presentation"}},[m])}}),L=Object(k.j)(x,["tabs","cardHeader"]),R=Object(S.c)(Object(k.m)({...I.b,...D,...L,activeNavItemClass:Object(S.b)(l.e),activeTabClass:Object(S.b)(l.e),contentClass:Object(S.b)(l.e),end:Object(S.b)(l.g,!1),lazy:Object(S.b)(l.g,!1),navClass:Object(S.b)(l.e),navWrapperClass:Object(S.b)(l.e),noFade:Object(S.b)(l.g,!1),noKeyNav:Object(S.b)(l.g,!1),noNavStyle:Object(S.b)(l.g,!1),tag:Object(S.b)(l.r,"div")}),s.R),q=Object(n.c)({name:s.R,mixins:[I.a,E,T.a],provide(){return{getBvTabs:()=>this}},props:R,data(){return{currentTab:Object(y.b)(this[N],-1),tabs:[],registeredTabs:[]}},computed:{fade(){return!this.noFade}},watch:{[N](e,t){if(e!==t){e=Object(y.b)(e,-1),t=Object(y.b)(t,0);const i=this.tabs[e];i&&!i.disabled?this.activateTab(i):e<t?this.previousTab():this.nextTab()}},currentTab(e){let t=-1;this.tabs.forEach((i,n)=>{n!==e||i.disabled?i.localActive=!1:(i.localActive=!0,t=n)}),this.$emit(A,t)},tabs(e,t){Object(g.a)(e.map(e=>e[n.a]),t.map(e=>e[n.a]))||this.$nextTick(()=>{this.$emit(r.e,e.slice(),t.slice())})},registeredTabs(){this.updateTabs()}},created(){this.$_observer=null},mounted(){this.setObserver(!0)},beforeDestroy(){this.setObserver(!1),this.tabs=[]},methods:{registerTab(e){Object(c.a)(this.registeredTabs,e)||this.registeredTabs.push(e)},unregisterTab(e){this.registeredTabs=this.registeredTabs.slice().filter(t=>t!==e)},setObserver(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e){const e=()=>{this.$nextTick(()=>{Object(p.B)(()=>{this.updateTabs()})})};this.$_observer=Object(w.a)(this.$refs.content,e,{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}},getTabs(){const e=this.registeredTabs;let t=[];if(a.e&&e.length>0){const i=e.map(e=>"#"+e.safeId()).join(", ");t=Object(p.D)(i,this.$el).map(e=>e.id).filter(m.a)}return Object(_.a)(e,(e,i)=>t.indexOf(e.safeId())-t.indexOf(i.safeId()))},updateTabs(){const e=this.getTabs();let t=e.indexOf(e.slice().reverse().find(e=>e.localActive&&!e.disabled));if(t<0){const{currentTab:i}=this;i>=e.length?t=e.indexOf(e.slice().reverse().find(P)):e[i]&&!e[i].disabled&&(t=i)}t<0&&(t=e.indexOf(e.find(P))),e.forEach((e,i)=>{e.localActive=i===t}),this.tabs=e,this.currentTab=t},getButtonForTab(e){return(this.$refs.buttons||[]).find(t=>t.tab===e)},updateButton(e){const t=this.getButtonForTab(e);t&&t.$forceUpdate&&t.$forceUpdate()},activateTab(e){const{currentTab:t,tabs:i}=this;let n=!1;if(e){const s=i.indexOf(e);if(s!==t&&s>-1&&!e.disabled){const e=new u.a(r.a,{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(e.type,s,t,e),e.defaultPrevented||(this.currentTab=s,n=!0)}}return n||this[N]===t||this.$emit(A,t),n},deactivateTab(e){return!!e&&this.activateTab(this.tabs.filter(t=>t!==e).find(P))},focusButton(e){this.$nextTick(()=>{Object(p.d)(this.getButtonForTab(e))})},emitTabClick(e,t){Object(f.d)(t)&&e&&e.$emit&&!e.disabled&&e.$emit(r.f,t)},clickTab(e,t){this.activateTab(e),this.emitTabClick(e,t)},firstTab(e){const t=this.tabs.find(P);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))},previousTab(e){const t=Object(v.b)(this.currentTab,0),i=this.tabs.slice(0,t).reverse().find(P);this.activateTab(i)&&e&&(this.focusButton(i),this.emitTabClick(i,e))},nextTab(e){const t=Object(v.b)(this.currentTab,-1),i=this.tabs.slice(t+1).find(P);this.activateTab(i)&&e&&(this.focusButton(i),this.emitTabClick(i,e))},lastTab(e){const t=this.tabs.slice().reverse().find(P);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))}},render(e){const{align:t,end:i,fill:s,firstTab:a,justified:o,lastTab:l,nextTab:c,noKeyNav:u,noNavStyle:p,pills:h,previousTab:m,small:f,tabs:g}=this,v=g.find(e=>e.localActive&&!e.disabled),b=g.find(e=>!e.disabled),y=g.map((t,i)=>{const{safeId:s}=t;let o=null;return u||(o=-1,(t===v||!v&&t===b)&&(o=null)),e(F,{props:{controls:s?s():null,id:t.controlledBy||(s?s("_BV_tab_button_"):null),noKeyNav:u,posInSet:i+1,setSize:g.length,tab:t,tabIndex:o},on:{[r.f]:e=>{this.clickTab(t,e)},[r.o]:a,[r.B]:m,[r.y]:c,[r.v]:l},key:t[n.a]||i,ref:"buttons",[n.b]:!0})});let k=e(j,{class:this.navClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:s,justified:o,align:t,tabs:!p&&!h,pills:!p&&h,small:f},ref:"nav"},[this.normalizeSlot(d.y)||e(),y,this.normalizeSlot(d.x)||e()]);k=e("div",{class:this.navWrapperClass,key:"bv-tabs-nav"},[k]);const w=this.normalizeSlot()||[];let S=e();0===w.length&&(S=e("div",{class:["tab-pane","active"],key:"bv-empty-tab"},this.normalizeSlot(d.g)));const _=e("div",{staticClass:"tab-content",class:this.contentClass,attrs:{id:this.safeId("_BV_tab_container_")},key:"bv-content",ref:"content"},[w,S]);return e(this.tag,{staticClass:"tabs",attrs:{id:this.safeId()}},[i?_:e(),k,i?e():_])}});var $=i("XBTk"),B=i("4lAS"),M=i("Pyw5"),V=i.n(M);const U=e=>Object.keys(e).every(e=>"text"===e||"attributes"===e);const G={name:"GlTabs",components:{BTabs:q,GlButton:B.a},inheritAttrs:!1,props:{actionPrimary:{type:Object,required:!1,default:null,validator:e=>U(e)},actionSecondary:{type:Object,required:!1,default:null,validator:e=>U(e)},actionTertiary:{type:Object,required:!1,default:null,validator:e=>U(e)},contentClass:{type:[String,Array,Object],required:!1,default:null},navClass:{type:[String,Array,Object],required:!1,default:null},justified:{type:Boolean,required:!1,default:!1},syncActiveTabWithQueryParams:{type:Boolean,required:!1,default:!1},queryParamName:{type:String,required:!1,default:"tab"},value:{type:Number,required:!1,default:0}},data:()=>({activeTabIndex:0}),computed:{hasActions(){return[this.actionPrimary,this.actionSecondary,this.actionTertiary].some(Boolean)},listeners(){return{...this.$listeners,input:this.handleInput}}},watch:{value:{handler(e){this.activeTabIndex!==e&&(this.activeTabIndex=e)},immediate:!0}},mounted(){this.syncActiveTabWithQueryParams&&(this.syncActiveTabFromQueryParams(),window.addEventListener("popstate",this.syncActiveTabFromQueryParams)),this.$emit("input",this.activeTabIndex)},destroyed(){window.removeEventListener("popstate",this.syncActiveTabFromQueryParams)},methods:{buttonBinding:(e,t)=>e.attributes?e.attributes:$.I[t],primary(){this.$emit("primary")},secondary(){this.$emit("secondary")},tertiary(){this.$emit("tertiary")},async syncActiveTabFromQueryParams(){await this.$nextTick();const e=this.getQueryParamValue(),t=this.getTabs().findIndex((t,i)=>this.getTabQueryParamValue(i)===e);this.activeTabIndex=-1!==t?t:0},getTabs(){return this.$refs.bTabs.getTabs()},getQueryParamValue(){return new URLSearchParams(window.location.search).get(this.queryParamName)},setQueryParamValueIfNecessary(e){const t=this.getQueryParamValue(),i=this.getTabQueryParamValue(e);if(0===e&&!t||0!==e&&t===i)return;const n=new URLSearchParams(window.location.search);n.set(this.queryParamName,i),window.history.pushState({},"",`${window.location.pathname}?${n.toString()}`)},getTabQueryParamValue(e){const t=this.getTabs()[e];return(null==t?void 0:t.$attrs["query-param-value"])||e.toString()},handleInput(e){this.$emit("input",e),this.activeTabIndex=e,this.syncActiveTabWithQueryParams&&this.setQueryParamValueIfNecessary(e)}}};const W=V()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-tabs",e._g(e._b({ref:"bTabs",staticClass:"gl-tabs",attrs:{"no-nav-style":!0,"no-fade":!0,"active-nav-item-class":"gl-tab-nav-item-active","content-class":[e.contentClass,"gl-tab-content"],"nav-class":[e.navClass,"gl-tabs-nav"],justified:e.justified,value:e.activeTabIndex},scopedSlots:e._u([e._l(Object.keys(e.$slots),(function(t){return{key:t,fn:function(){return[e._t(t)]},proxy:!0}})),e.hasActions?{key:"tabs-start",fn:function(){return[i("div",{staticClass:"gl-actions-tabs-start",attrs:{"data-testid":"actions-tabs-start"}},[e.actionPrimary?i("gl-button",e._b({attrs:{"data-testid":"action-primary"},on:{click:e.primary}},"gl-button",e.buttonBinding(e.actionPrimary,"actionPrimary"),!1),[e._v("\n        "+e._s(e.actionPrimary.text)+"\n      ")]):e._e(),e._v(" "),e.actionSecondary?i("gl-button",e._b({attrs:{"data-testid":"action-secondary"},on:{click:e.secondary}},"gl-button",e.buttonBinding(e.actionSecondary,"actionSecondary"),!1),[e._v("\n        "+e._s(e.actionSecondary.text)+"\n      ")]):e._e(),e._v(" "),e.actionTertiary?i("gl-button",e._b({attrs:{"data-testid":"action-tertiary"},on:{click:e.tertiary}},"gl-button",e.buttonBinding(e.actionTertiary,"actionTertiary"),!1),[e._v("\n        "+e._s(e.actionTertiary.text)+"\n      ")]):e._e()],1)]},proxy:!0}:null,e.hasActions?{key:"tabs-end",fn:function(){return[i("div",{staticClass:"gl-actions-tabs-end",attrs:{"data-testid":"actions-tabs-end"}},[e.actionPrimary?i("gl-button",e._b({attrs:{"data-testid":"action-primary"},on:{click:e.primary}},"gl-button",e.buttonBinding(e.actionPrimary,"actionPrimary"),!1),[e._v("\n        "+e._s(e.actionPrimary.text)+"\n      ")]):e._e(),e._v(" "),e.actionSecondary?i("gl-button",e._b({attrs:{"data-testid":"action-secondary"},on:{click:e.secondary}},"gl-button",e.buttonBinding(e.actionSecondary,"actionSecondary"),!1),[e._v("\n        "+e._s(e.actionSecondary.text)+"\n      ")]):e._e(),e._v(" "),e.actionTertiary?i("gl-button",e._b({attrs:{"data-testid":"action-tertiary"},on:{click:e.tertiary}},"gl-button",e.buttonBinding(e.actionTertiary,"actionTertiary"),!1),[e._v("\n        "+e._s(e.actionTertiary.text)+"\n      ")]):e._e()],1)]},proxy:!0}:null],null,!0)},"b-tabs",e.$attrs,!1),e.listeners))},staticRenderFns:[]},void 0,G,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=W},"q/7U":function(e,t,i){"use strict";var n=i("Lzak"),s=i("z1xw"),a=i("AxUD"),r=i("/lV4"),o={components:{GlBadge:n.a},directives:{GlTooltip:s.a},props:{issuableType:{type:String,required:!1,default:""}},computed:{title(){return Object(r.h)(Object(r.a)("The discussion in this %{issuable} is locked. Only project members can comment."),{issuable:a.w[this.issuableType]})}}},l=i("tBpV"),d=Object(l.a)(o,(function(){return(0,this._self._c)("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-shrink-0",attrs:{icon:"lock",title:this.title,"aria-label":this.title,variant:"warning","data-testid":"locked-badge"}})}),[],!1,null,null,null);t.a=d.exports},"q/Yt":function(e,t,i){"use strict";i.d(t,"d",(function(){return st})),i.d(t,"e",(function(){return at})),i.d(t,"g",(function(){return rt})),i.d(t,"h",(function(){return ot})),i.d(t,"c",(function(){return lt})),i.d(t,"b",(function(){return dt})),i.d(t,"f",(function(){return ct})),i.d(t,"a",(function(){return it}));i("byxs"),i("3UXl"),i("iyoE");var n=i("ewH8"),s=i("GiFX"),a=i("4wgn"),r=i("FxFN"),o=i("AxUD"),l=i("P22J"),d=i("NmEs"),c=i("/lV4"),u=i("w8i/"),p=i("0KyK"),h=i("KRoI"),m=(i("v2fZ"),i("LdIe"),i("z6RN"),i("PTOk"),i("UezY"),i("hG7+"),i("z1xw")),f=i("4lAS"),g=i("s1D3"),v=i("NY3P"),b=i("Qaw2"),y=i("rRHO"),k={components:{GlButton:f.a,AssigneeAvatar:b.a,UserNameWithStatus:y.a},props:{user:{type:Object,required:!0},issuableType:{type:String,required:!1,default:o.p}},computed:{availability(){var e;return(null===(e=this.user)||void 0===e?void 0:e.availability)||""}}},w=i("tBpV"),S=Object(w.a)(k,(function(){var e=this._self._c;return e("gl-button",{staticClass:"!gl-bg-transparent",attrs:{variant:"link"}},[e("assignee-avatar",{attrs:{user:this.user,"img-size":24,"issuable-type":this.issuableType}}),this._v(" "),e("user-name-with-status",{attrs:{name:this.user.name,availability:this.availability,"container-classes":"author"}})],1)}),[],!1,null,null,null).exports;var _={directives:{GlTooltip:m.a},components:{GlButton:f.a,CollapsedAssignee:S,GlIcon:g.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:o.p}},computed:{isMergeRequest(){return this.issuableType===o.q},hasNoUsers(){return!this.users.length},hasMoreThanOneAssignee(){return this.users.length>1},hasMoreThanTwoAssignees(){return this.users.length>2},allAssigneesCanMerge(){return this.users.every((function(e){var t;return e.can_merge||(null===(t=e.mergeRequestInteraction)||void 0===t?void 0:t.canMerge)}))},sidebarAvatarCounter(){return this.users.length>99?"99+":"+"+(this.users.length-1)},collapsedUsers(){const e=this.hasMoreThanTwoAssignees?1:this.users.length;return this.users.slice(0,e)},tooltipTitleMergeStatus(){if(!this.isMergeRequest)return"";const e=this.users.filter((function(e){var t;return e.can_merge||(null===(t=e.mergeRequestInteraction)||void 0===t?void 0:t.canMerge)})).length;return e===this.users.length?"":e>0?Object(c.h)(Object(c.a)("%{mergeLength}/%{usersLength} can merge"),{mergeLength:e,usersLength:this.users.length}):1===this.users.length?Object(c.a)("cannot merge"):Object(c.a)("no one can merge")},tooltipTitle(){const e=Math.min(5,this.users.length);return function({renderUsers:e,allUsers:t,tooltipTitleMergeStatus:i}){const n=e.map((function({name:e,availability:t}){return t&&Object(v.b)(t)?Object(c.h)(Object(c.a)("%{name} (Busy)"),{name:e}):e}));if(!t.length)return Object(c.a)("Assignees");t.length>n.length&&n.push(Object(c.h)(Object(c.a)("+ %{amount} more"),{amount:t.length-n.length}));const s=n.join(", ");return i?`${s} (${i})`:s}({renderUsers:this.users.slice(0,e),allUsers:this.users,tooltipTitleMergeStatus:this.tooltipTitleMergeStatus})},tooltipOptions:()=>({container:"body",placement:"left",boundary:"viewport"})}},I=Object(w.a)(_,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOptions,expression:"tooltipOptions"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users gl-relative":e.hasMoreThanOneAssignee},attrs:{title:e.tooltipTitle}},[e.hasNoUsers?t("gl-icon",{attrs:{name:"user","aria-label":e.__("None")}}):e._e(),e._v(" "),e._l(e.collapsedUsers,(function(i){return t("collapsed-assignee",{key:i.id,attrs:{user:i,"issuable-type":e.issuableType}})})),e._v(" "),e.hasMoreThanTwoAssignees?t("gl-button",{staticClass:"!gl-bg-transparent",attrs:{variant:"link"}},[t("span",{staticClass:"avatar-counter sidebar-avatar-counter gl-flex gl-items-center gl-pl-3"},[e._v("\n      "+e._s(e.sidebarAvatarCounter)+"\n    ")]),e._v(" "),e.isMergeRequest&&!e.allAssigneesCanMerge?t("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):e._e()],1):e._e()],2)}),[],!1,null,null,null).exports,T=i("lUJc"),O=i("FkSe"),C=i("30su"),x={name:"CopyableField",components:{ClipboardButton:i("rK/1").a,GlLoadingIcon:O.a,GlSprintf:C.a},props:{value:{type:String,required:!0},name:{type:String,required:!0},isLoading:{type:Boolean,required:!1,default:!1},clipboardTooltipText:{type:String,required:!1,default:void 0}},computed:{clipboardProps(){return{category:"tertiary",tooltipBoundary:"viewport",tooltipPlacement:"left",text:this.value,title:this.clipboardTooltipText||Object(c.h)(this.$options.i18n.clipboardTooltip,{name:this.name})}},loadingIconLabel(){return Object(c.h)(this.$options.i18n.loadingIconLabel,{name:this.name})}},i18n:{loadingIconLabel:Object(c.a)("Loading %{name}"),clipboardTooltip:Object(c.a)("Copy %{name}"),templateText:Object(c.g)("Sidebar|%{name}: %{value}")}},j=Object(w.a)(x,(function(){var e=this,t=e._self._c;return t("div",[e.isLoading?e._e():t("clipboard-button",e._b({attrs:{"css-class":"sidebar-collapsed-icon js-dont-change-state !gl-rounded-none hover:gl-bg-transparent"}},"clipboard-button",e.clipboardProps,!1)),e._v(" "),t("div",{staticClass:"hide-collapsed gl-flex gl-items-center gl-justify-between"},[t("span",{staticClass:"gl-overflow-hidden gl-text-ellipsis gl-whitespace-nowrap",attrs:{title:e.value}},[t("gl-sprintf",{attrs:{message:e.$options.i18n.templateText},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(e.name))]},proxy:!0},{key:"value",fn:function(){return[e._v(e._s(e.value))]},proxy:!0}])})],1),e._v(" "),e.isLoading?t("gl-loading-icon",{attrs:{size:"sm",inline:"",label:e.loadingIconLabel}}):t("clipboard-button",e._b({attrs:{size:"small"}},"clipboard-button",e.clipboardProps,!1))],1)],1)}),[],!1,null,null,null).exports,E={components:{CopyableField:j},props:{issueEmailAddress:{type:String,required:!0}}},D=Object(w.a)(E,(function(){return(0,this._self._c)("copyable-field",{attrs:{"data-testid":"copy-forward-email",name:this.s__("RightSidebar|Issue email"),"clipboard-tooltip-text":this.s__("RightSidebar|Copy email address"),value:this.issueEmailAddress}})}),[],!1,null,null,null).exports,N=i("n8jD"),A=i("jlnU"),P=i("8Igx"),F=i("crTv"),L=i("H3X6"),R=i("pgS/");const q=[L.l,L.i,L.k];var $={i18n:L.a,STATUS_LIST:q,components:{GlCollapsibleListbox:F.a},props:{value:{type:String,required:!1,default:null,validator:e=>[...q,null].includes(e)},headerText:{type:String,required:!1,default:null},statusSubtexts:{type:Object,required:!1,default:()=>({})}},data(){return{selected:this.value}},computed:{statusDropdownOptions(){var e=this;return this.$options.STATUS_LIST.map((function(t){return{text:e.getStatusLabel(t),subtext:e.statusSubtexts[t],value:t}}))},currentStatusLabel(){return this.getStatusLabel(this.value)}},methods:{show(){this.$refs.dropdown.open()},hide(){this.$refs.dropdown.close()},getStatusLabel:R.a}},B=Object(w.a)($,(function(){var e=this,t=e._self._c;return t("gl-collapsible-listbox",{ref:"dropdown",attrs:{"header-text":e.headerText,block:"","toggle-text":e.currentStatusLabel,items:e.statusDropdownOptions,"toggle-class":"dropdown-menu-toggle gl-mb-2","data-testid":"escalation-status-dropdown"},on:{select:function(t){return e.$emit("input",e.selected)}},scopedSlots:e._u([{key:"list-item",fn:function({item:i}){return[t("span",{staticClass:"gl-block"},[e._v(e._s(i.text))]),e._v(" "),i.subtext?t("span",{staticClass:"gl-text-sm gl-text-subtle"},[e._v(e._s(i.subtext))]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})}),[],!1,null,null,null).exports,M=i("d6eQ"),V=i("kMc5"),U={i18n:L.a,components:{EscalationStatus:B,SidebarEditableItem:V.a,GlIcon:g.a},directives:{GlTooltip:m.a},props:{iid:{type:String,required:!0},projectPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({status:null,isUpdating:!1}),apollo:{status:{query:()=>M.e,variables(){return{fullPath:this.projectPath,iid:this.iid}},update(e){var t;return null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.escalationStatus},error(e){const t=this.$options.i18n.fetchError;Object(A.createAlert)({message:t}),Object(P.a)(t,e)}}},computed:{isLoading(){return this.$apollo.queries.status.loading},currentStatusLabel(){return Object(R.a)(this.status)},tooltipText(){return`${this.$options.i18n.title}: ${this.currentStatusLabel}`}},methods:{updateStatus(e){var t=this;return this.isUpdating=!0,this.closeSidebar(),this.$apollo.mutate({mutation:M.d,variables:{status:e,iid:this.iid,projectPath:this.projectPath}}).then((function({data:{issueSetEscalationStatus:e}}){t.status=e.issue.escalationStatus})).catch((function(e){const i=t.$options.i18n.updateError;Object(A.createAlert)({message:i}),Object(P.a)(i,e)})).finally((function(){t.isUpdating=!1}))},closeSidebar(){this.close(),this.$refs.editable.collapse()},open(){this.$refs.escalationStatus.show()},close(){this.$refs.escalationStatus.hide()}}},G=Object(w.a)(U,(function(){var e=this,t=e._self._c;return t("sidebar-editable-item",{ref:"editable",attrs:{title:e.$options.i18n.title,"initial-loading":e.isLoading,loading:e.isUpdating},on:{open:e.open,close:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[t("escalation-status",{ref:"escalationStatus",attrs:{value:e.status},on:{input:e.updateStatus}})]},proxy:!0},{key:"collapsed",fn:function(){return[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",value:e.tooltipText,expression:"tooltipText",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{"data-testid":"status-icon"}},[t("gl-icon",{attrs:{name:"status",size:16}})],1),e._v(" "),t("span",{staticClass:"hide-collapsed gl-text-subtle"},[e._v(e._s(e.currentStatusLabel))])]},proxy:!0}])})}),[],!1,null,null,null).exports,W=i("ZIW3"),H=i("EcvJ"),z=i("wP8z"),K=i("PF+b");const Q={id:0,title:Object(c.a)("No milestone")},Y={id:-1,title:Object(c.a)("Select milestone")};var J={issuableAttribute:L.d.Milestone,components:{GlDropdownItem:z.a,SidebarDropdown:K.a},props:{attrWorkspacePath:{required:!0,type:String},canAdminMilestone:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!0,validator:e=>[o.p,o.q].includes(e)},inputName:{type:String,required:!1,default:"update[milestone_id]"},milestoneId:{type:String,required:!1,default:""},milestoneTitle:{type:String,required:!1,default:""},projectMilestonesPath:{type:String,required:!1,default:""},workspaceType:{type:String,required:!0,validator:e=>[o.t,o.u].includes(e)}},data(){return{milestone:this.milestoneId?{id:Object(r.c)(a.y,this.milestoneId),title:this.milestoneTitle}:Y}},computed:{footerItemText(){return this.canAdminMilestone?Object(c.a)("Manage milestones"):Object(c.a)("View milestones")},value(){return this.milestone.id===Y.id?void 0:Object(r.e)(this.milestone.id)}},methods:{handleChange(e){this.milestone=null===e.id?Q:e}}},X=Object(w.a)(J,(function(){var e=this,t=e._self._c;return t("div",[t("input",{attrs:{type:"hidden",name:e.inputName},domProps:{value:e.value}}),e._v(" "),t("sidebar-dropdown",{attrs:{"attr-workspace-path":e.attrWorkspacePath,"current-attribute":e.milestone,"issuable-attribute":e.$options.issuableAttribute,"issuable-type":e.issuableType,"workspace-type":e.workspaceType,"data-testid":"issuable-milestone-dropdown"},on:{change:e.handleChange},scopedSlots:e._u([{key:"footer",fn:function(){return[e.projectMilestonesPath?t("gl-dropdown-item",{attrs:{href:e.projectMilestonesPath}},[e._v("\n        "+e._s(e.footerItemText)+"\n      ")]):e._e()]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,Z=(i("aFm2"),i("R9qC"),i("RFHG"),i("xuo1"),i("dsWN")),ee=i("JtyA"),te=i("D4cA"),ie=i("P45A"),ne=i.n(ie),se=i("Ib1k"),ae=i.n(se),re=i("McpM"),oe=i.n(re),le=i("Tmea"),de=i.n(le),ce=(i("B++/"),i("47t/"),i("GuZl")),ue=i("2ibD"),pe={components:{GlIcon:g.a,GlButton:f.a,GlCollapsibleListbox:F.a},directives:{GlTooltip:m.a},props:{projectsFetchPath:{type:String,required:!0},dropdownButtonTitle:{type:String,required:!0},dropdownHeaderTitle:{type:String,required:!0},moveInProgress:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},data:()=>({projects:[],projectsList:[],selectedProjects:[],noResultsText:"",isSearching:!1}),mounted(){this.fetchProjects=de()(this.fetchProjects,ce.g)},methods:{triggerSearch(){this.$refs.dropdown.search()},async fetchProjects(e=""){this.isSearching=!0;try{const{data:t}=await ue.a.get(this.projectsFetchPath,{params:{search:e}});this.projects=t,this.projectsList=t.map((function(e){return{value:e.id,text:e.name_with_namespace}})),this.projectsList.length||(this.noResultsText=Object(c.a)("No matching results"))}catch(e){this.noResultsText=Object(c.a)("Failed to load projects")}finally{this.isSearching=!1}},handleProjectSelect(e){this.selectedProjects=[e[e.length-1]]},handleMoveClick(){var e=this;this.$refs.dropdown.close(),this.$emit("move-issuable",this.projects.find((function(t){return t.id===e.selectedProjects[0]})))},handleDropdownHide(){this.$emit("dropdown-close")}}},he=Object(w.a)(pe,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"js-issuable-move-block issuable-move-dropdown sidebar-move-issue-dropdown"},[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{"data-testid":"move-collapsed",title:e.dropdownButtonTitle},on:{click:function(t){return e.$emit("toggle-collapse")}}},[t("gl-icon",{attrs:{name:"arrow-right"}})],1),e._v(" "),t("gl-collapsible-listbox",{ref:"dropdown",attrs:{items:e.projectsList,block:!0,multiple:!0,searchable:!0,searching:e.isSearching,"search-placeholder":e.__("Search project"),"no-results-text":e.noResultsText,"header-text":e.dropdownButtonTitle},on:{hidden:e.handleDropdownHide,shown:e.triggerSearch,search:e.fetchProjects,select:e.handleProjectSelect},scopedSlots:e._u([{key:"toggle",fn:function(){return[t("gl-button",{staticClass:"js-sidebar-dropdown-toggle hide-collapsed gl-w-full",attrs:{loading:e.moveInProgress,size:"medium","data-testid":"dropdown-button",disabled:e.moveInProgress||e.disabled}},[e._v(e._s(e.dropdownButtonTitle))])]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"gl-p-3",attrs:{"data-testid":"footer"}},[t("gl-button",{staticClass:"gl-w-full",attrs:{category:"primary",variant:"confirm",disabled:!Boolean(e.selectedProjects.length),"data-testid":"dropdown-move-button"},on:{click:e.handleMoveClick}},[e._v(e._s(e.__("Move")))])],1)]},proxy:!0}]),model:{value:e.selectedProjects,callback:function(t){e.selectedProjects=t},expression:"selectedProjects"}})],1)}),[],!1,null,null,null).exports,me={name:"MoveIssuesButton",components:{IssuableMoveDropdown:he,GlAlert:Z.a},props:{projectFullPath:{type:String,required:!0},projectsFetchPath:{type:String,required:!0}},data:()=>({selectedIssuables:[],moveInProgress:!1}),computed:{cannotMoveTasksWarningTitle(){return this.tasksSelected&&this.testCasesSelected?Object(c.g)("Issues|Tasks and test cases can not be moved."):this.testCasesSelected?Object(c.g)("Issues|Test cases can not be moved."):Object(c.g)("Issues|Tasks can not be moved.")},issuesSelected(){return this.selectedIssuables.some((function(e){return e.type===ee.tc}))},incidentsSelected(){return this.selectedIssuables.some((function(e){return e.type===ee.sc}))},tasksSelected(){return this.selectedIssuables.some((function(e){return e.type===ee.xc}))},testCasesSelected(){return this.selectedIssuables.some((function(e){return e.type===ee.yc}))}},mounted(){te.a.$on("issuables:issuableChecked",this.handleIssuableChecked)},beforeDestroy(){te.a.$off("issuables:issuableChecked",this.handleIssuableChecked)},methods:{handleIssuableChecked(e,t){if(t)this.selectedIssuables.push(e);else{const t=this.selectedIssuables.indexOf(e);t>-1&&this.selectedIssuables.splice(t,1)}},moveIssues(e){var t=this;const i=this.selectedIssuables.reduce((function(e,t){return t.type!==ee.tc&&t.type!==ee.sc||e.push(t.iid),e}),[]);if(0===i.length)return;this.moveInProgress=!0,te.a.$emit("issuables:bulkMoveStarted");const n=i.map((function(i){return t.moveIssue(i,e)}));Promise.all(n).then((function(e){let i=!1;for(const t of e){var n;null!==(n=t.data.issueMove)&&void 0!==n&&null!==(n=n.errors)&&void 0!==n&&n.length&&(i=!0,Object(P.a)("Error moving issue. Error message: "+t.data.issueMove.errors[0].message))}if(i)throw new Error;t.$apollo.provider.defaultClient.refetchQueries({include:[ne.a,ae.a]}),t.moveInProgress=!1,t.selectedIssuables=[],te.a.$emit("issuables:bulkMoveEnded")})).catch((function(){t.moveInProgress=!1,te.a.$emit("issuables:bulkMoveEnded"),Object(A.createAlert)({message:Object(c.g)("Issues|There was an error while moving the issues.")})}))},moveIssue(e,t){return this.$apollo.mutate({mutation:oe.a,variables:{moveIssueInput:{projectPath:this.projectFullPath,iid:e,targetProjectPath:t.full_path}}})}},i18n:{dropdownButtonTitle:Object(c.g)("Issues|Move selected")}},fe=Object(w.a)(me,(function(){var e=this,t=e._self._c;return t("div",[t("issuable-move-dropdown",{attrs:{"project-full-path":e.projectFullPath,"projects-fetch-path":e.projectsFetchPath,"move-in-progress":e.moveInProgress,disabled:!e.issuesSelected&&!e.incidentsSelected,"dropdown-header-title":e.$options.i18n.dropdownButtonTitle,"dropdown-button-title":e.$options.i18n.dropdownButtonTitle},on:{"move-issuable":e.moveIssues}}),e._v(" "),e.tasksSelected||e.testCasesSelected?t("gl-alert",{attrs:{dismissible:!1,variant:"warning"}},[e._v("\n    "+e._s(e.cannotMoveTasksWarningTitle)+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports,ge=i("7sEu"),ve={directives:{GlTooltip:m.a},components:{GlIcon:g.a,GlLoadingIcon:O.a,Participants:ge.a},props:{loading:{type:Boolean,required:!1,default:!1},participants:{type:Array,required:!1,default:function(){return[]}},numberOfLessParticipants:{type:Number,required:!1,default:8},showParticipantLabel:{type:Boolean,required:!1,default:!0},lazy:{type:Boolean,required:!1,default:!0}},computed:{participantLabel(){return Object(c.h)(Object(c.f)("%{count} Participant","%{count} Participants",this.participants.length),{count:this.loading?"":this.participantCount})},participantCount(){return this.participants.length}}},be=Object(w.a)(ve,(function(){var e=this,t=e._self._c;return t("div",[e.showParticipantLabel?t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.participantLabel},on:{click:function(t){return e.$emit("toggleSidebar")}}},[t("gl-icon",{attrs:{name:"users"}}),e._v(" "),e.loading?t("gl-loading-icon",{attrs:{size:"sm"}}):t("span",{staticClass:"gl-px-3 gl-pt-2 gl-text-sm"},[e._v("\n      "+e._s(e.participantCount)+"\n    ")])],1):e._e(),e._v(" "),t("participants",{staticClass:"hide-collapsed",attrs:{lazy:e.lazy,loading:e.loading,"number-of-less-participants":e.numberOfLessParticipants,participants:e.participants,"show-participant-label":e.showParticipantLabel}})],1)}),[],!1,null,null,null).exports,ye={i18n:{fetchingError:Object(c.a)("An error occurred while fetching participants")},components:{SidebarParticipants:be},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({participants:[]}),apollo:{participants:{query(){return M.h[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t;return(null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.participants.nodes)||[]},skip(){return!this.iid},error(e){this.$emit("fetch-error",{message:this.$options.i18n.fetchingError,error:e})}}},computed:{isLoading(){return this.$apollo.queries.participants.loading}}},ke=Object(w.a)(ye,(function(){var e=this;return(0,e._self._c)("sidebar-participants",{staticClass:"block participants",attrs:{loading:e.isLoading,participants:e.participants,"number-of-less-participants":8,lazy:!1},on:{toggleSidebar:function(t){return e.$emit("toggleSidebar")}}})}),[],!1,null,null,null).exports,we={components:{CopyableField:j},inject:["fullPath","iid"],props:{issuableType:{required:!0,type:String}},data:()=>({reference:""}),apollo:{reference:{query(){return M.i[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t;return(null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.reference)||""},error(e){this.$emit("fetch-error",{message:Object(c.a)("An error occurred while fetching reference"),error:e})}}},computed:{isLoading(){return this.$apollo.queries.reference.loading}}},Se=Object(w.a)(we,(function(){return(0,this._self._c)("copyable-field",{staticClass:"sub-block",attrs:{"is-loading":this.isLoading,name:this.__("Reference"),value:this.reference}})}),[],!1,null,null,null).exports,_e=i("C41/"),Ie={data:()=>_e.b,computed:{reviewers(){var e;return(null===(e=this.issuable)||void 0===e||null===(e=e.reviewers)||void 0===e?void 0:e.nodes)||[]}},methods:{getIdFromGraphQLId:r.e}},Te=Object(w.a)(Ie,(function(){var e=this,t=e._self._c;return t("div",e._l(e.reviewers,(function(i){return t("input",{key:i.id,attrs:{type:"hidden",name:"merge_request[reviewer_ids][]","data-avatar-url":i.avatarUrl,"data-name":i.name,"data-username":i.username,"data-can_merge":i.mergeRequestInteraction.canMerge},domProps:{value:e.getIdFromGraphQLId(i.id)}})})),0)}),[],!1,null,null,null).exports,Oe=i("iVp9"),Ce=i("t3rQ"),xe={components:{GlCollapsibleListbox:F.a},data:()=>({status:null,selectedValue:void 0}),computed:{dropdownText(){var e=this;const t=this.$options.statusDropdownOptions.find((function(t){return t.value===e.selectedValue}));return(null==t?void 0:t.text)||this.$options.i18n.defaultDropdownText}},methods:{handleReset(){this.selectedValue=void 0}},i18n:{dropdownTitle:Object(c.a)("Change status"),defaultDropdownText:Object(c.a)("Select status"),resetText:Object(c.a)("Reset")},statusDropdownOptions:L.t},je=Object(w.a)(xe,(function(){var e=this,t=e._self._c;return t("div",[t("input",{attrs:{type:"hidden",name:"update[state_event]"},domProps:{value:e.selectedValue}}),e._v(" "),t("gl-collapsible-listbox",{attrs:{block:"","header-text":e.$options.i18n.dropdownTitle,"reset-button-label":e.$options.i18n.resetText,"toggle-text":e.dropdownText,items:e.$options.statusDropdownOptions},on:{reset:e.handleReset},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}})],1)}),[],!1,null,null,null).exports,Ee=i("uSO3"),De={subscriptionsDropdownOptions:L.u,i18n:{defaultDropdownText:Object(c.a)("Select subscription"),headerText:Object(c.a)("Change subscription"),resetText:Object(c.a)("Reset")},components:{GlCollapsibleListbox:F.a},data:()=>({selectedValue:void 0}),computed:{dropdownText(){var e=this;const t=this.$options.subscriptionsDropdownOptions.find((function(t){return t.value===e.selectedValue}));return(null==t?void 0:t.text)||this.$options.i18n.defaultDropdownText}},methods:{handleReset(){this.selectedValue=void 0}}},Ne=Object(w.a)(De,(function(){var e=this,t=e._self._c;return t("div",[t("input",{attrs:{type:"hidden",name:"update[subscription_event]"},domProps:{value:e.selectedValue}}),e._v(" "),t("gl-collapsible-listbox",{attrs:{block:"","header-text":e.$options.i18n.headerText,"reset-button-label":e.$options.i18n.resetText,"toggle-text":e.dropdownText,items:e.$options.subscriptionsDropdownOptions},on:{reset:e.handleReset},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}})],1)}),[],!1,null,null,null).exports,Ae=i("sAvI"),Pe=i.n(Ae),Fe=i("EmJ/"),Le=i.n(Fe),Re=(i("Kq6u"),i("Or2z")),qe={components:{IssuableTimeTracker:i("tyhI").a},props:{fullPath:{type:String,required:!1,default:""},issuableId:{type:String,required:!0},issuableIid:{type:String,required:!0},limitToHours:{type:Boolean,required:!1,default:!1},canAddTimeEntries:{type:Boolean,required:!1,default:!0},canSetTimeEstimate:{type:Boolean,required:!1,default:!1}},mounted(){this.listenForQuickActions()},methods:{listenForQuickActions(){var e=this;Le()(document).on("ajax:success",".gfm-form",this.quickActionListened),Re.a.$on("timeTrackingUpdated",(function(t){e.quickActionListened({detail:[t]})}))},quickActionListened(e){const t=e.detail[0];let i;i=void 0!==t&&t.commands_changes?Object.keys(t.commands_changes):[],i&&Pe()(["spend_time","time_estimate"],i).length&&Re.a.$emit("timeTracker:refresh")}}},$e=Object(w.a)(qe,(function(){var e=this._self._c;return e("div",{staticClass:"block time-tracking"},[e("issuable-time-tracker",{attrs:{"full-path":this.fullPath,"issuable-id":this.issuableId,"issuable-iid":this.issuableIid,"limit-to-hours":this.limitToHours,"can-add-time-entries":this.canAddTimeEntries,"can-set-time-estimate":this.canSetTimeEstimate}})],1)}),[],!1,null,null,null).exports,Be=i("LZrd"),Me=i("MV2A"),Ve=i("A7K0"),Ue=i("xRSn"),Ge=i("3twG"),We=i("3Wsj"),He=i.n(We),ze=i("4ORW"),Ke=i.n(ze),Qe={crmDocsLink:Ge.c+"/user/crm/",components:{GlIcon:g.a,GlLink:Me.a,GlPopover:Ve.a,HelpIcon:Ue.a},directives:{GlTooltip:m.a},props:{issueId:{type:String,required:!0},groupIssuesPath:{type:String,required:!0}},data:()=>({contacts:[]}),apollo:{contacts:{query:He.a,variables(){return this.queryVariables},update(e){var t;return null==e||null===(t=e.issue)||void 0===t||null===(t=t.customerRelationsContacts)||void 0===t?void 0:t.nodes},error(e){Object(A.createAlert)({message:Object(c.a)("Something went wrong trying to load issue contacts."),error:e,captureError:!0})},subscribeToMore:{document:Ke.a,variables(){return this.queryVariables},updateQuery(e,{subscriptionData:t}){var i;const n=null==t||null===(i=t.data)||void 0===i?void 0:i.issueCrmContactsUpdated;return e&&n?{issue:n}:e}}}},computed:{shouldShowContacts(){var e;return null===(e=this.contacts)||void 0===e?void 0:e.length},queryVariables(){return{id:Object(r.c)(a.u,this.issueId)}},contactsLabel(){return Object(c.h)(Object(c.f)("%{count} contact","%{count} contacts",this.contactCount),{count:this.contactCount})},contactCount(){var e;return(null===(e=this.contacts)||void 0===e?void 0:e.length)||0}},methods:{shouldShowPopover(e){return this.popOverData(e).length>0},divider(e){return e<this.contactCount-1?",":""},popOverData(e){var t;return[null===(t=e.organization)||void 0===t?void 0:t.name,e.email,e.phone,e.description].filter(Boolean)},getIssuesPath(e){const t=Object(r.e)(e);return`${this.groupIssuesPath}?crm_contact_id=${t}`}}},Ye=Object(w.a)(Qe,(function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.contactsLabel}},[t("gl-icon",{attrs:{name:"users"}}),e._v(" "),t("span",[e._v(" "+e._s(e.contactCount)+" ")])],1),e._v(" "),t("div",{staticClass:"hide-collapsed help-button gl-float-right"},[t("gl-link",{attrs:{href:e.$options.crmDocsLink,target:"_blank"}},[t("help-icon")],1)],1),e._v(" "),t("div",{staticClass:"hide-collapsed gl-font-bold gl-leading-20"},[e._v("\n    "+e._s(e.contactsLabel)+"\n  ")]),e._v(" "),e.shouldShowContacts?t("div",{staticClass:"hide-collapsed gl-mt-2 gl-flex gl-flex-wrap"},e._l(e.contacts,(function(i,n){return t("div",{key:n,staticClass:"gl-pr-2",attrs:{id:"contact_container_"+n}},[t("gl-link",{attrs:{id:"contact_"+n,href:e.getIssuesPath(i.id)}},[e._v(e._s(i.firstName)+" "+e._s(i.lastName)+e._s(e.divider(n)))]),e._v(" "),e.shouldShowPopover(i)?t("gl-popover",{attrs:{target:"contact_"+n,container:"contact_container_"+n,triggers:"hover focus",placement:"top"}},e._l(e.popOverData(i),(function(i){return t("div",{key:i},[e._v(e._s(i))])})),0):e._e()],1)})),0):t("div",{staticClass:"hide-collapsed gl-flex gl-items-center gl-text-subtle",attrs:{"data-testid":"crm-empty-message"}},[e._v("\n    "+e._s(e.__("To add active contacts, use /add_contacts."))+"\n  ")])])}),[],!1,null,null,null).exports,Je=i("ygVz");var Xe={name:"MoveIssueButton",components:{ProjectSelect:he},inject:["projectsAutocompleteEndpoint","projectFullPath","issueIid"],i18n:{title:Object(c.a)("Move issue"),titleInProgress:Object(c.a)("Moving issue"),moveErrorMessage:Object(c.a)("An error occurred while moving the issue.")},data:()=>({moveInProgress:!1}),computed:{dropdownButtonTitle(){return this.moveInProgress?this.$options.i18n.titleInProgress:this.$options.i18n.title}},methods:{async moveIssue(e){this.moveInProgress=!0;try{var t;const{data:i}=await this.$apollo.mutate({mutation:oe.a,variables:{moveIssueInput:{projectPath:this.projectFullPath,iid:this.issueIid,targetProjectPath:e.full_path}}});if(!i.issueMove)return;const{errors:n}=i.issueMove;if((null==n?void 0:n.length)>0)throw new Error("Error moving the issue. Error message: "+n[0].message);Object(Ge.R)(null===(t=i.issueMove)||void 0===t?void 0:t.issue.webUrl)}catch(e){Object(A.createAlert)({message:this.$options.i18n.moveErrorMessage,captureError:!0,error:e})}finally{this.moveInProgress=!1}}}},Ze=Object(w.a)(Xe,(function(){return(0,this._self._c)("project-select",{attrs:{"projects-fetch-path":this.projectsAutocompleteEndpoint,"dropdown-button-title":this.dropdownButtonTitle,"dropdown-header-title":this.$options.i18n.title,"move-in-progress":this.moveInProgress},on:{"move-issuable":this.moveIssue}})}),[],!1,null,null,null).exports,et={components:{GlCollapsibleListbox:F.a},data:()=>({value:null}),i18n:{defaultDropdownText:Object(c.a)("Select confidentiality"),headerText:Object(c.a)("Change confidentiality"),resetText:Object(c.a)("Reset")},computed:{toggleText(){return this.value?null:this.$options.i18n.defaultDropdownText}},methods:{handleReset(){this.value=null}},dropdownOptions:[{text:Object(c.a)("Confidential"),value:"true"},{text:Object(c.a)("Not confidential"),value:"false"}]},tt=Object(w.a)(et,(function(){var e=this,t=e._self._c;return t("div",[t("input",{attrs:{type:"hidden",name:"update[confidentiality]"},domProps:{value:e.value}}),e._v(" "),t("gl-collapsible-listbox",{attrs:{block:"","header-text":e.$options.i18n.headerText,"reset-button-label":e.$options.i18n.resetText,"toggle-text":e.toggleText,items:e.$options.dropdownOptions},on:{reset:e.handleReset},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,null,null).exports;function it(e=document.querySelector(".js-sidebar-options")){return JSON.parse(e.innerHTML)}function nt(e){const t=document.querySelector(".js-sidebar-reviewers-root");if(!t)return;const{id:i,iid:s,fullPath:a,multipleApprovalRulesAvailable:r=!1,directlyInviteMembers:l=!1}=it();new n.default({el:t,name:"SidebarReviewersRoot",apolloProvider:u.a,provide:{issuableIid:String(s),issuableId:String(i),projectPath:a,multipleApprovalRulesAvailable:Object(d.H)(r),directlyInviteMembers:Object(d.H)(l)},render:function(i){return i(_e.a,{props:{mediator:e,issuableIid:String(s),projectPath:a,field:t.dataset.field,issuableType:Object(d.x)()||Object(d.u)()?o.p:o.q}})}});const c=document.querySelector(".js-reviewers-inputs");c&&new n.default({el:c,render:e=>e(Te)});const p=document.querySelector(".js-sidebar-reviewer-dropdown");p&&function(e){const{trackAction:t,trackLabel:i}=e.querySelector(".js-invite-members-track").dataset;Le()(e).on("shown.bs.dropdown",(function(){Je.b.event(void 0,t,{label:i})}))}(p)}function st(){const e=document.querySelector(".js-milestone-dropdown-root");if(!e)return null;n.default.use(s.b);const{canAdminMilestone:t,fullPath:i,inputName:a,milestoneId:r,milestoneTitle:l,projectMilestonesPath:c,workspaceType:p}=e.dataset;return new n.default({el:e,name:"MilestoneDropdownRoot",apolloProvider:u.a,render:e=>e(X,{props:{attrWorkspacePath:i,canAdminMilestone:t,inputName:a,issuableType:Object(d.x)()?o.p:o.q,milestoneId:r,milestoneTitle:l,projectMilestonesPath:c,workspaceType:p}})})}async function at(){const e=document.querySelector(".js-move-issues");return e?(n.default.use(s.b),new n.default({el:e,name:"MoveIssuesRoot",apolloProvider:new s.b({defaultClient:await Object(l.a)()}),render:function(t){return t(fe,{props:{projectFullPath:e.dataset.projectFullPath,projectsFetchPath:e.dataset.projectsFetchPath}})}})):null}function rt(){const e=document.querySelector(".js-status-dropdown");return e?new n.default({el:e,name:"StatusDropdownRoot",render:function(e){return e(je)}}):null}function ot(){const e=document.querySelector(".js-subscriptions-dropdown");return e?new n.default({el:e,name:"SubscriptionsDropdownRoot",render:function(e){return e(Ne)}}):null}function lt(){const e=document.querySelector(".js-confidentiality-dropdown");return e?new n.default({el:e,name:"ConfidentialityDropdownRoot",render:function(e){return e(tt)}}):null}function dt(){var e,t,i,s;const a=document.querySelector(".js-assignee-dropdown"),o=document.querySelector(".js-assignee-ids-input");if(!a||!o)return null;const{fullPath:l}=a.dataset,d={id:null===(e=gon)||void 0===e?void 0:e.current_user_id,username:null===(t=gon)||void 0===t?void 0:t.current_username,name:null===(i=gon)||void 0===i?void 0:i.current_user_fullname,avatarUrl:null===(s=gon)||void 0===s?void 0:s.current_user_avatar_url};return new n.default({el:a,apolloProvider:u.a,data:()=>({selectedUserName:"",value:[]}),methods:{onSelectedUnassigned(){o.value=0,this.value=[],this.selectedUserName=Object(c.a)("Unassigned")},onSelected(e){o.value=e.map((function(e){return Object(r.e)(e.id)})),this.value=e,this.selectedUserName=e.map((function(e){return e.name})).join(", ")}},render(e){const t=this;return e(h.a,{props:{text:t.selectedUserName||Object(c.a)("Select assignee"),headerText:Object(c.a)("Select assignees"),fullPath:l,currentUser:d,value:t.value},on:{input(e){e.length?t.onSelected(e):t.onSelectedUnassigned()}},class:"gl-w-full"})}})}function ct(e,t){!function(){const e=document.querySelector(".js-sidebar-todo-widget-root");if(!e)return null;const{projectPath:t,iid:i,id:s}=e.dataset;new n.default({el:e,name:"SidebarTodoWidgetRoot",apolloProvider:u.a,provide:{isClassicSidebar:!0},render:function(e){return e(Be.a,{props:{fullPath:t,issuableId:Object(d.x)()||Object(d.w)()||Object(d.u)()?Object(r.c)(a.u,s):Object(r.c)(a.x,s),issuableIid:i,issuableType:Object(d.x)()||Object(d.w)()||Object(d.u)()?o.p:o.q}})}})}(),function(){const e=document.querySelector(".js-sidebar-assignees-root");if(!e)return;const{id:t,iid:i,fullPath:s,editable:a}=it(),r=Object(d.x)()||Object(d.w)()||Object(d.u)()?o.p:o.q;new n.default({el:e,name:"SidebarAssigneesRoot",apolloProvider:u.a,provide:{canUpdate:Object(d.H)(a),directlyInviteMembers:Object.prototype.hasOwnProperty.call(e.dataset,"directlyInviteMembers")},render:function(n){return n(T.a,{props:{iid:String(i),fullPath:s,issuableType:r,issuableId:t,allowMultipleAssignees:!e.dataset.maxAssignees||e.dataset.maxAssignees>1,editable:Object(d.H)(a)},scopedSlots:{collapsed:function({users:e}){return n(I,{props:{users:e,issuableType:r}})}}})}})}(),nt(e),function(){const e=document.querySelector(".js-sidebar-crm-contacts-root");if(!e)return null;const{issueId:t,groupIssuesPath:i}=e.dataset;new n.default({el:e,name:"SidebarCrmContactsRoot",apolloProvider:u.a,render:function(e){return e(Ye,{props:{issueId:t,groupIssuesPath:i}})}})}(),function(){const e=document.querySelector(".js-sidebar-labels-widget-root");e&&new n.default({el:e,name:"SidebarLabelsWidgetRoot",apolloProvider:u.a,provide:{...e.dataset,canUpdate:Object(d.H)(e.dataset.canEdit),allowLabelCreate:Object(d.H)(e.dataset.allowLabelCreate),allowLabelEdit:Object(d.H)(e.dataset.canEdit),allowScopedLabels:Object(d.H)(e.dataset.allowScopedLabels),isClassicSidebar:!0},render:function(t){return t(W.a,{props:{iid:String(e.dataset.iid),fullPath:e.dataset.projectPath,allowLabelRemove:Object(d.H)(e.dataset.canEdit),allowMultiselect:!0,footerCreateLabelTitle:Object(c.a)("Create project label"),footerManageLabelTitle:Object(c.a)("Manage project labels"),labelsCreateTitle:Object(c.a)("Create project label"),labelsFilterBasePath:e.dataset.projectIssuesPath,issuableType:Object(d.x)()||Object(d.w)()||Object(d.u)()?o.p:o.q,workspaceType:o.u,attrWorkspacePath:e.dataset.projectPath,labelCreateType:o.u},class:["block labels js-labels-block"],scopedSlots:{default:function(){return Object(c.a)("None")}}})}})}(),function(){const e=document.querySelector(".js-sidebar-milestone-widget-root");if(!e)return null;const{canEdit:t,projectPath:i,issueIid:s}=e.dataset;new n.default({el:e,name:"SidebarMilestoneWidgetRoot",apolloProvider:u.a,provide:{canUpdate:Object(d.H)(t),isClassicSidebar:!0},render:function(e){return e(Ce.a,{props:{attrWorkspacePath:i,workspacePath:i,iid:s,issuableType:Object(d.x)()||Object(d.w)()||Object(d.u)()?o.p:o.q,issuableAttribute:L.d.Milestone,icon:"milestone"}})}})}(),function(){const e=document.querySelector(".js-sidebar-due-date-widget-root");if(!e)return null;const{fullPath:t,iid:i,editable:s}=it();new n.default({el:e,name:"SidebarDueDateWidgetRoot",apolloProvider:u.a,provide:{canUpdate:Object(d.H)(s)},render:function(e){return e(N.a,{props:{iid:String(i),fullPath:t,issuableType:o.p}})}})}(),function(){const e=document.querySelector(".js-sidebar-reference-widget-root");if(!e)return null;const{fullPath:t,iid:i}=it();new n.default({el:e,name:"SidebarReferenceWidgetRoot",apolloProvider:u.a,provide:{iid:String(i),fullPath:t},render:function(e){return e(Se,{props:{issuableType:Object(d.x)()||Object(d.w)()||Object(d.u)()?o.p:o.q}})}})}(),function(e){const t=document.querySelector(".js-sidebar-lock-root");if(!t||!e)return null;const{fullPath:i,editable:s}=it();new n.default({el:t,name:"SidebarLockRoot",store:e,provide:{fullPath:i},render:function(e){return e(H.a,{props:{isEditable:Object(d.H)(s)}})}})}(t),function(){const e=document.querySelector(".js-sidebar-participants-widget-root");if(!e)return null;const{fullPath:t,iid:i}=it();new n.default({el:e,name:"SidebarParticipantsWidgetRoot",apolloProvider:u.a,render:function(e){return e(ke,{props:{iid:String(i),fullPath:t,issuableType:Object(d.x)()||Object(d.w)()||Object(d.u)()?o.p:o.q}})}})}(),function(){const e=document.querySelector(".js-sidebar-subscriptions-widget-root");if(!e)return null;const{fullPath:t,iid:i,editable:s}=it();new n.default({el:e,name:"SidebarSubscriptionsWidgetRoot",apolloProvider:u.a,provide:{canUpdate:Object(d.H)(s)},render:function(e){return e(Ee.a,{props:{iid:String(i),fullPath:t,issuableType:Object(d.x)()||Object(d.w)()||Object(d.u)()?o.p:o.q}})}})}(),function(){const e=document.querySelector(".js-sidebar-copy-email-root");if(!e)return null;const{createNoteEmail:t}=it();new n.default({el:e,name:"SidebarCopyEmailRoot",render:function(e){return e(D,{props:{issueEmailAddress:t}})}})}(),function(){const e=document.querySelector(".js-sidebar-time-tracking-root"),{id:t,iid:i,fullPath:s,issuableType:a,timeTrackingLimitToHours:r,canCreateTimelogs:o,editable:l}=it();e&&new n.default({el:e,name:"SidebarTimeTrackingRoot",apolloProvider:u.a,provide:{issuableType:a},render:function(e){return e($e,{props:{fullPath:s,issuableId:t.toString(),issuableIid:i.toString(),limitToHours:r,canAddTimeEntries:o,canSetTimeEstimate:Object(d.H)(l)}})}})}(),function(){const e=document.querySelector(".js-sidebar-severity-widget-root");if(!e)return null;const{fullPath:t,iid:i,severity:s,editable:a}=it();new n.default({el:e,name:"SidebarSeverityWidgetRoot",apolloProvider:u.a,provide:{canUpdate:Object(d.H)(a)},render:function(e){return e(Oe.a,{props:{projectPath:t,iid:String(i),initialSeverity:s.toUpperCase()}})}})}(),function(){const e=document.querySelector(".js-sidebar-escalation-status-root");if(!e)return null;const{issuableType:t}=it(),{canUpdate:i,issueIid:s,projectPath:a}=e.dataset;new n.default({el:e,name:"SidebarEscalationStatusRoot",apolloProvider:u.a,provide:{canUpdate:Object(d.H)(i)},render:function(e){return e(G,{props:{iid:s,issuableType:t,projectPath:a}})}})}(),function(){const e=document.querySelector(".js-sidebar-move-issue-block");if(!e)return null;const{projectsAutocompleteEndpoint:t}=it(),{projectFullPath:i,issueIid:a}=e.dataset;n.default.use(s.b),new n.default({el:e,name:"MoveIssueDropdownRoot",apolloProvider:u.a,provide:{projectsAutocompleteEndpoint:t,projectFullPath:i,issueIid:a},render:function(e){return e(Ze)}})}()}n.default.use(p.a),n.default.use(s.b)},q2HD:function(e,t,i){var n=i("XpzN"),s=i("QA6A");e.exports=function(e){return s(e)&&"[object RegExp]"==n(e)}},qC4q:function(e,t,i){"use strict";var n=i("s1D3"),s=i("MV2A"),a=i("/lV4"),r=i("IsdW"),o={components:{GlIcon:n.a,GlLink:s.a},mixins:[r.a],props:{issuableType:{required:!0,type:String}},computed:{issuableDisplayName(){return this.issuableType.replace(/_/g," ")},projectArchivedWarning:()=>Object(a.a)("This project is archived and cannot be commented on."),lockedIssueWarning(){return Object(a.h)(Object(a.a)("The discussion in this %{issuableDisplayName} is locked. Only project members can comment."),{issuableDisplayName:this.issuableDisplayName})}}},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-mt-3",attrs:{"data-testid":"disabled-comments"}},[t("span",{staticClass:"issuable-note-warning gl-inline-block gl-w-full gl-rounded-base gl-px-5 gl-py-4"},[t("gl-icon",{staticClass:"icon",attrs:{size:16,name:"lock"}}),e._v(" "),e.isProjectArchived?t("span",[e._v("\n      "+e._s(e.projectArchivedWarning)+"\n      "),t("gl-link",{staticClass:"learn-more",attrs:{href:e.archivedProjectDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1):t("span",[e._v("\n      "+e._s(e.lockedIssueWarning)+"\n      "),t("gl-link",{staticClass:"learn-more",attrs:{href:e.lockedIssueDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1)],1)])}),[],!1,null,null,null);t.a=d.exports},qVG1:function(e,t,i){"use strict";var n=i("Tmea"),s=i.n(n),a=i("KFC0"),r=i.n(a),o=i("j5yP"),l=i.n(o),d=i("eVUo"),c=i("XBTk"),u=i("EldY"),p=i("s1D3"),h=i("MV2A"),m=i("Pyw5"),f=i.n(m);const g={name:"Pagination",components:{GlLink:h.a,GlIcon:p.a},model:{prop:"value",event:"input"},props:{value:{type:Number,required:!1,default:1,validator:e=>e>0},perPage:{type:Number,required:!1,default:20,validator:e=>e>0},totalItems:{type:Number,required:!1,default:0},limits:{type:Object,required:!1,default:()=>({xs:0,sm:3,md:9,default:9}),validator:e=>0===Object.keys(d.b).filter(t=>!e[t]).length||e.default},linkGen:{type:Function,required:!1,default:null},prevPage:{type:Number,required:!1,default:null},prevText:{type:String,required:!1,default:Object(u.b)("GlPagination.prevText","Previous")},nextPage:{type:Number,required:!1,default:null},nextText:{type:String,required:!1,default:Object(u.b)("GlPagination.nextText","Next")},ellipsisText:{type:String,required:!1,default:"â¦"},labelNav:{type:String,required:!1,default:Object(u.b)("GlPagination.nav","Pagination")},labelFirstPage:{type:String,required:!1,default:Object(u.b)("GlPagination.labelFirstPage","Go to first page")},labelPrevPage:{type:String,required:!1,default:Object(u.b)("GlPagination.labelPrevPage","Go to previous page")},labelNextPage:{type:String,required:!1,default:Object(u.b)("GlPagination.labelNextPage","Go to next page")},labelLastPage:{type:String,required:!1,default:Object(u.b)("GlPagination.labelLastPage","Go to last page")},labelPage:{type:[Function,String],required:!1,default:Object(u.b)("GlPagination.labelPage","Go to page %{page}")},align:{type:String,required:!1,default:c.f.left,validator:e=>Object.keys(c.f).includes(e)},disabled:{type:Boolean,required:!1,default:!1}},data:()=>({breakpoint:d.a.getBreakpointSize(),minTotalPagesToCollapse:4}),computed:{isVisible(){return this.totalPages>1||this.isCompactPagination},isLinkBased(){return r()(this.linkGen)},paginationLimit(){return void 0!==this.limits[this.breakpoint]?this.limits[this.breakpoint]:this.limits.default},maxAdjacentPages(){return Math.max(Math.ceil((this.paginationLimit-1)/2),0)},totalPages(){return Math.ceil(this.totalItems/this.perPage)},isFillAlign(){return this.align===c.f.fill},wrapperClasses(){const e=[];return this.align===c.f.center&&e.push("gl-justify-center"),this.align===c.f.right&&e.push("gl-justify-end"),this.isFillAlign&&e.push("gl-text-center"),e},shouldCollapseLeftSide(){const e=this.value-this.maxAdjacentPages;return e>=this.maxAdjacentPages&&e>3&&this.totalPages>this.minTotalPagesToCollapse},shouldCollapseRightSide(){return this.totalPages-2-this.value>this.maxAdjacentPages&&this.totalPages>this.minTotalPagesToCollapse},visibleItems(){let e=[];if(!this.isCompactPagination){let n=this.shouldCollapseLeftSide?this.value-this.maxAdjacentPages:1;n=Math.min(n,this.totalPages-1);let s=this.shouldCollapseRightSide?this.value+this.maxAdjacentPages:this.totalPages;s=Math.max(s,2),e=(t=n,i=s,l()(t,i+1,1)).map(e=>this.getPageItem(e)),this.shouldCollapseLeftSide&&e.splice(0,0,this.getPageItem(1,this.labelFirstPage),this.getEllipsisItem("left")),this.shouldCollapseRightSide&&e.push(this.getEllipsisItem("right"),this.getPageItem(this.totalPages,this.labelLastPage))}var t,i;return e},isCompactPagination(){return Boolean(!this.totalItems&&(this.prevPage||this.nextPage))},prevPageIsDisabled(){return this.pageIsDisabled(this.value-1)},nextPageIsDisabled(){return this.pageIsDisabled(this.value+1)},prevPageAriaLabel(){return!this.prevPageIsDisabled&&(this.labelPrevPage||this.labelForPage(this.value-1))},nextPageAriaLabel(){return!this.nextPageIsDisabled&&(this.labelNextPage||this.labelForPage(this.value+1))},prevPageHref(){return!this.prevPageIsDisabled&&(this.isLinkBased?this.linkGen(this.value-1):"#")},nextPageHref(){return!this.nextPageIsDisabled&&(this.isLinkBased?this.linkGen(this.value+1):"#")}},created(){window.addEventListener("resize",s()(this.setBreakpoint,c.H))},beforeDestroy(){window.removeEventListener("resize",s()(this.setBreakpoint,c.H))},methods:{labelForPage(e){return r()(this.labelPage)?this.labelPage(e):Object(u.a)(this.labelPage,{page:e})},setBreakpoint(){this.breakpoint=d.a.getBreakpointSize()},pageIsDisabled(e){return this.disabled||e<1||this.isCompactPagination&&e>this.value&&!this.nextPage||!this.isCompactPagination&&e>this.totalPages},getPageItem(e){const t={"aria-label":(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||this.labelForPage(e),href:"#",class:[]},i=e===this.value,n=this.pageIsDisabled(e),s={...t},a={};return i&&(s.class.push("active"),s["aria-current"]="page"),this.isLinkBased&&(s.href=this.linkGen(e)),a.click=t=>this.handleClick(t,e),{content:e,component:n?"span":h.a,disabled:n,key:"page_"+e,slot:"page-number",slotData:{page:e,active:i,disabled:n},attrs:s,listeners:a}},getEllipsisItem(e){return{content:this.ellipsisText,key:"ellipsis_"+e,slot:"ellipsis-"+e,component:"span",disabled:!0,slotData:{},listeners:{}}},handleClick(e,t){this.isLinkBased||(e.preventDefault(),this.$emit("input",t))},handlePrevious(e,t){this.handleClick(e,t),this.$emit("previous")},handleNext(e,t){this.handleClick(e,t),this.$emit("next")}}};const v=f()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isVisible?i("nav",{staticClass:"gl-pagination",attrs:{"aria-label":e.labelNav}},[i("ul",{class:e.wrapperClasses},[i("li",{class:{disabled:e.prevPageIsDisabled,"gl-flex-auto":e.isFillAlign},attrs:{"aria-disabled":e.prevPageIsDisabled,"aria-hidden":e.prevPageIsDisabled,"data-testid":"gl-pagination-li"}},[i(e.prevPageIsDisabled?"span":"a",{tag:"component",staticClass:"gl-pagination-item",attrs:{"data-testid":"gl-pagination-prev","aria-label":e.prevPageAriaLabel,href:e.prevPageHref},on:{click:function(t){!e.prevPageIsDisabled&&e.handlePrevious(t,e.value-1)}}},[e._t("previous",(function(){return[i("gl-icon",{attrs:{name:"chevron-left"}}),e._v(" "),i("span",{staticClass:"gl-hidden sm:gl-block"},[e._v(e._s(e.prevText))])]}),null,{page:e.value-1,disabled:e.prevPageIsDisabled})],2)],1),e._v(" "),e._l(e.visibleItems,(function(t){return i("li",{key:t.key,class:{disabled:t.disabled,"gl-flex-auto":e.isFillAlign},attrs:{"data-testid":"gl-pagination-li"}},[i(t.component,e._g(e._b({tag:"component",staticClass:"gl-pagination-item",attrs:{"data-testid":"gl-pagination-item",size:"md","aria-disabled":t.disabled}},"component",t.attrs,!1),t.listeners),[e._t(t.slot,(function(){return[e._v(e._s(t.content))]}),null,t.slotData)],2)],1)})),e._v(" "),i("li",{class:{disabled:e.nextPageIsDisabled,"gl-flex-auto":e.isFillAlign},attrs:{"aria-disabled":e.nextPageIsDisabled,"aria-hidden":e.nextPageIsDisabled,"data-testid":"gl-pagination-li"}},[i(e.nextPageIsDisabled?"span":"a",{tag:"component",staticClass:"gl-pagination-item",attrs:{"data-testid":"gl-pagination-next","aria-label":e.nextPageAriaLabel,href:e.nextPageHref},on:{click:function(t){!e.nextPageIsDisabled&&e.handleNext(t,e.value+1)}}},[e._t("next",(function(){return[i("span",{staticClass:"gl-hidden sm:gl-block"},[e._v(e._s(e.nextText))]),e._v(" "),i("gl-icon",{attrs:{name:"chevron-right"}})]}),null,{page:e.value+1,disabled:e.nextPageIsDisabled})],2)],1)],2)]):e._e()},staticRenderFns:[]},void 0,g,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=v},qifX:function(e,t,i){var n=i("xJuT"),s=i("UwPs");e.exports=function(e,t){return e&&n(t,s(t),e)}},qjHl:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return d}));var n=i("EmJ/"),s=i.n(n);const a=function(){return s()(document).height()>s()(window).height()},r=function(){const{scrollHeight:e,scrollTop:t,clientHeight:i}=document.documentElement;return Math.ceil(t+i)>=e},o=function(){return 0===s()(document).scrollTop()},l=function(){const e=s()(document);e.scrollTop(e.height())},d=function(){s()(document).scrollTop(0)}},qoeT:function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"e",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l}));var n=i("/lV4");const s="issue",a="merge-request",r="milestone",o=[s,a,r],l={[s]:{path:"issues/new",label:Object(n.a)("issue")},[a]:{path:"merge_requests/new",label:Object(n.a)("merge request")},[r]:{path:"milestones/new",label:Object(n.a)("milestone")}}},qxsN:function(e,t){var i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n="["+i+"]",s="\\d+",a="[\\u2700-\\u27bf]",r="[a-z\\xdf-\\xf6\\xf8-\\xff]",o="[^\\ud800-\\udfff"+i+s+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[A-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:"+r+"|"+o+")",p="(?:"+c+"|"+o+")",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",m="[\\ufe0e\\ufe0f]?"+h+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,d].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*"),f="(?:"+[a,l,d].join("|")+")"+m,g=RegExp([c+"?"+r+"+(?:['â](?:d|ll|m|re|s|t|ve))?(?="+[n,c,"$"].join("|")+")",p+"+(?:['â](?:D|LL|M|RE|S|T|VE))?(?="+[n,c+u,"$"].join("|")+")",c+"?"+u+"+(?:['â](?:d|ll|m|re|s|t|ve))?",c+"+(?:['â](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,f].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},rDVI:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}));const n={project_id:"projectId",group_id:"groupId",todo_filter:"todoFilter",todo_state_filter:"todoStateFilter",current_user:"showCurrentUser",author_id:"authorId",states:"states"},s=["active","blocked","ldap_blocked"]},"rK/1":function(e,t,i){"use strict";var n=i("o4PY"),s=i.n(n),a=i("z1xw"),r=i("4lAS"),o=i("D+x4"),l=i("/lV4"),d=i("cmKv"),c={name:"ClipboardButton",i18n:{copied:Object(l.a)("Copied"),error:d.c},CLIPBOARD_SUCCESS_EVENT:d.b,CLIPBOARD_ERROR_EVENT:d.a,directives:{GlTooltip:a.a},components:{GlButton:r.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},tooltipBoundary:{type:String,required:!1,default:null},cssClass:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"secondary"},size:{type:String,required:!1,default:"medium"},variant:{type:String,required:!1,default:"default"}},data(){return{localTitle:this.title,titleTimeout:null,id:null}},computed:{clipboardText(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text},tooltipDirectiveOptions(){return{placement:this.tooltipPlacement,container:this.tooltipContainer,boundary:this.tooltipBoundary}},sanitizedLocalTitle(){return Object(o.b)(this.localTitle)}},created(){this.id=s()("clipboard-button-")},methods:{updateTooltip(e){var t=this;this.localTitle=e,this.$root.$emit("bv::show::tooltip",this.id),clearTimeout(this.titleTimeout),this.titleTimeout=setTimeout((function(){t.localTitle=t.title,t.$root.$emit("bv::hide::tooltip",t.id)}),1e3)}}},u=i("tBpV"),p=Object(u.a)(c,(function(){var e=this;return(0,e._self._c)("gl-button",e._g({directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus.click.viewport.html",value:e.tooltipDirectiveOptions,expression:"tooltipDirectiveOptions",modifiers:{hover:!0,focus:!0,click:!0,viewport:!0,html:!0}}],ref:"copyButton",class:e.cssClass,attrs:{id:e.id,title:e.sanitizedLocalTitle,"data-clipboard-text":e.clipboardText,"data-clipboard-handle-tooltip":"false",category:e.category,size:e.size,icon:"copy-to-clipboard",variant:e.variant,"aria-label":e.sanitizedLocalTitle,"aria-live":"polite"},on:e._d({},[e.$options.CLIPBOARD_SUCCESS_EVENT,function(t){return e.updateTooltip(e.$options.i18n.copied)},e.$options.CLIPBOARD_ERROR_EVENT,function(t){return e.updateTooltip(e.$options.i18n.error)}])},e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.a=p.exports},rRem:function(e,t,i){var n=i("IAil"),s=i("rhmX"),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(a,n).replace(r,"")}},rc4H:function(e,t,i){var n=i("nHTl"),s=i("n5sF");e.exports=function(e,t){return e&&e.length?s(e,n(t,3),!1,!0):[]}},rxWs:function(e,t,i){(function(){var e,n,s,a,r,o,l,d,c,u;u=i("AUvv"),s=u.isMatch,a=u.isWordStart,c=u.scoreConsecutives,d=u.scoreCharacter,l=u.scoreAcronyms,t.match=r=function(t,i,a){var r,l,d,c,u,p;return r=a.allowErrors,u=a.preparedQuery,c=a.pathSeparator,r||s(t,u.core_lw,u.core_up)?(p=t.toLowerCase(),0===(d=n(t,p,u)).length||t.indexOf(c)>-1&&(l=e(t,p,u,c),d=o(d,l)),d):[]},t.wrap=function(e,t,i){var n,s,a,o,l,d,c,u,p;if(null!=i.wrap&&(d=(p=i.wrap).tagClass,u=p.tagOpen,c=p.tagClose),null==d&&(d="highlight"),null==u&&(u='<strong class="'+d+'">'),null==c&&(c="</strong>"),e===t)return u+e+c;if(0===(a=r(e,0,i)).length)return e;for(o="",n=-1,l=0;++n<a.length;){for((s=a[n])>l&&(o+=e.substring(l,s),l=s);++n<a.length;){if(a[n]!==s+1){n--;break}s++}++s>l&&(o+=u,o+=e.substring(l,s),o+=c,l=s)}return l<=e.length-1&&(o+=e.substring(l)),o},e=function(e,t,i,s){var a,r,o;for(o=e.length-1;e[o]===s;)o--;if(-1===(a=e.lastIndexOf(s,o)))return[];for(r=i.depth;r-- >0;)if(-1===(a=e.lastIndexOf(s,a-1)))return[];return a++,o++,n(e.slice(a,o),t.slice(a,o),i,a)},o=function(e,t){var i,n,s,a,r,o,l;if(r=e.length,0===(o=t.length))return e.slice();if(0===r)return t.slice();for(s=-1,n=t[a=0],l=[];++s<r;){for(i=e[s];n<=i&&++a<o;)n<i&&l.push(n),n=t[a];l.push(i)}for(;a<o;)l.push(t[a++]);return l},n=function(e,t,i,n){var s,r,o,u,p,h,m,f,g,v,b,y,k,w,S,_,I,T,O,C,x,j;for(null==n&&(n=0),w=i.query,S=i.query_lw,g=e.length,y=w.length,s=l(e,t,w,S).score,T=new Array(y),p=new Array(y),0,1,2,3,j=new Array(g*y),k=-1,f=-1;++f<y;)T[f]=0,p[f]=0;for(m=-1;++m<g;)for(_=0,O=0,u=0,C=t[m],f=-1;++f<y;)h=0,r=0,I=O,S[f]===C&&(x=a(m,e,t),h=u>0?u:c(e,t,w,S,m,f,x),r=I+d(m,f,x,s,h)),O=T[f],u=p[f],_>O?b=2:(_=O,b=1),r>_?(_=r,b=3):h=0,T[f]=_,p[f]=h,j[++k]=_>0?b:0;for(k=(m=g-1)*y+(f=y-1),o=!0,v=[];o&&m>=0&&f>=0;)switch(j[k]){case 1:m--,k-=y;break;case 2:f--,k--;break;case 3:v.push(m+n),f--,m--,k-=y+1;break;default:o=!1}return v.reverse(),v}}).call(this)},sAvI:function(e,t,i){var n=i("90g9"),s=i("+GAp"),a=i("Opi0"),r=i("S9bi"),o=a((function(e){var t=n(e,r);return t.length&&t[0]===e[0]?s(t):[]}));e.exports=o},"sF+2":function(e,t,i){"use strict";var n=i("8Ei6"),s=i.n(n),a=i("9k56"),r=i("3hkr"),o=i("CU79"),l=i("jIK5"),d=i("BBKf"),c=i("VuSA"),u=i("hII5"),p=i("5TS0"),h=i("aBA8"),m=i("QcjV");const f=o.U+"active",g=Object(u.c)(Object(c.m)({...p.b,active:Object(u.b)(l.g,!1),buttonId:Object(u.b)(l.r),disabled:Object(u.b)(l.g,!1),lazy:Object(u.b)(l.g,!1),noBody:Object(u.b)(l.g,!1),tag:Object(u.b)(l.r,"div"),title:Object(u.b)(l.r),titleItemClass:Object(u.b)(l.e),titleLinkAttributes:Object(u.b)(l.n),titleLinkClass:Object(u.b)(l.e)}),r.N),v=Object(a.c)({name:r.N,mixins:[p.a,h.a],inject:{getBvTabs:{default:()=>()=>({})}},props:g,data(){return{localActive:this.active&&!this.disabled}},computed:{bvTabs(){return this.getBvTabs()},_isTab:()=>!0,tabClasses(){const{localActive:e,disabled:t}=this;return[{active:e,disabled:t,"card-body":this.bvTabs.card&&!this.noBody},e?this.bvTabs.activeTabClass:null]},controlledBy(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade(){return!this.bvTabs.fade},computedLazy(){return this.bvTabs.lazy||this.lazy}},watch:{active(e,t){e!==t&&(e?this.activate():this.deactivate()||this.$emit(f,this.localActive))},disabled(e,t){if(e!==t){const{firstTab:t}=this.bvTabs;e&&this.localActive&&t&&(this.localActive=!1,t())}},localActive(e){this.$emit(f,e)}},mounted(){this.registerTab()},updated(){const{updateButton:e}=this.bvTabs;e&&this.hasNormalizedSlot(d.A)&&e(this)},beforeDestroy(){this.unregisterTab()},methods:{registerTab(){const{registerTab:e}=this.bvTabs;e&&e(this)},unregisterTab(){const{unregisterTab:e}=this.bvTabs;e&&e(this)},activate(){const{activateTab:e}=this.bvTabs;return!(!e||this.disabled)&&e(this)},deactivate(){const{deactivateTab:e}=this.bvTabs;return!(!e||!this.localActive)&&e(this)}},render(e){const{localActive:t}=this,i=e(this.tag,{staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",value:t}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":t?"false":"true","aria-labelledby":this.controlledBy||null},ref:"panel"},[t||!this.computedLazy?this.normalizeSlot():e()]);return e(m.a,{props:{mode:"out-in",noFade:this.computedNoFade}},[i])}});var b=i("Pyw5");const y={name:"GlTab",components:{BTab:v},inheritAttrs:!1,props:{titleLinkClass:{type:[String,Array,Object],required:!1,default:""},queryParamValue:{type:String,required:!1,default:null}},computed:{linkClass(){const{titleLinkClass:e}=this;return Array.isArray(e)?[...e,"gl-tab-nav-item"]:s()(e)?{...e,"gl-tab-nav-item":!0}:(e+" gl-tab-nav-item").trim()}}};const k=i.n(b)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-tab",e._g(e._b({attrs:{"title-link-class":e.linkClass,"query-param-value":e.queryParamValue},scopedSlots:e._u([e._l(Object.keys(e.$slots),(function(t){return{key:t,fn:function(){return[e._t(t)]},proxy:!0}}))],null,!0)},"b-tab",e.$attrs,!1),e.$listeners))},staticRenderFns:[]},void 0,y,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=k},sZvX:function(e,t,i){"use strict";var n=i("mFhR"),s=i("tbP8"),a=i("yi8e"),r=i("Mp8J"),o=i("STGD"),l=i("OgyL"),d={name:"PlaceholderNote",directives:{SafeHtml:r.a},components:{GlAvatarLink:n.a,GlAvatar:s.a,TimelineEntryItem:l.a},props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},isOverviewTab:{type:Boolean,required:!1,default:!1},internalNote:{type:Boolean,required:!1,default:!1}},computed:{...Object(a.d)(["getUserData"]),renderedNote(){return Object(o.c)(this.note.body)},internalNoteClass(){return{"internal-note":this.internalNote}}}},c=i("tBpV"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("timeline-entry-item",{staticClass:"note note-wrapper note-comment being-posted fade-in-half",class:e.internalNoteClass},[t("div",{staticClass:"timeline-avatar gl-float-left"},[t("gl-avatar-link",{attrs:{href:e.getUserData.path}},[t("gl-avatar",{attrs:{src:e.getUserData.avatar_url,"entity-name":e.getUserData.username,alt:e.getUserData.name,size:32}})],1)],1),e._v(" "),t("div",{ref:"note",staticClass:"timeline-content",class:{discussion:!e.note.individual_note}},[t("div",{staticClass:"note-header"},[t("div",{staticClass:"note-header-info"},[t("a",{attrs:{href:e.getUserData.path}},[t("span",{staticClass:"gl-hidden gl-font-bold sm:gl-inline-block"},[e._v(e._s(e.getUserData.name))]),e._v(" "),t("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.getUserData.username))])])])]),e._v(" "),t("div",{staticClass:"timeline-discussion-body"},[t("div",{staticClass:"note-body"},[t("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.renderedNote,expression:"renderedNote"}],staticClass:"note-text md"})])])])])}),[],!1,null,null,null);t.a=u.exports},sz4L:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return l}));var n=i("9k56"),s=i("jIK5"),a=i("BBKf"),r=i("Xhk9"),o=i("hII5");const l={caption:Object(o.b)(s.r),captionHtml:Object(o.b)(s.r)},d=Object(n.c)({props:l,computed:{captionId(){return this.isStacked?this.safeId("_caption_"):null}},methods:{renderCaption(){const{caption:e,captionHtml:t}=this,i=this.$createElement;let n=i();const s=this.hasNormalizedSlot(a.v);return(s||e||t)&&(n=i("caption",{attrs:{id:this.captionId},domProps:s?{}:Object(r.a)(t,e),key:"caption",ref:"caption"},this.normalizeSlot(a.v))),n}}})},t3rQ:function(e,t,i){"use strict";var n=i("17OG"),s=i.n(n),a=i("wCL9"),r=i.n(a),o=i("z1xw"),l=i("MV2A"),d=i("s1D3"),c=i("A7K0"),u=i("4lAS"),p=i("jlnU"),h=i("FxFN"),m=i("AxUD"),f=i("bOix"),g=i("/lV4"),v=i("sHIo"),b=i("H3X6"),y=i("d6eQ"),k=i("PF+b"),w=i("kMc5"),S={i18n:{expired:Object(g.a)("(expired)"),none:Object(g.a)("None")},directives:{GlTooltip:o.a},components:{GlLink:l.a,GlIcon:d.a,GlPopover:c.a,GlButton:u.a,SidebarDropdown:k.a,SidebarEditableItem:w.a},mixins:[Object(v.a)()],inject:{isClassicSidebar:{default:!1},issuableAttributesQueries:{default:y.f},widgetTitleText:{default:{[b.d.Milestone]:Object(g.a)("Milestone"),expired:Object(g.a)("(expired)"),none:Object(g.a)("None")}}},props:{issuableAttribute:{type:String,required:!0},workspacePath:{required:!0,type:String},iid:{required:!0,type:String},attrWorkspacePath:{required:!0,type:String},issuableType:{type:String,required:!0,validator:e=>[m.p,m.q].includes(e)},icon:{type:String,required:!1,default:void 0},showWorkItemEpics:{type:Boolean,required:!1,default:!1},isEpicAttribute:{type:Boolean,required:!1,default:!1},issuableParent:{type:Object,required:!1,default:null}},apollo:{issuable:{query(){const{current:e}=this.issuableAttributeQuery,{query:t}=e[this.issuableType];return t},variables(){return{fullPath:this.workspacePath,iid:this.iid}},update(e){var t;return(null===(t=e.workspace)||void 0===t?void 0:t.issuable)||{}},result({data:e}){var t,i;null!==(t=this.glFeatures)&&void 0!==t&&t.epicWidgetEditConfirmation&&this.isEpicAttribute&&(this.hasCurrentAttribute=null==e||null===(i=e.workspace)||void 0===i?void 0:i.issuable.hasEpic)},skip(){return!this.iid},error(e){Object(p.createAlert)({message:this.i18n.currentFetchError,captureError:!0,error:e})},subscribeToMore:{document(){return y.f[this.issuableAttribute].subscription},variables(){return{issuableId:this.issuableId}},skip(){return this.shouldSkipRealTimeEpicLinkUpdates}}}},data(){return{updating:!1,selectedTitle:null,issuable:{},hasCurrentAttribute:!1,editConfirmation:!1,tracking:{event:b.m.editEvent,label:b.m.rightSidebarLabel,property:this.issuableAttribute}}},computed:{currentAttribute(){var e;return this.isEpicAttribute&&null!==(e=this.issuableParent)&&void 0!==e&&e.attribute?this.issuableParent.attribute:this.issuable.attribute},issuableId(){return this.issuable.id},issuableAttributeQuery(){return this.issuableAttributesQueries[this.issuableAttribute]},attributeTitle(){var e;return(null===(e=this.currentAttribute)||void 0===e?void 0:e.title)||Object(g.a)("None")},attributeUrl(){var e;return null===(e=this.currentAttribute)||void 0===e?void 0:e.webUrl},loading(){return this.$apollo.queries.issuable.loading},attributeTypeTitle(){return this.widgetTitleText[this.issuableAttribute]},attributeTypeIcon(){return this.icon||this.issuableAttribute},tooltipText(){var e;return Object(f.S)(null===(e=this.currentAttribute)||void 0===e?void 0:e.dueDate)},i18n(){const e=b.f[b.e[this.issuableAttribute]];return Object(b.q)(e,this.issuableType)},formatIssuableAttribute(){return{kebab:r()(this.issuableAttribute),snake:s()(this.issuableAttribute)}},shouldShowConfirmationPopover(){var e;return!(null===(e=this.glFeatures)||void 0===e||!e.epicWidgetEditConfirmation)&&(!(!this.isEpicAttribute||null!==this.currentAttribute||!this.hasCurrentAttribute)&&!this.editConfirmation)},shouldSkipRealTimeEpicLinkUpdates(){return!this.issuableId||this.issuableAttribute!==b.d.Epic}},methods:{updateAttribute({id:e,workItemType:t}){var i,n=this;if((null!==this.currentAttribute||null!==e)&&e!==(null===(i=this.currentAttribute)||void 0===i?void 0:i.id))if(this.showWorkItemEpics&&this.isEpicAttribute)this.$emit("updateAttribute",{id:e,workItemType:t});else{this.updating=!0;const{current:t}=this.issuableAttributeQuery,{mutation:i}=t[this.issuableType];this.$apollo.mutate({mutation:i,variables:{fullPath:this.workspacePath,attributeId:this.issuableAttribute===b.d.Milestone&&this.issuableType===m.p?Object(h.e)(e):e,iid:this.iid}}).then((function({data:e}){var t;null!==(t=e.issuableSetAttribute)&&void 0!==t&&null!==(t=t.errors)&&void 0!==t&&t.length?Object(p.createAlert)({message:e.issuableSetAttribute.errors[0],captureError:!0,error:e.issuableSetAttribute.errors[0]}):n.$emit("attribute-updated",e)})).catch((function(e){Object(p.createAlert)({message:n.i18n.updateError,captureError:!0,error:e})})).finally((function(){n.updating=!1,n.selectedTitle=null}))}},isAttributeOverdue(e){return this.issuableAttribute===b.d.Milestone&&(null==e?void 0:e.expired)},showDropdown(){this.$refs.dropdown.show()},handlePopoverClose(){this.$refs.popover.$emit("close")},handlePopoverConfirm(e){this.editConfirmation=!0,this.handlePopoverClose(),setTimeout(e,0)},handleEditConfirmation(){this.$refs.popover.$emit("open")}}},_=i("tBpV"),I=Object(_.a)(S,(function(){var e=this,t=e._self._c;return t("sidebar-editable-item",{ref:"editable",attrs:{title:e.attributeTypeTitle,"data-testid":e.formatIssuableAttribute.kebab+"-edit","button-id":e.formatIssuableAttribute.kebab+"-edit",tracking:e.tracking,"should-show-confirmation-popover":e.shouldShowConfirmationPopover,loading:e.updating||e.loading},on:{open:e.showDropdown,"edit-confirm":e.handleEditConfirmation},scopedSlots:e._u([{key:"collapsed",fn:function(){return[e._t("value-collapsed",(function(){return[e.isClassicSidebar?t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.attributeTypeTitle}},[t("gl-icon",{attrs:{"aria-label":e.attributeTypeTitle,name:e.attributeTypeIcon}}),e._v(" "),t("span",{staticClass:"collapse-truncated-title gl-px-3 gl-pt-2 gl-text-sm"},[e._v("\n          "+e._s(e.attributeTitle)+"\n        ")])],1):e._e()]}),{currentAttribute:e.currentAttribute}),e._v(" "),t("div",{class:e.isClassicSidebar?"hide-collapsed":"gl-mt-3",attrs:{"data-testid":"select-"+e.formatIssuableAttribute.kebab}},[e.updating?t("span",[e._v(e._s(e.selectedTitle))]):!e.currentAttribute&&e.hasCurrentAttribute?[t("gl-icon",{attrs:{name:"warning",variant:"warning"}}),e._v(" "),t("span",{staticClass:"gl-text-subtle"},[e._v(e._s(e.i18n.noPermissionToView))])]:e.currentAttribute?e._t("value",(function(){return[t("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipText,expression:"tooltipText"}],staticClass:"gl-text-inherit hover:gl-text-blue-800",attrs:{href:e.attributeUrl,"data-testid":e.formatIssuableAttribute.kebab+"-link"}},[e._v("\n          "+e._s(e.attributeTitle)+"\n          "),e.isAttributeOverdue(e.currentAttribute)?t("span",[e._v(e._s(e.$options.i18n.expired))]):e._e()])]}),{attributeTitle:e.attributeTitle,attributeUrl:e.attributeUrl,currentAttribute:e.currentAttribute}):t("span",{staticClass:"gl-text-subtle"},[e._v("\n        "+e._s(e.$options.i18n.none)+"\n      ")])],2)]},proxy:!0},e.shouldShowConfirmationPopover?{key:"default",fn:function({toggle:i}){return[t("gl-popover",{ref:"popover",attrs:{target:e.formatIssuableAttribute.kebab+"-edit",placement:"bottomleft",boundary:"viewport",triggers:"click"}},[t("div",{staticClass:"gl-mb-4 gl-text-base"},[e._v("\n        "+e._s(e.i18n.editConfirmation)+"\n      ")]),e._v(" "),t("div",{staticClass:"gl-flex gl-items-center"},[t("gl-button",{attrs:{size:"small",variant:"confirm",category:"primary","data-testid":"confirm-edit-cta"},on:{click:function(t){return t.preventDefault(),function(){return e.handlePopoverConfirm(i)}.apply(null,arguments)}}},[e._v(e._s(e.i18n.editConfirmationCta))]),e._v(" "),t("gl-button",{staticClass:"gl-ml-auto",attrs:{size:"small",name:"cancel",variant:"default",category:"primary","data-testid":"confirm-edit-cancel"},on:{click:function(t){return t.preventDefault(),e.handlePopoverClose.apply(null,arguments)}}},[e._v(e._s(e.i18n.editConfirmationCancel))])],1)])]}}:{key:"default",fn:function(){return[t("sidebar-dropdown",{ref:"dropdown",attrs:{"attr-workspace-path":e.attrWorkspacePath,"current-attribute":e.currentAttribute,"issuable-attribute":e.issuableAttribute,"issuable-type":e.issuableType,"show-work-item-epics":e.showWorkItemEpics},on:{change:e.updateAttribute},scopedSlots:e._u([{key:"list",fn:function({attributesList:t,isAttributeChecked:i,updateAttribute:n}){return[e._t("list",null,{attributesList:t,isAttributeChecked:i,updateAttribute:n})]}}],null,!0)})]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.a=I.exports},tRCE:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("NmEs"),s=i("n7CP");class a{constructor(e,t,i,n){this.field=e,this.type=this.field.getAttribute("type"),this.isLocalStorageAvailable=s.a.canUseLocalStorage(),this.key=Array.isArray(t)?"autosave/"+t.join("/"):"autosave/"+t,this.fallbackKey=i,this.lockVersionKey=this.key+"/lockVersion",this.lockVersion=n,this.restore(),this.saveAction=this.save.bind(this),this.field.$autosave=this,this.field.addEventListener("input",this.saveAction)}restore(){if(!this.isLocalStorageAvailable)return;const e=window.localStorage.getItem(this.key),t=window.localStorage.getItem(this.fallbackKey),i=e||t;if(null==i)return;let s=this.field.value;"checkbox"===this.type?(s=this.field.checked,this.field.checked=Object(n.H)(i)):this.field.value=i,s!==i&&this.triggerInputEvents()}triggerInputEvents(){const e=new Event("input",{bubbles:!0,cancelable:!1}),t=new Event("change",{bubbles:!0,cancelable:!1});this.field.dispatchEvent(e),this.field.dispatchEvent(t)}getSavedLockVersion(){if(this.isLocalStorageAvailable)return window.localStorage.getItem(this.lockVersionKey)}save(){const e="checkbox"===this.type?this.field.checked:this.field.value;return this.isLocalStorageAvailable&&e?(this.fallbackKey&&window.localStorage.setItem(this.fallbackKey,e),void 0!==this.lockVersion&&window.localStorage.setItem(this.lockVersionKey,this.lockVersion),window.localStorage.setItem(this.key,e)):this.reset()}reset(){if(this.isLocalStorageAvailable)return window.localStorage.removeItem(this.lockVersionKey),window.localStorage.removeItem(this.fallbackKey),window.localStorage.removeItem(this.key)}dispose(){delete this.field.$autosave,this.field.removeEventListener("input",this.saveAction)}}},tTlX:function(e,t,i){"use strict";var n=i("3CjL"),s=i.n(n),a=i("5tFN");t.a={methods:{getFocusableOptions(){var e;return Array.from((null===(e=this.$refs.resultsList)||void 0===e?void 0:e.querySelectorAll(".gl-new-dropdown-item"))||[])},onKeydown(e){const{code:t,target:i}=e;let n=!0;const s=this.getFocusableOptions();if(s.length<1)return;const r=i.matches('input[role="searchbox"]');if(t===a.g){if(r)return;this.focusItem(0,s)}else if(t===a.d){if(r)return;this.focusItem(s.length-1,s)}else if(t===a.b){if(r)return;0===s.indexOf(i)?this.focusSearchInput():this.focusNextItem(e,s,-1)}else if(t===a.a)this.focusNextItem(e,s,1);else if(t===a.f)this.$refs.modal.close();else if(t===a.h){var o;null===(o=e.target)||void 0===o||o.firstChild.click()}else n=!1;n&&e.preventDefault()},focusSearchInput(){var e;null===(e=this.$refs.searchInput.$el.querySelector("input"))||void 0===e||e.focus()},focusNextItem(e,t,i){const{target:n}=e,a=t.indexOf(n),r=s()(a+i,0,t.length-1);this.focusItem(r,t)},focusItem(e,t){var i;this.nextFocusedItemIndex=e,null===(i=t[e])||void 0===i||i.focus()}}}},tyhI:function(e,t,i){"use strict";var n=i("MV2A"),s=i("1cpz"),a=i("4lAS"),r=i("FkSe"),o=i("Mq5L"),l=i("z1xw"),d=i("AxUD"),c=i("GuZl"),u=i("/lV4"),p=i("d6eQ"),h=i("Or2z"),m={name:"TimeTrackingCollapsedState",components:{GlIcon:i("s1D3").a},directives:{GlTooltip:l.a},props:{showComparisonState:{type:Boolean,required:!0},showSpentOnlyState:{type:Boolean,required:!0},showEstimateOnlyState:{type:Boolean,required:!0},showNoTimeTrackingState:{type:Boolean,required:!0},timeSpentHumanReadable:{type:String,required:!1,default:""},timeEstimateHumanReadable:{type:String,required:!1,default:""}},computed:{divClass(){return this.showComparisonState?"compare":this.showEstimateOnlyState?"estimate-only":this.showSpentOnlyState?"spend-only":this.showNoTimeTrackingState?"no-tracking":""},spanClass(){return this.showNoTimeTrackingState?"no-value collapse-truncated-title gl-pt-2 gl-px-3 gl-text-sm":""},text(){return this.showComparisonState?`${this.timeSpentHumanReadable} / ${this.timeEstimateHumanReadable}`:this.showEstimateOnlyState?"-- / "+this.timeEstimateHumanReadable:this.showSpentOnlyState?this.timeSpentHumanReadable+" / --":this.showNoTimeTrackingState?Object(u.a)("None"):""},timeTrackedTooltipText(){let e;return this.showComparisonState?e=Object(u.a)("Time remaining"):this.showEstimateOnlyState?e=Object(u.a)("Estimated"):this.showSpentOnlyState&&(e=Object(u.a)("Time spent")),Object(u.h)("%{title}: %{text}",{title:e,text:this.text})},tooltipText(){return this.showNoTimeTrackingState?Object(u.a)("Time tracking"):this.timeTrackedTooltipText}}},f=i("tBpV"),g=Object(f.a)(m,(function(){var e=this._self._c;return e("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:body.viewport.left",arg:"body",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon py-1 !gl-h-auto",attrs:{title:this.tooltipText,"data-testid":"collapsedState"}},[e("gl-icon",{attrs:{name:"timer"}}),this._v(" "),e("div",{staticClass:"time-tracking-collapsed-summary"},[e("div",{staticClass:"gl-px-4",class:this.divClass},[e("span",{staticClass:"gl-text-sm",class:this.spanClass},[this._v(" "+this._s(this.text)+" ")])])])],1)}),[],!1,null,null,null).exports,v=i("J6+Z"),b=i("bOix"),y={name:"TimeTrackingComparisonPane",components:{GlProgressBar:v.a},directives:{GlTooltip:l.a},props:{timeSpent:{type:Number,required:!0},timeEstimate:{type:Number,required:!0},timeSpentHumanReadable:{type:String,required:!0},timeEstimateHumanReadable:{type:String,required:!0},limitToHours:{type:Boolean,required:!1,default:!1}},computed:{parsedTimeRemaining(){const e=this.timeEstimate-this.timeSpent;return Object(b.P)(e,{limitToHours:this.limitToHours})},timeRemainingHumanReadable(){return Object(b.R)(this.parsedTimeRemaining)},timeRemainingTooltip(){const{timeRemainingHumanReadable:e,timeRemainingMinutes:t}=this;return t<0?Object(u.h)(Object(u.g)("TimeTracking|Over by %{timeRemainingHumanReadable}"),{timeRemainingHumanReadable:e}):Object(u.h)(Object(u.g)("TimeTracking|Time remaining: %{timeRemainingHumanReadable}"),{timeRemainingHumanReadable:e})},timeRemainingMinutes(){return this.timeEstimate-this.timeSpent},timeRemainingPercent(){return Math.floor(this.timeSpent/this.timeEstimate*100)},timeRemainingStatusClass(){return this.timeEstimate>=this.timeSpent?"within_estimate":"over_estimate"},progressBarVariant(){return this.timeRemainingPercent>100?"danger":"primary"}}},k=Object(f.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gl-mt-2",attrs:{"data-testid":"timeTrackingComparisonPane"}},[t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"compare-meter",class:e.timeRemainingStatusClass,attrs:{"data-testid":"compareMeter",title:e.timeRemainingTooltip}},[t("gl-progress-bar",{attrs:{"data-testid":"timeRemainingProgress",value:e.timeRemainingPercent,variant:e.progressBarVariant}}),e._v(" "),t("div",{staticClass:"compare-display-container gl-mt-2 gl-flex gl-justify-between"},[t("div",{staticClass:"gl-float-left"},[t("span",{staticClass:"gl-text-subtle"},[e._v(e._s(e.s__("TimeTracking|Spent")))]),e._v(" "),t("span",{staticClass:"compare-value spent"},[e._v(e._s(e.timeSpentHumanReadable))])]),e._v(" "),t("div",{staticClass:"estimated gl-float-right"},[t("span",{staticClass:"gl-text-subtle"},[e._v(e._s(e.s__("TimeTrackingEstimated|Est")))]),e._v(" "),t("span",{staticClass:"compare-value"},[e._v(e._s(e.timeEstimateHumanReadable))])])])],1)])}),[],!1,null,null,null).exports,w=i("30su");var S={name:"TimeTrackingSpentOnlyPane",timeSpent:Object(u.g)("TimeTracking|%{spentStart}Spent: %{spentEnd}"),components:{GlSprintf:w.a},props:{timeSpentHumanReadable:{type:String,required:!0}}},_=Object(f.a)(S,(function(){var e=this,t=e._self._c;return t("div",{attrs:{"data-testid":"spentOnlyPane"}},[t("gl-sprintf",{attrs:{message:e.$options.timeSpent},scopedSlots:e._u([{key:"spent",fn:function({content:i}){return[t("span",{staticClass:"gl-font-bold"},[e._v(e._s(i))]),e._v(e._s(e.timeSpentHumanReadable)+"\n    ")]}}])})],1)}),[],!1,null,null,null).exports,I=i("5kjG"),T=i("yck7"),O=i("PTNO"),C=i("Wau+"),x={name:"IssuableTimeTracker",i18n:{noTimeTrackingText:Object(u.a)("No estimate or time spent"),estimatedOnlyText:Object(u.g)("TimeTracking|Estimated:")},components:{GlLink:n.a,GlModal:s.a,GlButton:a.a,GlLoadingIcon:r.a,TimeTrackingCollapsedState:g,TimeTrackingSpentOnlyPane:_,TimeTrackingComparisonPane:k,TimeTrackingReport:I.a,CreateTimelogForm:O.a,SetTimeEstimateForm:C.a},directives:{GlModal:o.a,GlTooltip:l.a},inject:{issuableType:{default:null}},props:{limitToHours:{type:Boolean,default:!1,required:!1},fullPath:{type:String,required:!1,default:""},issuableId:{type:String,required:!1,default:""},issuableIid:{type:String,required:!1,default:""},initialTimeTracking:{type:Object,required:!1,default:null},showCollapsed:{type:Boolean,default:!0,required:!1},canAddTimeEntries:{type:Boolean,required:!1,default:!0},canSetTimeEstimate:{type:Boolean,required:!1,default:!1}},data(){return{timeTracking:{...this.initialTimeTracking}}},apollo:{issuableTimeTracking:{query(){return p.l[this.issuableType].query},skip(){return!this.issuableType||!p.l[this.issuableType]||(!!this.initialTimeTracking||(!this.issuableIid||!this.fullPath))},variables(){return{iid:this.issuableIid,fullPath:this.fullPath}},update(e){var t;this.timeTracking={...null===(t=e.workspace)||void 0===t?void 0:t.issuable}}}},computed:{isTimeTrackingInfoLoading(){var e,t;return null!==(e=null===(t=this.$apollo)||void 0===t||null===(t=t.queries.issuableTimeTracking)||void 0===t?void 0:t.loading)&&void 0!==e&&e},timeEstimate(){var e;return(null===(e=this.timeTracking)||void 0===e?void 0:e.timeEstimate)||0},totalTimeSpent(){var e;return(null===(e=this.timeTracking)||void 0===e?void 0:e.totalTimeSpent)||0},humanTimeEstimate(){var e;return(null===(e=this.timeTracking)||void 0===e?void 0:e.humanTimeEstimate)||""},humanTotalTimeSpent(){var e;return(null===(e=this.timeTracking)||void 0===e?void 0:e.humanTotalTimeSpent)||""},hasTotalTimeSpent(){return Boolean(this.totalTimeSpent)},hasTimeEstimate(){return Boolean(this.timeEstimate)},showComparisonState(){return this.hasTimeEstimate&&this.hasTotalTimeSpent},showEstimateOnlyState(){return this.hasTimeEstimate&&!this.hasTotalTimeSpent},showSpentOnlyState(){return this.hasTotalTimeSpent&&!this.hasTimeEstimate},showNoTimeTrackingState(){return!this.hasTimeEstimate&&!this.hasTotalTimeSpent},isTimeReportSupported(){return[d.p,d.q].includes(this.issuableType)&&this.issuableId},timeEstimateTooltip(){return this.hasTimeEstimate?Object(u.g)("TimeTracking|Edit estimate"):Object(u.g)("TimeTracking|Set estimate")}},watch:{initialTimeTracking(e){this.timeTracking=e}},created(){h.a.$on("timeTracker:refresh",this.refresh)},methods:{refresh(){this.$apollo.queries.issuableTimeTracking.refetch()},openRegisterTimeSpentModal(){this.$root.$emit(c.c,T.a)}},setTimeEstimateModalId:T.b},j=Object(f.a)(x,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"time-tracker sidebar-help-wrap",attrs:{"data-testid":"time-tracker"}},[e.showCollapsed?t("time-tracking-collapsed-state",{attrs:{"show-comparison-state":e.showComparisonState,"show-no-time-tracking-state":e.showNoTimeTrackingState,"show-spent-only-state":e.showSpentOnlyState,"show-estimate-only-state":e.showEstimateOnlyState,"time-spent-human-readable":e.humanTotalTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate}}):e._e(),e._v(" "),t("div",{staticClass:"hide-collapsed gl-flex gl-items-center gl-font-bold gl-leading-20 gl-text-default"},[e._v("\n    "+e._s(e.__("Time tracking"))+"\n    "),e.isTimeTrackingInfoLoading?t("gl-loading-icon",{staticClass:"gl-ml-2",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e.canSetTimeEstimate||e.canAddTimeEntries?t("div",{staticClass:"gl-ml-auto gl-flex"},[e.canSetTimeEstimate?t("gl-button",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:e.$options.setTimeEstimateModalId,expression:"$options.setTimeEstimateModalId"},{name:"gl-tooltip",rawName:"v-gl-tooltip.top",modifiers:{top:!0}}],attrs:{category:"tertiary",icon:"timer",size:"small","data-testid":"set-time-estimate-button",title:e.timeEstimateTooltip,"aria-label":e.timeEstimateTooltip}}):e._e(),e._v(" "),e.canAddTimeEntries?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.top",modifiers:{top:!0}}],attrs:{category:"tertiary",icon:"plus",size:"small","data-testid":"add-time-entry-button",title:e.__("Add time entry")},on:{click:function(t){return e.openRegisterTimeSpentModal()}}}):e._e()],1):e._e()],1),e._v(" "),e.isTimeTrackingInfoLoading?e._e():t("div",{staticClass:"hide-collapsed"},[e.showEstimateOnlyState?t("div",{attrs:{"data-testid":"estimateOnlyPane"}},[e._v("\n      "+e._s(e.$options.i18n.estimatedOnlyText)+" "+e._s(e.humanTimeEstimate)+"\n    ")]):e._e(),e._v(" "),e.showSpentOnlyState?t("time-tracking-spent-only-pane",{attrs:{"time-spent-human-readable":e.humanTotalTimeSpent}}):e._e(),e._v(" "),e.showNoTimeTrackingState?t("div",{attrs:{"data-testid":"noTrackingPane"}},[t("span",{staticClass:"gl-text-subtle"},[e._v(e._s(e.$options.i18n.noTimeTrackingText))])]):e._e(),e._v(" "),e.showComparisonState?t("time-tracking-comparison-pane",{attrs:{"time-estimate":e.timeEstimate,"time-spent":e.totalTimeSpent,"time-spent-human-readable":e.humanTotalTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate,"limit-to-hours":e.limitToHours}}):e._e(),e._v(" "),e.isTimeReportSupported?t("div",[e.hasTotalTimeSpent?t("gl-link",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:"time-tracking-report",expression:"'time-tracking-report'"}],staticClass:"gl-text-default",attrs:{"data-testid":"reportLink",href:"#"}},[e._v("\n        "+e._s(e.__("Time tracking report"))+"\n      ")]):e._e(),e._v(" "),t("gl-modal",{attrs:{"modal-id":"time-tracking-report",size:"lg",title:e.__("Time tracking report"),"hide-footer":!0}},[t("time-tracking-report",{attrs:{"limit-to-hours":e.limitToHours,"issuable-id":e.issuableId}})],1)],1):e._e(),e._v(" "),t("create-timelog-form",{attrs:{"issuable-id":e.issuableId}}),e._v(" "),t("set-time-estimate-form",{attrs:{"full-path":e.fullPath,"issuable-iid":e.issuableIid,"time-tracking":e.timeTracking}})],1)],1)}),[],!1,null,null,null);t.a=j.exports},uAd4:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"designNoteWorkItemToggleAwardEmoji"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"awardableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AwardableID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"awardEmojiToggle"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"awardableId"},value:{kind:"Variable",name:{kind:"Name",value:"awardableId"}}},{kind:"ObjectField",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"toggledOn"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:193}};i.loc.source={body:"mutation designNoteWorkItemToggleAwardEmoji($awardableId: AwardableID!, $name: String!) {\n  awardEmojiToggle(input: { awardableId: $awardableId, name: $name }) {\n    errors\n    toggledOn\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.designNoteWorkItemToggleAwardEmoji=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"designNoteWorkItemToggleAwardEmoji")},uLzN:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createWorkItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemCreateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItemCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:186}};n.loc.source={body:'#import "./work_item.fragment.graphql"\n\nmutation createWorkItem($input: WorkItemCreateInput!) {\n  workItemCreate(input: $input) {\n    workItem {\n      ...WorkItem\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("IaCQ").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.createWorkItem=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"createWorkItem")},uSO3:function(e,t,i){"use strict";var n=i("z1xw"),s=i("4lAS"),a=i("XiQx"),r=i("s1D3"),o=i("FkSe"),l=i("j00k"),d=i("HOKy"),c=i("jlnU"),u=i("AxUD"),p=i("NmEs"),h=i("/lV4"),m=i("sHIo"),f=i("udiD"),g=i("d6eQ"),v=i("H3X6"),b=i("kMc5");var y={tracking:{event:v.m.editEvent,label:v.m.rightSidebarLabel,property:"subscriptions"},directives:{GlTooltip:n.a},components:{GlButton:s.a,GlDisclosureDropdownItem:a.b,GlIcon:r.a,GlLoadingIcon:o.a,GlToggle:l.a,GlAnimatedNotificationIcon:d.a,SidebarEditableItem:b.a},mixins:[Object(m.a)()],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String},showInDropdown:{required:!1,type:Boolean,default:!0}},data:()=>({subscribed:!1,loading:!1,emailsDisabled:!1}),apollo:{subscribed:{query(){return g.k[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},skip(){return!this.iid},update(e){var t;return(null===(t=e.workspace)||void 0===t||null===(t=t.issuable)||void 0===t?void 0:t.subscribed)||!1},result({data:e}){var t,i,n;e&&(this.emailsDisabled=this.parentIsGroup?null===(t=e.workspace)||void 0===t?void 0:t.emailsDisabled:null===(i=e.workspace)||void 0===i||null===(i=i.issuable)||void 0===i?void 0:i.emailsDisabled,this.$emit("subscribedUpdated",null===(n=e.workspace)||void 0===n||null===(n=n.issuable)||void 0===n?void 0:n.subscribed))},error(){Object(c.createAlert)({message:Object(h.h)(Object(h.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:this.issuableType})})}}},computed:{isIssuable(){return this.issuableType===u.p},isLoading(){var e;return(null===(e=this.$apollo.queries)||void 0===e||null===(e=e.subscribed)||void 0===e?void 0:e.loading)||this.loading},notificationTooltip(){return this.emailsDisabled?this.subscribeDisabledDescription:this.subscribed?this.$options.i18n.labelOn:this.$options.i18n.labelOff},notificationIcon(){return this.emailsDisabled||!this.subscribed?"notifications-off":"notifications"},parentIsGroup(){return this.issuableType===u.n},subscribeDisabledDescription(){return Object(h.h)(Object(h.a)("Disabled by %{parent} owner"),{parent:this.parentIsGroup?u.t:u.u})},isLoggedIn:()=>Object(p.A)(),canSubscribe(){return this.emailsDisabled||!this.isLoggedIn},isNotificationsTodosButtons(){return this.glFeatures.notificationsTodosButtons},isMergeRequest(){return"merge_request"===this.issuableType}},methods:{setSubscribed(e){var t=this;this.loading=!0,this.$apollo.mutate({mutation:g.k[this.issuableType].mutation,variables:{fullPath:this.fullPath,iid:this.iid,subscribedState:e}}).then((function({data:{updateIssuableSubscription:{errors:t}}}){t.length&&Object(c.createAlert)({message:t[0]}),Object(f.default)(e?Object(h.a)("Notifications turned on."):Object(h.a)("Notifications turned off."))})).catch((function(){Object(c.createAlert)({message:Object(h.h)(Object(h.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:t.issuableType})})})).finally((function(){t.loading=!1}))},toggleSubscribed(){this.emailsDisabled?this.expandSidebar():this.setSubscribed(!this.subscribed)},expandSidebar(){this.$emit("expandSidebar")}},i18n:{notifications:Object(h.a)("Notifications"),labelOn:Object(h.a)("Notifications on"),labelOff:Object(h.a)("Notifications off")}},k=i("tBpV"),w=Object(k.a)(y,(function(){var e=this,t=e._self._c;return e.showInDropdown&&!e.isNotificationsTodosButtons?t("gl-disclosure-dropdown-item",{attrs:{"data-testid":"notification-toggle"},on:{action:e.toggleSubscribed},scopedSlots:e._u([{key:"list-item",fn:function(){return[t("gl-toggle",{staticClass:"merge-request-notification-toggle",attrs:{value:e.subscribed,label:e.__("Notifications"),"label-position":"left"}})]},proxy:!0}],null,!1,2441604390)}):e.isNotificationsTodosButtons?t("div",{class:{"inline-block":!e.isMergeRequest}},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],ref:"tooltip",staticClass:"hide-collapsed",class:{"gl-ml-2":e.isIssuable,"btn-icon":e.isNotificationsTodosButtons},attrs:{category:"secondary","data-testid":"subscribe-button",title:e.notificationTooltip},on:{click:e.toggleSubscribed}},[t("gl-animated-notification-icon",{class:{"!gl-text-blue-500":e.subscribed},attrs:{"is-on":!e.subscribed}})],1),e._v(" "),e.isMergeRequest?e._e():t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],ref:"tooltip",staticClass:"sidebar-collapsed-icon sidebar-collapsed-container !gl-rounded-none !gl-border-0",attrs:{category:"secondary","data-testid":"subscribe-button",title:e.notificationTooltip},on:{click:e.toggleSubscribed}},[t("gl-animated-notification-icon",{class:{"!gl-text-blue-500":e.subscribed},attrs:{"is-on":!e.subscribed}})],1)],1):t("sidebar-editable-item",{ref:"editable",staticClass:"block subscriptions",attrs:{title:e.$options.i18n.notifications,tracking:e.$options.tracking,loading:e.isLoading,"can-edit":!1},scopedSlots:e._u([{key:"collapsed-right",fn:function(){return[t("gl-toggle",{staticClass:"hide-collapsed gl-ml-auto",attrs:{value:e.subscribed,"is-loading":e.isLoading,disabled:e.canSubscribe,"data-testid":"subscription-toggle",label:e.$options.i18n.notifications,"label-position":"hidden"},on:{change:e.setSubscribed}})]},proxy:!0},{key:"collapsed",fn:function(){return[t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],ref:"tooltip",staticClass:"sidebar-collapsed-icon",attrs:{title:e.notificationTooltip},on:{click:e.toggleSubscribed}},[e.isLoading?t("gl-loading-icon",{staticClass:"sidebar-item-icon is-active",attrs:{size:"sm"}}):t("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.emailsDisabled,expression:"emailsDisabled"}],staticClass:"hide-collapsed gl-mt-3 gl-text-subtle"},[e._v("\n      "+e._s(e.subscribeDisabledDescription)+"\n    ")])]},proxy:!0},{key:"default",fn:function(){},proxy:!0}])})}),[],!1,null,null,null);t.a=w.exports},uboF:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getWorkItemDesignList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"atVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"DesignManagementVersionID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workItemType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"widgets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetDesigns"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"designCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"copyState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"designs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"atVersion"},value:{kind:"Variable",name:{kind:"Name",value:"atVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageV432x230"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserTodos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"EnumValue",value:"pending"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"diffRefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignDiffRefs"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"versions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VersionListItem"},directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1001}};n.loc.source={body:'#import "./fragments/version.fragment.graphql"\n#import "./fragments/diff_refs.fragment.graphql"\n\nquery getWorkItemDesignList($id: WorkItemID!, $atVersion: DesignManagementVersionID) {\n  workItem(id: $id) {\n    id\n    workItemType {\n      id\n      name\n    }\n    widgets {\n      type\n      ... on WorkItemWidgetDesigns {\n        designCollection {\n          copyState\n          designs(atVersion: $atVersion) {\n            nodes {\n              id\n              event\n              filename\n              notesCount\n              image\n              imageV432x230\n              description\n              descriptionHtml\n              fullPath\n              currentUserTodos(state: pending) {\n                nodes {\n                  id\n                }\n              }\n              diffRefs {\n                ...DesignDiffRefs\n              }\n            }\n          }\n          versions {\n            nodes {\n              ...VersionListItem\n            }\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)}))}n.definitions=n.definitions.concat(a(i("HIeB").definitions)),n.definitions=n.definitions.concat(a(i("SqVG").definitions));var r={};function o(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.getWorkItemDesignList=function(e,t){var i={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=r[t]||new Set,s=new Set,a=new Set;for(n.forEach((function(e){a.add(e)}));a.size>0;){var l=a;a=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(r[e]||new Set).forEach((function(e){a.add(e)})))}))}return s.forEach((function(t){var n=o(e,t);n&&i.definitions.push(n)})),i}(n,"getWorkItemDesignList")},usgv:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return p}));var n=i("9k56"),s=i("jIK5"),a=i("I3xC"),r=i("gZSI"),o=i("hII5"),l=i("idLb"),d=i("TnX6"),c=i("g+RJ");const u={bordered:Object(o.b)(s.g,!1),borderless:Object(o.b)(s.g,!1),captionTop:Object(o.b)(s.g,!1),dark:Object(o.b)(s.g,!1),fixed:Object(o.b)(s.g,!1),hover:Object(o.b)(s.g,!1),noBorderCollapse:Object(o.b)(s.g,!1),outlined:Object(o.b)(s.g,!1),responsive:Object(o.b)(s.i,!1),small:Object(o.b)(s.g,!1),stickyHeader:Object(o.b)(s.i,!1),striped:Object(o.b)(s.g,!1),tableClass:Object(o.b)(s.e),tableVariant:Object(o.b)(s.r)},p=Object(n.c)({mixins:[c.a],provide(){return{getBvTable:()=>this}},inheritAttrs:!1,props:u,computed:{isTableSimple:()=>!1,isResponsive(){const{responsive:e}=this;return""===e||e},isStickyHeader(){let{stickyHeader:e}=this;return e=""===e||e,!this.isStacked&&e},wrapperClasses(){const{isResponsive:e}=this;return[this.isStickyHeader?"b-table-sticky-header":"",!0===e?"table-responsive":e?"table-responsive-"+this.responsive:""].filter(a.a)},wrapperStyles(){const{isStickyHeader:e}=this;return e&&!Object(r.b)(e)?{maxHeight:e}:{}},tableClasses(){let{hover:e,tableVariant:t,selectableTableClasses:i,stackedTableClasses:n,tableClass:s,computedBusy:a}=Object(l.a)(this);return e=this.isTableSimple?e:e&&this.computedItems.length>0&&!a,[s,{"table-striped":this.striped,"table-hover":e,"table-dark":this.dark,"table-bordered":this.bordered,"table-borderless":this.borderless,"table-sm":this.small,"gl-border":this.outlined,"b-table-fixed":this.fixed,"b-table-caption-top":this.captionTop,"b-table-no-border-collapse":this.noBorderCollapse},t?`${this.dark?"bg":"table"}-${t}`:"",n,i]},tableAttrs(){const{computedItems:e,filteredItems:t,computedFields:i,selectableTableAttrs:n,computedBusy:s}=Object(l.a)(this),a=this.isTableSimple?{}:{"aria-busy":Object(d.e)(s),"aria-colcount":Object(d.e)(i.length),"aria-describedby":this.bvAttrs["aria-describedby"]||this.$refs.caption?this.captionId:null};return{"aria-rowcount":e&&t&&t.length>e.length?Object(d.e)(t.length):null,...this.bvAttrs,id:this.safeId(),role:this.bvAttrs.role||"table",...a,...n}}},render(e){const{wrapperClasses:t,renderCaption:i,renderColgroup:n,renderThead:s,renderTbody:r,renderTfoot:o}=Object(l.a)(this),d=[];this.isTableSimple?d.push(this.normalizeSlot()):(d.push(i?i():null),d.push(n?n():null),d.push(s?s():null),d.push(r?r():null),d.push(o?o():null));const c=e("table",{staticClass:"table b-table",class:this.tableClasses,attrs:this.tableAttrs,key:"b-table"},d.filter(a.a));return t.length>0?e("div",{class:t,style:this.wrapperStyles,key:"wrap"},[c]):c}})},v07w:function(e,t,i){"use strict";i.r(t);var n=i("0YcL");Object(n.b)()},vDPP:function(e,t,i){"use strict";var n=i("9k56"),s=i("lgrP"),a=i("3hkr"),r=i("jIK5"),o=i("VuSA"),l=i("hII5"),d=i("Njyp");const c=Object(l.c)(Object(o.m)({...d.b,disabled:Object(l.b)(r.g,!1),formClass:Object(l.b)(r.e)}),a.h),u=Object(n.c)({name:a.h,functional:!0,props:c,render(e,t){let{props:i,data:n,listeners:a,children:r}=t;return e("li",Object(s.a)(Object(o.j)(n,["attrs","on"]),{attrs:{role:"presentation"}}),[e(d.a,{staticClass:"b-dropdown-form",class:[i.formClass,{disabled:i.disabled}],props:i,attrs:{...n.attrs||{},disabled:i.disabled,tabindex:i.disabled?null:"-1"},on:a,ref:"form"},r)])}});var p=i("Pyw5");const h={name:"GlDropdownForm",components:{BDropdownForm:u},inheritAttrs:!1};const m=i.n(p)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-form",this._g(this._b({attrs:{"form-class":"gl-p-0"}},"b-dropdown-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=m},"vZ/O":function(e,t,i){"use strict";var n=i("lx39"),s=i.n(n),a=i("+XPY"),r=i.n(a),o=i("XBTk"),l=i("HnlB"),d=i("4lAS"),c=i("PrLL"),u=i("s1D3"),p=i("EldY"),h=i("Pyw5"),m=i.n(h);const f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("0"+e).slice(-t)};const g={name:"GlDatepicker",components:{GlFormInput:c.a,GlIcon:u.a,GlButton:d.a},props:{target:{type:String,required:!1,default:""},container:{type:String,required:!1,default:""},value:{type:Date,required:!1,default:null},minDate:{type:Date,required:!1,default:null},maxDate:{type:Date,required:!1,default:null},startRange:{type:Date,required:!1,default:null},endRange:{type:Date,required:!1,default:null},disableDayFn:{type:Function,required:!1,default:null},firstDay:{type:Number,required:!1,default:0},ariaLabel:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:o.s},autocomplete:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1},displayField:{type:Boolean,required:!1,default:!0},startOpened:{type:Boolean,required:!1,default:!1},defaultDate:{type:Date,required:!1,default:null},i18n:{type:Object,required:!1,default:null},theme:{type:String,required:!1,default:""},showClearButton:{type:Boolean,required:!1,default:!1},inputId:{type:String,required:!1,default:null},inputLabel:{type:String,required:!1,default:"Enter date"},inputName:{type:String,required:!1,default:null},width:{type:String,required:!1,default:null,validator:e=>Object.keys(o.r).includes(e)},state:{type:Boolean,required:!1,default:null}},data:()=>({textInput:""}),computed:{formattedDate(){return"calendar"in this?this.calendar.toString():""},customTrigger(){return s()(this.target)&&""!==this.target},triggerOnFocus(){return null===this.target},showDefaultField(){return!this.customTrigger||this.triggerOnFocus},renderClearButton(){return this.showClearButton&&""!==this.textInput&&!this.disabled},inputAutocomplete(){return""!==this.autocomplete?this.autocomplete:this.triggerOnFocus?"off":null},datepickerClasses(){return["gl-datepicker","gl-inline-block","gl-w-full","gl-form-input-"+this.computedWidth]},computedWidth(){return this.width?this.width:"md"}},watch:{value(e){Object(l.a)(e,this.calendar.getDate())||this.calendar.setDate(e,!0)},minDate(e){this.calendar.setMinDate(e)},maxDate(e){this.calendar.setMaxDate(e)},startRange(e){this.calendar.setStartRange(e)},endRange(e){this.calendar.setEndRange(e)}},mounted(){const e=this.$parent.$el,t=this.opened.bind(this),i=this.draw.bind(this),n={field:this.$el.querySelector('input[type="text"]'),theme:"gl-datepicker-theme !gl-absolute "+this.theme,defaultDate:this.defaultDate||this.value,setDefaultDate:Boolean(this.value)||Boolean(this.defaultDate),minDate:this.minDate,maxDate:this.maxDate,format:o.s,parse:e=>{const t=Date.parse(e.replace(/-/g,"/"));return Number.isNaN(t)?new Date:new Date(t)},disableDayFn:this.disableDayFn,firstDay:this.firstDay,ariaLabel:this.ariaLabel,toString:e=>(e=>{const t=f(e.getDate()),i=f(e.getMonth()+1);return`${e.getFullYear()}-${i}-${t}`})(e),onSelect:this.selected.bind(this),onClose:this.closed.bind(this),onOpen:()=>{(e=>{const t=e.querySelector('.pika-title[role="heading"]');t&&t.setAttribute("aria-level",3);const i=e.querySelector("select.pika-select-month");i&&i.setAttribute("aria-label",Object(p.b)("GlDatepicker.monthLabel","Month"));const n=e.querySelector("select.pika-select-year");n&&n.setAttribute("aria-label",Object(p.b)("GlDatepicker.yearLabel","Year"))})(this.$el),t()},onDraw:e=>{(e=>{const t=e.el.querySelectorAll(".pika-button"),i=new Date;t.forEach(e=>{const{pikaYear:t,pikaMonth:n,pikaDay:s}=e.dataset,a=new Date(t,n,s);var r,o;o=a,(r=i)&&o&&o.getTime()<r.getTime()&&e.classList.add("is-past-date")})})(e),i()}};if(!this.triggerOnFocus&&!this.disabled){const t=this.customTrigger?e.querySelector(this.target):this.$refs.calendarTriggerBtn.$el;n.trigger=t,!n.field&&this.customTrigger&&(n.field=t)}if(null!==this.container){const t=this.container?e.querySelector(this.container):this.$el;n.container=t}this.i18n&&(n.i18n=this.i18n),this.calendar=new r.a(n),this.startOpened&&this.calendar.show()},beforeDestroy(){this.calendar.destroy()},methods:{show(){this.calendar.show()},selected(e){this.$emit("input",e)},closed(){this.$emit("close")},opened(){this.$emit("open")},cleared(){this.textInput="",this.$emit("clear")},draw(){this.$emit("monthChange")},onKeydown(){if(""===this.textInput){const e=this.minDate||null;this.calendar.setDate(e),this.selected(e)}}}};const v=m()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.datepickerClasses},[e.showDefaultField?i("div",{staticClass:"gl-flex gl-items-start gl-gap-3"},[i("div",{staticClass:"gl-relative gl-flex gl-grow"},[e._t("default",(function(){return[i("gl-form-input",{class:e.renderClearButton?"!gl-pr-9":"!gl-pr-7",attrs:{id:e.inputId,name:e.inputName,"data-testid":"gl-datepicker-input",value:e.formattedDate,placeholder:e.placeholder,autocomplete:e.inputAutocomplete,disabled:e.disabled,"aria-label":e.inputLabel,state:e.state},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeydown.apply(null,arguments)}},model:{value:e.textInput,callback:function(t){e.textInput=t},expression:"textInput"}})]}),{formattedDate:e.formattedDate}),e._v(" "),i("div",{staticClass:"gl-datepicker-actions"},[e.renderClearButton?i("gl-button",{staticClass:"gl-pointer-events-auto",attrs:{"data-testid":"clear-button","aria-label":"Clear date",category:"tertiary",size:"small",icon:"clear"},on:{click:e.cleared}}):e._e(),e._v(" "),e.triggerOnFocus||e.disabled?i("span",{staticClass:"gl-px-2",class:e.disabled?"gl-text-gray-400":"gl-text-gray-500",attrs:{"data-testid":"datepicker-calendar-icon"}},[i("gl-icon",{staticClass:"gl-block",attrs:{name:"calendar",size:16}})],1):i("gl-button",{ref:"calendarTriggerBtn",staticClass:"gl-pointer-events-auto",attrs:{"aria-label":"Open datepicker",category:"tertiary",size:"small",icon:"calendar"}})],1)],2),e._v(" "),e._t("after")],2):e._t("default",null,{formattedDate:e.formattedDate})],2)},staticRenderFns:[]},void 0,g,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=v},vjeQ:function(e,t,i){"use strict";i.r(t);var n=i("l9Jy"),s=i.n(n),a=i("wAfB"),r=i.n(a),o=i("7F3p"),l=i("NmEs"),d=i("GuZl"),c=i("5tFN"),u=i("/lV4"),p=i("UqDg"),h=i("+st3"),m=i("JtyA"),f=i("J6Lq"),g=i("df6S"),v=i("1MuU"),b=i.n(v),y=i("dtLS"),k=i.n(y),w=i("UVeP"),S=i.n(w),_=i("FpZ5"),I=i.n(_),T=i("HSGN"),O=i.n(T),C=(i("RFHG"),i("z6RN"),i("xuo1"),i("3UXl"),i("iyoE"),i("4lAS")),x=i("z1xw"),j=i("jlnU"),E=i("HQWC"),D=i.n(E),N=i("+92v"),A=i("Lio7"),P={name:"WorkItemLinkChild",components:{GlButton:C.a,WorkItemChildrenWrapper:function(){return Promise.resolve().then(i.bind(null,"vjeQ"))},WorkItemLinkChildContents:N.a,WorkItemChildrenLoadMore:A.a},directives:{GlTooltip:x.a},props:{canUpdate:{type:Boolean,required:!0},issuableGid:{type:String,required:!0},childItem:{type:Object,required:!0},hasIndirectChildren:{type:Boolean,required:!1,default:!0},workItemType:{type:String,required:!1,default:""},showLabels:{type:Boolean,required:!1,default:!0},showClosed:{type:Boolean,required:!1,default:!0},workItemFullPath:{type:String,required:!1,default:""},isTopLevel:{type:Boolean,required:!1,default:!1},draggedItemType:{type:String,required:!1,default:null},showTaskWeight:{type:Boolean,required:!1,default:!0},allowedChildrenByType:{type:Object,required:!1,default:function(){}},activeChildItemId:{type:String,required:!1,default:null},parentId:{type:String,required:!1,default:""}},data:()=>({isExpanded:!1,isLoadingChildren:!1,children:[],fetchNextPageInProgress:!1,hierarchyWidget:{},childItemId:""}),apollo:{hierarchyWidget:{query:O.a,variables(){return{id:this.childItemId,pageSize:Object(f.k)(),endCursor:""}},skip(){return!this.childItemId},update({workItem:e}){if(e){this.isLoadingChildren=!1;const{hasChildren:t,children:i}=Object(f.h)(e.widgets);return this.children=i.nodes,{pageInfo:i.pageInfo,count:i.count,nodes:i.nodes,hasChildren:t}}return this.childItemId="",{}},error(e){Object(j.createAlert)({message:Object(u.g)("Hierarchy|Something went wrong while fetching children."),captureError:!0,error:e})},result(){this.hasNextPage&&0===this.children.length&&this.fetchNextPage()}},isExpanded:{query:D.a,variables(){return{id:this.childItem.id}},update(e){var t,i;return this.childItemId=null==e||null===(t=e.isExpandedHierarchyTreeChild)||void 0===t?void 0:t.id,(null==e||null===(i=e.isExpandedHierarchyTreeChild)||void 0===i?void 0:i.isExpanded)||!1}}},computed:{hasChildren(){var e;return Object(f.h)(this.childItem.widgets).hasChildren||(null===(e=this.hierarchyWidget)||void 0===e?void 0:e.hasChildren)},shouldExpandChildren(){var e;if(this.parentId===this.childItem.id)return!1;const t=((null===(e=Object(f.h)(this.childItem.widgets))||void 0===e?void 0:e.rolledUpCountsByType)||[]).map((function(e){return e.countsByState.all-e.countsByState.closed})).reduce((function(e,t){return e+t}),0);return this.hasChildren&&(t>0||this.showClosed)},pageInfo(){return this.hierarchyWidget.pageInfo||{}},hasNextPage(){var e;return Boolean(null===(e=this.pageInfo)||void 0===e?void 0:e.hasNextPage)},endCursor(){var e;return(null===(e=this.pageInfo)||void 0===e?void 0:e.endCursor)||""},isItemOpen(){return this.childItem.state===m.hb},childItemType(){return this.childItem.workItemType.name},iconClass(){return this.childItemType===m.Gc?this.isItemOpen?"gl-fill-icon-success":"gl-fill-icon-info":""},stateTimestamp(){return this.isItemOpen?this.childItem.createdAt:this.childItem.closedAt},stateTimestampTypeText(){return this.isItemOpen?Object(u.a)("Created"):Object(u.a)("Closed")},chevronType(){return this.isExpanded?"chevron-down":"chevron-right"},chevronTooltip(){return this.isExpanded?Object(u.a)("Collapse"):Object(u.a)("Expand")},childItemClass(){return{"!gl-ml-0":this.hasChildren||!this.hasIndirectChildren&&this.isTopLevel,"gl-bg-blue-50 hover:gl-bg-blue-50 gl-border-default":this.isActive}},shouldShowWeight(){return this.childItemType!==m.Gc||this.showTaskWeight},allowedChildTypes(){var e;return(null===(e=this.allowedChildrenByType)||void 0===e?void 0:e[this.childItemType])||[]},draggedItemTypeIsAllowed(){return this.allowedChildTypes.includes(this.draggedItemType)},showChildrenDropzone(){return!this.hasChildren&&this.draggedItemTypeIsAllowed},displayableChildren(){return Object(f.m)(this.showClosed)(this.children)},isActive(){return this.activeChildItemId===this.childItem.id}},methods:{toggleItem(){0===this.children.length&&this.hasChildren&&(this.isLoadingChildren=!0,this.childItemId=this.childItem.id),this.$apollo.mutate({mutation:k.a,variables:{id:this.childItem.id,isExpanded:!this.isExpanded}})},async fetchNextPage(){if(this.hasNextPage&&!this.fetchNextPageInProgress){this.fetchNextPageInProgress=!0;try{await this.$apollo.queries.hierarchyWidget.fetchMore({variables:{endCursor:this.endCursor}})}catch(e){Object(j.createAlert)({message:Object(u.g)("Hierarchy|Something went wrong while fetching children."),captureError:!0,error:e})}finally{this.fetchNextPageInProgress=!1}}}}},F=i("tBpV"),L={components:{WorkItemLinkChild:Object(F.a)(P,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"tree-item !gl-px-0 !gl-py-2"},[t("div",{staticClass:"gl-flex gl-items-start"},[e.hasIndirectChildren?t("div",{staticClass:"gl-mr-2 gl-h-7 gl-w-5"},[e.shouldExpandChildren?t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"!gl-px-0 !gl-py-3",attrs:{title:e.chevronTooltip,"aria-label":e.chevronTooltip,icon:e.chevronType,category:"tertiary",size:"small",loading:e.isLoadingChildren&&!e.fetchNextPageInProgress,"data-testid":"expand-child"},on:{click:function(t){return t.stopPropagation(),e.toggleItem.apply(null,arguments)}}}):e._e()],1):e._e(),e._v(" "),t("div",{staticClass:"gl-w-full",class:{"!gl-border-x-0 !gl-border-b-1 !gl-border-t-0 !gl-border-solid gl-border-default !gl-pb-2":e.isExpanded&&e.shouldExpandChildren&&!e.isLoadingChildren},attrs:{"data-testid":"child-contents-container"}},[t("work-item-link-child-contents",{class:e.childItemClass,attrs:{"child-item":e.childItem,"can-update":e.canUpdate,"parent-work-item-id":e.issuableGid,"work-item-type":e.workItemType,"show-labels":e.showLabels,"show-closed":e.showClosed,"work-item-full-path":e.workItemFullPath,"show-weight":e.shouldShowWeight,"is-active":e.isActive},on:{click:function(t){return e.$emit("click",t)},removeChild:function(t){return e.$emit("removeChild",e.childItem)}}})],1)]),e._v(" "),t("div",{staticClass:"!gl-ml-6"},[e.isExpanded||e.showChildrenDropzone?t("work-item-children-wrapper",{attrs:{"can-update":e.canUpdate,"work-item-id":e.issuableGid,"work-item-iid":e.childItem.iid,"work-item-type":e.workItemType,children:e.displayableChildren,parent:e.childItem,"show-labels":e.showLabels,"show-closed":e.showClosed,"full-path":e.workItemFullPath,"is-top-level":!1,"show-task-weight":e.showTaskWeight,"has-indirect-children":e.hasIndirectChildren,"dragged-item-type":e.draggedItemType,"allowed-children-by-type":e.allowedChildrenByType,"active-child-item-id":e.activeChildItemId,"parent-id":e.parentId},on:{drag:function(t){return e.$emit("drag",t)},drop:function(t){return e.$emit("drop")},removeChild:function(t){return e.$emit("removeChild",e.childItem)},error:function(t){return e.$emit("error",t)},click:function(t){return e.$emit("click",t)}}}):e._e(),e._v(" "),e.hasNextPage&&e.isExpanded?t("work-item-children-load-more",{staticClass:"!gl-pl-5",attrs:{"data-testid":"work-item-load-more","fetch-next-page-in-progress":e.fetchNextPageInProgress},on:{"fetch-next-page":e.fetchNextPage}}):e._e()],1)])}),[],!1,null,null,null).exports},props:{fullPath:{type:String,required:!0},workItemType:{type:String,required:!1,default:""},workItemId:{type:String,required:!0},workItemIid:{type:String,required:!1,default:null},children:{type:Array,required:!0},canUpdate:{type:Boolean,required:!1,default:!1},showLabels:{type:Boolean,required:!1,default:!0},showClosed:{type:Boolean,required:!1,default:!0},disableContent:{type:Boolean,required:!1,default:!1},isTopLevel:{type:Boolean,required:!1,default:!0},parent:{type:Object,required:!0},showTaskWeight:{type:Boolean,required:!1,default:!0},hasIndirectChildren:{type:Boolean,required:!1,default:!0},allowedChildrenByType:{type:Object,required:!1,default:function(){}},draggedItemType:{type:String,required:!1,default:null},activeChildItemId:{type:String,required:!1,default:null},parentId:{type:String,required:!1,default:null}},data:()=>({prefetchedWorkItem:null,updateInProgress:!1,currentClientX:0,currentClientY:0,childrenWorkItems:[],toParent:{},dragCancelled:!1}),computed:{canReorder(){return Object(l.A)()&&this.canUpdate},treeRootWrapper(){return this.canReorder?r.a:"ul"},treeRootOptions(){const e={...p.c,fallbackOnBody:!1,group:"sortable-container",tag:"ul","data-parent-id":this.workItemId,"data-parent-title":this.parent.title,value:this.children,delay:p.b,delayOnTouchOnly:!0};return this.canReorder?e:{}},disableList(){return this.disableContent||this.updateInProgress},apolloClient(){return this.$apollo.provider.clients.defaultClient},displayableChildren(){return Object(f.m)(this.showClosed)(this.children)}},mounted(){this.handleDocumentKeyup=this.handleKeyUp.bind(this)},methods:{async removeChild(e){var t=this;try{const{data:i}=await this.$apollo.mutate({mutation:S.a,variables:{input:{id:e.id,hierarchyWidget:{parentId:null}}},update:function(i){return Object(g.d)({cache:i,id:t.workItemId,workItem:e})}});if(i.workItemUpdate.errors.length)throw new Error(i.workItemUpdate.errors);this.$toast.show(Object(u.g)("WorkItem|Child removed"),{action:{text:Object(u.g)("WorkItem|Undo"),onClick:function(i,n){t.undoChildRemoval(e),n.hide()}}})}catch(e){this.$emit("error",Object(u.g)("WorkItem|Something went wrong while removing child.")),o.b(e)}},async undoChildRemoval(e){var t=this;try{this.updateInProgress=!0;const{data:i}=await this.$apollo.mutate({mutation:S.a,variables:{input:{id:e.id,hierarchyWidget:{parentId:this.workItemId}}},update:function(i){return Object(g.a)({cache:i,id:t.workItemId,workItem:e})}});if(i.workItemUpdate.errors.length)throw new Error(i.workItemUpdate.errors);this.$toast.show(Object(u.g)("WorkItem|Child removal reverted"))}catch(e){this.$emit("error",Object(u.g)("WorkItem|Something went wrong while undoing child removal.")),o.b(e)}finally{this.updateInProgress=!1}},addWorkItemQuery({iid:e}){this.$apollo.addSmartQuery("prefetchedWorkItem",{query:I.a,variables:{fullPath:this.fullPath,iid:e},update:e=>e.workspace.workItem})},prefetchWorkItem({iid:e}){var t=this;this.workItemType!==m.Fc&&(this.prefetch=setTimeout((function(){return t.addWorkItemQuery({iid:e})}),d.g))},clearPrefetching(){this.prefetch&&clearTimeout(this.prefetch)},async fetchChildren(e){await this.$apollo.addSmartQuery("childrenWorkItems",{query:O.a,variables:{id:e},update:function(e){return Object(f.f)(null==e?void 0:e.workItem)},result({data:e}){const{workItem:t}=e;this.toParent={id:t.id,title:t.title,confidential:t.confidential,workItemType:t.workItemType}},error(){this.$emit("error",Object(u.g)("Hierarchy|Something went wrong while fetching children."))}})},getReorderParams({oldIndex:e,newIndex:t}){let i;const n=this.children[t].id;return i=0===t?"BEFORE":t===this.children.length-1||e<t?"AFTER":"BEFORE",{relativePosition:i,adjacentWorkItemId:n}},async getMoveItemParams({toParentId:e,newIndex:t}){let i,n;var s;(await this.fetchChildren(e),this.childrenWorkItems.length>0)&&(n="BEFORE",i=null===(s=this.childrenWorkItems[t])||void 0===s?void 0:s.id,i||(i=this.childrenWorkItems[this.childrenWorkItems.length-1].id,n="AFTER"));return{adjacentWorkItemId:i,relativePosition:n,parentId:e}},handleDragOnStart(e){Object(h.d)(),this.$emit("drag",e.item.dataset.childType),this.dragCancelled=!1,document.addEventListener("keyup",this.handleDocumentKeyup)},async handleDragOnEnd(e){var t=this;if(clearTimeout(this.toggleTimer),Object(h.c)(),this.$emit("drop"),document.removeEventListener("keyup",this.handleDocumentKeyup),this.dragCancelled)return;const{oldIndex:i,newIndex:n,from:a,to:r}=e,l=a.dataset.parentId,d=r.dataset.parentId,c=r.dataset.parentTitle,u=this.children[i];let p,m,f;if(this.updateInProgress=!0,l===d){if(i===n)return void(this.updateInProgress=!1);p=this.getReorderParams({oldIndex:i,newIndex:n}),m=s()(this.children),m.splice(i,1)}else p=await this.getMoveItemParams({toParentId:d,newIndex:n}),m=s()(this.childrenWorkItems),f=m.length>0;m.splice(n,0,u);const v=m.length;this.$apollo.mutate({mutation:b.a,variables:{pageSize:v,endCursor:"",input:{id:u.id,...p}},update:async function(e){l!==d&&(Object(g.d)({cache:e,id:l,workItem:u}),f||t.openChild(d))},optimisticResponse:{workItemsHierarchyReorder:{__typename:"workItemsHierarchyReorderPayload",workItem:{...u,userPermissions:g.c,widgets:[{__typename:"WorkItemWidgetHierarchy",type:"HIERARCHY",hasChildren:!1,depthLimitReachedByType:[],rolledUpCountsByType:[],parent:{id:d},children:[]}]},parentWorkItem:{__typename:"WorkItem",id:d,userPermissions:g.c,confidential:this.toParent.confidential||this.parent.confidential,title:c,workItemType:this.toParent.workItemType||this.parent.workItemType,widgets:[{__typename:"WorkItemWidgetHierarchy",type:"HIERARCHY",hasChildren:!0,depthLimitReachedByType:[],rolledUpCountsByType:[],parent:null,children:{__typename:"WorkItemConnection",pageInfo:{hasNextPage:!1,hasPreviousPage:!1,startCursor:"",endCursor:""},count:m.length,nodes:[...m]}}]},errors:[]}}}).then((function({data:{workItemsHierarchyReorder:{errors:e}}}){if(null!=e&&e.length)throw new Error(e[0])})).catch((function(e){if(t.$emit("error",e.message),o.b(e),l!==d){const{cache:e}=t.apolloClient;Object(g.a)({cache:e,id:l,workItem:u,atIndex:i})}})).finally((function(){t.updateInProgress=!1}))},onMove(e,t){var i=this;const n=e.relatedContext.element,{clientX:s,clientY:a}=t;if(this.currentClientX=s,this.currentClientY=a,[m.Ac,m.Fc].includes(null==n?void 0:n.workItemType.name)){const{top:e,left:r}=t.target.getBoundingClientRect();a>=e&&s>=r?this.toggleTimer=setTimeout((function(){i.currentClientX===s&&i.currentClientY===a&&i.openChild(n.id)}),1e3):clearTimeout(this.toggleTimer)}},onClick(e,t){this.isTopLevel?this.$emit("show-modal",{event:e,child:e.childItem||t}):(e.childItem||Object.assign(e,{childItem:t}),this.$emit("click",e))},openChild(e){this.$apollo.mutate({mutation:k.a,variables:{id:e,isExpanded:!0}})},handleKeyUp(e){e.code===c.f&&(this.dragCancelled=!0,document.dispatchEvent(new Event("mouseup")))}}},R=Object(F.a)(L,(function(){var e=this,t=e._self._c;return t(e.treeRootWrapper,e._b({tag:"component",staticClass:"content-list",class:{"sortable-container gl-cursor-grab":e.canReorder,"disabled-content":e.disableList},attrs:{"data-testid":"child-items-container",move:e.onMove},on:{start:e.handleDragOnStart,end:e.handleDragOnEnd}},"component",e.treeRootOptions,!1),e._l(e.displayableChildren,(function(i){return t("work-item-link-child",{key:i.id,staticClass:"!gl-border-x-0 !gl-border-b-1 !gl-border-t-0 !gl-border-solid !gl-pb-2 last:!gl-border-b-0 last:!gl-pb-0",attrs:{"can-update":e.canUpdate,"issuable-gid":i.id,"child-item":i,confidential:i.confidential,"work-item-type":i.workItemType.name,"has-indirect-children":e.hasIndirectChildren,"show-labels":e.showLabels,"show-closed":e.showClosed,"work-item-full-path":e.fullPath,"show-task-weight":e.showTaskWeight,"dragged-item-type":e.draggedItemType,"allowed-children-by-type":e.allowedChildrenByType,"is-top-level":e.isTopLevel,"data-child-title":i.title,"data-child-type":i.workItemType.name,"active-child-item-id":e.activeChildItemId,"parent-id":e.parentId},on:{drag:function(t){return e.$emit("drag",t)},drop:function(t){return e.$emit("drop")},mouseover:function(t){return e.prefetchWorkItem(i)},mouseout:e.clearPrefetching,removeChild:e.removeChild,error:function(t){return e.$emit("error",t)},click:function(t){return e.onClick(t,i)}},nativeOn:{click:function(t){return e.onClick(t,i)}}})})),1)}),[],!1,null,null,null);t.default=R.exports},vkYZ:function(e,t,i){"use strict";var n={props:{open:{type:Boolean,required:!0}}},s=i("tBpV"),a=Object(s.a)(n,(function(){var e=this._self._c;return e("transition",{attrs:{name:"design-disclosure"}},[this.open?e("aside",{staticClass:"design-disclosure gl-border-l gl-relative gl-right-0 gl-top-0 gl-z-0 gl-flex gl-h-full gl-w-full gl-flex-col gl-overflow-y-auto gl-bg-white"},[this._t("default")],2):this._e()])}),[],!1,null,null,null);t.a=a.exports},voGz:function(e,t,i){var n=i("zx4+");e.exports=function(e,t,i){var s=e.length;return i=void 0===i?s:i,!t&&i>=s?e:n(e,t,i)}},w9hk:function(e,t,i){var n=i("ZB1U"),s=i("QA6A");e.exports=function(e){return s(e)&&"[object Map]"==n(e)}},wAfB:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fb15")}({"02f4":function(e,t,i){var n=i("4588"),s=i("be13");e.exports=function(e){return function(t,i){var a,r,o=String(s(t)),l=n(i),d=o.length;return l<0||l>=d?e?"":void 0:(a=o.charCodeAt(l))<55296||a>56319||l+1===d||(r=o.charCodeAt(l+1))<56320||r>57343?e?o.charAt(l):a:e?o.slice(l,l+2):r-56320+(a-55296<<10)+65536}}},"0390":function(e,t,i){"use strict";var n=i("02f4")(!0);e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},"07e3":function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},"0bfb":function(e,t,i){"use strict";var n=i("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0fc9":function(e,t,i){var n=i("3a38"),s=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?s(e+t,0):a(e,t)}},1654:function(e,t,i){"use strict";var n=i("71c1")(!0);i("30f1")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})}))},1691:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(e,t,i){var n=i("63b6");n(n.S,"Array",{isArray:i("9003")})},"1bc3":function(e,t,i){var n=i("f772");e.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(e,t,i){var n=i("f772"),s=i("e53d").document,a=n(s)&&n(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},"20fd":function(e,t,i){"use strict";var n=i("d9f6"),s=i("aebd");e.exports=function(e,t,i){t in e?n.f(e,t,s(0,i)):e[t]=i}},"214f":function(e,t,i){"use strict";i("b0c5");var n=i("2aba"),s=i("32e9"),a=i("79e5"),r=i("be13"),o=i("2b4c"),l=i("520a"),d=o("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(e,t,i){var p=o(e),h=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),m=h?!a((function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[d]=function(){return i}),i[p](""),!t})):void 0;if(!h||!m||"replace"===e&&!c||"split"===e&&!u){var f=/./[p],g=i(r,p,""[e],(function(e,t,i,n,s){return t.exec===l?h&&!s?{done:!0,value:f.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}})),v=g[0],b=g[1];n(String.prototype,e,v),s(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"230e":function(e,t,i){var n=i("d3f4"),s=i("7726").document,a=n(s)&&n(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},"23c6":function(e,t,i){var n=i("2d95"),s=i("2b4c")("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?i:a?n(t):"Object"==(r=n(t))&&"function"==typeof t.callee?"Arguments":r}},"241e":function(e,t,i){var n=i("25eb");e.exports=function(e){return Object(n(e))}},"25eb":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"294c":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"2aba":function(e,t,i){var n=i("7726"),s=i("32e9"),a=i("69a8"),r=i("ca5a")("src"),o=i("fa5b"),l=(""+o).split("toString");i("8378").inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,i,o){var d="function"==typeof i;d&&(a(i,"name")||s(i,"name",t)),e[t]!==i&&(d&&(a(i,r)||s(i,r,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=i:o?e[t]?e[t]=i:s(e,t,i):(delete e[t],s(e,t,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[r]||o.call(this)}))},"2b4c":function(e,t,i){var n=i("5537")("wks"),s=i("ca5a"),a=i("7726").Symbol,r="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=r&&a[e]||(r?a:s)("Symbol."+e))}).store=n},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},"2fdb":function(e,t,i){"use strict";var n=i("5ca1"),s=i("d2c8");n(n.P+n.F*i("5147")("includes"),"String",{includes:function(e){return!!~s(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"30f1":function(e,t,i){"use strict";var n=i("b8e3"),s=i("63b6"),a=i("9138"),r=i("35e8"),o=i("481b"),l=i("8f60"),d=i("45f2"),c=i("53e2"),u=i("5168")("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,i,m,f,g,v){l(i,t,m);var b,y,k,w=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},S=t+" Iterator",_="values"==f,I=!1,T=e.prototype,O=T[u]||T["@@iterator"]||f&&T[f],C=O||w(f),x=f?_?w("entries"):C:void 0,j="Array"==t&&T.entries||O;if(j&&(k=c(j.call(new e)))!==Object.prototype&&k.next&&(d(k,S,!0),n||"function"==typeof k[u]||r(k,u,h)),_&&O&&"values"!==O.name&&(I=!0,C=function(){return O.call(this)}),n&&!v||!p&&!I&&T[u]||r(T,u,C),o[t]=C,o[S]=h,f)if(b={values:_?C:w("values"),keys:g?C:w("keys"),entries:x},v)for(y in b)y in T||a(T,y,b[y]);else s(s.P+s.F*(p||I),t,b);return b}},"32a6":function(e,t,i){var n=i("241e"),s=i("c3a1");i("ce7e")("keys",(function(){return function(e){return s(n(e))}}))},"32e9":function(e,t,i){var n=i("86cc"),s=i("4630");e.exports=i("9e1e")?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},"32fc":function(e,t,i){var n=i("e53d").document;e.exports=n&&n.documentElement},"335c":function(e,t,i){var n=i("6b4c");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"355d":function(e,t){t.f={}.propertyIsEnumerable},"35e8":function(e,t,i){var n=i("d9f6"),s=i("aebd");e.exports=i("8e60")?function(e,t,i){return n.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},"36c3":function(e,t,i){var n=i("335c"),s=i("25eb");e.exports=function(e){return n(s(e))}},3702:function(e,t,i){var n=i("481b"),s=i("5168")("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[s]===e)}},"3a38":function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},"40c3":function(e,t,i){var n=i("6b4c"),s=i("5168")("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?i:a?n(t):"Object"==(r=n(t))&&"function"==typeof t.callee?"Arguments":r}},4588:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},"45f2":function(e,t,i){var n=i("d9f6").f,s=i("07e3"),a=i("5168")("toStringTag");e.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"469f":function(e,t,i){i("6c1c"),i("1654"),e.exports=i("7d7b")},"481b":function(e,t){e.exports={}},"4aa6":function(e,t,i){e.exports=i("dc62")},"4bf8":function(e,t,i){var n=i("be13");e.exports=function(e){return Object(n(e))}},"4ee1":function(e,t,i){var n=i("5168")("iterator"),s=!1;try{var a=[7][n]();a.return=function(){s=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var i=!1;try{var a=[7],r=a[n]();r.next=function(){return{done:i=!0}},a[n]=function(){return r},e(a)}catch(e){}return i}},"50ed":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},5147:function(e,t,i){var n=i("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},5168:function(e,t,i){var n=i("dbdb")("wks"),s=i("62a0"),a=i("e53d").Symbol,r="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=r&&a[e]||(r?a:s)("Symbol."+e))}).store=n},5176:function(e,t,i){e.exports=i("51b6")},"51b6":function(e,t,i){i("a3c3"),e.exports=i("584a").Object.assign},"520a":function(e,t,i){"use strict";var n,s,a=i("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,l=r,d=(n=/a/,s=/b*/g,r.call(n,"a"),r.call(s,"a"),0!==n.lastIndex||0!==s.lastIndex),c=void 0!==/()??/.exec("")[1];(d||c)&&(l=function(e){var t,i,n,s,l=this;return c&&(i=new RegExp("^"+l.source+"$(?!\\s)",a.call(l))),d&&(t=l.lastIndex),n=r.call(l,e),d&&n&&(l.lastIndex=l.global?n.index+n[0].length:t),c&&n&&n.length>1&&o.call(n[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n}),e.exports=l},"53e2":function(e,t,i){var n=i("07e3"),s=i("241e"),a=i("5559")("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=s(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},"549b":function(e,t,i){"use strict";var n=i("d864"),s=i("63b6"),a=i("241e"),r=i("b0dc"),o=i("3702"),l=i("b447"),d=i("20fd"),c=i("7cd6");s(s.S+s.F*!i("4ee1")((function(e){Array.from(e)})),"Array",{from:function(e){var t,i,s,u,p=a(e),h="function"==typeof this?this:Array,m=arguments.length,f=m>1?arguments[1]:void 0,g=void 0!==f,v=0,b=c(p);if(g&&(f=n(f,m>2?arguments[2]:void 0,2)),null==b||h==Array&&o(b))for(i=new h(t=l(p.length));t>v;v++)d(i,v,g?f(p[v],v):p[v]);else for(u=b.call(p),i=new h;!(s=u.next()).done;v++)d(i,v,g?r(u,f,[s.value,v],!0):s.value);return i.length=v,i}})},"54a1":function(e,t,i){i("6c1c"),i("1654"),e.exports=i("95d5")},5537:function(e,t,i){var n=i("8378"),s=i("7726"),a=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("2d00")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(e,t,i){var n=i("dbdb")("keys"),s=i("62a0");e.exports=function(e){return n[e]||(n[e]=s(e))}},"584a":function(e,t){var i=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},"5b4e":function(e,t,i){var n=i("36c3"),s=i("b447"),a=i("0fc9");e.exports=function(e){return function(t,i,r){var o,l=n(t),d=s(l.length),c=a(r,d);if(e&&i!=i){for(;d>c;)if((o=l[c++])!=o)return!0}else for(;d>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}}},"5ca1":function(e,t,i){var n=i("7726"),s=i("8378"),a=i("32e9"),r=i("2aba"),o=i("9b43"),l=function(e,t,i){var d,c,u,p,h=e&l.F,m=e&l.G,f=e&l.S,g=e&l.P,v=e&l.B,b=m?n:f?n[t]||(n[t]={}):(n[t]||{}).prototype,y=m?s:s[t]||(s[t]={}),k=y.prototype||(y.prototype={});for(d in m&&(i=t),i)u=((c=!h&&b&&void 0!==b[d])?b:i)[d],p=v&&c?o(u,n):g&&"function"==typeof u?o(Function.call,u):u,b&&r(b,d,u,e&l.U),y[d]!=u&&a(y,d,p),g&&k[d]!=u&&(k[d]=u)};n.core=s,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"5d73":function(e,t,i){e.exports=i("469f")},"5f1b":function(e,t,i){"use strict";var n=i("23c6"),s=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var a=i.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return s.call(e,t)}},"626a":function(e,t,i){var n=i("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"62a0":function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},"63b6":function(e,t,i){var n=i("e53d"),s=i("584a"),a=i("d864"),r=i("35e8"),o=i("07e3"),l=function(e,t,i){var d,c,u,p=e&l.F,h=e&l.G,m=e&l.S,f=e&l.P,g=e&l.B,v=e&l.W,b=h?s:s[t]||(s[t]={}),y=b.prototype,k=h?n:m?n[t]:(n[t]||{}).prototype;for(d in h&&(i=t),i)(c=!p&&k&&void 0!==k[d])&&o(b,d)||(u=c?k[d]:i[d],b[d]=h&&"function"!=typeof k[d]?i[d]:g&&c?a(u,n):v&&k[d]==u?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):f&&"function"==typeof u?a(Function.call,u):u,f&&((b.virtual||(b.virtual={}))[d]=u,e&l.R&&y&&!y[d]&&r(y,d,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},6762:function(e,t,i){"use strict";var n=i("5ca1"),s=i("c366")(!0);n(n.P,"Array",{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},6821:function(e,t,i){var n=i("626a"),s=i("be13");e.exports=function(e){return n(s(e))}},"69a8":function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},"6a99":function(e,t,i){var n=i("d3f4");e.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},"6c1c":function(e,t,i){i("c367");for(var n=i("e53d"),s=i("35e8"),a=i("481b"),r=i("5168")("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<o.length;l++){var d=o[l],c=n[d],u=c&&c.prototype;u&&!u[r]&&s(u,r,d),a[d]=a.Array}},"71c1":function(e,t,i){var n=i("3a38"),s=i("25eb");e.exports=function(e){return function(t,i){var a,r,o=String(s(t)),l=n(i),d=o.length;return l<0||l>=d?e?"":void 0:(a=o.charCodeAt(l))<55296||a>56319||l+1===d||(r=o.charCodeAt(l+1))<56320||r>57343?e?o.charAt(l):a:e?o.slice(l,l+2):r-56320+(a-55296<<10)+65536}}},7726:function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"774e":function(e,t,i){e.exports=i("d2d5")},"77f1":function(e,t,i){var n=i("4588"),s=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?s(e+t,0):a(e,t)}},"794b":function(e,t,i){e.exports=!i("8e60")&&!i("294c")((function(){return 7!=Object.defineProperty(i("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"79aa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7cd6":function(e,t,i){var n=i("40c3"),s=i("5168")("iterator"),a=i("481b");e.exports=i("584a").getIteratorMethod=function(e){if(null!=e)return e[s]||e["@@iterator"]||a[n(e)]}},"7d7b":function(e,t,i){var n=i("e4ae"),s=i("7cd6");e.exports=i("584a").getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},"7e90":function(e,t,i){var n=i("d9f6"),s=i("e4ae"),a=i("c3a1");e.exports=i("8e60")?Object.defineProperties:function(e,t){s(e);for(var i,r=a(t),o=r.length,l=0;o>l;)n.f(e,i=r[l++],t[i]);return e}},8378:function(e,t){var i=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},8436:function(e,t){e.exports=function(){}},"86cc":function(e,t,i){var n=i("cb7c"),s=i("c69a"),a=i("6a99"),r=Object.defineProperty;t.f=i("9e1e")?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),s)try{return r(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},"8aae":function(e,t,i){i("32a6"),e.exports=i("584a").Object.keys},"8e60":function(e,t,i){e.exports=!i("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"8f60":function(e,t,i){"use strict";var n=i("a159"),s=i("aebd"),a=i("45f2"),r={};i("35e8")(r,i("5168")("iterator"),(function(){return this})),e.exports=function(e,t,i){e.prototype=n(r,{next:s(1,i)}),a(e,t+" Iterator")}},9003:function(e,t,i){var n=i("6b4c");e.exports=Array.isArray||function(e){return"Array"==n(e)}},9138:function(e,t,i){e.exports=i("35e8")},9306:function(e,t,i){"use strict";var n=i("c3a1"),s=i("9aa9"),a=i("355d"),r=i("241e"),o=i("335c"),l=Object.assign;e.exports=!l||i("294c")((function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach((function(e){t[e]=e})),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n}))?function(e,t){for(var i=r(e),l=arguments.length,d=1,c=s.f,u=a.f;l>d;)for(var p,h=o(arguments[d++]),m=c?n(h).concat(c(h)):n(h),f=m.length,g=0;f>g;)u.call(h,p=m[g++])&&(i[p]=h[p]);return i}:l},9427:function(e,t,i){var n=i("63b6");n(n.S,"Object",{create:i("a159")})},"95d5":function(e,t,i){var n=i("40c3"),s=i("5168")("iterator"),a=i("481b");e.exports=i("584a").isIterable=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||a.hasOwnProperty(n(t))}},"9aa9":function(e,t){t.f=Object.getOwnPropertySymbols},"9b43":function(e,t,i){var n=i("d8e8");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,i){var n=i("2b4c")("unscopables"),s=Array.prototype;null==s[n]&&i("32e9")(s,n,{}),e.exports=function(e){s[n][e]=!0}},"9def":function(e,t,i){var n=i("4588"),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},"9e1e":function(e,t,i){e.exports=!i("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a159:function(e,t,i){var n=i("e4ae"),s=i("7e90"),a=i("1691"),r=i("5559")("IE_PROTO"),o=function(){},l=function(){var e,t=i("1ec9")("iframe"),n=a.length;for(t.style.display="none",i("32fc").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[a[n]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=n(e),i=new o,o.prototype=null,i[r]=e):i=l(),void 0===t?i:s(i,t)}},a352:function(e,t){e.exports=i("2O3R")},a3c3:function(e,t,i){var n=i("63b6");n(n.S+n.F,"Object",{assign:i("9306")})},a481:function(e,t,i){"use strict";var n=i("cb7c"),s=i("4bf8"),a=i("9def"),r=i("4588"),o=i("0390"),l=i("5f1b"),d=Math.max,c=Math.min,u=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;i("214f")("replace",2,(function(e,t,i,m){return[function(n,s){var a=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,a,s):i.call(String(a),n,s)},function(e,t){var s=m(i,e,this,t);if(s.done)return s.value;var u=n(e),p=String(this),h="function"==typeof t;h||(t=String(t));var g=u.global;if(g){var v=u.unicode;u.lastIndex=0}for(var b=[];;){var y=l(u,p);if(null===y)break;if(b.push(y),!g)break;""===String(y[0])&&(u.lastIndex=o(p,a(u.lastIndex),v))}for(var k,w="",S=0,_=0;_<b.length;_++){y=b[_];for(var I=String(y[0]),T=d(c(r(y.index),p.length),0),O=[],C=1;C<y.length;C++)O.push(void 0===(k=y[C])?k:String(k));var x=y.groups;if(h){var j=[I].concat(O,T,p);void 0!==x&&j.push(x);var E=String(t.apply(void 0,j))}else E=f(I,p,T,O,x,t);T>=S&&(w+=p.slice(S,T)+E,S=T+I.length)}return w+p.slice(S)}];function f(e,t,n,a,r,o){var l=n+e.length,d=a.length,c=h;return void 0!==r&&(r=s(r),c=p),i.call(o,c,(function(i,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":o=r[s.slice(1,-1)];break;default:var c=+s;if(0===c)return i;if(c>d){var p=u(c/10);return 0===p?i:p<=d?void 0===a[p-1]?s.charAt(1):a[p-1]+s.charAt(1):i}o=a[c-1]}return void 0===o?"":o}))}}))},a4bb:function(e,t,i){e.exports=i("8aae")},a745:function(e,t,i){e.exports=i("f410")},aae3:function(e,t,i){var n=i("d3f4"),s=i("2d95"),a=i("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==s(e))}},aebd:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},b0c5:function(e,t,i){"use strict";var n=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},b0dc:function(e,t,i){var n=i("e4ae");e.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},b447:function(e,t,i){var n=i("3a38"),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},b8e3:function(e,t){e.exports=!0},be13:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,i){var n=i("6821"),s=i("9def"),a=i("77f1");e.exports=function(e){return function(t,i,r){var o,l=n(t),d=s(l.length),c=a(r,d);if(e&&i!=i){for(;d>c;)if((o=l[c++])!=o)return!0}else for(;d>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}}},c367:function(e,t,i){"use strict";var n=i("8436"),s=i("50ed"),a=i("481b"),r=i("36c3");e.exports=i("30f1")(Array,"Array",(function(e,t){this._t=r(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,s(1)):s(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},c3a1:function(e,t,i){var n=i("e6f3"),s=i("1691");e.exports=Object.keys||function(e){return n(e,s)}},c649:function(e,t,i){"use strict";(function(e){i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return a})),i.d(t,"d",(function(){return c}));i("a481");var n=i("4aa6"),s=i.n(n);var a="undefined"!=typeof window?window.console:e.console;var r,o,l=/-(\w)/g,d=(r=function(e){return e.replace(l,(function(e,t){return t?t.toUpperCase():""}))},o=s()(null),function(e){return o[e]||(o[e]=r(e))});function c(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function u(e,t,i){var n=0===i?e.children[0]:e.children[i-1].nextSibling;e.insertBefore(t,n)}}).call(this,i("c8ba"))},c69a:function(e,t,i){e.exports=!i("9e1e")&&!i("79e5")((function(){return 7!=Object.defineProperty(i("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},c8bb:function(e,t,i){e.exports=i("54a1")},ca5a:function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},cb7c:function(e,t,i){var n=i("d3f4");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},ce7e:function(e,t,i){var n=i("63b6"),s=i("584a"),a=i("294c");e.exports=function(e,t){var i=(s.Object||{})[e]||Object[e],r={};r[e]=t(i),n(n.S+n.F*a((function(){i(1)})),"Object",r)}},d2c8:function(e,t,i){var n=i("aae3"),s=i("be13");e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(s(e))}},d2d5:function(e,t,i){i("1654"),i("549b"),e.exports=i("584a").Array.from},d3f4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},d864:function(e,t,i){var n=i("79aa");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d9f6:function(e,t,i){var n=i("e4ae"),s=i("794b"),a=i("1bc3"),r=Object.defineProperty;t.f=i("8e60")?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),s)try{return r(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},dbdb:function(e,t,i){var n=i("584a"),s=i("e53d"),a=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("b8e3")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},dc62:function(e,t,i){i("9427");var n=i("584a").Object;e.exports=function(e,t){return n.create(e,t)}},e4ae:function(e,t,i){var n=i("f772");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},e53d:function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},e6f3:function(e,t,i){var n=i("07e3"),s=i("36c3"),a=i("5b4e")(!1),r=i("5559")("IE_PROTO");e.exports=function(e,t){var i,o=s(e),l=0,d=[];for(i in o)i!=r&&n(o,i)&&d.push(i);for(;t.length>l;)n(o,i=t[l++])&&(~a(d,i)||d.push(i));return d}},f410:function(e,t,i){i("1af6"),e.exports=i("584a").Array.isArray},f559:function(e,t,i){"use strict";var n=i("5ca1"),s=i("9def"),a=i("d2c8"),r="".startsWith;n(n.P+n.F*i("5147")("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),i=s(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return r?r.call(t,n,i):t.slice(i,i+n.length)===n}})},f772:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},fa5b:function(e,t,i){e.exports=i("5537")("native-function-to-string",Function.toString)},fb15:function(e,t,i){"use strict";var n;(i.r(t),"undefined"!=typeof window)&&((n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=n[1]));var s=i("5176"),a=i.n(s),r=(i("f559"),i("a4bb")),o=i.n(r),l=i("a745"),d=i.n(l);var c=i("5d73"),u=i.n(c);function p(e,t){return function(e){if(d()(e))return e}(e)||function(e,t){var i=[],n=!0,s=!1,a=void 0;try{for(var r,o=u()(e);!(n=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw a}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}i("6762"),i("2fdb");var h=i("774e"),m=i.n(h),f=i("c8bb"),g=i.n(f);function v(e){return function(e){if(d()(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(g()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return m()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=i("a352"),y=i.n(b),k=i("c649");function w(e,t){var i=this;this.$nextTick((function(){return i.$emit(e.toLowerCase(),t)}))}function S(e){var t=this;return function(i){null!==t.realList&&t["onDrag"+e](i),w.call(t,e,i)}}function _(e){return["transition-group","TransitionGroup"].includes(e)}function I(e,t,i){return e[i]||(t[i]?t[i]():void 0)}var T=["Start","Add","Remove","Update","End"],O=["Choose","Unchoose","Sort","Filter","Clone"],C=["Move"].concat(T,O).map((function(e){return"on"+e})),x=null,j={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=function(e){if(!e||1!==e.length)return!1;var t=p(e,1)[0].componentOptions;return!!t&&_(t.tag)}(t);var i=function(e,t,i){var n=0,s=0,a=I(t,i,"header");a&&(n=a.length,e=e?[].concat(v(a),v(e)):v(a));var r=I(t,i,"footer");return r&&(s=r.length,e=e?[].concat(v(e),v(r)):v(r)),{children:e,headerOffset:n,footerOffset:s}}(t,this.$slots,this.$scopedSlots),n=i.children,s=i.headerOffset,r=i.footerOffset;this.headerOffset=s,this.footerOffset=r;var l=function(e,t){var i=null,n=function(e,t){i=function(e,t,i){return void 0===i||((e=e||{})[t]=i),e}(i,e,t)};if(n("attrs",o()(e).filter((function(e){return"id"===e||e.startsWith("data-")})).reduce((function(t,i){return t[i]=e[i],t}),{})),!t)return i;var s=t.on,r=t.props,l=t.attrs;return n("on",s),n("props",r),a()(i.attrs,l),i}(this.$attrs,this.componentData);return e(this.getTag(),l,n)},created:function(){null!==this.list&&null!==this.value&&k.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&k.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&k.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};T.forEach((function(i){t["on"+i]=S.call(e,i)})),O.forEach((function(i){t["on"+i]=w.bind(e,i)}));var i=o()(this.$attrs).reduce((function(t,i){return t[Object(k.a)(i)]=e.$attrs[i],t}),{}),n=a()({},this.options,i,t,{onMove:function(t,i){return e.onDragMove(t,i)}});!("draggable"in n)&&(n.draggable=">*"),this._sortable=new y.a(this.rootContainer,n),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var i=Object(k.a)(t);-1===C.indexOf(i)&&this._sortable.option(i,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick((function(){e.visibleIndexes=function(e,t,i,n){if(!e)return[];var s=e.map((function(e){return e.elm})),a=t.length-n,r=v(t).map((function(e,t){return t>=a?s.length:s.indexOf(e)}));return i?r.filter((function(e){return-1!==e})):r}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)}))},getUnderlyingVm:function(e){var t=function(e,t){return e.map((function(e){return e.elm})).indexOf(t)}(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&_(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=v(this.value);e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,v(e))};this.alterList(t)},updatePosition:function(e,t){var i=function(i){return i.splice(t,0,i.splice(e,1)[0])};this.alterList(i)},getRelatedContextFromMoveEvent:function(e){var t=e.to,i=e.related,n=this.getUnderlyingPotencialDraggableComponent(t);if(!n)return{component:n};var s=n.realList,r={list:s,component:n};if(t!==i&&s&&n.getUnderlyingVm){var o=n.getUnderlyingVm(i);if(o)return a()(o,r)}return r},getVmIndex:function(e){var t=this.visibleIndexes,i=t.length;return e>i-1?i:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),x=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(k.d)(e.item);var i=this.getVmIndex(e.newIndex);this.spliceList(i,0,t),this.computeIndexes();var n={element:t,newIndex:i};this.emitChanges({added:n})}},onDragRemove:function(e){if(Object(k.c)(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var i={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:i})}else Object(k.d)(e.clone)},onDragUpdate:function(e){Object(k.d)(e.item),Object(k.c)(e.from,e.item,e.oldIndex);var t=this.context.index,i=this.getVmIndex(e.newIndex);this.updatePosition(t,i);var n={element:this.context.element,oldIndex:t,newIndex:i};this.emitChanges({moved:n})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var i=v(t.to.children).filter((function(e){return"none"!==e.style.display})),n=i.indexOf(t.related),s=e.component.getVmIndex(n);return-1!==i.indexOf(x)||!t.willInsertAfter?s:s+1},onDragMove:function(e,t){var i=this.move;if(!i||!this.realList)return!0;var n=this.getRelatedContextFromMoveEvent(e),s=this.context,r=this.computeFutureIndex(n,e);return a()(s,{futureIndex:r}),i(a()({},e,{relatedContext:n,draggedContext:s}),t)},onDragEnd:function(){this.computeIndexes(),x=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",j);var E=j;t.default=E}}).default},wCL9:function(e,t,i){var n=i("DbBu")((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}));e.exports=n},wQtW:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WorkItemMetadataWidgetsExtras"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidget"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetNotifications"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscribed"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkItemWidgetCurrentUserTodos"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUserTodos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"EnumValue",value:"pending"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:244}};i.loc.source={body:"fragment WorkItemMetadataWidgetsExtras on WorkItemWidget {\n  ... on WorkItemWidgetNotifications {\n    subscribed\n  }\n\n  ... on WorkItemWidgetCurrentUserTodos {\n    currentUserTodos(state: pending) {\n      nodes {\n        id\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.WorkItemMetadataWidgetsExtras=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"WorkItemMetadataWidgetsExtras")},wf2L:function(e,t,i){"use strict";i.r(t);i("UezY"),i("z6RN"),i("hG7+");var n=i("s1D3"),s=i("/lV4"),a=i("JtyA"),r=i("4eEf"),o=i.n(r),l=i("J6Lq"),d=i("A7K0"),c=i("FkSe"),u=i("MV2A"),p=i("z1xw"),h=i("tbP8"),m=i("mFhR"),f=i("IO2v"),g=i("/DUi"),v=i("/9qn"),b={name:"WorkItemRelationshipPopoverMetadata",components:{ItemMilestone:g.a,GlAvatar:h.a,GlAvatarLink:m.a,GlAvatarsInline:f.a},directives:{GlTooltip:p.a},props:{workItem:{type:Object,required:!0},workItemFullPath:{type:String,required:!0}},assigneesDisplayLimit:3,computed:{workItemAssignees(){var e;return(null===(e=Object(v.e)(a.Ab,this.workItem))||void 0===e||null===(e=e.assignees)||void 0===e?void 0:e.nodes)||[]},workItemMilestone(){var e;return null===(e=Object(v.e)(a.Ob,this.workItem))||void 0===e?void 0:e.milestone},fullReference(){return Object(l.l)(this.workItemFullPath,this.workItem.reference)},directNamespaceReference(){return this.fullReference.split("/").slice(-1)[0]},assigneesCollapsedTooltip(){return this.workItemAssignees.length>this.$options.assigneesDisplayLimit?Object(s.h)(Object(s.g)("WorkItem|%{count} more assignees"),{count:this.workItemAssignees.length-this.$options.assigneesDisplayLimit}):""}}},y=i("tBpV"),k=Object(y.a)(b,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"shrink-0 gl-mt-1 gl-flex gl-w-fit gl-flex-wrap gl-items-center gl-gap-x-3 gl-gap-y-2 gl-text-sm gl-text-subtle"},[t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.fullReference}},[e._v(e._s(e.directNamespaceReference))]),e._v(" "),e._t("weight-metadata"),e._v(" "),e.workItemMilestone?t("item-milestone",{staticClass:"gl-flex gl-max-w-15 !gl-cursor-help gl-items-center gl-gap-2 gl-leading-normal !gl-no-underline",attrs:{milestone:e.workItemMilestone}}):e._e(),e._v(" "),e._t("additional-metadata"),e._v(" "),e.workItemAssignees.length?t("gl-avatars-inline",{attrs:{collapsed:"",avatars:e.workItemAssignees,"max-visible":e.$options.assigneesDisplayLimit,"avatar-size":16,"badge-tooltip-prop":"name","badge-sr-only-text":e.assigneesCollapsedTooltip},scopedSlots:e._u([{key:"avatar",fn:function({avatar:e}){return[t("gl-avatar-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{href:e.webUrl,title:e.name}},[t("gl-avatar",{attrs:{alt:e.name,src:e.avatarUrl,size:16}})],1)]}}],null,!1,3379637811)}):e._e()],2)}),[],!1,null,null,null).exports,w=i("MS9k");var S={components:{GlPopover:d.a,GlLoadingIcon:c.a,GlLink:u.a,WorkItemTypeIcon:w.a,WorkItemRelationshipPopoverMetadata:k},directives:{GlTooltip:p.a},props:{linkedWorkItems:{type:Array,required:!0},title:{type:String,required:!0},target:{type:String,required:!0},workItemFullPath:{type:String,required:!0},workItemType:{type:String,required:!0},workItemWebUrl:{type:String,required:!0},loading:{type:Boolean,default:!1,required:!1}},defaultDisplayLimit:3,computed:{atLinkedItemsDisplayLimit(){return this.linkedWorkItems.length>3},displayedIssuablesCount(){return this.atLinkedItemsDisplayLimit?this.linkedWorkItems.length-3:this.linkedWorkItems.length},moreItemsText(){return Object(s.f)("WorkItem|+%d more item","WorkItem|+%d more items",this.displayedIssuablesCount)},linkedItemsToDisplay(){return this.linkedWorkItems.slice(0,3)},moreItemsLink(){return`${this.workItemWebUrl}#${this.workItemType===a.Cc?"related-issues":"linkeditems"}`}}},_=Object(y.a)(S,(function(){var e=this,t=e._self._c;return t("gl-popover",{attrs:{target:e.target,placement:"top",triggers:"hover focus","css-classes":["gl-max-w-sm"]},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticClass:"gl-text-sm gl-text-subtle"},[e._v(e._s(e.title))])]},proxy:!0}])},[e._v(" "),e.loading?t("gl-loading-icon",{attrs:{size:"sm"}}):[t("ul",{staticClass:"gl-mb-0 gl-flex gl-list-none gl-flex-col gl-gap-3 gl-p-0",class:{"gl-mb-3":e.atLinkedItemsDisplayLimit}},e._l(e.linkedItemsToDisplay,(function({workItem:i}){return t("li",{key:i.id},[t("work-item-type-icon",{staticClass:"gl-mr-1 gl-cursor-help",attrs:{"show-tooltip-on-hover":!0,"icon-variant":"subtle","work-item-type":i.workItemType.name}}),e._v(" "),t("gl-link",{staticClass:"gl-link gl-hyphens-auto gl-break-words gl-text-base gl-font-semibold gl-text-default hover:gl-text-default",attrs:{href:i.webUrl},on:{click:function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.$emit("click",t)},mouseover:function(t){return e.$emit("mouseover")},mouseout:function(t){return e.$emit("mouseout")}}},[e._v("\n          "+e._s(i.title)+"\n        ")]),e._v(" "),t("work-item-relationship-popover-metadata",{attrs:{"work-item":i,"work-item-full-path":e.workItemFullPath}})],1)})),0),e._v(" "),e.atLinkedItemsDisplayLimit?t("gl-link",{staticClass:"gl-mt-3 gl-text-sm !gl-text-blue-500",attrs:{"data-testid":"more-related-items-link",href:e.moreItemsLink}},[e._v(e._s(e.moreItemsText))]):e._e()]],2)}),[],!1,null,null,null).exports,I={components:{GlIcon:n.a,WorkItemRelationshipPopover:_},props:{linkedWorkItems:{type:Array,required:!0},workItemType:{type:String,required:!0},workItemWebUrl:{type:String,required:!0},workItemFullPath:{type:String,required:!0},workItemIid:{type:String,required:!0}},apollo:{childItemLinkedItems:{skip(){return this.skipQuery},query:()=>o.a,variables(){return{fullPath:this.workItemFullPath,iid:this.workItemIid}},update({workspace:e}){var t;return null!=e&&e.workItem?(this.skipQuery=!0,(null===(t=Object(l.i)(e.workItem).linkedItems)||void 0===t?void 0:t.nodes)||[]):[]}}},data:()=>({skipQuery:!0,childItemLinkedItems:[]}),computed:{itemsBlockedBy(){return this.linkedWorkItems.filter((function(e){return e.linkType===a.R.IS_BLOCKED_BY}))},itemsBlocks(){return this.linkedWorkItems.filter((function(e){return e.linkType===a.R.BLOCKS}))},itemsBlockedByIconId(){return"relationship-blocked-by-icon-"+this.workItemIid},itemsBlocksIconId(){return"relationship-blocks-icon-"+this.workItemIid},blockedByLabel(){const e=Object(s.h)(Object(s.f)("WorkItem|%{workItemType} is blocked by 1 item","WorkItem|%{workItemType} is blocked by %{itemCount} items",this.itemsBlockedBy.length),{itemCount:this.itemsBlockedBy.length});return Object(a.Jc)(e,this.workItemType)},blocksLabel(){const e=Object(s.h)(Object(s.f)("WorkItem|%{workItemType} blocks 1 item","WorkItem|%{workItemType} blocks %{itemCount} items",this.itemsBlocks.length),{itemCount:this.itemsBlocks.length});return Object(a.Jc)(e,this.workItemType)},isLoading(){return this.$apollo.queries.childItemLinkedItems.loading},childBlockedByItems(){return this.childItemLinkedItems.filter((function(e){return e.linkType===a.R.IS_BLOCKED_BY}))},childBlocksItems(){return this.childItemLinkedItems.filter((function(e){return e.linkType===a.R.BLOCKS}))}},methods:{handleMouseEnter(){this.skipQuery=!1}}},T=Object(y.a)(I,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"gl-flex gl-gap-3"},[e.itemsBlockedBy.length>0?[t("span",{staticClass:"gl-cursor-pointer gl-text-sm gl-text-subtle",attrs:{id:e.itemsBlockedByIconId,"aria-label":e.blockedByLabel,tabIndex:"0","data-testid":"relationship-blocked-by-icon"},on:{mouseenter:e.handleMouseEnter}},[t("gl-icon",{attrs:{name:"entity-blocked",variant:"danger"}}),e._v("\n      "+e._s(e.itemsBlockedBy.length)+"\n    ")],1),e._v(" "),t("work-item-relationship-popover",{attrs:{target:e.itemsBlockedByIconId,title:e.s__("WorkItem|Blocked by"),loading:e.isLoading,"linked-work-items":e.childBlockedByItems,"work-item-full-path":e.workItemFullPath,"work-item-web-url":e.workItemWebUrl,"work-item-type":e.workItemType}})]:e._e(),e._v(" "),e.itemsBlocks.length>0?[t("span",{staticClass:"gl-cursor-pointer gl-text-sm gl-text-subtle",attrs:{id:e.itemsBlocksIconId,"aria-label":e.blocksLabel,tabIndex:"0","data-testid":"relationship-blocks-icon"},on:{mouseenter:e.handleMouseEnter}},[t("gl-icon",{attrs:{name:"entity-blocking",variant:"warning"}}),e._v("\n      "+e._s(e.itemsBlocks.length)+"\n    ")],1),e._v(" "),t("work-item-relationship-popover",{attrs:{target:e.itemsBlocksIconId,title:e.s__("WorkItem|Blocking"),loading:e.isLoading,"linked-work-items":e.childBlocksItems,"work-item-full-path":e.workItemFullPath,"work-item-web-url":e.workItemWebUrl,"work-item-type":e.workItemType}})]:e._e()],2)}),[],!1,null,null,null);t.default=T.exports},wi2E:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"workItemById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WorkItemID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"workItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WorkItem"},directives:[]}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:'#import "./work_item.fragment.graphql"\n\nquery workItemById($id: WorkItemID!) {\n  workItem(id: $id) {\n    ...WorkItem\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("IaCQ").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.workItemById=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"workItemById")},wkJj:function(e,t,i){"use strict";var n=i("UfBS"),s=i("dsLq"),a=i("/lV4");const r={search:"search",filter:"filter"};var o={i18n:{titleSearch:Object(a.a)("No results found"),descriptionSearch:Object(a.a)("Edit your search and try again."),titleFilter:Object(a.a)("No results found"),descriptionFilter:Object(a.a)("To widen your search, change or remove filters above.")},components:{GlEmptyState:s.a},props:{type:{type:String,required:!1,default:r.search,validator:function(e){return Object.values(r).includes(e)}}},computed:{title(){return this.type===r.search?this.$options.i18n.titleSearch:this.$options.i18n.titleFilter},description(){return this.type===r.search?this.$options.i18n.descriptionSearch:this.$options.i18n.descriptionFilter}},emptyStateSvgPath:n.a},l=i("tBpV"),d=Object(l.a)(o,(function(){return(0,this._self._c)("gl-empty-state",{attrs:{"svg-path":this.$options.emptyStateSvgPath,title:this.title,description:this.description}})}),[],!1,null,null,null);t.a=d.exports},"x/Tb":function(e,t,i){"use strict";var n=i("BAGK"),s=i("CdyC");const a={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},r={twoup:"twoup",swipe:"swipe",onion:"onion"};var o={components:{DownloadViewer:s.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},projectPath:{type:String,required:!1,default:""}},diffModes:a},l=i("tBpV"),d=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"diff-file-container"},[t("div",{staticClass:"diff-viewer"},[e.diffMode===e.$options.diffModes.replaced?t("div",{staticClass:"two-up view row"},[t("div",{staticClass:"col-sm-6 deleted"},[t("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1),e._v(" "),t("div",{staticClass:"col-sm-6 added"},[t("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1)]):e.diffMode===e.$options.diffModes.new?t("div",{staticClass:"added"},[t("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1):t("div",{staticClass:"deleted"},[t("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1)])])}),[],!1,null,null,null).exports,c=i("JCWm");function u(e){return e?e+"px":""}var p={components:{ImageViewer:c.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}),computed:{onionMaxPixelWidth(){return u(this.onionMaxWidth)},onionMaxPixelHeight(){return u(this.onionMaxHeight)},onionDraggerPixelPos(){return u(this.onionDraggerPos)}},beforeDestroy(){document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},methods:{dragMove(e){if(!this.dragging)return;const t=(e.pageX||e.touches[0].pageX)-this.$refs.dragTrack.getBoundingClientRect().left,i=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100;let n=t;n<0&&(n=0),n>i&&(n=i),this.onionOpacity=t/i,this.onionDraggerPos=n},startDrag(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareOnionSkin(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},onionNewImgLoaded(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},h=Object(l.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"onion-skin view"},[t("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":e.dragging?"none":null}},[t("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[t("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),t("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[t("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.onionNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:i}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:i})]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"controls"},[t("div",{staticClass:"transparent"}),e._v(" "),t("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[t("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),t("div",{staticClass:"opaque"})])])])}),[],!1,null,null,null).exports,m=i("h7kv"),f=i.n(m),g={components:{ImageViewer:c.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}),computed:{swipeMaxPixelWidth(){return u(this.swipeMaxWidth)},swipeMaxPixelHeight(){return u(this.swipeMaxHeight)},swipeWrapPixelWidth(){return u(this.swipeWrapWidth)},swipeBarPixelPos(){return u(this.swipeBarPos)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("touchmove",this.dragMove)},mounted(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove(e){if(!this.dragging)return;let t=(e.pageX||e.touches[0].pageX)-this.$refs.swipeFrame.getBoundingClientRect().left;const{clientWidth:i}=this.$refs.swipeFrame;t<=0?t=0:t>i&&(t=i),this.swipeWrapWidth=t/i*100,this.swipeBarPos=t},startDrag(){this.dragging=!0,document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareSwipe(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&this.swipeOldImgInfo.renderedWidth>0&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},swipeNewImgLoaded(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:f()((function(){this.swipeBarPos=0,this.swipeWrapWidth=0,this.prepareSwipe()}),400)}},v=Object(l.a)(g,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"swipe view"},[t("div",{ref:"swipeFrame",staticClass:"swipe-frame",style:{width:e.swipeMaxPixelWidth,height:e.swipeMaxPixelHeight,"user-select":e.dragging?"none":null}},[t("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),t("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[t("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.swipeNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:i}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:i})]}}],null,!0)})],1),e._v(" "),t("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[t("span",{staticClass:"top-handle"}),e._v(" "),t("span",{staticClass:"bottom-handle"})])],1)])}),[],!1,null,null,null).exports,b={components:{ImageViewer:c.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}}},y=Object(l.a)(b,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"two-up view gl-flex"},[t("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.oldPath,"file-size":e.oldSize,"render-info":!0,"inner-css-classes":"frame deleted"}}),e._v(" "),t("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.newPath,"file-size":e.newSize,"render-info":!0,"inner-css-classes":["frame","added"]},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:i}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:i})]}}],null,!0)})],1)}),[],!1,null,null,null).exports,k={components:{ImageViewer:c.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}},data:()=>({mode:r.twoup}),computed:{imageViewComponent(){switch(this.mode){case r.twoup:return y;case r.swipe:return v;case r.onion:return h;default:return}},isNew(){return this.diffMode===a.new},isRenamed(){return this.diffMode===a.renamed},imagePath(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode(e){this.mode=e}},diffModes:a,imageViewMode:r},w=Object(l.a)(k,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?t("div",{staticClass:"diff-viewer"},[t("div",{staticClass:"image js-replaced-image"},[t(e.imageViewComponent,e._b({tag:"component",scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:i}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:i})]}}],null,!0)},"component",e.$props,!1))],1),e._v(" "),t("div",{staticClass:"view-modes"},[t("ul",{staticClass:"view-modes-menu"},[t("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),t("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),t("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):t("div",{staticClass:"diff-viewer"},[t("div",{staticClass:"image"},[t("image-viewer",{attrs:{path:e.imagePath,"file-size":e.isNew?e.newSize:e.oldSize,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}]},scopedSlots:e._u([e.isNew||e.isRenamed?{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:i}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:i})]}}:null],null,!0)})],1)])])}),[],!1,null,null,null).exports,S=i("/lV4"),_={props:{aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{outputText(){return Object(S.h)(Object(S.a)("File mode changed from %{a_mode} to %{b_mode}"),{a_mode:this.aMode,b_mode:this.bMode})}}},I=Object(l.a)(_,(function(){return(0,this._self._c)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.outputText))])}),[],!1,null,null,null).exports,T=i("dsWN"),O=i("MV2A"),C=i("FkSe"),x=i("30su"),j=i("yi8e"),E=i("pIt4"),D=i("0AwG");var N={STATE_LOADING:E.gb,STATE_ERRORED:E.eb,uiText:{showLink:Object(S.a)("Show file contents"),commitLink:Object(S.a)("View file @ %{commitSha}"),description:Object(S.a)("File renamed with no changes."),loadError:Object(S.a)("Unable to load file contents. Try again later.")},components:{GlAlert:T.a,GlLink:O.a,GlLoadingIcon:C.a,GlSprintf:x.a},props:{diffFile:{type:Object,required:!0}},data:()=>({state:E.fb}),computed:{shortSha(){return Object(D.E)(this.diffFile.content_sha)},canLoadFullDiff(){return"text"===this.diffFile.alternate_viewer.name}},methods:{...Object(j.c)("diffs",["switchToFullDiffFromRenamedFile"]),is(e){return this.state===e},switchToFull(){var e=this;this.transitionState(E.yb),this.switchToFullDiffFromRenamedFile({diffFile:this.diffFile}).then((function(){e.transitionState(E.zb)})).catch((function(){e.transitionState(E.xb)}))},transitionState(e){this.state=function(e,t){const i=`${e}:${t}`;return E.cb[i]?E.cb[i]:e}(this.state,e)},clickLink(e){this.canLoadFullDiff&&(e.preventDefault(),this.switchToFull())},dismissError(){this.transitionState(E.wb)}}},A=Object(l.a)(N,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"nothing-here-block"},[e.is(e.$options.STATE_LOADING)?t("gl-loading-icon",{attrs:{size:"sm"}}):[t("gl-alert",{directives:[{name:"show",rawName:"v-show",value:e.is(e.$options.STATE_ERRORED),expression:"is($options.STATE_ERRORED)"}],staticClass:"gl-mb-5 gl-text-left",attrs:{variant:"danger"},on:{dismiss:e.dismissError}},[e._v(e._s(e.$options.uiText.loadError))]),e._v(" "),t("span",{attrs:{"test-id":"plaintext"}},[e._v(e._s(e.$options.uiText.description))]),e._v(" "),t("gl-link",{attrs:{href:e.diffFile.view_path},on:{click:e.clickLink}},[e.canLoadFullDiff?t("span",[e._v(e._s(e.$options.uiText.showLink))]):t("gl-sprintf",{attrs:{message:e.$options.uiText.commitLink},scopedSlots:e._u([{key:"commitSha",fn:function(){return[e._v(e._s(e.shortSha))]},proxy:!0}])})],1)]],2)}),[],!1,null,null,null).exports,P={props:{diffFile:{type:Object,required:!0},diffMode:{type:String,required:!0},diffViewerMode:{type:String,required:!0},newPath:{type:String,required:!0},newSha:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldPath:{type:String,required:!0},oldSha:{type:String,required:!0},oldSize:{type:Number,required:!1,default:0},projectPath:{type:String,required:!1,default:""},aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{viewer(){if(this.diffViewerMode===n.z.renamed)return A;if(this.diffMode===n.x.mode_changed)return I;if(!this.newPath)return null;switch(this.diffViewerMode){case n.z.image:return w;default:return d}},basePath(){return 0===this.projectPath.indexOf("/")?"":gon.relative_url_root+"/"},fullOldPath(){return`${this.basePath}${this.projectPath}/-/raw/${this.oldSha}/${this.oldPath}`},fullNewPath(){return`${this.basePath}${this.projectPath}/-/raw/${this.newSha}/${this.newPath}`}}},F=Object(l.a)(P,(function(){var e=this,t=e._self._c;return e.viewer?t("div",{staticClass:"diff-file preview-container"},[t(e.viewer,{tag:"component",attrs:{"diff-file":e.diffFile,"diff-mode":e.diffMode,"new-path":e.fullNewPath,"old-path":e.fullOldPath,"old-size":e.oldSize,"new-size":e.newSize,"project-path":e.projectPath,"a-mode":e.aMode,"b-mode":e.bMode},scopedSlots:e._u([{key:"image-overlay",fn:function({renderedWidth:t,renderedHeight:i}){return[e._t("image-overlay",null,{renderedWidth:t,renderedHeight:i})]}}],null,!0)}),e._v(" "),e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=F.exports},xQR3:function(e,t,i){"use strict";i("B++/"),i("z6RN"),i("47t/");var n=i("s1D3"),s=i("AxUD"),a=i("bOix"),r=i("/lV4"),o=i("JtyA"),l=i("J6Lq"),d=i("lTe/"),c=i("0qSx"),u={components:{IssuableMilestone:d.a,WorkItemAttribute:c.a,GlIcon:n.a},props:{issue:{type:Object,required:!0},isWorkItemList:{type:Boolean,required:!1,default:!1}},computed:{milestone(){var e;return this.issue.milestone||(null===(e=this.issue.widgets)||void 0===e||null===(e=e.find(l.t))||void 0===e?void 0:e.milestone)},dueDate(){var e;return this.issue.dueDate||(null===(e=this.issue.widgets)||void 0===e||null===(e=e.find(l.w))||void 0===e?void 0:e.dueDate)},dueDateText(){return this.startDate?Object(a.B)(Object(a.O)(this.startDate),Object(a.O)(this.dueDate)):this.dueDate?a.I.asDate.format(Object(a.O)(this.dueDate)):null},isClosed(){return this.issue.state===s.d||this.issue.state===o.eb},isOverdue(){return!!this.dueDate&&(Object(a.D)(Object(a.O)(this.dueDate))&&!this.isClosed)},dueDateTitle(){return this.isOverdue?`${Object(r.a)("Due date")} (${Object(r.a)("overdue")})`:Object(r.a)("Due date")},dateIcon(){return this.isOverdue?"calendar-overdue":"calendar"},startDate(){var e;return null===(e=this.issue.widgets)||void 0===e||null===(e=e.find(l.w))||void 0===e?void 0:e.startDate},timeEstimate(){var e;return this.issue.humanTimeEstimate||(null===(e=this.issue.timeStats)||void 0===e?void 0:e.humanTimeEstimate)}}},p=i("tBpV"),h=Object(p.a)(u,(function(){var e=this,t=e._self._c;return t("span",[e.milestone?t("issuable-milestone",{attrs:{milestone:e.milestone}}):e._e(),e._v(" "),e.dueDateText?t("work-item-attribute",{attrs:{"anchor-id":"issuable-due-date",title:e.dueDateText,"title-component-class":"issuable-due-date gl-mr-3","tooltip-text":e.dueDateTitle,"tooltip-placement":"top"},scopedSlots:e._u([{key:"icon",fn:function(){return[t("gl-icon",{attrs:{variant:e.isOverdue?"danger":"current",name:e.dateIcon,size:12}})]},proxy:!0}],null,!1,4212441276)}):e._e(),e._v(" "),e.timeEstimate?t("work-item-attribute",{attrs:{"anchor-id":"time-estimate",title:e.timeEstimate,"title-component-class":"gl-mr-3","tooltip-text":e.__("Estimate"),"tooltip-placement":"top"},scopedSlots:e._u([{key:"icon",fn:function(){return[t("gl-icon",{attrs:{name:"timer",size:12}})]},proxy:!0}],null,!1,3630396722)}):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.a=h.exports},xRYP:function(e,t,i){e.exports=function(e){"use strict";return function(){return{renderer:{heading(...t){return e.marked.Renderer.prototype.heading.call(this,...t).replace(/^<(h\d)/,'<$1 dir="auto"')},list(...t){return e.marked.Renderer.prototype.list.call(this,...t).replace(/^<(ol|ul)/,'<$1 dir="auto"')},paragraph(...t){return e.marked.Renderer.prototype.paragraph.call(this,...t).replace(/^<p/,'<p dir="auto"')}}}}}(i("Idki"))},xkEJ:function(e,t,i){"use strict";var n=i("9k56"),s=i("3hkr"),a=i("VuSA"),r=i("hII5"),o=i("g+RJ"),l=i("jw83"),d=i("5TS0"),c=i("aBA8"),u=i("sz4L"),p=i("SGlG"),h=i("9ZSa"),m=i("8DVS"),f=i("usgv"),g=i("awnp"),v=i("BAFT"),b=i("SnPb");const y=Object(r.c)(Object(a.m)({...d.b,...u.b,...p.b,...h.b,...m.a,...f.a,...g.a,...v.a,...b.a}),s.Q),k=Object(n.c)({name:s.Q,mixins:[o.a,l.a,d.a,c.a,h.a,f.b,m.b,b.b,v.b,g.b,u.a,p.a],props:y});var w=i("Pyw5"),S=i.n(w);const{tableClass:_}=k.options.props;const I={name:"GlTableLite",components:{BTableLite:k},inheritAttrs:!1,props:{tableClass:_,fields:{type:Array,required:!1,default:null},stickyHeader:{type:Boolean,default:!1,required:!1}},computed:{stickyHeaderClass(){return this.stickyHeader?"gl-table--sticky-header":null},localTableClass(){return["gl-table",this.tableClass,this.stickyHeaderClass]}}};const T=S()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-table-lite",e._g(e._b({attrs:{"table-class":e.localTableClass,fields:e.fields},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,null,i)]}}}))],null,!0)},"b-table-lite",e.$attrs,!1),e.$listeners))},staticRenderFns:[]},void 0,I,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=T},yCDu:function(e,t,i){"use strict";i("RFHG"),i("z6RN"),i("xuo1"),i("UezY"),i("hG7+"),i("B++/"),i("47t/");var n=i("A7K0"),s=i("Lzak"),a=i("s1D3"),r=i("/lV4"),o=i("MS9k"),l=i("JtyA"),d={components:{WorkItemTypeIcon:o.a},props:{filteredRollUpCountsByType:{type:Array,required:!0}},methods:{getItemsClosedLabel:e=>Object(l.Jc)(Object(r.g)("WorkItem| %{workItemType}s closed"),e)}},c=i("tBpV"),u=Object(c.a)(d,(function(){var e=this,t=e._self._c;return e.filteredRollUpCountsByType.length>0?t("div",{staticClass:"gl-flex gl-flex-col gl-gap-y-2",attrs:{"data-testid":"rolled-up-count-info"}},e._l(e.filteredRollUpCountsByType,(function(i){return t("div",{key:i.workItemType.name,attrs:{"data-testid":"rolled-up-type-info"}},[t("work-item-type-icon",{attrs:{"work-item-icon-name":i.workItemType.iconName}}),e._v(" "),t("span",{staticClass:"gl-font-bold"},[e._v(e._s(i.countsByState.closed)+"/"+e._s(i.countsByState.all))]),e._v("\n    "+e._s(e.getItemsClosedLabel(i.workItemType.name))+"\n  ")],1)})),0):e._e()}),[],!1,null,null,null).exports,p={i18n:{countPermissionText:Object(r.a)("Roll up totals may reflect child items you donât have access to."),noChildItemsText:Object(r.a)("No child items are currently assigned.")},components:{GlPopover:n.a,GlBadge:s.a,GlIcon:a.a,WorkItemTypeIcon:o.a,WorkItemRolledUpCountInfo:u},props:{infoType:{type:String,required:!1,default:"badge"},rolledUpCountsByType:{type:Array,required:!0,default:function(){return[]}},hideCountWhenZero:{type:Boolean,required:!1,default:!1}},computed:{totalCountAllByType(){return[...this.rolledUpCountsByType].reduce((function(e,t){return e+t.countsByState.all}),0)},showDetailedCount(){return"detailed"===this.infoType},filteredRollUpCountsByType(){var e=this;return this.rolledUpCountsByType.filter((function(t){return e.rolledUpCountExists(t)}))},showRolledUpCount(){return!this.hideCountWhenZero||this.totalCountAllByType>0}},methods:{workItemTypeCount(e){return this.rolledUpCountsByType.find((function(t){var i;return(null==t||null===(i=t.workItemType)||void 0===i?void 0:i.name)===e}))},rolledUpCountExists(e){var t;return(null==e||null===(t=e.countsByState)||void 0===t?void 0:t.all)>0}}},h=Object(c.a)(p,(function(){var e=this,t=e._self._c;return e.showRolledUpCount?t("div",{attrs:{"data-testid":"work-item-rolled-up-count-wrapper"}},[e.showDetailedCount?t("span",{ref:"info",staticClass:"gl-flex gl-gap-3 gl-text-nowrap gl-text-sm",attrs:{tabindex:"0","data-testid":"work-item-rolled-up-detailed-count"}},e._l(e.filteredRollUpCountsByType,(function(i){return t("span",{key:i.workItemType.name},[t("work-item-type-icon",{attrs:{"work-item-icon-name":i.workItemType.iconName}}),e._v("\n      "+e._s(i.countsByState.all)+"\n    ")],1)})),0):t("span",{ref:"countBadge",staticClass:"gl-inline-block",attrs:{tabindex:"0","data-testid":"work-item-rolled-up-badge-count"}},[t("gl-badge",{attrs:{variant:"muted"}},[e._v(e._s(e.totalCountAllByType))])],1),e._v(" "),e.showDetailedCount?t("gl-popover",{attrs:{triggers:"hover focus",target:function(){return e.$refs.info},"data-testid":"detailed-popover"}},[t("work-item-rolled-up-count-info",{attrs:{"filtered-roll-up-counts-by-type":e.filteredRollUpCountsByType}})],1):t("gl-popover",{attrs:{triggers:"hover focus",target:function(){return e.$refs.countBadge},"data-testid":"badge-popover"}},[t("work-item-rolled-up-count-info",{attrs:{"filtered-roll-up-counts-by-type":e.filteredRollUpCountsByType}}),e._v(" "),t("div",{staticClass:"gl-text-subtle",class:{"gl-mt-3":e.totalCountAllByType>0},attrs:{"data-testid":"badge-warning"}},[e.totalCountAllByType>0?t("gl-icon",{staticClass:"gl-mr-2",attrs:{name:"information-o",size:16,variant:"subtle"}}):e._e(),e._v(e._s(e.totalCountAllByType>0?e.$options.i18n.countPermissionText:e.$options.i18n.noChildItemsText)+"\n    ")],1)],1)],1):e._e()}),[],!1,null,null,null);t.a=h.exports},yFt4:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"workItemTodoMarkDone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TodoMarkDoneInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"todoMutation"},name:{kind:"Name",value:"todoMarkDone"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"todo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:161}};i.loc.source={body:"mutation workItemTodoMarkDone($input: TodoMarkDoneInput!) {\n  todoMutation: todoMarkDone(input: $input) {\n    todo {\n      id\n      state\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.workItemTodoMarkDone=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"workItemTodoMarkDone")},yYhH:function(e,t,i){"use strict";var n=i("YqVM"),s=i.n(n),a=i("05sH"),r=i.n(a),o=i("G3fq"),l=i.n(o),d=(i("byxs"),i("3UXl"),i("iyoE"),i("B++/"),i("z6RN"),i("47t/"),i("UezY"),i("hG7+"),i("86Lb"),i("ZzK0"),i("BzOf"),i("EmJ/")),c=i.n(d),u=i("rDVI"),p=i("m/7A"),h=i("AxUD"),m=i("NY3P"),f=i("nc9B"),g=i("2ibD"),v=i("NmEs"),b=i("/lV4");i("RFHG"),i("xuo1");const y=function(e,t){return Object.keys(t).reduce((function(i,n){const s=t[n];return i[n]=e[s]||null,i}),{})};function k(e,t,i={}){var n=this;const a=null==t?void 0:t.toString().match(".(.+$)")[1],o=c()(t||".js-user-search");this.users=this.users.bind(this),this.usersPath="/-/autocomplete/users.json",null!=e&&(this.currentUser="object"==typeof e?e:JSON.parse(e));const{handleClick:d,states:u}=i;this.dropdowns=o.map((function(e,t){const i=n,o=c()(t),h={states:u,projectId:o.data("projectId"),groupId:o.data("groupId"),showCurrentUser:o.data("currentUser"),todoFilter:o.data("todoFilter"),todoStateFilter:o.data("todoStateFilter"),iid:o.data("iid"),issuableType:o.data("issuableType"),targetBranch:o.data("targetBranch"),authorId:o.data("authorId"),showSuggested:o.data("showSuggested")},m=o.data("nullUser"),y=o.data("nullUserDefault"),k=o.data("showMenuAbove"),w=o.data("anyUser"),S=o.data("firstUser"),_=o.data("defaultLabel"),I=o.data("issueUpdate"),T=o.closest(".selectbox"),O=T.next(".assign-to-me-link");let C=T.closest(".block");const x=o.data("abilityName");let j=C.find(".value");const E=C.find(".sidebar-collapsed-user"),D=C.find(".block-loading").addClass("gl-hidden"),N=y&&m?0:null;let A,P,F,L=o.data("selected");const R=o.data("suggestedReviewersHelpPath"),q=r()(`<div class="gl-flex gl-items-center">\n         <%- header %>\n         <a\n           title="${Object(b.g)("SuggestedReviewers|Learn about suggested reviewers")}"\n           href="${R}"\n           rel="noopener"\n           target="_blank"\n           aria-label="${Object(b.g)("SuggestedReviewers|Suggested reviewers help link")}"\n           class="hover:!gl-bg-transparent !gl-p-0 has-tooltip">\n           ${Object(v.O)("question-o","gl-ml-3 gl-icon s16")}\n         </a>\n       </div>`);void 0===L&&(L=N);const $=function(){const e=o.closest(".selectbox").find(`input[name='${o.data("fieldName")}'][value=0]`);e&&e.remove();const t=o.data("currentUserInfo")||{},n=i.currentUser||{},s=o.data("fieldName"),a=t.name,l=t.id||n.id,d=r()('\n        <input type="hidden" name="<%- fieldName %>"\n          data-meta="<%- userName %>"\n          value="<%- userId %>" />\n        ')({fieldName:s,userName:a,userId:l});T?o.parent().before(d):o.after(d)};C[0]&&C[0].addEventListener("assignYourself",$);const B=function(){return T.find(`input[name="${o.data("fieldName")}"]`)},M=function(){return B().map((function(e,t){return parseInt(t.value,10)})).get()},V=function(){const e=o.data("maxSelect");if(e){const t=M();if(t.length>e){const e=t[0];o.closest(".selectbox").find(`input[name='${o.data("fieldName")}'][value=${e}]`).remove(),o.hasClass(a)?emitSidebarEvent("sidebar.removeReviewer",{id:e}):emitSidebarEvent("sidebar.removeAssignee",{id:e})}}},U=function(e,t){const i=M().filter((function(e){return 0!==e})),n=B().map((function(e,t){return{name:t.dataset.meta,value:parseInt(t.value,10)}})).filter((function(e){return 0!==e.id})).get(0);if(0===i.length)return Object(b.g)("UsersSelect|Unassigned");if(1===i.length)return n.name;if(t){const t=i.filter((function(t){return t!==e.id}));return Object(b.h)(Object(b.g)("UsersSelect|%{name} + %{length} more"),{name:e.name,length:t.length})}return Object(b.h)(Object(b.g)("UsersSelect|%{name} + %{length} more"),{name:n.name,length:i.length-1})};return O.on("click",(function(e){if(e.preventDefault(),c()(e.currentTarget).hide(),o.data("multiSelect")){$(),V();const e=o.data("currentUserInfo");o.find(".dropdown-toggle-text").text(U(e)).removeClass("is-default")}else{const e=c()(`input[name="${o.data("fieldName")}"]`);e.val(gon.current_user_id),L=e.val(),o.find(".dropdown-toggle-text").text(gon.current_user_fullname).removeClass("is-default")}})),C.on("click",".js-assign-yourself",(function(e){return e.preventDefault(),A(i.currentUser.id)})),A=function(e){const t={};return t[x]={},t[x].assignee_id=null!=e?e:null,D.removeClass("gl-hidden"),o.trigger("loading.gl.dropdown"),g.a.put(I,t).then((function({data:e}){let t,i={};return o.trigger("loaded.gl.dropdown"),D.addClass("gl-hidden"),e.assignee?(i={name:e.assignee.name,username:e.assignee.username,avatar:e.assignee.avatar_url},t=l()(i.name)):(i={name:Object(b.g)("UsersSelect|Unassigned"),username:"",avatar:""},t=Object(b.g)("UsersSelect|Assignee")),j.html(P(i)),E.attr("title",t),Object(f.c)(E),E.html(F(i))}))},F=r()(`<% if( avatar ) { %> <a class="author-link" href="/<%- username %>"> <img width="24" class="avatar avatar-inline s24" alt="" src="<%- avatar %>"> </a> <% } else { %> ${Object(v.O)("user")} <% } %>`),P=r()(`<% if (username) { %> <a class="author-link gl-font-bold" href="/<%- username %>"> <% if( avatar ) { %> <img width="32" class="avatar avatar-inline s32" alt="" src="<%- avatar %>"> <% } %> <span class="author"><%- name %></span> <span class="username"> @<%- username %> </span> </a> <% } else { %> <span class="no-value assign-yourself">\n      ${Object(b.h)(Object(b.g)("UsersSelect|No assignee - %{openingTag} assign yourself %{closingTag}"),{openingTag:'<a href="#" class="js-assign-yourself">',closingTag:"</a>"})}</span> <% } %>`),Object(p.a)(o,{showMenuAbove:k,data(e,t){var n=this;return i.users(e,h,(function(i){(n.instance||n.options.instance).options.processData(e,i,t)}))},processData(e,t,i){const n=t.filter((function(e){return!e.type}));let a,r,l,d,c,u,p=n;if(o.hasClass("js-multiselect")&&0===e.length){const e=B(),t=s()(e,(function(e){return e.value})).filter((function(e){const t=parseInt(e.value,10);return!p.find((function(e){return e.id===t}))&&0!==t})).map((function(e){const t=parseInt(e.value,10),{avatarUrl:i,avatar_url:n,name:s,username:a,can_merge:r}=e.dataset;return{avatar_url:i||n||gon.default_avatar_url,id:t,name:s,username:a,can_merge:Object(v.H)(r)}}));p=n.concat(t)}if(0===e.length){if(u=0,S)for(r=0,l=p.length;r<l;r+=1)if(c=p[r],c.username===S){p.splice(r,1),p.unshift(c);break}if(m&&(u+=1,p.unshift({beforeDivider:!0,name:Object(b.g)("UsersSelect|Unassigned"),id:0})),w&&(u+=1,d=w,!0===d&&(d=Object(b.g)("UsersSelect|Any User")),a={beforeDivider:!0,name:d,id:null},p.unshift(a)),u&&p.splice(u,0,{type:"divider"}),o.hasClass("js-multiselect")){const e=M().filter((function(e){return 0!==e}));if(o.data("showSuggested")){const t=this.suggestedUsers(p);t.length&&(p=p.filter((function(t){return!t.suggested||t.suggested&&-1!==e.indexOf(t.id)})),p.splice(u+1,0,...t))}if(e.length>0){o.data("dropdownHeader")&&(u+=1,p.splice(u,0,{type:"header",content:o.data("dropdownHeader")}));const t=p.filter((function(t){return-1!==e.indexOf(t.id)})).sort((function(e,t){return e.name>t.name}));p=p.filter((function(t){return-1===e.indexOf(t.id)})),t.forEach((function(e){u+=1,p.splice(u,0,e)})),p.splice(u+1,0,{type:"divider"})}}}i(p),k&&o.data("deprecatedJQueryDropdown").positionMenuAbove()},suggestedUsers(e){const t=M().filter((function(e){return 0!==e})),i=e.filter((function(e){return e.suggested&&-1===t.indexOf(e.id)}));if(!i.length)return[];return[{type:"header",content:q({header:o.data("suggestedReviewersHeader")})},...i,{type:"header",content:o.data("allMembersHeader")}]},filterable:!0,filterRemote:!0,search:{fields:["name","username"]},selectable:!0,fieldName:o.data("fieldName"),toggleLabel(e,t,i){const n=i.filterInput.val();if(this.multiSelect&&""===n){const e=i.filteredFullData(),t=i.parseData.bind(i);this.processData(n,e,t)}return i.filter.clear(),this.multiSelect?U(e,c()(t).hasClass("is-active")):e&&"id"in e&&c()(t).hasClass("is-active")?(o.find(".dropdown-toggle-text").removeClass("is-default"),e.text?e.text:e.name):(o.find(".dropdown-toggle-text").addClass("is-default"),_)},defaultLabel:_,hidden(){o.hasClass("js-multiselect")&&(o.hasClass(a)?(o.closest(".merge-request-form").length||(o.data("deprecatedJQueryDropdown").clearMenu(),o.closest(".selectbox").children('input[type="hidden"]').remove()),emitSidebarEvent("sidebar.saveReviewers")):emitSidebarEvent("sidebar.saveAssignees")),o.data("alwaysShowSelectbox")||(T.hide(),C=T.closest(".block"),j=C.find(".value"),j.css("display","")),c()(".dropdown-input-field",C).val("")},multiSelect:o.hasClass("js-multiselect"),inputMeta:o.data("inputMeta"),clicked(e){const{$el:t,e:i,isMarking:n}=e,s=e.selectedObj;if(Object(f.b)(t),o.hasClass("js-multiselect")){const e=t.hasClass("is-active"),i=o.closest(".selectbox").find(`input[name='${o.data("fieldName")}'][value!=0]`);if(V(),s.beforeDivider&&"unassigned"===s.name.toLowerCase())i.each((function(e,t){t.remove()})),o.hasClass(a)?emitSidebarEvent("sidebar.removeAllReviewers"):emitSidebarEvent("sidebar.removeAllAssignees");else if(e){o.hasClass(a)?emitSidebarEvent("sidebar.addReviewer",s):emitSidebarEvent("sidebar.addAssignee",s);const e=o.closest(".selectbox").find(`input[name='${o.data("fieldName")}'][value=0]`);e&&e.remove()}else 0===i.length&&this.addInput(o.data("fieldName"),0,{}),o.hasClass(a)?emitSidebarEvent("sidebar.removeReviewer",s):emitSidebarEvent("sidebar.removeAssignee",s);M().find((function(e){return e===gon.current_user_id}))?O.hide():O.show()}const r=c()("body").attr("data-page"),l="projects:issues:index"===r,u=r==r&&"projects:merge_requests:index"===r;if(o.hasClass("js-filter-bulk-update")||o.hasClass("js-issuable-form-dropdown")){i.preventDefault();const e=s.id!==L;return L=e?s.id:N,void(L===gon.current_user_id?c()(".assign-to-me-link").hide():c()(".assign-to-me-link").show())}if(d)i.preventDefault(),d(s,n);else{if(o.hasClass("js-filter-submit")&&(l||u))return Issuable.filterResults(o.closest("form"));if(o.hasClass("js-filter-submit"))return o.closest("form").submit();if(!o.hasClass("js-multiselect")){const e=o.closest(".selectbox").find(`input[name='${o.data("fieldName")}']`).val();return A(e)}}o.data("maxSelect")&&M().length===o.data("maxSelect")&&o.dropdown("toggle")},id:e=>e.id,opened(e){const t=c()(e.currentTarget),i=M();function n(e){t.find(`li[data-user-id="${e}"] .dropdown-menu-user-link`).addClass("is-active")}t.find(".is-active").removeClass("is-active"),i.length>0?M().forEach((function(e){return n(e)})):n(L)},updateLabel:o.data("dropdownTitle"),renderRow(e){const t=e.username?"@"+e.username:"",n=e.avatar_url?e.avatar_url:gon.default_avatar_url;let s=!1;if(this.multiSelect){s=M().find((function(t){return e.id===t}));const{fieldName:t}=this;o.closest(".selectbox").find(`input[name='${t}'][value='${e.id}']`).length&&(s=!0)}else s=e.id===L;let r="";return null!=e.beforeDivider?l()(e.name):r=`<img src='${n}' alt='' class='avatar avatar-inline !gl-m-0' width='32' />`,i.renderRow(h.issuableType,e,s,t,r,a)}}).get().map((function(e){return e.GitLabDropdownInstance}))})).get()}window.emitSidebarEvent=window.emitSidebarEvent||c.a.noop,k.prototype.users=function(e,t,i){const n=this.buildUrl(this.usersPath),s={search:e,active:!0,...y(t,u.b)},a=t.issuableType===h.q,r=!t.issuableType&&t.iid&&t.targetBranch,o=!t.issuableType&&!t.iid&&t.targetBranch;return(a||r||o)&&(s.merge_request_iid=t.iid||null,s.approval_rules=!0),a&&t.showSuggested&&(s.show_suggested=!0),o&&(s.target_branch=t.targetBranch||null),g.a.get(n,{params:s}).then((function({data:e}){i(e)}))},k.prototype.buildUrl=function(e){return null!=gon.relative_url_root&&(e=gon.relative_url_root.replace(/\/$/,"")+e),e},k.prototype.renderRow=function(e,t,i,n,s,a){const r=e!==h.q||t.can_merge?"":Object(b.a)("Cannot merge"),o=`${!0===i?"is-active":""} ${r?"has-tooltip":""}`,d=r?`data-container="body" data-placement="left" data-title="${r}"`:"",c=t.suggested?"data-user-suggested="+t.suggested:"",u=null!=t&&t.availability&&Object(m.b)(t.availability)?`<span class="badge badge-warning badge-pill gl-badge sm">${Object(b.a)("Busy")}</span>`:"";return`\n    <li data-user-id=${t.id} ${c}>\n      <a href="#" class="dropdown-menu-user-link !gl-flex gl-items-center ${o}" ${d}>\n        ${this.renderRowAvatar(e,t,s)}\n        <span class="gl-flex gl-flex-col gl-overflow-hidden">\n          <strong class="dropdown-menu-user-full-name gl-font-bold">\n            ${l()(t.name)}\n            ${u}\n          </strong>\n          ${n?`<span class="dropdown-menu-user-username gl-text-subtle">${l()(n)}</span>`:""}\n          ${this.renderApprovalRules(a,t.applicable_approval_rules)}\n        </span>\n      </a>\n    </li>\n  `},k.prototype.renderRowAvatar=function(e,t,i){if(t.beforeDivider)return i;return`<span class="gl-relative gl-mr-3">\n    ${i}\n    ${e!==h.q||t.can_merge?"":Object(v.O)("warning-solid","s12 merge-icon")}\n  </span>`},k.prototype.renderApprovalRules=function(e,t=[]){const i=t.length;if(null==e||!e.includes("reviewer")||!i)return"";const[n]=t,s=Object(b.h)(Object(b.a)("(+%{count}&nbsp;rules)"),{count:i}),a=i>1?`<span class="gl-ml-2">${s}</span>`:"",r="code_owner"===n.rule_type?Object(b.a)("Code Owner"):l()(n.name);return`<div class="gl-flex gl-text-sm">\n    <span class="gl-truncate" title="${r}">${r}</span>\n    ${a}\n  </div>`};t.a=k},ycwL:function(e,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CrmContacts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customerRelationsContacts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:226}};i.loc.source={body:"fragment CrmContacts on Issue {\n  id\n  customerRelationsContacts {\n    nodes {\n      id\n      firstName\n      lastName\n      email\n      phone\n      description\n      organization {\n        id\n        name\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.CrmContacts=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"CrmContacts")},yi8e:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return I})),i.d(t,"c",(function(){return _})),i.d(t,"d",(function(){return S})),i.d(t,"e",(function(){return w})),i.d(t,"f",(function(){return k}));var n=("undefined"!=typeof window?window:void 0!==e?e:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var i,n=(i=function(t){return t.original===e},t.filter(i)[0]);if(n)return n.copy;var a=Array.isArray(e)?[]:{};return t.push({original:e,copy:a}),Object.keys(e).forEach((function(i){a[i]=s(e[i],t)})),a}function a(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function r(e){return null!==e&&"object"==typeof e}var o=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"==typeof i?i():i)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function(e,t){this._children[e]=t},o.prototype.removeChild=function(e){delete this._children[e]},o.prototype.getChild=function(e){return this._children[e]},o.prototype.hasChild=function(e){return e in this._children},o.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},o.prototype.forEachChild=function(e){a(this._children,e)},o.prototype.forEachGetter=function(e){this._rawModule.getters&&a(this._rawModule.getters,e)},o.prototype.forEachAction=function(e){this._rawModule.actions&&a(this._rawModule.actions,e)},o.prototype.forEachMutation=function(e){this._rawModule.mutations&&a(this._rawModule.mutations,e)},Object.defineProperties(o.prototype,l);var d=function(e){this.register([],e,!1)};d.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},d.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return e+((t=t.getChild(i)).namespaced?i+"/":"")}),"")},d.prototype.update=function(e){!function e(t,i,n){0;if(i.update(n),n.modules)for(var s in n.modules){if(!i.getChild(s))return void 0;e(t.concat(s),i.getChild(s),n.modules[s])}}([],this.root,e)},d.prototype.register=function(e,t,i){var n=this;void 0===i&&(i=!0);var s=new o(t,i);0===e.length?this.root=s:this.get(e.slice(0,-1)).addChild(e[e.length-1],s);t.modules&&a(t.modules,(function(t,s){n.register(e.concat(s),t,i)}))},d.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],n=t.getChild(i);n&&n.runtime&&t.removeChild(i)},d.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return!!t&&t.hasChild(i)};var c;var u=function(e){var t=this;void 0===e&&(e={}),!c&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var i=e.plugins;void 0===i&&(i=[]);var s=e.strict;void 0===s&&(s=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new d(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var a=this,r=this.dispatch,o=this.commit;this.dispatch=function(e,t){return r.call(a,e,t)},this.commit=function(e,t,i){return o.call(a,e,t,i)},this.strict=s;var l=this._modules.root.state;g(this,l,[],this._modules.root),f(this,l),i.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:c.config.devtools)&&function(e){n&&(e._devtoolHook=n,n.emit("vuex:init",e),n.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){n.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){n.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},p={state:{configurable:!0}};function h(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function m(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;g(e,i,[],e._modules.root,!0),f(e,i,t)}function f(e,t,i){var n=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,r={};a(s,(function(t,i){r[i]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})}));var o=c.config.silent;c.config.silent=!0,e._vm=new c({data:{$$state:t},computed:r}),c.config.silent=o,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),n&&(i&&e._withCommit((function(){n._data.$$state=null})),c.nextTick((function(){return n.$destroy()})))}function g(e,t,i,n,s){var a=!i.length,r=e._modules.getNamespace(i);if(n.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=n),!a&&!s){var o=v(t,i.slice(0,-1)),l=i[i.length-1];e._withCommit((function(){c.set(o,l,n.state)}))}var d=n.context=function(e,t,i){var n=""===t,s={dispatch:n?e.dispatch:function(i,n,s){var a=b(i,n,s),r=a.payload,o=a.options,l=a.type;return o&&o.root||(l=t+l),e.dispatch(l,r)},commit:n?e.commit:function(i,n,s){var a=b(i,n,s),r=a.payload,o=a.options,l=a.type;o&&o.root||(l=t+l),e.commit(l,r,o)}};return Object.defineProperties(s,{getters:{get:n?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var i={},n=t.length;Object.keys(e.getters).forEach((function(s){if(s.slice(0,n)===t){var a=s.slice(n);Object.defineProperty(i,a,{get:function(){return e.getters[s]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return v(e.state,i)}}}),s}(e,r,i);n.forEachMutation((function(t,i){!function(e,t,i,n){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){i.call(e,n.state,t)}))}(e,r+i,t,d)})),n.forEachAction((function(t,i){var n=t.root?i:r+i,s=t.handler||t;!function(e,t,i,n){(e._actions[t]||(e._actions[t]=[])).push((function(t){var s,a=i.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},t);return(s=a)&&"function"==typeof s.then||(a=Promise.resolve(a)),e._devtoolHook?a.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):a}))}(e,n,s,d)})),n.forEachGetter((function(t,i){!function(e,t,i,n){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return i(n.state,n.getters,e.state,e.getters)}}(e,r+i,t,d)})),n.forEachChild((function(n,a){g(e,t,i.concat(a),n,s)}))}function v(e,t){return t.reduce((function(e,t){return e[t]}),e)}function b(e,t,i){return r(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function y(e){c&&e===c||
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:i});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[i].concat(e.init):i,t.call(this,e)}}function i(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(c=e)}p.state.get=function(){return this._vm._data.$$state},p.state.set=function(e){0},u.prototype.commit=function(e,t,i){var n=this,s=b(e,t,i),a=s.type,r=s.payload,o=(s.options,{type:a,payload:r}),l=this._mutations[a];l&&(this._withCommit((function(){l.forEach((function(e){e(r)}))})),this._subscribers.slice().forEach((function(e){return e(o,n.state)})))},u.prototype.dispatch=function(e,t){var i=this,n=b(e,t),s=n.type,a=n.payload,r={type:s,payload:a},o=this._actions[s];if(o){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(r,i.state)}))}catch(e){0}var l=o.length>1?Promise.all(o.map((function(e){return e(a)}))):o[0](a);return new Promise((function(e,t){l.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(r,i.state)}))}catch(e){0}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(r,i.state,e)}))}catch(e){0}t(e)}))}))}},u.prototype.subscribe=function(e,t){return h(e,this._subscribers,t)},u.prototype.subscribeAction=function(e,t){return h("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},u.prototype.watch=function(e,t,i){var n=this;return this._watcherVM.$watch((function(){return e(n.state,n.getters)}),t,i)},u.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},u.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),g(this,this.state,e,this._modules.get(e),i.preserveState),f(this,this.state)},u.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var i=v(t.state,e.slice(0,-1));c.delete(i,e[e.length-1])})),m(this)},u.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},u.prototype.hotUpdate=function(e){this._modules.update(e),m(this,!0)},u.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(u.prototype,p);var k=O((function(e,t){var i={};return T(t).forEach((function(t){var n=t.key,s=t.val;i[n]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var n=C(this.$store,"mapState",e);if(!n)return;t=n.context.state,i=n.context.getters}return"function"==typeof s?s.call(this,t,i):t[s]},i[n].vuex=!0})),i})),w=O((function(e,t){var i={};return T(t).forEach((function(t){var n=t.key,s=t.val;i[n]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var n=this.$store.commit;if(e){var a=C(this.$store,"mapMutations",e);if(!a)return;n=a.context.commit}return"function"==typeof s?s.apply(this,[n].concat(t)):n.apply(this.$store,[s].concat(t))}})),i})),S=O((function(e,t){var i={};return T(t).forEach((function(t){var n=t.key,s=t.val;s=e+s,i[n]=function(){if(!e||C(this.$store,"mapGetters",e))return this.$store.getters[s]},i[n].vuex=!0})),i})),_=O((function(e,t){var i={};return T(t).forEach((function(t){var n=t.key,s=t.val;i[n]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var n=this.$store.dispatch;if(e){var a=C(this.$store,"mapActions",e);if(!a)return;n=a.context.dispatch}return"function"==typeof s?s.apply(this,[n].concat(t)):n.apply(this.$store,[s].concat(t))}})),i})),I=function(e){return{mapState:k.bind(null,e),mapGetters:S.bind(null,e),mapMutations:w.bind(null,e),mapActions:_.bind(null,e)}};function T(e){return function(e){return Array.isArray(e)||r(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function O(e){return function(t,i){return"string"!=typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function C(e,t,i){return e._modulesNamespaceMap[i]}function x(e,t,i){var n=i?e.groupCollapsed:e.group;try{n.call(e,t)}catch(i){e.log(t)}}function j(e){try{e.groupEnd()}catch(t){e.log("ââ log end ââ")}}function E(){var e=new Date;return" @ "+D(e.getHours(),2)+":"+D(e.getMinutes(),2)+":"+D(e.getSeconds(),2)+"."+D(e.getMilliseconds(),3)}function D(e,t){return i="0",n=t-e.toString().length,new Array(n+1).join(i)+e;var i,n}var N={Store:u,install:y,version:"3.6.2",mapState:k,mapMutations:w,mapGetters:S,mapActions:_,createNamespacedHelpers:I,createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var i=e.filter;void 0===i&&(i=function(e,t,i){return!0});var n=e.transformer;void 0===n&&(n=function(e){return e});var a=e.mutationTransformer;void 0===a&&(a=function(e){return e});var r=e.actionFilter;void 0===r&&(r=function(e,t){return!0});var o=e.actionTransformer;void 0===o&&(o=function(e){return e});var l=e.logMutations;void 0===l&&(l=!0);var d=e.logActions;void 0===d&&(d=!0);var c=e.logger;return void 0===c&&(c=console),function(e){var u=s(e.state);void 0!==c&&(l&&e.subscribe((function(e,r){var o=s(r);if(i(e,u,o)){var l=E(),d=a(e),p="mutation "+e.type+l;x(c,p,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",n(u)),c.log("%c mutation","color: #03A9F4; font-weight: bold",d),c.log("%c next state","color: #4CAF50; font-weight: bold",n(o)),j(c)}u=o})),d&&e.subscribeAction((function(e,i){if(r(e,i)){var n=E(),s=o(e),a="action "+e.type+n;x(c,a,t),c.log("%c action","color: #03A9F4; font-weight: bold",s),j(c)}})))}}};t.b=N}).call(this,i("uKge"))},z3Iu:function(e,t,i){"use strict";i.d(t,"g",(function(){return a})),i.d(t,"f",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return d})),i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return p}));var n=i("rc4H"),s=i.n(n);i("86Lb"),i("3UXl"),i("iyoE");function a(e){return"new"===e?"+":"old"===e?"-":""}function r(e,t){var i;if(!e||!t||!e[t])return"";const{new_line:n,old_line:s,type:r}=e[t],o=r?null:null===(i=e["start"===t?"end":"start"])||void 0===i?void 0:i.type,l=r||"";let d=s;return"new"!==l&&"new"!==o||(d=n),d&&a(l)+d||""}function o(e){return r(e,"start")}function l(e){return r(e,"end")}function d(e){const t="string"==typeof e?e.charAt(0):a(null==e?void 0:e.type);return"+"!==t&&"-"!==t?"":["gl-px-1 gl-rounded-small gl-border-solid gl-border-1 gl-border-white",{"gl-bg-green-100 gl-text-green-800":"+"===t,"gl-bg-red-100 gl-text-red-800":"-"===t}]}function c(e,t,i,n="left"){const r="left"===n?"old_line":"new_line",o="new_line"===r?"old_line":"new_line",l=[...e],d=t.line_code,c=l.findIndex((function(e){return e.line_code===i})),u=l.slice(0,c+1),p=s()(u,(function(e){return"match"!==e.type}));return p.findIndex((function(e){return e.line_code===d}))<0&&p.unshift(t),p.map((function(e){const{line_code:t,type:i,old_line:n,new_line:s}=e;return{value:{line_code:t,type:i,old_line:n,new_line:s},text:`${a(i)}${e[r]||e[o]}`}}))}function u(e,t){const i=function({line_code:e,type:t,old_line:i,new_line:n}){return{line_code:e,type:t,old_line:i,new_line:n}};return{start:i(e),end:i(t)}}function p(e,t){if(!e)return{startLine:t.length+1,endLine:t.length+1};const i=function(e){return function(t){var i,n;return[t.line_code,null===(i=t.left)||void 0===i?void 0:i.line_code,null===(n=t.right)||void 0===n?void 0:n.line_code].includes(e.line_code)}},{start:n,end:s}=e;return{startLine:t.findIndex(i(n)),endLine:t.findIndex(i(s))}}},z7iI:function(e,t,i){"use strict";var n=i("Lzak"),s=i("z1xw"),a=i("AxUD"),r=i("/lV4"),o={components:{GlBadge:n.a},directives:{GlTooltip:s.a},props:{issuableType:{type:String,required:!1,default:""}},computed:{title(){return Object(r.h)(Object(r.a)("This %{issuable} is hidden because its author has been banned."),{issuable:a.w[this.issuableType]})}}},l=i("tBpV"),d=Object(l.a)(o,(function(){return(0,this._self._c)("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-shrink-0",attrs:{icon:"spam",title:this.title,"aria-label":this.__("Hidden"),variant:"warning"}})}),[],!1,null,null,null);t.a=d.exports},zOeY:function(e,t,i){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateWorkItemDesignNote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateNoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateNote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DesignNote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:198}};n.loc.source={body:'#import "./fragments/design_note.fragment.graphql"\n\nmutation updateWorkItemDesignNote($input: UpdateNoteInput!) {\n  updateNote(input: $input) {\n    note {\n      ...DesignNote\n    }\n    errors\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};n.definitions=n.definitions.concat(i("LjxR").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!s[t]&&(s[t]=!0,!0)})));var a={};function r(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.updateWorkItemDesignNote=function(e,t){var i={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var n=a[t]||new Set,s=new Set,o=new Set;for(n.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){s.has(e)||(s.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return s.forEach((function(t){var n=r(e,t);n&&i.definitions.push(n)})),i}(n,"updateWorkItemDesignNote")},zPTW:function(e,t){var i=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,i.exec(e));return t.lastIndex=e.lastIndex,t}},zUX4:function(e,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"incidentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"incidentManagementTimelineEvents"},arguments:[{kind:"Argument",name:{kind:"Name",value:"incidentId"},value:{kind:"Variable",name:{kind:"Name",value:"incidentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noteHtml"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineEventTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:396}};i.loc.source={body:"query GetTimelineEvents($fullPath: ID!, $incidentId: IssueID!) {\n  project(fullPath: $fullPath) {\n    id\n    incidentManagementTimelineEvents(incidentId: $incidentId) {\n      nodes {\n        id\n        note\n        noteHtml\n        action\n        occurredAt\n        createdAt\n        timelineEventTags {\n          nodes {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function s(e,t){for(var i=0;i<e.definitions.length;i++){var n=e.definitions[i];if(n.name&&n.name.value==t)return n}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,i){if("FragmentSpread"===t.kind)i.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&i.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,i)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,i)})),t.definitions&&t.definitions.forEach((function(t){e(t,i)}))}(e,t),n[e.name.value]=t}})),e.exports=i,e.exports.GetTimelineEvents=function(e,t){var i={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=n[t]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(n[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var n=s(e,t);n&&i.definitions.push(n)})),i}(i,"GetTimelineEvents")},zgIB:function(e,t,i){(function(){var t,n,s,a;s=i("AUvv"),t=i("jP5H"),i("dsXv"),n=function(e){return e.candidate},a=function(e,t){return t.score-e.score},e.exports=function(e,i,r){var o,l,d,c,u,p,h,m,f,g,v,b,y;for(m=[],d=r.key,u=r.maxResults,c=r.maxInners,v=r.usePathScoring,f=null!=c&&c>0?c:e.length+1,o=null!=d,h=v?t:s,b=0,y=e.length;b<y&&(l=e[b],!((g=o?l[d]:l)&&(p=h.score(g,i,r))>0)||(m.push({candidate:l,score:p}),--f));b++);return m.sort(a),e=m.map(n),null!=u&&(e=e.slice(0,u)),e}}).call(this)},zkom:function(e,t,i){"use strict";var n={name:"PlaceholderSystemNote",components:{TimelineEntryItem:i("OgyL").a},props:{note:{type:Object,required:!0}}},s=i("tBpV"),a=Object(s.a)(n,(function(){var e=this._self._c;return e("timeline-entry-item",{staticClass:"note system-note being-posted fade-in-half"},[e("div",{staticClass:"timeline-content"},[e("em",[this._v(this._s(this.note.body))])])])}),[],!1,null,null,null);t.a=a.exports},znvU:function(e,t,i){"use strict";var n=i("9k56"),s=i("3hkr"),a=i("VuSA"),r=i("hII5"),o=i("g+RJ"),l=i("jw83"),d=i("5TS0"),c=i("aBA8"),u=i("BBKf"),p=i("gZSI"),h=i("mIkX");const m={},f=Object(n.c)({props:m,methods:{renderBottomRow(){const{computedFields:e,stacked:t,tbodyTrClass:i,tbodyTrAttr:n}=this,s=this.$createElement;return this.hasNormalizedSlot(u.b)&&!0!==t&&""!==t?s(h.a,{staticClass:"b-table-bottom-row",class:[Object(p.e)(i)?i(null,"row-bottom"):i],attrs:Object(p.e)(n)?n(null,"row-bottom"):n,key:"b-bottom-row"},this.normalizeSlot(u.b,{columns:e.length,fields:e})):s()}}});var g=i("CU79"),v=i("jIK5"),b=i("ZdEn"),y=i("X80m");const k=g.U+"busy",w={busy:Object(r.b)(v.g,!1)},S=Object(n.c)({props:w,data:()=>({localBusy:!1}),computed:{computedBusy(){return this.busy||this.localBusy}},watch:{localBusy(e,t){e!==t&&this.$emit(k,e)}},methods:{stopIfBusy(e){return!!this.computedBusy&&(Object(b.f)(e),!0)},renderBusy(){const{tbodyTrClass:e,tbodyTrAttr:t}=this,i=this.$createElement;return this.computedBusy&&this.hasNormalizedSlot(u.u)?i(h.a,{staticClass:"b-table-busy-slot",class:[Object(p.e)(e)?e(null,u.u):e],attrs:Object(p.e)(t)?t(null,u.u):t,key:"table-busy-slot"},[i(y.a,{props:{colspan:this.computedFields.length||null}},[this.normalizeSlot(u.u)])]):null}}});var _=i("sz4L"),I=i("SGlG"),T=i("Xhk9"),O=i("idLb");const C={emptyFilteredHtml:Object(r.b)(v.r),emptyFilteredText:Object(r.b)(v.r,"There are no records matching your request"),emptyHtml:Object(r.b)(v.r),emptyText:Object(r.b)(v.r,"There are no records to show"),showEmpty:Object(r.b)(v.g,!1)},x=Object(n.c)({props:C,methods:{renderEmpty(){const{computedItems:e,computedBusy:t}=Object(O.a)(this),i=this.$createElement;let n=i();if(this.showEmpty&&(!e||0===e.length)&&(!t||!this.hasNormalizedSlot(u.u))){const{computedFields:t,isFiltered:s,emptyText:a,emptyHtml:r,emptyFilteredText:o,emptyFilteredHtml:l,tbodyTrClass:d,tbodyTrAttr:c}=this;n=this.normalizeSlot(s?u.h:u.g,{emptyFilteredHtml:l,emptyFilteredText:o,emptyHtml:r,emptyText:a,fields:t,items:e}),n||(n=i("div",{class:["gl-text-center","gl-my-3"],domProps:s?Object(T.a)(l,o):Object(T.a)(r,a)})),n=i(y.a,{props:{colspan:t.length||null}},[i("div",{attrs:{role:"alert","aria-live":"polite"}},[n])]),n=i(h.a,{staticClass:"b-table-empty-row",class:[Object(p.e)(d)?d(null,"row-empty"):d],attrs:Object(p.e)(c)?c(null,"row-empty"):c,key:s?"b-empty-filtered-row":"b-empty-row"},[n])}return n}}});var j=i("BIbq"),E=i("QiCN"),D=i("9IWq"),N=i("I3xC"),A=i("C+ps"),P=i("KZ4l"),F=i("TnX6"),L=i("ojJK");const R=e=>Object(p.o)(e)?"":Object(p.i)(e)&&!Object(p.c)(e)?Object(a.h)(e).sort().map(t=>R(e[t])).filter(e=>!!e).join(" "):Object(F.e)(e);var q=i("S8CU");const $=function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=Object(a.h)(n).reduce((t,i)=>{const s=n[i],{filterByFormatted:a}=s,r=Object(p.e)(a)?a:a?s.formatter:null;return Object(p.e)(r)&&(t[i]=r(e[i],i,e)),t},Object(a.b)(e)),r=Object(a.h)(s).filter(e=>!(q.e[e]||Object(p.a)(t)&&t.length>0&&Object(E.a)(t,e)||Object(p.a)(i)&&i.length>0&&!Object(E.a)(i,e)));return Object(a.k)(s,r)},B={filter:Object(r.b)([...v.e,v.q]),filterDebounce:Object(r.b)(v.m,0,e=>j.d.test(String(e))),filterFunction:Object(r.b)(v.j),filterIgnoredFields:Object(r.b)(v.b,[]),filterIncludedFields:Object(r.b)(v.b,[])},M=Object(n.c)({props:B,data(){return{isFiltered:!1,localFilter:this.filterSanitize(this.filter)}},computed:{computedFilterIgnored(){return Object(E.b)(this.filterIgnoredFields||[]).filter(N.a)},computedFilterIncluded(){return Object(E.b)(this.filterIncludedFields||[]).filter(N.a)},computedFilterDebounce(){const e=Object(P.b)(this.filterDebounce,0);return e>0&&Object(L.a)('Prop "filter-debounce" is deprecated. Use the debounce feature of "<b-form-input>" instead.',s.O),e},localFiltering(){return!this.hasProvider||!!this.noProviderFiltering},filteredCheck(){const{filteredItems:e,localItems:t,localFilter:i}=this;return{filteredItems:e,localItems:t,localFilter:i}},localFilterFn(){const{filterFunction:e}=this;return Object(r.a)(e)?e:null},filteredItems(){const{localItems:e,localFilter:t}=this,i=this.localFiltering?this.filterFnFactory(this.localFilterFn,t)||this.defaultFilterFnFactory(t):null;return i&&e.length>0?e.filter(i):e}},watch:{computedFilterDebounce(e){!e&&this.$_filterTimer&&(this.clearFilterTimer(),this.localFilter=this.filterSanitize(this.filter))},filter:{deep:!0,handler(e){const t=this.computedFilterDebounce;this.clearFilterTimer(),t&&t>0?this.$_filterTimer=setTimeout(()=>{this.localFilter=this.filterSanitize(e)},t):this.localFilter=this.filterSanitize(e)}},filteredCheck(e){let{filteredItems:t,localFilter:i}=e,n=!1;i?Object(A.a)(i,[])||Object(A.a)(i,{})?n=!1:i&&(n=!0):n=!1,n&&this.$emit(g.n,t,t.length),this.isFiltered=n},isFiltered(e,t){if(!1===e&&!0===t){const{localItems:e}=this;this.$emit(g.n,e,e.length)}}},created(){this.$_filterTimer=null,this.$nextTick(()=>{this.isFiltered=Boolean(this.localFilter)})},beforeDestroy(){this.clearFilterTimer()},methods:{clearFilterTimer(){clearTimeout(this.$_filterTimer),this.$_filterTimer=null},filterSanitize(e){return!this.localFiltering||this.localFilterFn||Object(p.m)(e)||Object(p.l)(e)?Object(D.a)(e):""},filterFnFactory(e,t){if(!e||!Object(p.e)(e)||!t||Object(A.a)(t,[])||Object(A.a)(t,{}))return null;return i=>e(i,t)},defaultFilterFnFactory(e){if(!e||!Object(p.m)(e)&&!Object(p.l)(e))return null;let t=e;if(Object(p.m)(t)){const i=Object(F.a)(e).replace(j.p,"\\s+");t=new RegExp(`.*${i}.*`,"i")}return e=>{return t.lastIndex=0,t.test((i=e,n=this.computedFilterIgnored,s=this.computedFilterIncluded,a=this.computedFieldsObj,Object(p.i)(i)?R($(i,n,s,a)):""));var i,n,s,a}}}});var V=i("9ZSa"),U=i("9Dxz");const G={currentPage:Object(r.b)(v.m,1),perPage:Object(r.b)(v.m,0)},W=Object(n.c)({props:G,computed:{localPaging(){return!this.hasProvider||!!this.noProviderPaging},paginatedItems(){const{sortedItems:e,filteredItems:t,localItems:i}=Object(O.a)(this);let n=e||t||i||[];const s=Object(U.b)(Object(P.b)(this.currentPage,1),1),a=Object(U.b)(Object(P.b)(this.perPage,0),0);return this.localPaging&&a&&(n=n.slice((s-1)*a,s*a)),n}}});var H=i("qO70");const z=Object(b.e)(s.O,g.D),K=Object(b.d)(s.O,g.C),Q={apiUrl:Object(r.b)(v.r),items:Object(r.b)(v.c,[]),noProviderFiltering:Object(r.b)(v.g,!1),noProviderPaging:Object(r.b)(v.g,!1),noProviderSorting:Object(r.b)(v.g,!1)},Y=Object(n.c)({mixins:[H.a],props:Q,computed:{hasProvider(){return Object(p.e)(this.items)},providerTriggerContext(){const e={apiUrl:this.apiUrl,filter:null,sortBy:null,sortDesc:null,perPage:null,currentPage:null};return this.noProviderFiltering||(e.filter=this.localFilter),this.noProviderSorting||(e.sortBy=this.localSortBy,e.sortDesc=this.localSortDesc),this.noProviderPaging||(e.perPage=this.perPage,e.currentPage=this.currentPage),Object(a.b)(e)}},watch:{items(e){(this.hasProvider||Object(p.e)(e))&&this.$nextTick(this._providerUpdate)},providerTriggerContext(e,t){Object(A.a)(e,t)||this.$nextTick(this._providerUpdate)}},mounted(){!this.hasProvider||this.localItems&&0!==this.localItems.length||this._providerUpdate(),this.listenOnRoot(K,e=>{e!==this.id&&e!==this||this.refresh()})},methods:{refresh(){const{items:e,refresh:t,computedBusy:i}=Object(O.a)(this);this.$off(g.D,t),i?this.localBusy&&this.hasProvider&&this.$on(g.D,t):(this.clearSelected(),this.hasProvider?this.$nextTick(this._providerUpdate):this.localItems=Object(p.a)(e)?e.slice():[])},_providerSetLocal(e){this.localItems=Object(p.a)(e)?e.slice():[],this.localBusy=!1,this.$emit(g.D),this.id&&this.emitOnRoot(z,this.id)},_providerUpdate(){this.hasProvider&&(Object(O.a)(this).computedBusy?this.$nextTick(this.refresh):(this.localBusy=!0,this.$nextTick(()=>{try{const e=this.items(this.context,this._providerSetLocal);Object(p.k)(e)?e.then(e=>{this._providerSetLocal(e)}):Object(p.a)(e)?this._providerSetLocal(e):2!==this.items.length&&(Object(L.a)("Provider function didn't request callback and did not return a promise or data.",s.O),this.localBusy=!1)}catch(e){Object(L.a)(`Provider function error [${e.name}] ${e.message}.`,s.O),this.localBusy=!1,this.$off(g.D,this.refresh)}})))}}}),J=["range","multi","single"],X={noSelectOnClick:Object(r.b)(v.g,!1),selectMode:Object(r.b)(v.r,"multi",e=>Object(E.a)(J,e)),selectable:Object(r.b)(v.g,!1),selectedVariant:Object(r.b)(v.r,"active")},Z=Object(n.c)({props:X,data:()=>({selectedRows:[],selectedLastRow:-1}),computed:{isSelectable(){return this.selectable&&this.selectMode},hasSelectableRowClick(){return this.isSelectable&&!this.noSelectOnClick},supportsSelectableRows:()=>!0,selectableHasSelection(){const{selectedRows:e}=this;return this.isSelectable&&e&&e.length>0&&e.some(N.a)},selectableIsMultiSelect(){return this.isSelectable&&Object(E.a)(["range","multi"],this.selectMode)},selectableTableClasses(){const{isSelectable:e}=this;return{"b-table-selectable":e,["b-table-select-"+this.selectMode]:e,"b-table-selecting":this.selectableHasSelection,"b-table-selectable-no-click":e&&!this.hasSelectableRowClick}},selectableTableAttrs(){if(!this.isSelectable)return{};const e=this.bvAttrs.role||"grid";return{role:e,"aria-multiselectable":"grid"===e?Object(F.e)(this.selectableIsMultiSelect):null}}},watch:{computedItems(e,t){let i=!1;if(this.isSelectable&&this.selectedRows.length>0){i=Object(p.a)(e)&&Object(p.a)(t)&&e.length===t.length;for(let n=0;i&&n<e.length;n++)i=Object(A.a)($(e[n]),$(t[n]))}i||this.clearSelected()},selectable(e){this.clearSelected(),this.setSelectionHandlers(e)},selectMode(){this.clearSelected()},hasSelectableRowClick(e){this.clearSelected(),this.setSelectionHandlers(!e)},selectedRows(e,t){if(this.isSelectable&&!Object(A.a)(e,t)){const t=[];e.forEach((e,i)=>{e&&t.push(this.computedItems[i])}),this.$emit(g.J,t)}}},beforeMount(){this.isSelectable&&this.setSelectionHandlers(!0)},methods:{selectRow(e){if(this.isSelectable&&Object(p.g)(e)&&e>=0&&e<this.computedItems.length&&!this.isRowSelected(e)){const t=this.selectableIsMultiSelect?this.selectedRows.slice():[];t[e]=!0,this.selectedLastClicked=-1,this.selectedRows=t}},unselectRow(e){if(this.isSelectable&&Object(p.g)(e)&&this.isRowSelected(e)){const t=this.selectedRows.slice();t[e]=!1,this.selectedLastClicked=-1,this.selectedRows=t}},selectAllRows(){const e=this.computedItems.length;this.isSelectable&&e>0&&(this.selectedLastClicked=-1,this.selectedRows=this.selectableIsMultiSelect?Object(E.c)(e,!0):[!0])},isRowSelected(e){return!(!Object(p.g)(e)||!this.selectedRows[e])},clearSelected(){this.selectedLastClicked=-1,this.selectedRows=[]},selectableRowClasses(e){if(this.isSelectable&&this.isRowSelected(e)){const e=this.selectedVariant;return{"b-table-row-selected":!0,[`${this.dark?"bg":"table"}-${e}`]:e}}return{}},selectableRowAttrs(e){return{"aria-selected":this.isSelectable?this.isRowSelected(e)?"true":"false":null}},setSelectionHandlers(e){const t=e&&!this.noSelectOnClick?"$on":"$off";this[t](g.E,this.selectionHandler),this[t](g.n,this.clearSelected),this[t](g.h,this.clearSelected)},selectionHandler(e,t,i){if(!this.isSelectable||this.noSelectOnClick)return void this.clearSelected();const{selectMode:n,selectedLastRow:s}=this;let a=this.selectedRows.slice(),r=!a[t];if("single"===n)a=[];else if("range"===n)if(s>-1&&i.shiftKey){for(let e=Object(U.c)(s,t);e<=Object(U.b)(s,t);e++)a[e]=!0;r=!0}else i.ctrlKey||i.metaKey||(a=[],r=!0),r&&(this.selectedLastRow=t);a[t]=r,this.selectedRows=a}}});var ee=i("U29U"),te=i("oJ9E");const ie=e=>Object(p.o)(e)?"":Object(p.h)(e)?Object(P.a)(e,e):e,ne=g.U+"sortBy",se=g.U+"sortDesc",ae=["asc","desc","last"],re={labelSortAsc:Object(r.b)(v.r,"Click to sort ascending"),labelSortClear:Object(r.b)(v.r,"Click to clear sorting"),labelSortDesc:Object(r.b)(v.r,"Click to sort descending"),noFooterSorting:Object(r.b)(v.g,!1),noLocalSorting:Object(r.b)(v.g,!1),noSortReset:Object(r.b)(v.g,!1),sortBy:Object(r.b)(v.r),sortCompare:Object(r.b)(v.j),sortCompareLocale:Object(r.b)(v.f),sortCompareOptions:Object(r.b)(v.n,{numeric:!0}),sortDesc:Object(r.b)(v.g,!1),sortDirection:Object(r.b)(v.r,"asc",e=>Object(E.a)(ae,e)),sortIconLeft:Object(r.b)(v.g,!1),sortNullLast:Object(r.b)(v.g,!1)},oe=Object(n.c)({props:re,data(){return{localSortBy:this.sortBy||"",localSortDesc:this.sortDesc||!1}},computed:{localSorting(){return this.hasProvider?!!this.noProviderSorting:!this.noLocalSorting},isSortable(){return this.computedFields.some(e=>e.sortable)},sortedItems(){const{localSortBy:e,localSortDesc:t,sortCompareLocale:i,sortNullLast:n,sortCompare:s,localSorting:a,filteredItems:r,localItems:o}=Object(O.a)(this),l=(r||o||[]).slice(),d={...this.sortCompareOptions,usage:"sort"};if(e&&a){const a=(this.computedFieldsObj[e]||{}).sortByFormatted,r=Object(p.e)(a)?a:a?this.getFieldFormatter(e):void 0;return Object(ee.a)(l,(a,o)=>{let l=null;return Object(p.e)(s)&&(l=s(a,o,e,t,r,d,i)),(Object(p.o)(l)||!1===l)&&(l=function(e,t){let{sortBy:i=null,formatter:n=null,locale:s,localeOptions:a={},nullLast:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object(te.a)(e,i,null),l=Object(te.a)(t,i,null);return Object(p.e)(n)&&(o=n(o,i,e),l=n(l,i,t)),o=ie(o),l=ie(l),Object(p.c)(o)&&Object(p.c)(l)||Object(p.g)(o)&&Object(p.g)(l)?o<l?-1:o>l?1:0:r&&""===o&&""!==l?1:r&&""!==o&&""===l?-1:R(o).localeCompare(R(l),s,a)}(a,o,{sortBy:e,formatter:r,locale:i,localeOptions:d,nullLast:n})),(l||0)*(t?-1:1)})}return l}},watch:{isSortable(e){e?this.isSortable&&this.$on(g.r,this.handleSort):this.$off(g.r,this.handleSort)},sortDesc(e){e!==this.localSortDesc&&(this.localSortDesc=e||!1)},sortBy(e){e!==this.localSortBy&&(this.localSortBy=e||"")},localSortDesc(e,t){e!==t&&this.$emit(se,e)},localSortBy(e,t){e!==t&&this.$emit(ne,e)}},created(){this.isSortable&&this.$on(g.r,this.handleSort)},methods:{handleSort(e,t,i,n){if(!this.isSortable)return;if(n&&this.noFooterSorting)return;let s=!1;const a=()=>{const e=t.sortDirection||this.sortDirection;"asc"===e?this.localSortDesc=!1:"desc"===e&&(this.localSortDesc=!0)};if(t.sortable){const i=!this.localSorting&&t.sortKey?t.sortKey:e;this.localSortBy===i?this.localSortDesc=!this.localSortDesc:(this.localSortBy=i,a()),s=!0}else this.localSortBy&&!this.noSortReset&&(this.localSortBy="",a(),s=!0);s&&this.$emit(g.N,this.context)},sortTheadThClasses(e,t,i){return{"b-table-sort-icon-left":t.sortable&&this.sortIconLeft&&!(i&&this.noFooterSorting)}},sortTheadThAttrs(e,t,i){var n;const{isSortable:s,noFooterSorting:a,localSortDesc:r,localSortBy:o,localSorting:l}=this;if(!s||i&&a)return{};const d=t.sortable,c=l?e:null!==(n=t.sortKey)&&void 0!==n?n:e;return{"aria-sort":d&&o===c?r?"descending":"ascending":d?"none":null}},sortTheadThLabel(e,t,i){if(!this.isSortable||i&&this.noFooterSorting)return null;const{localSortBy:n,localSortDesc:s,labelSortAsc:a,labelSortDesc:r}=this,{sortable:o}=t;let l="";if(o)if(n===e)l=s?a:r;else{l=s?r:a;const e=this.sortDirection||t.sortDirection;"asc"===e?l=a:"desc"===e&&(l=r)}else this.noSortReset||(l=n?this.labelSortClear:"");return Object(F.f)(l)||null}}});var le=i("8DVS"),de=i("usgv"),ce=i("awnp"),ue=i("BAFT"),pe=i("SnPb");const he=Object(n.c)({methods:{renderTopRow(){const{computedFields:e,stacked:t,tbodyTrClass:i,tbodyTrAttr:n}=this,s=this.$createElement;return this.hasNormalizedSlot(u.C)&&!0!==t&&""!==t?s(h.a,{staticClass:"b-table-top-row",class:[Object(p.e)(i)?i(null,"row-top"):i],attrs:Object(p.e)(n)?n(null,"row-top"):n,key:"b-top-row"},[this.normalizeSlot(u.C,{columns:e.length,fields:e})]):s()}}}),me=Object(r.c)(Object(a.m)({...d.b,...m,...w,..._.b,...I.b,...C,...B,...V.b,...G,...Q,...X,...re,...le.a,...de.a,...ce.a,...ue.a,...pe.a}),s.O),fe=Object(n.c)({name:s.O,mixins:[o.a,l.a,d.a,c.a,V.a,de.b,le.b,pe.b,ue.b,ce.b,le.b,M,oe,W,_.a,I.a,Z,x,he,f,S,Y],props:me});var ge=i("Qog8");const ve=["bottom-row","empty","emptyfiltered","table-busy","thead-top","top-row"],be=["api-url","busy","current-page","empty-filtered-html","empty-filtered-text","empty-html","empty-text","filter","filter-debounce","filter-function","filter-ignored-fields","filter-included-fields","label-sort-asc","label-sort-clear","label-sort-desc","no-footer-sorting","no-local-sorting","no-provider-filtering","no-provider-paging","no-provider-sorting","no-select-on-click","per-page","select-mode","selectable","selected-variant","show-empty","sort-by","sort-compare","sort-compare-locale","sort-compare-options","sort-desc","sort-direction","sort-icon-left","sort-null-last"];var ye=i("Pyw5"),ke=i.n(ye);const{tableClass:we}=fe.options.props;const Se={name:"GlTable",components:{BTable:fe},inheritAttrs:!1,props:{tableClass:we,fields:{type:Array,required:!1,default:null},stickyHeader:{type:Boolean,default:!1,required:!1},sortBy:{type:String,required:!1,default:void 0},sortDesc:{type:Boolean,required:!1,default:!1}},data(){return{localSortBy:this.sortBy,localSortDesc:this.sortDesc}},computed:{stickyHeaderClass(){return this.stickyHeader?"gl-table--sticky-header":null},localTableClass(){return["gl-table",this.tableClass,this.stickyHeaderClass]},headSlots(){return["head()",...Object.keys(this.$scopedSlots).filter(e=>e.startsWith("head("))]},computedFields(){var e;return null===(e=this.fields)||void 0===e?void 0:e.map(e=>{if("string"==typeof e)return e;const{thAlignRight:t,thClass:i="",...n}=e,s=Array.isArray(i)?i:i.split(" ");return t&&s.push("gl-table-th-align-right"),{...n,thClass:s}})}},mounted(){Object(ge.f)()&&!(e=>{let{$attrs:t,$scopedSlots:i}=e;return be.some(e=>void 0!==t[e])||ve.some(e=>void 0!==i[e])})(this)&&Object(ge.i)("This GlTable could be a GlTableLite component, please consider using GlTableLite instead of GlTable to reduce the page bundlesize more about this here: https://gitlab-org.gitlab.io/gitlab-ui/?path=/docs/base-table-table-lite--default",this.$el)},methods:{isSortable(e){let{field:t}=e;return null==t?void 0:t.sortable},activeSortingColumn(e){let{field:t}=e;return this.localSortBy===(null==t?void 0:t.key)},getSortingIcon(e){let{field:t}=e;return this.activeSortingColumn({field:t})?this.localSortDesc?"â":"â":"desc"===this.$attrs["sort-direction"]?"â":"â"}}};const _e=ke()({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-table",e._g(e._b({attrs:{"table-class":e.localTableClass,fields:e.computedFields,"sort-by":e.localSortBy,"sort-desc":e.localSortDesc,"no-sort-reset":""},on:{"update:sortBy":function(t){e.localSortBy=t},"update:sort-by":function(t){e.localSortBy=t},"update:sortDesc":function(t){e.localSortDesc=t},"update:sort-desc":function(t){e.localSortDesc=t}},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(i){return[e._t(t,null,null,i)]}}})),e._l(e.headSlots,(function(t){return{key:t,fn:function(n){return[i("div",{key:t,staticClass:"gl-flex"},[e._t(t,(function(){return[i("span",[e._v(e._s(n.label))])]}),null,n),e.isSortable(n)?[i("div",{staticClass:"gl-table-th-sort-icon-wrapper gl-flex gl-w-5 gl-justify-center"},[i("span",{class:{"gl-hidden":!e.activeSortingColumn(n)},attrs:{name:"sort-icon","data-testid":"sort-icon"}},[e._v("\n            "+e._s(e.getSortingIcon(n))+"\n          ")])])]:e._e()],2)]}}}))],null,!0)},"b-table",e.$attrs,!1),e.$listeners))},staticRenderFns:[]},void 0,Se,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=_e},"zx4+":function(e,t){e.exports=function(e,t,i){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(i=i>s?s:i)<0&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}}},[[237,1,0,2,4,5,6,8,9,10,11,12,13,15,16,17,18,19,20,25,24]]]);
//# sourceMappingURL=pages.projects.issues.show.c2d4666f.chunk.js.map